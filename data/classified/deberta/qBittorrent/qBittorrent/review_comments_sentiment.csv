id,pr_number,user,created_at,body,deberta_sentiment_label,deberta_confidence
816050553,15769,thalieht,2022-02-28T16:28:07Z,"too dark for dark themes imo ![a link] also not to comment in another line, completed and active seeding have the exact same color (blue).",-1,0.9656714200973511
816110274,15769,Mazino-Urek,2022-02-28T17:39:00Z,checkout changes.,0,0.9920269846916199
816193153,15769,thalieht,2022-02-28T19:37:06Z,"now completed has the same color as downloading... other than that, everything lgtm.",0,0.9731454253196716
816822440,15769,Mazino-Urek,2022-03-01T14:32:55Z,good eye!,1,0.9849167466163635
816975572,15769,thalieht,2022-03-01T17:10:41Z,it's used for downloading in light theme. pick a color not used somewhere else.,0,0.9946714043617249
817046450,15769,Mazino-Urek,2022-03-01T18:45:03Z,"i think i did something bad, but check it out. i just couldn't find a yellow color that works on white.",-1,0.9812723398208618
817088415,15769,thalieht,2022-03-01T19:46:00Z,"i don't see anything bad. i like yellow on dark but... isn't it a flashy color for a state that's supposed to be ""this is finished, forget it, let it fade in the background""? maybe i'm nitpicking.",-1,0.5306271910667419
817093620,15769,xavier2k6,2022-03-01T19:53:27Z,"i agree, -im please leave colors alone etc. until others provide more feedback & looks like you'll also now have to wait for maintainer approval. only thing i can suggest you do is keep re-basing periodically to avoid any conflicts going forward.",0,0.8871670365333557
817097307,15769,Mazino-Urek,2022-03-01T19:58:48Z,i will figure something out. after that i am leaving the pr as is.,0,0.7764918804168701
835512014,15769,thalieht,2022-03-25T18:17:33Z,[code block] otherwise it won't compile. that is how it is in master.,0,0.9886254072189331
835531506,15769,Mazino-Urek,2022-03-25T18:47:07Z,fixed.,0,0.9905837774276733
846570392,15769,Chocobo1,2022-04-09T03:53:30Z,"wrong order. in case i haven't mention it, you can use [a link] to help sorting the list.",0,0.7881355285644531
846584398,15769,Mazino-Urek,2022-04-09T06:43:49Z,fixed.,0,0.9905837774276733
846657056,15769,Mazino-Urek,2022-04-09T16:50:57Z,check the pause icon now.,0,0.992059588432312
884073887,15769,Chocobo1,2022-05-28T05:20:11Z,maybe rename it to `filter-inactive`? and other `filter*` icons too.,0,0.9896472096443176
884074144,15769,Chocobo1,2022-05-28T05:23:14Z,it would be great if you can help update it to https and latest link: [code block],1,0.6289920806884766
884074150,15769,Chocobo1,2022-05-28T05:23:22Z,add an empty line: [code block],0,0.9956621527671814
884075000,15769,Chocobo1,2022-05-28T05:33:23Z,"i think this comment is redundant, i would suggest removing it.",0,0.8740724325180054
884075295,15769,Chocobo1,2022-05-28T05:36:19Z,the code looks suspicious... try this: [code block] the same to all other similar instances below.,-1,0.8557795882225037
884086530,15769,Chocobo1,2022-05-28T07:20:57Z,"i would suggest removing this, it creates another horizontal line when rendered and now there are 2 horizontal lines.",0,0.9914103150367737
884086558,15769,Chocobo1,2022-05-28T07:21:15Z,please remove this empty line too.,0,0.9913143515586853
884174750,15769,thalieht,2022-05-28T20:20:40Z,revert this line. it causes a crash.,0,0.9474469423294067
884266820,15769,Mazino-Urek,2022-05-29T12:54:09Z,how to handle this?,0,0.9881220459938049
885198041,15769,Chocobo1,2022-05-31T04:44:20Z,"was it an intended change? if not then just change `m_trackers[null_host] = {};` back to `m_trackers[null_host] = {{}, notracker};`",0,0.9952032566070557
885268243,15769,Mazino-Urek,2022-05-31T06:58:34Z,"it was intended, we `tracker-warning` icon is required there.",0,0.9944090247154236
885277947,15769,glassez,2022-05-31T07:10:56Z,but what does the discussed line have to do with it?,0,0.9847059845924377
885283277,15769,Mazino-Urek,2022-05-31T07:17:18Z,"as per my understanding, it adds an icon when no tracker is found. it was added by .",0,0.9936681389808655
885781059,15769,Mazino-Urek,2022-05-31T15:22:47Z,only this issue remains.,0,0.9930570125579834
885888279,15769,xavier2k6,2022-05-31T17:00:54Z,"no!, -im this seems to be an issue with `rebasing`. `m_trackers[null_host] = {};` was changed to `m_trackers[null_host] = {{}, notracker};` via [a link] it should be below [code block] not! [code block] see (lines 375 to 377) in my repo for reference [a link] when these changes are made can you test to see if it still then crashes for you?",0,0.9244183897972107
885915363,15769,Mazino-Urek,2022-05-31T17:32:00Z,committed the change in the pr.,0,0.9944925308227539
885926824,15769,thalieht,2022-05-31T17:43:23Z,"i already have, that's how i know this was causing it :thumbs_up:",1,0.9911032915115356
886338837,15769,Chocobo1,2022-06-01T05:48:20Z,please remove this empty line too.,0,0.9913143515586853
886689691,15769,Mazino-Urek,2022-06-01T11:22:14Z,i will fix that.,0,0.9761180281639099
886709688,15769,xavier2k6,2022-06-01T11:46:54Z,"yes, it should be qt",0,0.992191731929779
889487931,15769,Chocobo1,2022-06-04T05:30:22Z,"in case you need more updates, this empty line should be removed too.",0,0.9950266480445862
889494195,15769,Mazino-Urek,2022-06-04T06:32:57Z,done.,0,0.9897913336753845
145721746,7610,zeule,2017-10-19T14:44:20Z,"these two new options should be merged. probably with a ""set default"" button in the ui.",0,0.9947500824928284
145723946,7610,glassez,2017-10-19T14:51:01Z,"initially i have only one option. but someone might want to turn ""alternative ui"" off, but save the path for further use. besides, i accept the idea that other settings can appear under ""alternative ui"".",0,0.9812332391738892
145726502,7610,zeule,2017-10-19T14:58:29Z,"the path can be saved elsewhere, what's the problem with that?",0,0.965523362159729
145730578,7610,glassez,2017-10-19T15:11:07Z,"can't follow your thoughts... we need one setting to enable/disable alt ui, and the second one to store path. how to disable it but store save path using only one setting?",0,0.9389270544052124
145731526,7610,zeule,2017-10-19T15:14:15Z,"imo, there is no need to save the path. those who need it, can save it as they like. or, even better, you may give them a list to choose from. then there will be no need to save and re-type that path.",0,0.9635090231895447
145734277,7610,glassez,2017-10-19T15:22:48Z,"where do i get this list, without saving anything? it is not clear at all. i save it in order not to re-type it again next time user enable alt ui.",0,0.9392692446708679
145735615,7610,zeule,2017-10-19T15:27:22Z,"as far as i can see, the alternative ui path is relative. contents of its parent directory is the list you need.",0,0.9939234852790833
145736342,7610,glassez,2017-10-19T15:29:49Z,you misunderstood this (what could bring you that idea?). it can be any path.,0,0.8743199110031128
145738252,7610,zeule,2017-10-19T15:35:30Z,exceptionally bad decision (opens a wide way to security problems). please change that.,-1,0.9898273944854736
145739455,7610,glassez,2017-10-19T15:39:11Z,"why? user should decide himself where he want to put his files! when you install e.g. apache, does it forbid you to specify `www` folder you want?",0,0.8011434674263
145742271,7610,zeule,2017-10-19T15:48:18Z,wrong analogy. what you propose isto to change that path via http request.,-1,0.5768116116523743
145742874,7610,glassez,2017-10-19T15:50:32Z,what do you mean?,0,0.9906946420669556
145742972,7610,Chocobo1,2017-10-19T15:50:52Z,it is possible to move `www/favicon.ico` to cpp code? it's quite hard to find here.,0,0.9126001596450806
145743308,7610,Chocobo1,2017-10-19T15:52:03Z,or move it to html?,0,0.9952398538589478
145743422,7610,Chocobo1,2017-10-19T15:52:31Z,can you put an upper limit for it?,0,0.9933754801750183
145743711,7610,Chocobo1,2017-10-19T15:53:34Z,the assignment is redundant.,0,0.9284346699714661
145743975,7610,Chocobo1,2017-10-19T15:54:30Z,hope you don't find marking it a `const` function,0,0.908725917339325
145744249,7610,glassez,2017-10-19T15:55:31Z,it was previous behavior. what do you mean?,0,0.9869583249092102
145744399,7610,Chocobo1,2017-10-19T15:56:05Z,and should be possible to use `qstringref` if you like.,0,0.9956575632095337
145744831,7610,glassez,2017-10-19T15:57:42Z,ok.,0,0.980760931968689
145745037,7610,glassez,2017-10-19T15:58:24Z,can't follow you... this is `static` method.,0,0.9934551119804382
145745453,7610,Chocobo1,2017-10-19T15:59:40Z,"sorry, didn't saw it.",-1,0.9911906719207764
145745872,7610,glassez,2017-10-19T16:01:01Z,don't see any sense. it will be converted to qstring later.,-1,0.8545453548431396
145746435,7610,Chocobo1,2017-10-19T16:03:10Z,"when converted to qstring this will print `2.0.0` right? if so, then it will break all existing usage/detection.",0,0.9940255880355835
145747013,7610,Chocobo1,2017-10-19T16:05:10Z,personally i prefer using `=` for string...,0,0.9887745380401611
145749637,7610,Chocobo1,2017-10-19T16:14:35Z,"just asking, isn't `pathitems.contains(""."")` redundant? it's basically the current/same path, why should it be prohibited?",0,0.9862449765205383
145751463,7610,glassez,2017-10-19T16:21:34Z,i don't know. it's very legacy code. should i change it?,-1,0.584295928478241
145752044,7610,glassez,2017-10-19T16:23:44Z,i would prefer leave it as it is now.,0,0.9056476950645447
145753015,7610,Chocobo1,2017-10-19T16:27:36Z,"i think we should not allow a requester to get anything they want when they are not authenticated, i.e. they should only be allow to get the login page resources.",0,0.9733713865280151
145753250,7610,Chocobo1,2017-10-19T16:28:32Z,"we both unsure, then just leave it.",0,0.9673702120780945
145753821,7610,Chocobo1,2017-10-19T16:30:47Z,should this be placed under previous `if` scope?,0,0.9935816526412964
145754271,7610,Chocobo1,2017-10-19T16:32:40Z,`const qstring &type`?,0,0.994517982006073
145755047,7610,Chocobo1,2017-10-19T16:35:50Z,upper limit please.,0,0.9920350909233093
145755308,7610,Chocobo1,2017-10-19T16:36:52Z,cashing -> caching,0,0.9770876169204712
145756860,7610,Chocobo1,2017-10-19T16:42:58Z,is it possible `getversion()` & `getappversion()` to be not `public_api`?,0,0.9935609102249146
145757439,7610,Chocobo1,2017-10-19T16:45:24Z,ok and i'll continue the review later.,0,0.9924315214157104
145757537,7610,glassez,2017-10-19T16:45:49Z,"well, the points of incompatibility creation should be it the development process, otherwise we will always have to live with the mistakes previously... really, there should not be a big problem since it a major update and old clients can't work with it anyway (because of changed api method names/paths).",0,0.9566785097122192
145758636,7610,Chocobo1,2017-10-19T16:50:22Z,"ok, then we **should** inform the public the changes beforehand, making an announcement on the qbt website news page when this pr is merged, and this should be as early as possible as we have a lot of users using webapi.",0,0.9934497475624084
145759383,7610,glassez,2017-10-19T16:53:03Z,what about images/scripts/css used in login page? anyway html files are useless without api access.,0,0.9212191700935364
145761034,7610,glassez,2017-10-19T16:59:10Z,it's meaningless at least for api version. client should know it to understand how to authenticate (authentication can be changed in some future version).,0,0.9553688168525696
145761361,7610,glassez,2017-10-19T17:00:25Z,type is output parameter here.,0,0.9930189251899719
145762646,7610,glassez,2017-10-19T17:05:16Z,"we didn't have it later. what's the purpose? shouldn't user control itself what it have in its www root, imo.",0,0.9684518575668335
145763502,7610,zeule,2017-10-19T17:08:37Z,it is (or will be) possible to set alternative ui path via web api. as such it is possible to load any file into qbt and compromise the machine it is running on.,0,0.9929735660552979
145771521,7610,glassez,2017-10-19T17:39:15Z,"it isn't possible now and, of course, i wouldn't provide such a possibility anytime. any real scenario? i can't imagine it unless the machine is already compromised.",0,0.9534106850624084
145776575,7610,glassez,2017-10-19T17:57:56Z,"and the next question. from your pov, what accepted path set can be here, that prevents possible security problems?",0,0.9936177730560303
145778025,7610,glassez,2017-10-19T18:02:39Z,"in any case, i'm not a fan of ""wipe the user ass"". if something does not prevent the program to work logically, the user can decide how to use it.",0,0.7879750728607178
145782681,7610,zeule,2017-10-19T18:19:20Z,"already here: [a link] but how then users of the headless system should choose a web theme? the most important here is that the paths set has to be limited and not include anything like /tmp and /var or any other directory, that can be populated during a normal system' workflow. it also may not include current directory (or app should set its working directory to the file system root dir). also you can consider supplying this path via command line parameter (and then it may be an absolute path).",0,0.993650496006012
145791178,7610,glassez,2017-10-19T18:50:14Z,"imo, it's up to the user, isn't it? why it's ""wrong analogy"" with the ordinary web-server app? i still can set it up to use any folder as `www` root (e.g. `/tmp` and so on, if i'm not right in the head or i have other good reasons to do it). nobody forbids me to do it. that's my concern, if it will hurt the security of my machine. honestly, i don't want to mess with this. as soon as you start to do something like that, immediately there is someone who says: ""why do you tie my hands? it is very important for me (and for many others) to use that folder!"".",-1,0.5928166508674622
145791922,7610,glassez,2017-10-19T18:53:14Z,"in any case, if you have more supporters, and you offer some reasonable way to limit this (or even better, implement it yourself), i won't fight it. , , /webdev, ?",0,0.937899649143219
145796135,7610,zeule,2017-10-19T19:10:49Z,"as i answered already, pass that directory via a command line parameter.",0,0.9954789876937866
145797389,7610,zeule,2017-10-19T19:16:12Z,: how a creator of an alternative ui would get the true icon name?,0,0.9875330328941345
145813127,7610,Chocobo1,2017-10-19T20:23:38Z,now i think we should properly introduce an ico format favicon instead of creating an alias of the png. we can do it later if you won't handle it now.,0,0.9894631505012512
145814844,7610,Chocobo1,2017-10-19T20:30:03Z,it's reading like: hey i'm going to read a file and i don't care how big it is and i want it all in the memory now. it's a bad practice for an app to grant users unlimited resources.,-1,0.9642993807792664
145816402,7610,Chocobo1,2017-10-19T20:36:23Z,"i was thinking of a tighter control scheme but it's not beneficial with user's webui, so whatever.",0,0.5817798376083374
145817209,7610,Chocobo1,2017-10-19T20:39:21Z,"i was thinking this should start following [a link]. if so, this should go `{ + 1, 0, 0};`, what do you think?",0,0.9876835942268372
145817250,7610,zeule,2017-10-19T20:39:33Z,"excellent security hole, btw! right from a textbook...",1,0.9972679615020752
145871552,7610,glassez,2017-10-20T03:24:08Z,"look, stop being sarcastic! in your comments some emotions, there is no useful information. what is the problem here?",-1,0.9928101301193237
145871807,7610,glassez,2017-10-20T03:26:58Z,but what is a reasonable limit? and what status to return if you exceed this size?,0,0.9897748231887817
145873977,7610,glassez,2017-10-20T03:50:24Z,he just add the icon he want into his www folder...,0,0.9953641891479492
145874665,7610,glassez,2017-10-20T03:59:19Z,"i follow it but in another way. i try to follow qbittorrent main versioning rule when we change major version only on some very big changes. so i interpret old version as 1.x.y in new scheme and just perform major update on it. but if most of you guys prefer ""to be measured penises"" (as firefox and chrome do), then i'll change it to the option you proposed.",0,0.9745936393737793
145875186,7610,glassez,2017-10-20T04:06:35Z,we can implement it. but it should be user-configurable thing. there are specific proposals? or just wait for the requests from real users of this feature?,0,0.9915570020675659
145875764,7610,glassez,2017-10-20T04:14:17Z,"can you describe your point of view entirely, and not throw some broken up words? and stop to answer only the part of question that is meaningless without the rest.",0,0.6803507804870605
145878400,7610,glassez,2017-10-20T04:54:52Z,fixed.,0,0.9905837774276733
145883683,7610,glassez,2017-10-20T05:59:42Z,"well, now limited to 1mb and send 500 (internal server error) when exceeded. waiting for your suggestions.",0,0.992171049118042
145885791,7610,glassez,2017-10-20T06:20:45Z,", ` ` is used now.",0,0.9901847839355469
145888931,7610,glassez,2017-10-20T06:48:44Z,"my pov is: the program is incorrect if it produces the incorrect output for correct input and settings. i'm willing (try) to correct the mistakes of this kind. but all you've presented so far, was as follows: ""if the user set inappropriate folder as www root this will lead to errors"". you propose to introduce any restrictions, but what? to try to ""fix user brains"" is ""fight with windmills"", imo. which folders should we ban? only the user can know how exactly his filesystem is used. the only (more or less) reasonable restriction is to have only one predefined www folder (e.g. inside qbittorrent data dir).",0,0.7046626210212708
145923144,7610,Chocobo1,2017-10-20T09:55:51Z,"thank you! i was considering 1mb or 10mb, either is fine.",1,0.9909340143203735
145924980,7610,Chocobo1,2017-10-20T10:05:32Z,"* using semantic versioning is one thing, we can start practicing it if the majority agrees. imo semantic versioning is invented just for this situation. * the `{2, 0, 0};` you proposed is another, problem is: with the current `/version/api get` it returns an integer `15`, but after this pr it drops back to `2.0.0` which is a confusion for our users. so from a user perspective i would recommend using `16.0.0` (even we don't follow semantic versioning). also why not use `utils::version `? [a link]",0,0.9607297778129578
145925181,7610,zeule,2017-10-20T10:06:38Z,"sarcasm is one of the few ways i have after your ignorance. the problem is: if ui dir is set to filesystem root, one can get contents of any file readable by qbt.",-1,0.8847376108169556
145925862,7610,Chocobo1,2017-10-20T10:10:24Z,ok thank you!,1,0.9499710202217102
145940574,7610,glassez,2017-10-20T11:37:38Z,"it's not a problem, imo. but i'll do whatever the team decides. personally i prefer the way when zeros after minor version are truncated. waiting other reviewers.",1,0.5597290396690369
146022192,7610,glassez,2017-10-20T17:27:45Z,"if someone read our discussion, it will be pretty obvious that you're dissembling in this comment. i haven't ignored any of your comments, although you consistently repeat the same thing, despite my responses that you don't even try to understand. on the contrary, you persist in ignoring my comments either completely oblivious to them or just clinging to some part, taken out of context (carefully avoiding things inconvenient for you). i'll quote something for you: the program is incorrect if it produces the incorrect output for correct input and settings. i'm willing (try) to correct the mistakes of this kind. but all you've presented so far, was as follows: ""if the user set inappropriate folder as www root this will lead to errors"". you propose to introduce any restrictions, but what? to try to ""fix user brains"" is ""fight with windmills"", imo. which folders should we ban? only the user can know how his filesystem is used exactly. the only (more or less) reasonable restriction is to have only one predefined www folder (e.g. inside qbittorrent data dir). : you can put the most reliable lock in the world, but it will not save you if you leave the door open! to make it easier to understand, i'll explain something else. i see this feature purely as server-side configurable option (i.e. only owner of running qbittorrent instance can change the path to the alternative ui www root, and it can do it only on the same machine the app running either via gui options dialog or via configuration file). if to allow to configure this feature remotely, then i do not see any way to guarantee any security. but again i ask the question: **why is it needed**? p.s. , if you don't switch to a constructive dialogue, then i don't want to waste my precious time in this.",-1,0.9514935612678528
146027900,7610,Chocobo1,2017-10-20T17:52:53Z,did you missed to removed this redundant assignment?,0,0.9911153316497803
146028827,7610,Chocobo1,2017-10-20T17:56:47Z,is translation really needed? i think no. also please add `maxallowedfilesize()` to the message.,0,0.9948417544364929
146029554,7610,Chocobo1,2017-10-20T17:59:46Z,"just curious, why make it `virtual`?",0,0.9757776260375977
146032015,7610,Chocobo1,2017-10-20T18:10:46Z,for strictness i would use `file.read(maxallowedfilesize())`.,0,0.99456387758255
146033472,7610,Chocobo1,2017-10-20T18:17:01Z,is it possible to declare all these as const methods? e.g. `void logout() const;`,0,0.9950709342956543
146037481,7610,glassez,2017-10-20T18:34:38Z,is it possible to read more than size() bytes? can the file be changed after we've opened it?,0,0.9933151602745056
146039014,7610,Chocobo1,2017-10-20T18:41:51Z,"it's just still a primitive idea in my head, *it might not make full sense*. i was thinking there should always be 2 folders under a user specified path (also applies for built-in ui), name them `public` & `private`. * the public folder contains resources that anyone can freely access, html files, js files, or even some api. then we can put every resources that is needed for login in this folder. * the private folder contains other resources that is only accessible after login. the reason for this, is that i want to minimize the exposure to the public. why? because the first step of web security penetration is reconnaissance, i.e. knowing what software & which version it is running, thus reducing information leakage is important imo. --- also replying [a link] here. given the above idea, i think the api version is not a critical info at the authentication stage, webapi users can simply try another login scheme when the previous failed, assuming we aren't inventing a login scheme every year.",-1,0.6033018231391907
146039444,7610,glassez,2017-10-20T18:43:54Z,"base class method returns some predefined default value, the subclasses can redefine it (even has it configurable).",0,0.9904007315635681
146039662,7610,glassez,2017-10-20T18:44:52Z,why not? i'll try to do it later.,0,0.9793548583984375
146040064,7610,Chocobo1,2017-10-20T18:46:41Z,"good point, i missed it.",1,0.9609031677246094
146040663,7610,glassez,2017-10-20T18:49:20Z,oops... i recall i have it done... apparently there are two similar places with this code was later.,-1,0.7042980194091797
146041000,7610,glassez,2017-10-20T18:51:03Z,"apparently, no. but it's translated in all similar places.",0,0.982275128364563
146049174,7610,WolfganP,2017-10-20T19:32:47Z,"i'm supporting the freewill on webui root folder location, as i expect it will be used by somehow advanced users and the location may vary according to the setups (ie my qb is running in a headless raspi2, so most likely the webui files will end up in some ramdisk location after boot). others may need a per user interface, and may choose /home/ ...",0,0.9867005944252014
146097780,7610,glassez,2017-10-21T06:07:16Z,"something like that used in the current (current master) implementation, but it is somehow flawed... so i decided to abandon it in favor of simplicity. but i can return to it if i can see a complete picture of what is what. afaik, all common resources (js, css, images) are public in web apps (i mean images used in page formatting etc.).",0,0.7411419749259949
146100514,7610,Chocobo1,2017-10-21T08:47:27Z,"ideally **only** login-related resources should be in public folder, everything else should go in private folder. and login-related resources should be independent from other resources, some resource might get duplicated but it's a very small cost imo. and as a side effect (bonus?) of this model, you can turn qbt into a dumb public file server by placing any file (with max file size limitation though) in the public folder.",0,0.8954955339431763
146101438,7610,glassez,2017-10-21T09:28:27Z,"i don't like to have private/public in request paths. i have idea to make it transparent for the client side, i.e. when client send request with `/page.html` path we search for `page.html` in public subfolder if client isn't authorized, otherwise we search in both private/public subfolders (in this order). this approach allows to avoid resources duplicating.",0,0.9323804378509521
146104115,7610,glassez,2017-10-21T12:08:46Z,oops... they call non-const base members.,-1,0.8013806343078613
146110930,7610,Chocobo1,2017-10-21T17:38:22Z,"me too, yet i haven't consider how to implement it. :thumbs_up: seems probable.",1,0.9857538938522339
146128133,7610,zeule,2017-10-22T10:58:09Z,a path may end with a space. why do you reject that?,0,0.9638380408287048
146128273,7610,zeule,2017-10-22T11:04:34Z,"i'm talking not about correctness of the program, because it is correctly implemented to contain the designed security hole.",0,0.9740013480186462
146129587,7610,glassez,2017-10-22T12:04:24Z,"technically, yes. but as soon as to have a space at the beginning or end of a phrase is grammatically incorrect, more likely it's just a typo. similar corrections are found everywhere in our code, so i just did it the same way. it doesn't matter much for me, so if you insist, i'll change it.",0,0.9552532434463501
146129872,7610,glassez,2017-10-22T12:16:14Z,"""allow the user to do what he has a right"" is a security hole?",0,0.9420148134231567
146354185,7610,Piccirello,2017-10-23T18:30:38Z,"if a user is authenticated and passes a correct csrf token with the request, what's the issue with allowing them to set the webui directory? at that point they have full control over the webui anyway, including the option to specify any external program to execute upon torrent completion.",0,0.990440845489502
146359864,7610,glassez,2017-10-23T18:51:51Z,", shhh... if reads this, you'd be anathematized and burned at the stake!",-1,0.9834529757499695
146545820,7610,Chocobo1,2017-10-24T12:41:19Z,"about the `if... else if ... else`, i would use 3 `if ()`, its clearer to me this way.",0,0.987352728843689
146559100,7610,zeule,2017-10-24T13:29:39Z,"yes, any binary can be downloaded to the target system and executed via post-download command. yet i strongly believe that presence of a mistake or design flaw in a program may not be used as an excuse for adding more problems.",0,0.9826741814613342
146559422,7610,zeule,2017-10-24T13:30:48Z,i think that trimming file paths is counter-intuitive and we shall not do this.,-1,0.6422590613365173
146611180,7610,glassez,2017-10-24T16:04:47Z,code reformatted.,0,0.9939788579940796
146612171,7610,glassez,2017-10-24T16:08:14Z,ok. let users to be careful.,0,0.989648163318634
146660915,7610,zeule,2017-10-24T19:01:31Z,what if this is symlink to a symlink?,0,0.9881448745727539
146663236,7610,zeule,2017-10-24T19:10:35Z,please rename the function to `isxxxfile` or `testfileisxxx`,0,0.9960923790931702
146745671,7610,Chocobo1,2017-10-25T03:11:42Z,why not reject all symlink?,0,0.9765180945396423
146759472,7610,glassez,2017-10-25T05:44:04Z,"why not? (since we went the way of restrictions.) i think, there shouldn't be serious reasons to use symbolic links here.",0,0.9685600996017456
147100348,7610,Chocobo1,2017-10-26T10:19:05Z,"i just checked them now and most of them are fine except this line (there are 2 instance of it): `status(400, tr(""incorrect category name""));` i think you should use `""bad request""` (without translation) and add `print(tr(""incorrect category name""));` below.",0,0.9845483303070068
147100704,7610,Chocobo1,2017-10-26T10:20:41Z,i would move this group above dynamic dns group (under authentication group).,0,0.9940005540847778
147104836,7610,Chocobo1,2017-10-26T10:41:12Z,this lookup table is not enough for alternative ui use. please add the following types: * jpg & jpeg: `image/jpeg` * bmp: `image/bmp` * txt: `text/plain` * not found in table: `application/octet-stream`,0,0.9948950409889221
147105622,7610,Chocobo1,2017-10-26T10:45:30Z,"some 1920x1080 png wallpapers exceeds this limit, maybe 10mb is enough",0,0.9884337782859802
147106867,7610,Chocobo1,2017-10-26T10:51:31Z,i think re-authentication should be required when users switched this option. i.e. previous saved sessionid should be cleared.,0,0.9882573485374451
147107562,7610,Chocobo1,2017-10-26T10:54:54Z,what do you think about the suggestion in: [a link],0,0.9787558317184448
147138695,7610,glassez,2017-10-26T13:21:54Z,no problem to do it. but what is the exact cause?,0,0.8829325437545776
147149250,7610,glassez,2017-10-26T13:58:10Z,"there is also `status(400, ""incorrect torrent hash or name"");`",0,0.9948157668113708
147152352,7610,glassez,2017-10-26T14:08:54Z,is `bad request` correct in these cases? as said in the doc: the syntax is correct but the requested resource id isn't. maybe `404 not found`?,0,0.9868152737617493
147154001,7610,glassez,2017-10-26T14:14:01Z,ok.,0,0.980760931968689
147155893,7610,glassez,2017-10-26T14:20:24Z,well. done.,1,0.7919018268585205
147165733,7610,glassez,2017-10-26T14:48:57Z,"besides, i don't know how to solve it client-side. it'll just start to recieve `403 forbidden` to all its api requests.",0,0.5306952595710754
147319270,7610,Chocobo1,2017-10-27T04:01:34Z,"i was thinking the following example: a user use the built-in webui and is authenticated, now he switch to alternative ui, should he expect to login again or not?",0,0.985934317111969
147320321,7610,Chocobo1,2017-10-27T04:17:39Z,"is `qmetaobject::invokemethod()` possible to call to class methods? e.g. `doprocessrequest`. if yes, it's a security issue.",0,0.9930912256240845
147320604,7610,glassez,2017-10-27T04:21:58Z,"technically there is no problem to keep current session, iirc. from the other side, as i said before, i don't know how to handle session break at client side.",0,0.9807621836662292
147320990,7610,glassez,2017-10-27T04:27:34Z,"only invocable methods, i.e. slots and marked as q_invocable. i can also mark all api methods by some tag (as i've done for public).",0,0.9953734278678894
147320993,7610,Chocobo1,2017-10-27T04:27:35Z,no problem just letting them receive error 403 and let them proceed to login manually. does this scenario really make sense?,0,0.9860447645187378
147321823,7610,Chocobo1,2017-10-27T04:39:26Z,"yes, i was blindly following the old code.",0,0.9552760124206543
147322740,7610,Chocobo1,2017-10-27T04:52:15Z,i think it's safer to use a private tag instead of using slots for private apis.,0,0.9804021716117859
147324713,7610,glassez,2017-10-27T05:19:09Z,i don't understand what you mean. i still need to call it via invokemethod so it should be either slot or q_invokable.,0,0.9357245564460754
147328544,7610,Chocobo1,2017-10-27T06:02:33Z,"sorry, i misunderstood something. what i really meant is checking done in `if (!ispublicapi(methodname) && !sessionactive())` is not enough, you need to also check whether the `methodname` is a valid private api name.",-1,0.9521540999412537
147328958,7610,Chocobo1,2017-10-27T06:07:28Z,"becuase exposing all function in `slots` section for webapi is error prone, therefore adding a tag for private api is easier (for us developers) to differentiate which is webapi and which is normal function.",0,0.9837020635604858
147330438,7610,glassez,2017-10-27T06:22:10Z,but i still have to be sure that the base class method will not be invoked. i'll think of something.,0,0.9747567176818848
147403657,7610,glassez,2017-10-27T12:58:12Z,but it requires add both private/public tag and q_invokable if we declare it not it slots section: [code block],0,0.9958139061927795
147408371,7610,glassez,2017-10-27T13:19:16Z,webui can be changed at a time when some session is open. it is quite possible scenario. so should i drop the current sessions at this point?,0,0.9928319454193115
147408991,7610,glassez,2017-10-27T13:21:46Z,maybe just have tagged methods under slots section? e.g.: [code block],0,0.9918477535247803
147434631,7610,Chocobo1,2017-10-27T15:00:41Z,agree.,0,0.9849521517753601
147435597,7610,Chocobo1,2017-10-27T15:04:41Z,"i thought again, if one can authenticate with qbt now, he can also do it later, so there is no point dropping the sessionid in this case. lets keep the current way for simplicity.",0,0.9843102693557739
147464955,7610,glassez,2017-10-27T17:07:23Z,done.,0,0.9897913336753845
147581345,7610,zeule,2017-10-29T13:34:19Z,"it is not clear what does ""source"" mean here. i suggest something like ""choose alternative ui files location"".",0,0.9857165813446045
147581377,7610,zeule,2017-10-29T13:35:23Z,are all of these width changes really required?,0,0.9873172640800476
147581412,7610,zeule,2017-10-29T13:36:33Z,why plain text to html changes are needed?,0,0.9854779243469238
147581427,7610,zeule,2017-10-29T13:37:14Z,this label has to correlate with file dialog title.,0,0.9942575693130493
147581486,7610,zeule,2017-10-29T13:39:18Z,why don't you use qmimedatabase here?,0,0.9926673769950867
147581552,7610,zeule,2017-10-29T13:41:39Z,"afair, this was already asked by , but i can't find that discussion. so i repeat, sorry: why not 413 status code (payload too large)?",-1,0.9915728569030762
147581632,7610,zeule,2017-10-29T13:44:18Z,what's the point of converting the tag to qlatin1string explicitly?,0,0.97037672996521
147581724,7610,zeule,2017-10-29T13:48:23Z,can't understand what does this line do.,-1,0.9449464678764343
147581759,7610,zeule,2017-10-29T13:50:00Z,m_publicapis list is shorter. why don't you test it first?,0,0.9920675754547119
147581971,7610,zeule,2017-10-29T13:58:16Z,i believe parameters marshaling can be done here as well. motivation: api functions would contain parameters in its signatures (documenting themselves) and remote api would be one step away from becoming protocol-agnostic.,0,0.9897868633270264
147583121,7610,Chocobo1,2017-10-29T14:34:58Z,i noticed the change made by qt designer as well.,0,0.978135883808136
147583173,7610,Chocobo1,2017-10-29T14:36:22Z,no i didn't and quoting rfc 7231: refusing to process a request because the request payload is larger than the server is willing or able to process i.e. the request itself is too large not the response.,0,0.988104522228241
147583414,7610,zeule,2017-10-29T14:45:33Z,"thanks, !",1,0.9907322525978088
147583670,7610,Chocobo1,2017-10-29T14:53:34Z,"is `500 ""internal server error""` more suitable here?",0,0.9915229082107544
147584065,7610,Chocobo1,2017-10-29T15:04:34Z,you're welcome!,1,0.977165699005127
147587106,7610,glassez,2017-10-29T16:48:13Z,"encountered an unexpected condition that prevented it from fulfilling the request. we hasn't ""unexpected condition"" here. in fact, the http has not appropriate codes for some of our situations. i imply once we do not support paths with `.` and `..` in it, we have no resources with these paths, so any such resources are ""not found"".",0,0.9891788959503174
147587197,7610,glassez,2017-10-29T16:51:57Z,"the another situation is what we should return, for example, when user request the creation of something? 1. the resource with same id is already exists 2. unsupported id or another data",0,0.9898361563682556
147587708,7610,glassez,2017-10-29T17:13:30Z,this is legacy code from qt4 epoch. will use qmimedatabase now.,0,0.9939669370651245
147587796,7610,glassez,2017-10-29T17:16:09Z,reset qfileinfo object to another path (parent path of current file).,0,0.9947686195373535
147587937,7610,glassez,2017-10-29T17:22:27Z,the public paths requested much less frequently. don't forget that `syncmaindata` (private path) can be requested very frequently.,0,0.9906219244003296
147588006,7610,glassez,2017-10-29T17:24:52Z,i also think about it. but there are some difficulties here. let me think about it after this pr.,0,0.9056510329246521
147588473,7610,Chocobo1,2017-10-29T17:44:34Z,"my concern is returning 404 when the resource is indeed there is confusing (e.g. `./image.jpg`, web servers like apache, nginx does not have this limit), so imo 500 (or 403) is more explicit to the user that we don't accept `.` or `..`. i'll let you decide this. depends on the context... 200 ok (if we are following restful style), or 409 hard to find an answer without context here, 404, 403?",0,0.8674712777137756
147593251,7610,zeule,2017-10-29T20:23:11Z,ok.,0,0.980760931968689
147620631,7610,glassez,2017-10-30T05:33:50Z,"1. the resource with same id is already exists 2. unsupported id or another data , i mean, e.g., addcategory: 1. when category with the given name is already exists; 2. when request has unacceptable category name (e.g. empty). can you also revise all statuses returned from webapplication and give your suggestions.",0,0.9938974976539612
147694312,7610,Chocobo1,2017-10-30T12:57:59Z,"`409 conflict`: increaseprio(), decreaseprio(), topprio(), bottomprio(), the first error in rename(), setcategory(), addcategory() also please change to use the standard status name e.g.`not found` in `status()` and use `print()` to embed the specific error.",0,0.9931663870811462
147926296,7610,glassez,2017-10-31T08:58:07Z,done.,0,0.9897913336753845
147952234,7610,zeule,2017-10-31T10:40:30Z,?,0,0.9296892285346985
147957255,7610,zeule,2017-10-31T11:01:17Z,"and after testing for symlinks, please check that the path does not point to a special file (socket, device, etc). as qt does not cover that, here is a snippet for posix (or you can use boost::filesystem): [code block]",0,0.993530809879303
147957960,7610,zeule,2017-10-31T11:03:31Z,what kind of difficulties?,0,0.9715434312820435
147958114,7610,Chocobo1,2017-10-31T11:03:56Z,"now built-in webui is broken, ff initiates a download instead of opening the page. the returned http content-type is `application/x-extension-html`, weird. also tested `qmimedatabase::matchdefault` doesn't help much, still parsing error in ff due to translate strings not being replaced.",-1,0.9700653553009033
147960588,7610,zeule,2017-10-31T11:16:33Z,works fine here.,0,0.8461194634437561
147961355,7610,glassez,2017-10-31T11:21:07Z,oops... i fixed it below but forgot to do it here.,-1,0.9402359127998352
147961913,7610,glassez,2017-10-31T11:24:29Z,", does your test function cover all cases on unix? i mean, should we still checking for symlinks separately?",0,0.9898616075515747
147969033,7610,Chocobo1,2017-10-31T11:49:35Z,is it really necessary? why?,0,0.984180212020874
147969758,7610,Chocobo1,2017-10-31T11:53:39Z,your qt version? qt 5.9.2 here.,0,0.9954491257667542
147970122,7610,zeule,2017-10-31T11:55:41Z,"sure, one can put there a device file for a whole disk or keyboard and read them.",0,0.9903841018676758
147971931,7610,zeule,2017-10-31T12:04:58Z,"it is written in accordance to posix, thus all compatible systems (all *nixes) should be covered. you do check for directory symlinks above, while this snippet tests files only. if you want to test for directories, s_ifdir is the flag: [code block] there are helper macros: [code block] that do exactly the same, but they were introduced in 1997 or something like that. so if you don't want to target older systems, they are useful (btw, there is also similar s_islnk macro that test for symbolic links).",0,0.975807785987854
147977510,7610,Chocobo1,2017-10-31T12:34:51Z,"i'm really interested in this :) afaik: you'll need higher privilege than a normal user to create a block/char file, but there is no point in doing so, you still need to access `/dev` to read the hardware. as for named pipes, you'll need to feed it from somewhere else; if this is the case, then the attacker can already issue shell commands (to create the pipe), no point defending it either. there is no harm for checking more strictly, i won't insist not adding it.",1,0.9963234663009644
147986103,7610,zeule,2017-10-31T12:57:21Z,"one can give many such files to you in a web ui archive. if one of them contains a proper device numbers, an intruder can use it.",0,0.9818506836891174
147986431,7610,zeule,2017-10-31T12:58:44Z,"5.9.2 too, but i think the key component here is the actual mime database. do you use the bundled one or does your system provide the mime database?",0,0.991592288017273
147997978,7610,glassez,2017-10-31T13:40:00Z,5.9.1 works correctly.,0,0.9747604131698608
148004473,7610,Chocobo1,2017-10-31T14:02:23Z,i guess the system one. i can see the shared database is installed correctly. i wonder if this is a package issue...,0,0.9843276143074036
148014142,7610,glassez,2017-10-31T14:34:28Z,"i don't think unsolvable. i have already tried something. but it is still beyond the scope of this pr, so i would prefer to do it separately.",0,0.9473094344139099
148017288,7610,glassez,2017-10-31T14:43:55Z,"by the way, preventing possible claims at the expense of performance... perform a lookup. the parsing of mimetypes is done on demand (when shared-mime-info is installed) or when the very first instance is constructed (when parsing xml files directly).",0,0.9931772947311401
148055594,7610,Chocobo1,2017-10-31T16:42:35Z,"ok, but one must be insane to let these files have root permission...",-1,0.9848360419273376
148056337,7610,Chocobo1,2017-10-31T16:45:03Z,"another problem, built-in webui won't load because it won't pass this check. i got the ""unacceptable file type."" msg in my browser.",-1,0.8200278878211975
148056947,7610,zeule,2017-10-31T16:47:13Z,"even reading from such files would create a security problem, so root permission is not needed.",0,0.9828654527664185
148057482,7610,zeule,2017-10-31T16:48:59Z,maybe the function is used with qt resources?,0,0.9905683398246765
148058124,7610,glassez,2017-10-31T16:50:55Z,"in fact, all these checks are unnecessary for the builtin ui. will be fixed later. , or we shouldn't trust ourself as well?",0,0.9035775661468506
148058937,7610,zeule,2017-10-31T16:53:29Z,:d,1,0.9904568791389465
148059386,7610,Chocobo1,2017-10-31T16:54:50Z,"no, you need root to create/copy such file.",0,0.9927912950515747
148063485,7610,zeule,2017-10-31T17:08:03Z,"yes, but is it impossible to convince to convince somebody to unpack with sudo? or install such a file by other means?",0,0.9909095168113708
148064870,7610,Chocobo1,2017-10-31T17:12:33Z,"that's what i mean by ""ok"" in my post above ;)",0,0.8046627640724182
148072978,7610,Chocobo1,2017-10-31T17:39:25Z,missing closing `/`,0,0.9907591342926025
148077409,7610,Chocobo1,2017-10-31T17:54:57Z,"just noting down what is happening so far: * with `qmimedatabase::matchextension`, qbt is returning `application/x-extension-html`, so my browser initiates download. weird mime type, don't know why. * with `qmimedatabase::matchdefault`, qbt returns `application/xhtml+xml`, this is correct as the file is in xhtml format. but this mime type creates another problem, ff starts using xml parser to parse the html file and since the html is not well-formed xml, ff is spitting out errors and refuse to render the page. force using `text/html` might workaround this, yet i've not found a way to construct such qmimetype type.",-1,0.881614625453949
148259585,7610,glassez,2017-11-01T13:30:38Z,fixed.,0,0.9905837774276733
148259803,7610,glassez,2017-11-01T13:31:38Z,", try it now!",1,0.8597573637962341
148261292,7610,glassez,2017-11-01T13:38:00Z,"now matches both filename and content. it returns ""text/html"" for me. it's correct behavior for strict xhtml files. strict xhtml should be well-formed xml, but some our web ui sources aren't. it needs to correct it to follow either xhtml or html5 standard.",0,0.9686793088912964
148263538,7610,glassez,2017-11-01T13:47:03Z,"besides, to make it really protocol-agnostic, we need to implement additional abstraction layer. need to develop some requirements (e.g. the format of the input and output data, status, etc.).",0,0.9882815480232239
148265756,7610,Chocobo1,2017-11-01T13:54:36Z,"thanks, now i can pass this check.",1,0.8848853707313538
148266073,7610,Chocobo1,2017-11-01T13:55:55Z,"`stat()` returns int type, so it should be `if (::stat(path, &st) != 0)`",0,0.9934688806533813
148267775,7610,Chocobo1,2017-11-01T14:02:23Z,"yeah, from what i've read, it's bad for web development, pages break too easily. i would chose html5. also this issue should be solved if qmimedatabase is being used.",-1,0.6980616450309753
148268208,7610,Chocobo1,2017-11-01T14:04:02Z,"maybe: unacceptable file type, only regular file is allowed.",-1,0.8143645524978638
148268522,7610,Chocobo1,2017-11-01T14:05:10Z,"users won't know what is ""www root folder"", so ""symlinks inside alternative ui folder are forbidden.""",0,0.9876248836517334
148509789,7610,Chocobo1,2017-11-02T11:52:42Z,you should use only the first 2 chars to conform to the standard.,0,0.9948979020118713
148512468,7610,Chocobo1,2017-11-02T12:06:33Z,"this breaks the interface in ie11, please revert. see: [a link]",0,0.9713655710220337
148512755,7610,Chocobo1,2017-11-02T12:07:43Z,this one is fine and you can also remove it.,0,0.9844282269477844
148513450,7610,Chocobo1,2017-11-02T12:10:20Z,"if possible, you can remove all these mime types now.",0,0.9945736527442932
149073534,7610,zeule,2017-11-06T13:07:17Z,"they has ""1"" and ""2"" in the names, suggesting that others might follow. then what about possible parameter changes? also, the old object paths denote possibility to export several objects. quite a valuable possibility!",0,0.5321513414382935
149074646,7610,zeule,2017-11-06T13:13:01Z,"for example, you could export the rss subsytem in its own sub-path. while now everything is at the same level potentially creating a mess. p.s. take a look at qdbusabstractadaptor documentation and [a link] to get an idea what web api implementation might look like.",0,0.9585295915603638
149080233,7610,glassez,2017-11-06T13:39:28Z,", i can't say i understand what you mean. this is only ""old-name to new-name"" mapping tables. i have two since they are used in a different way (because of old api inconsistency). or are you just looking to the future, and you want to use something like that for the different things? in this case, do not be lazy to give detailed examples of expected use cases. will reading qdbusabstractadaptor documentation be enough to understand you?",-1,0.5147165656089783
149082823,7610,zeule,2017-11-06T13:50:18Z,"yes, this is about future developments (although api sub-paths would make sense in any case). the idea behind qdbusabstractadaptor is very simple: you provide a qobject and a path to publish it, and then all its slots and properties (here you additionally mark them as public_api and private_api, but that doesn't matter) become available at that path. qt dbus documentation can explain details. it would be nice to achieve the same for http, especially taking into account that you are already only a step away.",0,0.9210832118988037
149085081,7610,zeule,2017-11-06T13:59:44Z,"sorry, forgot to comment on the first part. i'm thinking of possible parameters change between apis. the maps we are talking about might contain not name → name pairs, but name → function to handle parameter change. or such changes in the api are impossible or quite unlikely?",-1,0.9517953395843506
149085684,7610,zeule,2017-11-06T14:02:31Z,"quick follow-up: supposing the proposed object publishing way is adopted, we could just publish an object for the old api and avoid new on old sub-system dependency (look and the hash parameter handling in the current pr code).",0,0.9898547530174255
149092026,7610,glassez,2017-11-06T14:28:17Z,"hmm... interesting idea. i'll try to go there... agree. as i said before i got rid from sub-paths since they're currently confused/messed and i went a short ways (no ""subpaths"" is better than wrong ""subpaths""). however, now i wonder to use it again. however, i don't want to delay thi pr, because there are other goals. due to the fact that the compatibility layer is implemented, we can have a old api as main and new one as experimental feature for some time. then we can change the api paths safe for the end user. what do you say? i'm just not sure i can quite quickly develop the consistent api paths and names. however, you , you too) can help me with this. you can post your suggestions in this pr topic.",1,0.8834460973739624
149092788,7610,glassez,2017-11-06T14:31:09Z,"everything is clear with the rss, of course: `/api/rss/processingenabled` and so on.",0,0.993453860282898
149102960,7610,Chocobo1,2017-11-06T15:06:47Z,"you are talking about sub-paths under `/api` right? take a look, webapis is not much: [a link] i can only think of `/api/torrent`: for apis fetching single torrent data, `/api/global`: for apis like ""get global download limit"" and everything else still under `/api` because no other sub-path fits. i don't think end users cares much about it (as long as webui still work), it's 3rd-party software developers whom are related to these changes: [a link] i'm not saying that is the golden rule, but we something we should bear in mind.",0,0.9471375942230225
149105823,7610,zeule,2017-11-06T15:16:18Z,maybe `api/session` for bits like the global download limit? login/logout might also fit into the session sub-object.,0,0.9917650818824768
149110136,7610,Chocobo1,2017-11-06T15:29:40Z,"sound redundant, users are logging into a web session, not a libtorrent session.",0,0.5771851539611816
149114472,7610,glassez,2017-11-06T15:42:15Z,agree. from the webapi pov session is web session. globals can be under `app/` (or some other) subpath.,0,0.9928376078605652
149115245,7610,zeule,2017-11-06T15:44:40Z,obvious remark: if we are going to move to object publishing approach (see above) we need a sub-path for each api entry.,0,0.9872293472290039
149291740,7610,glassez,2017-11-07T07:51:49Z,"not so fast, i think... i tried to imagine it myself, and i have a lot of questions now (and very little time for this). so i plan to implement api paths another (more simple) way in this pr so as not to delay it. are there any strong objections against this?",-1,0.6666209101676941
149322129,7610,JackDandy,2017-11-07T10:11:39Z,"hi, a note on behalf of existing users and developers of this api [a link]",0,0.9883583188056946
149328116,7610,zeule,2017-11-07T10:35:51Z,no objections at all.,0,0.9642754197120667
149334079,7610,zeule,2017-11-07T11:00:46Z,": currently this pr does provide complete compatibility with the old ap (except maybe for a version string, i'm not sure about that). thanks for your concerns!",1,0.984391450881958
149348619,7610,Chocobo1,2017-11-07T12:12:11Z,can you please add a `warning` http header (via `responsebuilder::header()`) when the client uses the old api path? see: [a link] and example value: `deprecated api : use new api under path /api. old api will be removed in v4.0.2`,0,0.9959207773208618
149350136,7610,Chocobo1,2017-11-07T12:19:14Z,"please use a named variable for this line, to ease documentation work (easier to track).",0,0.9939356446266174
149350218,7610,Chocobo1,2017-11-07T12:19:39Z,here too and the next line.,0,0.9878047704696655
155918324,7610,Chocobo1,2017-12-09T10:20:28Z,"instead of moving to `webapplication`, why not move to `protected` section of `abstractwebapplication`? and use `operator()` for const get, and `*_` for setting value.",0,0.9941725134849548
155918952,7610,glassez,2017-12-09T10:56:53Z,", this pr has currently some unfinished/intermediate changes. please don't review until i finish it.",0,0.5085811614990234
159116943,7610,Chocobo1,2017-12-30T04:56:44Z,`for (const auto &rule : rss::autodownloader::instance()->rules())` ?,0,0.9941226840019226
159116952,7610,Chocobo1,2017-12-30T04:57:46Z,use a one or two tmp variable for easier reading?,0,0.9937381744384766
159116955,7610,Chocobo1,2017-12-30T04:58:03Z,use tmp variable?,0,0.9948983788490295
159116991,7610,Chocobo1,2017-12-30T05:01:36Z,the above 2 are unix-only headers right? should you move them in `#ifdef q_os_unix`?,0,0.9952255487442017
159116996,7610,Chocobo1,2017-12-30T05:02:01Z,"this one should move to top, above `#include `",0,0.9949671626091003
159117021,7610,Chocobo1,2017-12-30T05:05:19Z,"`choose alternative web ui folder`, as the files are always placed in some specific folder right?",0,0.9928834438323975
159117047,7610,Chocobo1,2017-12-30T05:07:11Z,`folder location:`,0,0.9929004907608032
159117068,7610,Chocobo1,2017-12-30T05:10:00Z,"i'm not against it, but i think you should add a rule in our coding guidelines about it.",0,0.9198004007339478
159117140,7610,Chocobo1,2017-12-30T05:19:19Z,"can't tell why, but i expected to see `std::string` as parameter.",0,0.9714094400405884
159117164,7610,Chocobo1,2017-12-30T05:22:46Z,is it possible to initialize the above 2 here? using `constexpr` if necessary.,0,0.9955815672874451
159117284,7610,Chocobo1,2017-12-30T05:26:44Z,maybe use a tmp variable?,0,0.9911848902702332
159117506,7610,glassez,2017-12-30T05:48:06Z,"i use here the wording proposed by some another reviewer (, unless i'm wrong). i would prefer to leave it as is (at least in this pr).",0,0.9860639572143555
159117533,7610,Chocobo1,2017-12-30T05:51:17Z,`optionalparams`: what does this variable mean? if it's optional then it shouldn't throw any error at all (when not exists). maybe omit this field and let the respective function/method handle its existence?,0,0.9928876757621765
159117536,7610,glassez,2017-12-30T05:52:03Z,files location is path of its parent folder. but folder location is the place where the folder is located (i.e.its parent folder path). so current wording is correct.,0,0.9939245581626892
159117540,7610,Chocobo1,2017-12-30T05:53:24Z,please specify return types here and `findapicall `,0,0.9958006739616394
159117555,7610,glassez,2017-12-30T05:55:15Z,no. otherwise the code couldn't compile on windows.,0,0.9891214966773987
159117594,7610,Chocobo1,2017-12-30T05:59:52Z,"i just saw msvc have this header... then it should move up, above `#if defined(q_os_win)` section.",0,0.9929227828979492
159117679,7610,glassez,2017-12-30T06:06:42Z,"the meaning of this check: all required params must be presented, any of optional param may or may not be presented, any other params are forbidden (except the get request, where any extra params are allowed).",0,0.9936994314193726
159117681,7610,Chocobo1,2017-12-30T06:07:17Z,"i see you made `hashes` optional here and i'm not sure this change is necessary... do you have specific use case? i've no reason to object, just asking.",0,0.9189406633377075
159117861,7610,Chocobo1,2017-12-30T06:25:55Z,isn't that a bit too strict? imo we should be tolerant about it. and also save some processing power.,0,0.5483947396278381
159120417,7610,glassez,2017-12-30T10:15:13Z,i think the same way. we shouldn't check it at all and just take the params we need. initially there was no checks. but someone add it for some reason (i don't remember who done it). in this pr i just allow optional params in addition to required.,0,0.9703555107116699
159120478,7610,glassez,2017-12-30T10:21:51Z,"some methods can apply its action to one or more torrents. it's too expensive to send all hashes if you want to apply it to all torrents. some of this methods have optimized alternatives earlier (e.g. pause/pauseall). i start to transform it to uniform methods with optional ""hashes"" param.",0,0.9926130771636963
159124420,7610,glassez,2017-12-30T15:50:40Z,"the current situation is no one is against that, but most developers (except me, generally) use include guards (maybe just habit?). should we require ""pragma once"" by creating the appropriate rules? then the dispute between supporters and opponents may inevitably arise. i'm afraid if i try to insist on this, it will generally be prohibited in favor of the include guard.",-1,0.9449315667152405
159124531,7610,glassez,2017-12-30T15:58:24Z,"i see no reason to do it. ths is a class declared/defined in qt application, it will be used together with other qt types include qstring as well. the fact it extends std class and uses std::string internally shouldn't forbid us to have convenient interface with all qt world outside it.",0,0.9768190979957581
159133586,7610,Chocobo1,2017-12-31T04:17:32Z,"okay, just to be clear, my viewpoint is, having different include guards in the same project is distributing, having a rule for it will clear the confusion. i think the worst scenario is just we make a vote/decision and we move on, me at least won't bother fight hard for it.",-1,0.6211180686950684
159152868,7610,glassez,2018-01-01T10:30:58Z,"ok, just removed it here for now to not slow this pr. let it be another issue.",0,0.9843248128890991
159448254,7610,Chocobo1,2018-01-03T15:18:23Z,is it possible to do? [code block],0,0.9955388903617859
159449819,7610,Chocobo1,2018-01-03T15:23:27Z,"i just think checking the **required** params is needed and is a common pattern (not sure this can be small enough to inline into each function), however the **optional** params shouldn't be checked at all. what do you think?",0,0.976395845413208
159450832,7610,Chocobo1,2018-01-03T15:27:28Z,"i agree. or how about use a special string for *all* operation? e.g. `hashes=""all""` will change all torrent settings instead of omitting it? and also `hash` will become a required param. just an idea.",0,0.9622306227684021
159457651,7610,glassez,2018-01-03T15:52:47Z,it's possible. i'll change it.,0,0.9823405742645264
159487303,7610,glassez,2018-01-03T17:56:38Z,"the existing code allows no unexpected params, i only implemented optional params as close as possible. but, as i said, this strictness not so important to me. maybe leave it for separate issue?",0,0.9856554269790649
159580092,7610,Chocobo1,2018-01-04T04:39:12Z,ok.,0,0.980760931968689
159672098,7610,glassez,2018-01-04T15:01:34Z,ok. please consider my additional commit. i've done it there (and some other improvements).,0,0.9896683692932129
159672317,7610,glassez,2018-01-04T15:02:26Z,done.,0,0.9897913336753845
160023041,7610,Chocobo1,2018-01-06T10:50:55Z,"nitpick, `const` here and below is a bit redundant imo.",-1,0.636765718460083
160023209,7610,glassez,2018-01-06T11:01:06Z,of course. just a copy-paste here...,0,0.9924226403236389
160023308,7610,Chocobo1,2018-01-06T11:07:38Z,the result is pretty neat. i can approve the current form after commit squash.,1,0.9880494475364685
160034184,7610,Piccirello,2018-01-06T20:28:02Z,will the minimum supported version of ie now officially be 10?,0,0.9934626817703247
160038293,7610,Piccirello,2018-01-07T00:47:00Z,on compile i get an error [code block],0,0.9289336204528809
160043848,7610,glassez,2018-01-07T08:55:42Z,"afaik, this directive is not for defining minimum supported version. it's for using legacy renderer in modern ie versions. ?",0,0.9914073348045349
160044107,7610,Chocobo1,2018-01-07T09:12:23Z,"iirc it doesn't event work with ie version < 10. so yes, kinda.",0,0.9833694100379944
160059158,7610,Piccirello,2018-01-07T20:19:38Z,"in my testing it appears to work (mostly) well in ie9. ie8 doesn't work at all, which i'm rather ok with. we ought to document this somewhere because it really does dictate what javescript features i can use when developing. maybe on the qbittorrent [a link] page?",0,0.819380521774292
160866189,7610,Piccirello,2018-01-11T05:09:19Z,still getting this error with the latest commits,0,0.7707764506340027
160875612,7610,glassez,2018-01-11T06:46:26Z,"not sure with the last one... travis compiles it without errors now, so either you have outdated code version, or you're not doing a clean build.",0,0.8579156994819641
160885690,7610,Piccirello,2018-01-11T08:04:17Z,this include isn't needed,0,0.9936668276786804
160897570,7610,glassez,2018-01-11T09:10:20Z,doubtful... do i have to look into each included header to see that it includes other headers (and do this recursively)? i'm sure not.,-1,0.8843503594398499
161270350,7610,Piccirello,2018-01-12T16:44:00Z,remove the header and build the project. it's trivial to verify.,0,0.9937888979911804
161279903,7610,glassez,2018-01-12T17:26:23Z,"what is your logic? 1. don't include any header and try to compile 2. add missing headers and try to compile again 3. repeat step 2 until no more error occurred. 4. have compilation errors each time some 3rd party header was changed and the header you need was removed there, ? imo, if i use some class declared in some header i can include this header (even if it included indirectly). what's wrong here?",0,0.7903529405593872
161301205,7610,Piccirello,2018-01-12T19:02:39Z,i'm not sure what the issue is here. you include a header that you don't use. i don't know why removing it results in so much pushback.,0,0.6750569343566895
161368881,7610,glassez,2018-01-13T10:04:01Z,really? let's see the following lines: [code block] they require class qjsonvalue to be complete (i.e. fully defined) so i include the header where it is declared. for some reason this header is also included indirectly via other header (qjsondocument) but why should i care about it?,-1,0.7706480026245117
164289386,7610,Chocobo1,2018-01-28T05:24:50Z,"iirc this is widely used, maybe move to it to some top-level header?",0,0.9903581738471985
164289413,7610,Chocobo1,2018-01-28T05:26:51Z,note: it's 2018 now.,0,0.9911092519760132
164289448,7610,Chocobo1,2018-01-28T05:30:46Z,`enum class errortype`?,0,0.9955627918243408
164289554,7610,Chocobo1,2018-01-28T05:37:32Z,"what does the ""i"" mean? maybe add a comment?",0,0.9939541220664978
164289606,7610,Chocobo1,2018-01-28T05:43:28Z,possible to move keys to cpp file?,0,0.9931495785713196
164289690,7610,Chocobo1,2018-01-28T05:48:19Z,"i don't really understand this line, what is it for?",-1,0.8336006999015808
164295532,7610,glassez,2018-01-28T10:28:48Z,"really? :) actually, some of files was created in 2017, the others in 2018.",1,0.9952175617218018
164295571,7610,glassez,2018-01-28T10:30:49Z,"imo, it's too wasteful to have a separate file just for one alias.",-1,0.6684014797210693
164295641,7610,glassez,2018-01-28T10:34:28Z,changed all new to 2018.,0,0.9893935918807983
164295771,7610,glassez,2018-01-28T10:41:27Z,i don't see much sense to have a separate namespace in this case (this type isn't shared to have it outside apierror; having names like apierror::errortype::notfound seems too complex for me). have you serious reasons to change it?,0,0.9482693672180176
164295977,7610,glassez,2018-01-28T10:50:58Z,"it's a common practice for interface naming (i've seen it happen somewhere). isession has no implemented any methods, it's a pure interface.",0,0.988453209400177
164296037,7610,glassez,2018-01-28T10:53:42Z,see **inheriting constructors** at [a link],0,0.9952656030654907
164296343,7610,glassez,2018-01-28T11:08:02Z,some keys are used in controllers.,0,0.9936459064483643
164301181,7610,Chocobo1,2018-01-28T14:38:34Z,nothing much except modern practice and some type safety/correctness... personally i would prefer `enum class` whenever possible.,0,0.9265919327735901
164301209,7610,Chocobo1,2018-01-28T14:39:39Z,well ok... the cleanup can be done later.,0,0.9521106481552124
164303769,7610,glassez,2018-01-28T16:13:30Z,"ok, use `enum class` now.",0,0.994882345199585
170721899,7610,Piccirello,2018-02-26T20:16:55Z,this should be `qstring::number(compat_api_version)`,0,0.9955417513847351
170721973,7610,Piccirello,2018-02-26T20:17:12Z,use `qstring::number`,0,0.9950910806655884
419148054,12746,jagannatharjun,2020-05-03T19:27:43Z,"i think we still don't agree we should drop it and you should leave these decisions to maintainers, they will drop it themselves when they think they will not maintain it. so please don't argue with this and also same for boost. these core library decision should be left on those who actually maintain it",-1,0.894334614276886
419148201,12746,jagannatharjun,2020-05-03T19:28:58Z,i think we require space between if and following bracket `if (unix)`,0,0.9890311360359192
419148952,12746,jagannatharjun,2020-05-03T19:34:45Z,i think -frtti and -fexceptions are both enabled by default.,0,0.985153079032898
419149029,12746,jagannatharjun,2020-05-03T19:35:24Z,all these defined will be added automatically,0,0.995928943157196
419154854,12746,FranciscoPombal,2020-05-03T20:22:15Z,"indeed. also i checked the documentation for all of the flags, and came to the following conclusions: - `wno-long-long` is also useless for us - i noticed `wnon-virtual-dtor` is part of a larger `weffc++` suite of errors in gcc. i tried enabling that instead, but got spammed with errors. perhaps we could benefit from the suggested fixes, but it does not seem worth it to enable `weffc++` globally by default, so i just left `wnon-virtual-dtor`.",0,0.9143512845039368
419155663,12746,FranciscoPombal,2020-05-03T20:28:43Z,"fixed all remaining instances of this (although i'm personally not a fan of this convention, since it is different that `endif` and `elseif`).",0,0.9843171834945679
419155955,12746,FranciscoPombal,2020-05-03T20:31:09Z,"like i said in the op: i was running into problems with vcpkg rejecting packages with incompatible minor versions. this was the simplest way i found to ""fix"" the problem for now, while i focus on everything else. once other things are ready, this will be revisited, and i'll see what are the minimum set of changes required to support both series if needed.",0,0.9583590626716614
419156583,12746,FranciscoPombal,2020-05-03T20:35:57Z,"are you sure? my impression is that unless you specify `ntddi_version`, `_win32_winnt` and `_win32_ie` manually with the appropriate version, then it is not guaranteed that the executable will work all the way back to windows 7. but i may be wrong or there may be a better way to do this. do you happen to know how? regarding the other definitions, how can i check if they are being added automatically without trial-and-error?",0,0.9806404113769531
419227401,12746,glassez,2020-05-04T06:08:24Z,let follow the following style: [code block],0,0.9953286647796631
419227730,12746,glassez,2020-05-04T06:09:43Z,let use consistent names for options (either with or without qbt_ prefix).,0,0.9916298985481262
419228616,12746,glassez,2020-05-04T06:13:28Z,why did you drop `optional_compile_definitions` use? it adds corresponding compiler definition as well.,0,0.9923835396766663
419514727,12746,FranciscoPombal,2020-05-04T15:17:43Z,fixed,0,0.920660674571991
419515049,12746,FranciscoPombal,2020-05-04T15:18:10Z,fixed (now nothing uses the qbt prefix),0,0.9925649166107178
419517707,12746,FranciscoPombal,2020-05-04T15:21:53Z,"because i wanted to decouple the logic of adding compile definitions from the top-level cmake file. now the compile definitions are added in the relevant places, depending on the feature. this makes it easier to migrate to a more target-based approach later across all components (e.g using `target_compile_definitions` instead of `add_compile_definitions`).",0,0.9883466362953186
419787497,12746,NotTsunami,2020-05-04T23:30:24Z,"is this one of your temporary changes or so you can remove the checks for versions under 1.60? if this is not a temporary change, this should be in a seperate pr that updates the build requirement here, other scripts and readmes.",0,0.9947911500930786
419788949,12746,NotTsunami,2020-05-04T23:35:16Z,`elseif (msvc)`,0,0.9943830966949463
419790973,12746,NotTsunami,2020-05-04T23:41:59Z,"nit: if this stays in a large patch, i'd prefer the variable name here to match the casing that the library uses: requiredopensslversion -> requiredopensslversion this is my personal preference though, so probably wait for a maintainer comment first.",0,0.9891581535339355
419791541,12746,NotTsunami,2020-05-04T23:43:50Z,"~i would also prefer correct/consistent casing here too, so either use zlib as the package name (i'm not sure if a lowercase first letter would violate any 'standards', but i would propose to use zlib if it doesn't) or match the case in the requiredzlibversion variable.~",0,0.992889404296875
419794518,12746,NotTsunami,2020-05-04T23:53:56Z,~shouldn't this be true already?~ ~[a link] ignore.,0,0.980839729309082
419796974,12746,NotTsunami,2020-05-05T00:02:38Z,"this condition is too broad, you should be checking against msvc. i would also move this to its own if block.",0,0.9747878313064575
419797831,12746,NotTsunami,2020-05-05T00:05:05Z,why did these move from the top cmake file?,0,0.9924331903457642
419801768,12746,FranciscoPombal,2020-05-05T00:18:37Z,"it's temporary, like all other version bumps.",0,0.9773572087287903
419802959,12746,FranciscoPombal,2020-05-05T00:22:42Z,"here, this is a compile definition, it's passed as `-dwin32` to the compiler.",0,0.9933122992515564
419803525,12746,FranciscoPombal,2020-05-05T00:24:45Z,"part of the effort to decouple anything related to adding compile definitions, adding compile options, include directories, etc. from the top-level file. this should make the transition to `target_*` commands in the future simpler.",0,0.9896169900894165
419804104,12746,NotTsunami,2020-05-05T00:26:46Z,"right, totally did not realize where this was.",0,0.842681348323822
419805885,12746,FranciscoPombal,2020-05-05T00:33:08Z,fixed.,0,0.9905837774276733
419806013,12746,FranciscoPombal,2020-05-05T00:33:33Z,for now i decided to make the casing consistent like you said.,0,0.9910056591033936
419806057,12746,FranciscoPombal,2020-05-05T00:33:44Z,"for now i decided to make the casing consistent like you said. edit: actually, i have to leave it as is because it does not work otherwise.",0,0.9885607361793518
419806126,12746,FranciscoPombal,2020-05-05T00:33:56Z,fixed.,0,0.9905837774276733
420558482,12746,glassez,2020-05-06T05:51:43Z,i don't think power-management should be optional in case when dbus is available.,0,0.9589018821716309
420558610,12746,glassez,2020-05-06T05:52:17Z,seems it should be another `if` block.,0,0.9804332852363586
420641552,12746,NotTsunami,2020-05-06T08:59:01Z,i made the same suggestion earlier,0,0.9602725505828857
420732177,12746,jagannatharjun,2020-05-06T11:54:22Z,"you really don't think you need `/mp` here, i never tried looking for this particular flag in build files but all cmake generators supporting parallel compilation works out of the box without any problem",0,0.9739425182342529
420733848,12746,jagannatharjun,2020-05-06T11:57:39Z,"`unicode` may be helpful, but i don't really you think we need other flags anyway",0,0.9833279848098755
420873722,12746,FranciscoPombal,2020-05-06T15:15:55Z,"if you mean that cmake sets the ""flag that enables parallel jobs int the build tool"" to the optimum value automatically based on the the number of logical processors of the machine, that's correct. however, for vs generators that refers to the `/m` flag of msbuild, which just means multiple projects will be built at the same time, not multiple compilation units. `/mp` must be passed to the compiler directly, not the build tool, for multiple compilation units to be compiled simultaneously. see the relevant section: [a link] this is corroborated by my own benchmarking (these durations are only meaningful for relative comparison): - vs 2019 generator with `/mp` forced: ~3:35 minutes - nmake jom generator: ~3:10 minutes (note how it's still a touch faster than the vs generator; but this could be related to the fact that i called it on cmd vs powershell 7, where there could be extra overhead. on cmd, even the cmake configure invocation, testing compilers, etc seemed to be snappier/faster) - vs 2019 generator (no matter the value set in `--parallel` in the cmake build command line/): 8+ minutes when using `/mp` vs not using it, i can see the difference in duration, in the cpu usage, in the number of simultaneously spawned compiler processes, and even the sound the pc fan makes. i encourage you to try it out for yourself, maybe i'm doing something wrong. here are the commands i use (in a windows 10 vm with the latest vs2019 toolchain): [code block]",0,0.9925326704978943
420878943,12746,FranciscoPombal,2020-05-06T15:22:56Z,i did it this way initially because i thought `if/elseif` makes more sense than `if/if` since these are mutually exclusive and related to the same thing (the features available on different platforms).,0,0.988593578338623
420880243,12746,FranciscoPombal,2020-05-06T15:24:43Z,"currently it's optional, but turned on by default (as long as dbus is also on, if dbus is off, it's always turned off). why not give the users the possibility to turn it off? everything else seems to be in place for that.",0,0.9875391721725464
420978823,12746,glassez,2020-05-06T17:49:27Z,what's the point to make such subfeatures to be optional? what's benefit in disabling it in compile time?,0,0.9578680396080017
421122715,12746,FranciscoPombal,2020-05-06T22:12:28Z,"because this is what the script was doing before, but through ""spooky action at a distance"" - i just made it a user-configurable option. [a link] do you think in this case the choice does not make sense at all?",0,0.9751653075218201
421248079,12746,glassez,2020-05-07T05:29:49Z,"do you think in this case the choice does not make sense at all? i think it doesn't make sense. this option should be always enabled when all necessary stuff (e.g. dbus) is available. here is my general opinion. you need to distinguish between different types of ""optional"" features. some of them are optional because it makes sense to disable them at the user's choice (for example, gui mode). some others are optional because they require some additional dependencies, but we can do without them if these dependencies cannot be satisfied for some reason (e.g. ""power management""). you must be mistaken. it simply disabled the feature if there were unsatisfied dependencies.",0,0.6356034874916077
422512866,12746,FranciscoPombal,2020-05-09T15:59:30Z,"understood, fixed.",0,0.8930884003639221
422513230,12746,zeule,2020-05-09T16:01:26Z,the x11 package is probably not required. i was mislead by the source file names.,0,0.9605945348739624
422514665,12746,FranciscoPombal,2020-05-09T16:10:35Z,so it would seem. i looked at the files and they only `#include` qt stuff.,0,0.9891282916069031
422514734,12746,glassez,2020-05-09T16:10:56Z,source file names were probably borrowed when i ported this feature from other soft (i don't remember from which one). it looks like they should have a different suffix (`dbus`).,0,0.9925222992897034
422517715,12746,FranciscoPombal,2020-05-09T16:37:50Z,fixed. also fixed and include that was causing the build to fail: [a link] backport here: [a link],0,0.9927905797958374
422518454,12746,FranciscoPombal,2020-05-09T16:44:47Z,"after reading up on it some more, looks like at least `win32` (automatically added by cmake) and `_win32` (automatically added by msvc compiler - [a link] are redundant, so i removed them.",0,0.9892203211784363
423648919,12746,jagannatharjun,2020-05-12T11:06:12Z,"docs says it will not affect any other ""normal"" generators like jom, nmake or ninja, since they do individually call compiler for each unit as far as vs generator is concerned one can add this through the visual studio's option box, let the user handle it.",0,0.9918402433395386
423975234,12746,FranciscoPombal,2020-05-12T19:19:50Z,"i'd rather not rely on the vs gui - right now it's possible to fully build the project with vs generators without using the gui at all. i guess i'll add an exception for vs generators. the advantage of vs generators on windows is that they seem to ""just work"" with any shell, whereas ninja/nmake/jom only work if i specifically use the ""developer command prompt"" or otherwise add all relevant paths (for `cl.exe`, for example) manually to `path`.",0,0.9684330821037292
424079594,12746,zeule,2020-05-12T22:55:14Z,"this is unsafe, `list(append` is the right choice. it is unsafe because you need to prefer system-supplied modules, because distributions can patch them to account for distribution- or even site-specific peculiarities.",-1,0.49914929270744324
424079816,12746,zeule,2020-05-12T22:55:53Z,this was the correct way to go.,0,0.9475501179695129
424080609,12746,FranciscoPombal,2020-05-12T22:58:12Z,~it's currently `set(cmake_module_path ${cmake_current_source_dir}/cmake/modules)` right at the top of the file. you expect qbittorrent to need more than one module directory?~ [a link],0,0.9950940608978271
424080638,12746,zeule,2020-05-12T22:58:15Z,"consider moving that below replacing with `message(status ""project version is: ${project_version}""). will be shorter.",0,0.9921154379844666
424080864,12746,FranciscoPombal,2020-05-12T22:58:51Z,"ah, i see.",0,0.9666144847869873
424081532,12746,FranciscoPombal,2020-05-12T23:00:34Z,fixed.,0,0.9905837774276733
424084056,12746,FranciscoPombal,2020-05-12T23:07:58Z,"they are slightly different. the `$project_version` cannot include `(${qbt_ver_status})`. to be fair, this is something i would change about qbittorrent, along with the `qbt_version_2`/`qbt_version` ""duplicate"" defines, but that's not up to me, at least not in this pr.",0,0.9819177985191345
424368345,12746,FranciscoPombal,2020-05-13T11:35:27Z,"ok, now `/mp` only gets appended to the compile options when using vs generators.",0,0.9930152893066406
426101657,12746,zeule,2020-05-16T01:04:31Z,sorry for repeating; this chunk has to be packed in a findlibtorrentrasterbar.cmake file and put in the modules dir. distributions should be able to provide their own version of find packages.,-1,0.9718681573867798
426102331,12746,FranciscoPombal,2020-05-16T01:11:02Z,"in that case, will it still be used preferentially over any other `findlibtorrentrasterbar.cmake` in the system unless the user overrides that? or is there something more that i must do to obtain that behaviour?",0,0.9936500191688538
426102716,12746,zeule,2020-05-16T01:15:10Z,"no, that the point: the system one has to be preferred.",0,0.9847134947776794
426104632,12746,FranciscoPombal,2020-05-16T01:36:06Z,"i don't see why. this code does not do anything special to find the package, it just finds the config file and lets that do the magic. the system is free to provide/give preference to whatever `libtorrentrasterbarconfig.cmake` it sees fit. i think this is the sanest way: do as little as possible, trust the provided config files (because this is most likely the best for the system). so imo our way of _finding_ should be the default. the system's way of finding should be the fallback (automatically), but the user should also be able to override this order and prefer the system's way of finding regradless, via a variable or possibly a feature. the fallback is useful for cases when, for example, libtorrent is not built with cmake.",0,0.8393452763557434
426105939,12746,zeule,2020-05-16T01:49:54Z,"libtorrent might be built with b2, autotools or cmake. the config file will be installed only by the latter one, but that's a side note. for a distribution it is much easier to patch the find module file which comes with the libtorrent itself then duplicate required changes in each client package. if you want to make their life easier (in other words: if you want them to prefer cmake build for qbt) you put the _whole_ find chunk into a module and leave only a single `find_package()` call in the build script.",0,0.9903580546379089
426150056,12746,zeule,2020-05-16T12:38:03Z,why not `file(copy`?,0,0.9933211207389832
426150380,12746,glassez,2020-05-16T12:42:17Z,seems reasonable. distribution can provide more reliable way to find its packages.,0,0.9767090082168579
426202595,12746,FranciscoPombal,2020-05-17T00:13:13Z,because it is my impression that it cannot use generator expressions? but please correct me if i'm wrong.,0,0.9778937101364136
426202894,12746,zeule,2020-05-17T00:18:40Z,"ah, yes, you are right... but why do you need `$ ` there?",0,0.9836408495903015
426276211,12746,eli-schwartz,2020-05-17T15:54:28Z,"i don't understand this whole thing. the system findlibtorrentrasterbar.cmake is already being used, this code merely says ""if findlibtorrentrasterbar.cmake isn't found, try to use pkg-config instead"". why is this objectionable? when does this prevent the distribution from providing their own findlibtorrentrasterbar.cmake or patching the system one?",-1,0.8988280892372131
426282201,12746,glassez,2020-05-17T16:56:45Z,"the point is that all ""find libtorrent"" logic should be encapsulated in findlibtorrentrasterbar.cmake (either system or project, user etc.) so there is single find_package call should be in project file.",0,0.9913619160652161
426285763,12746,eli-schwartz,2020-05-17T17:33:55Z,"this is some pretty abstract, confusing logic. if i understand you correctly, then these lines here: [code block] should be moved to modules called e.g. [code block] and invoked as find_package(zlib) to resolve ./cmake/modules/findzlib.cmake which in turn resolves /usr/share/cmake-3.17/modules/findzlib.cmake. but in that case, find_package(zlib) is also a module lookup functionality, so it too should be moved to a module in cmake/modules/. how many times do we recursively factor this out? what's the objective in doing so repeatedly? what's the objective in your proposal to do so even once? if the objective here is to make distros able to override the functionality, then since a findlibtorrentrasterbar.cmake is *always* used, they just provide one and have done with. you can factor this out *zero* times as in the current pr and it still works as expected. if you're introducing additional motivations that doesn't have, please say so as i'm a bit confused here.",-1,0.9061430096626282
426286364,12746,zeule,2020-05-17T17:40:53Z,this.,0,0.9696437120437622
426287306,12746,eli-schwartz,2020-05-17T17:52:23Z,"so just to be clear: is all actually completely wrong and you're retracting those statements? i.e. this is about the neatness of factoring internal logic into separate, composable files? meanwhile anyone who is interested in changing how qbittorrent is detecting libtorrent-rasterbar will not be modifying `./cmake/modules/*.cmake`, they will be modifying `/usr/share/cmake-3.17/modules/*.cmake`? or somewhere else on the cmake modules path which is external to qbittorrent?",0,0.9415470361709595
426287887,12746,zeule,2020-05-17T17:58:34Z,true. true. true. true. true.,1,0.7613903284072876
426326833,12746,FranciscoPombal,2020-05-18T00:58:41Z,because of: [code block] in `src/app` cml. it is super convenient for single- and multi-config generators alike. binaries produced by different configs end up in separate folders for each config. `qt.conf` is supposed to be in the same directory as the executable.,0,0.9134105443954468
426332927,12746,FranciscoPombal,2020-05-18T01:38:08Z,"-schwartz am i missing something? you don't need to duplicate changes. i see 2 cases: - the distro can provide a single `findlibtorrentrasterbar.cmake` for all possible client packages. it does not matter if it is patched or not or shoots fireworks. this code will find it and use it. - the distro has to provide a certain way of finding libtorrent for package a, and a different, possibly mutually exclusive way, for finding it for package b, independently of the default way. in that case, wouldn't they have to put each of the different `findlibtorrentrasterbar.cmake` into each package's cmake modules dir, so that it gets picked up in preference to the system's? this code will find it in the project's cmake modules and use it preferentially. in either case if finding fails at first, `pkgconfig` is tried next.",0,0.8219431042671204
426337954,12746,zeule,2020-05-18T02:08:01Z,"if you do not understand why encapsulation is important i see a little sense to interfere. to give you a hint, that bullshit which you wrote with faked packages will scary off sane persons and it does not even work properly.",-1,0.9610211849212646
426356491,12746,glassez,2020-05-18T03:50:47Z,"why do you separate it? `pkgconfig` is yet another ""find package"" way. ""finding fails"" means (should mean!) cmake cannot find package in all defined ways (including `pkgconfig` way if it is supposed to be used).",0,0.9887700080871582
426752944,12746,FranciscoPombal,2020-05-18T16:31:18Z,"first off, maybe other people you know write bullshit, i don't. i'm human though, so sometimes i make mistakes or do things in a sub-optimal way. when that happens, i expect people to provide constructive criticism, so that i may learn with the mistake and do better next time. so far i have solved every review you posted, and taken your suggestions into account. sometimes i was doing things the wrong way, you suggested a better one, i recognized it, and did it that way (the `alias` thing, for example). that's how it is supposed to work. so how about actually explaining calmly what is wrong with that part? in my testing it seemed to work well. my instinct does tell me it feels rather hacky, but it is the simplest way i found to get `libtorrent` to show up in the feature summary when found by pkgconfig. otherwise, the only indication that pkgconfig gives that it found `libtorrent` is a single output line in the beginning (near the ""found working compiler"" noise that ""disappears"" into scrollback). so please, explain where/when exactly it does not work and/or how it can be done better, instead of insulting, because i think nobody wants to go down that road. again, unnecessary insult. i do understand encapsulation and want to move towards it. if this is still about our previous discussion, i have already told you that truly encapsulating the logic in qbittorrent's cmake scripts will happen in a later pr. there are enough changes as it is for now, it will already be a pain in the ass to organize this neatly into separate commits just to have a clean and clear structure of commits. that being said, it's not like this pr doesn't move towards more encapsulated logic at all, anyway, it does. it's just that the big push for it has to come later, after a solid foundation is laid out. if you're convinced that i don't understand the principle of encapsulation, then i'm convinced you don't understand the principle of least surprise. originally, you defended the ""find package x -> enable feature y as a side-effect"" practice by claiming that's how kde (or some other high-profile project using qt + cmake) does it (for example, ẁith the `qt5widgets` package and a gui feature). it's good to take inspiration from ""authoritative"" sources, but one must always consider some ""done things"" may not be best practices even in these projects. all projects have technical debt, and sometimes they survive and thrive in spite of certain design decisions, not because of them. i believe this is the case for ""features by package found side-effect"". qbittorrent's cml is moving on from that paradigm, and i believe everyone is convinced it is technically the better option. even in libtorrent, recently, the topic resurfaced, and is to be handled at a later date. it is obvious you have great experience with cmake, but you are not impervious to making mistakes. in the example `findlibtorrentrasterbar.cmake` file you wrote (in the libtorrent repo), there is this: [code block] more surprises. the user doesn't even get warned that this happened. they would have to go look up this comment. imo the more sane option would be to fail and inform the user that they should manually pass something like `-dlibtorrentdefs=...` and just check for the existence of that variable. or just tell them to fix their pkgconfig config/cmake config files and try again. why do you separate it? `pkgconfig` is yet another ""find package"" way. ""finding fails"" means (should mean!) cmake cannot find package in all defined ways (including `pkgconfig` way if it is supposed to be used). the goal is to only use the cmake config files like `libtorrentrasterbar.config` first, and then pkgconfig if necessary. if the distro has a special need not covered by this they are free to write their own `findlibtorrentrasterbar.cmake`, put it in the cmake/modules folder, and that will be used instead. i don't think _we_ should concern ourselves with that. and besides, what exactly is the case where a distro packages libtorrent, but in such a way that it does not include the cmake config file _and_ doesn't work with pkgbuild, anyway?",-1,0.6804971098899841
426782808,12746,glassez,2020-05-18T17:24:22Z,"i'm sorry, i'm tired of standing in one place... i really don't understand why you don't want to encapsulate all this logic in single module as it's expected?",-1,0.9960863590240479
426799326,12746,FranciscoPombal,2020-05-18T17:54:58Z,"i would also rather not be stuck in this discussion, but here we are. i don't see what logic there is to encapsulate. the current code just trusts whatever `libtorrentrasberbar.config` or `findlibtorrentrasterbar.cmake` it finds in the system. those are the files that do the actual heavy lifting in the sense of encapsulating the logic of finding out definitions, compile options, etc, and other metadata of the library that's needed to successfully link to it. presumably, a distribution will include `libtorrentrasberbarconfig,cmake` in their libtorrent package, so that will be used. if they have special needs, they can provide a specific `findlibtorrentrasterbar.cmake` with the qbittorrent package, and that will be used instead. if none of the previous two cases applies, pkgconfig is used to discover the required metadata. the current code is not a find script nor pretends to be one; it just says ""try to use an actual find script/config, and if that does not work, try pkgbuild"". at most, this code could be factored out to a separate macro or function. calling it and treating it like find script logic is misleading imo. furthermore, here is what i think, related to my second bullet point here: [a link] which has not been addressed thus far: imagine if every client package of `libtorrent` provided their separate `findlibtorrentrasterbar.cmake`. over time, they would diverge, some would be somewhat unmaintained, and it would be hell for the distro maintainer to try to figure out how exactly to package libtorrent in such a way that no client package breaks. or they'd have to patch all the find scripts, carefully. on the other hand, if the onus of providing a good and flexible `libtorrentrasberbarconfig,cmake` or pkgconfig metadata falls on the library itself, the logic on the client packages can be much simpler (boils down to ""trust the cmake config files/pkgconfig metadata you find in the system""), and the maintenance burden is lightened. the maintainer just has to patch the client packages that don't work with what the library provides by default. fortunately, i find that as far as libtorrent is concerned, the generated cmake config files/pkgconfig metadata are quite good.",0,0.5685288310050964
426804066,12746,eli-schwartz,2020-05-18T18:03:43Z,", pkg_check_modules() is an **alternative** to find_package(), they're two completely different ways to define a cmake ""imported target"". either one under the hood simply calls add_library(... imported) and sets interface properties on it. while it could, i suppose, be `include()`d from cmake/modules/, it doesn't seem unambiguously obvious to do so, and this entire discussion is explicitly about distributing it as a ""find"" package anyway.",0,0.9752045273780823
426805881,12746,zeule,2020-05-18T18:07:25Z,", everyone, i believe, has a right to produce bullshit and name their own or somebody else one to their liking. it fails if pkgconfig finds no libtorrent package, it fails if libtorrent version is too new and unsupported. what's wrong with it is that it creates problems because you don't want to follow the standard way for locating packages. i maybe don't have enough experience with large software built with cmake, but what i learned from more than 10 years of running gentoo on my laptops is that a foss project build system is not the place to exercise abilities to create and invent. builds happen in unpredictable environments and fail more often that developers think. those who install software have no time or crave to study another non-standard build script to compile that piece of software when something does not work. because this is not the type of think explained in a wiki or readme (unlike build options). if projects follow similar patterns life of those who install software can be much easier. find modules for cmake is one of the strongest patterns of that kind. find module + `find_package_handle_standard_args()` is the simplest way. then do it, please. ... ruining encapsulation :) totally controlled by ones preexisting experience. i built kde for god knows how many times, that had its impact, perhaps. well, i use windows only to launch steam. have no idea what are the best practices there.",-1,0.8455871939659119
426808317,12746,eli-schwartz,2020-05-18T18:12:20Z,"you're doing a truly terrible job of communicating your intentions. i told you i was interpreting your statements as mutually contradictory, asked you to clarify your meaning as to what ""the point"" is, and you simply replied with some ""true. true. true."" gimmick which i can only assume is supposed to be terribly witty. and apparently you also cannot stand to explain yourself to either, so once again instead of taking the opportunity of having a discussion to, well, ""discuss"" things, you just smear insults across the screen. i'm left wondering why you bother to be here. ... i still do not understand your first argument in favor of splitting out the ""try to find an external provider of libtorrent-rasterbar"" logic, because you say it is in aid of linux distributions (or other consumers, one must suppose) replacing the logic with their own logic. this is, to my understanding, nonsense, because anything used to replace said logic would trigger the find_package() invocation. on the other hand, it is nonsense anyway, because i am a linux distribution (i package qbittorrent, among other things, for ) and i assure you if we're modifying detection logic for any sort of dependency we are going to do it in the exported interface of the dependency itself. with a strong preference for pkg-config, but if we absolutely must use `*.cmake` files, we're going to ship it with the dependency itself, not with qbittorrent's sources. we also have a strong expectation that if a package provides both `*.cmake` files and pkg-config files, either one must be sufficient to link to it. so please don't tell me that your advice to refactor these lines into their own file is motivated by your desire to do me a personal favor. it's completely pointless because we don't care one way or the other, and never will. please don't even tell me that's *one* of your motivations.",-1,0.9945806860923767
426901309,12746,FranciscoPombal,2020-05-18T21:24:46Z,"you have the right to say whatever you want. but what you said was uncalled for in the context/moment that you said it. thus far we had a nice back-and-forth going, where i have been listening to every single criticism. then you took a piece of code that you had never indicated you had a problem with previously, and called it ""bullshit you wrote"", without even asking what the motivation for it could have been or suggesting changes beforehand. it came across as a hostile action, which will can only be met with hostility. ok. how many times do i have to tell you that will be done **after this pr**? do you think it will be harder to move towards more encapsulated logic _after_ these changes? how can that be? previously there was even global `cxx_flags` manipulation going on, how were the previous scripts easier to work with for this future purpose? same here. there is only one machine where i have windows installed on bare metal, and even then it's a dual-boot configuration with ubuntu. i use that windows install just for certain games that don't run well (or at all) with proton/dxvk. but recently i also setup a windows vm in ubuntu, as a clean environment for building and testing qbittorrent on windows. this is because i recognize that the majority of qbittorrent's user base is on windows, and so whether we like it or not, improving the building process, release automation, etc for that os is essential for the project. so, in addition to testing these changes on linux, i'm doing my best to test them thoroughly on windows. but this is, in principle, not a potential problem exclusive to windows anyway. pulling definitions out of thin air and not telling the user if that happens, as if they had been found normally, is for sure a bad practice no matter the system. especially when the library in question is so picky about them, as is the case with `libtorrent`. that's exactly what is supposed to happen if no suitable pkgconfig file is found, but the ""fake package"" code is not even reached in that case anyhow, the build fails right at `pkg_check_modules`: [code block] good, qbittorrent does not support libtorrent >1.2.x at the moment (in fact, in practice it _only_ supports 1.2.x at the moment). in the future this can be changed of course, as the supported versions change. i'm relying on finding a suitable `libtorrentrasterbarconfig.cmake`, which is as standard as it gets, no? the pkgconfig fallback is a convenience for linux distros that don't build libtorent with cmake (which means no `libtorrentrasterbarconfig.cmake` is produced), because they will almost for sure have pkgconfig at least. and even still, the user may place a custom `findlibtorrentrasterbar.cmake` in the project's module directory and that will be used instead. in fact,the pkgconfig fallback was added at the request of -schwartz ([a link] it seemed reasonable enough, and to be honest, i think if an actual package maintainer from a ""big""/""mainstream"" distribution (who actually packages qbittorrent, no less) agrees that this is the right way to do it (and further justifies why this is, [a link] because one should not blindly follow/trust an ""authoritative"" source), you'll need to provide really convincing counter-arguments to go against that, or find another package maintainer who can do so.",-1,0.9523884654045105
426909671,12746,zeule,2020-05-18T21:44:13Z,"sorry for that. i see no contradiction and i thought from my reply it was clear. for a discussion to take place the subject has to be of interest for both sides the internet is full of vagabonds, why can't i be one of them? let me recollect what we were talking about. there are two points that are related to the topic: 1) append local module path to the directory list and 2) put the whole chunk of the ""find installed libtorrent and create imported target"" into a special file, called ""findlibtorrentrasterbar.cmake"". the first one is reasoned by the replacement logic, because otherwise local files will be used, and i can still find a dozen of packages in the gentoo tree that require actual removing of their in-tree find modules in order to compile. the second point is rational due to the general principles of managing things in software, because of the way the find_package is implemented in cmake, and because that way is the simplest for distribution. a find module in cmake, despite the fact that it is usually implemented as a plain code file, is, in fact, a function with the convention about its interface. its input parameters are well defined, and its output for cmake is also standard (albeit extensible). the body of this function, except trivial cases, is rather complex because it has to handle a lot of nuances. most of these nuances arise from various distribution methods, naturally, and are a dead-weight in any given case. therefore this code has to be encapsulated under the well defined interface of `find_package()`. why is this helpful for distributions too? because the place where you need to look for dependencies looks clean and simple. yes, i understand that and just a few days ago submitted a pr to libtorrent to make it install its find module. as you wish, but i use the linux ecosytem too, and care for it. yeah, it shows. the abs is the least functional package build system i ever used. but again, after portage and exheres nothing impresses.",-1,0.9791628122329712
426923593,12746,zeule,2020-05-18T22:20:21Z,"if you take that personal, i beg your pardon. this is not true, you were told by me and to wrap that part into a file (where you, so to say, took it from). i see no problem in that. you are not going to kill somebody because of that, right? pr are supposed to bring improvements, right? but here it is a step back in this regard for no reason. i do not defend that code. i just see no reason to destroy other things when you don't have to. this is great, of course. i'm absolutely ignorant with regard to development trends in the windows word and no vm can help me... exactly because of that there was this line in the find module: [code block] exactly. what to do in that case? windows users have no pkg-config and might have no libtorrentraterbarconfig.cmake. macos too. yes, but it's implementation is what is non-standard in case of libtorrent. i don't think it's a way to go. why do i need to write such a file from scratch when there are only three bits are required: library location, includes location, the set of configuration defines? you can easily provide a template for this case. it was there, you deleted it first to add later. may i skip this, please? thankfully, libtorrent will install a proper find module with pkg-config check.",-1,0.9548205137252808
426954644,12746,FranciscoPombal,2020-05-18T23:57:40Z,"so funny xd. sad to see a classic ""i'm sorry, but..."". we both know when you told me to ""wrap it in a find module"", `it` referred to the whole chunk of code. the ""fake package"" part is just a cosmetic part of it (ultimately not really needed), that makes the information that pkgconfig actually found the package more visible to the user. otherwise, the pkgconfig output disappears in the scrollback. you then claimed it did not work in 2 cases, and i have proved that those are not a concern (and not a consequence of the ""fake package"" code itself anyway). there are no steps backward in terms of encapsulation in this pr. if anything, there are steps forward (for example, previously, the function for ""adding features"" also added compile definitions at the source directory level as a result, which is a clear violation of encapsulation in my book; this is no longer the case). but it wouldn't even matter if there were no ""steps forward"". this pr could very well be just a side-grade in terms of encapsulation. the whole point of it is to simplify the whole foundation so that further encapsulation work is made easier for later. in case you ever need this, here goes some advice from what i have learned so far: microsoft provides ready-to-go vms for development/""evaluation"" free of charge with all the relevant development software pre-installed (vs, wsl, ...). you may need to use the vs gui to install some toolchain packages/customize the toolchain packages, but after that, you don't need to use vs or any gui at all if you don't need it for developing/building. granted, using the vs dev console (which is just a shortcut that opens a cmd window with all of the relevant paths pre-set) is not the best experience, but it does the job. hopefully in the future they will flesh out powershell core (there is already some support for plain powershell as the dev console) + windows terminal support. for (much) better build performance, i recommend fully disabling the anti-virus (there are tutorials online for this; requires fiddling with the group policy editor, turning it off in the anti-virus gui is of course not enough and it just turns itself back on next boot anyway because it knows better than you) and the search indexer (searching in the explorer gui sucks anyway, and you can use classic linux tools via wsl or even powershell for all your searching needs). better than nothing for sure, but in my option, i would go more in the direction of: [code block] or even fail the build and force the user to pass an option allowing it to continue (as well as overrides to the default set, optionally). windows users have no incentive not to build with cmake if there is a choice, especially with stuff like `vcpkg` nowadays. windows users have to compile everything from source anyway, what is the difference if they see the cmake way in the wiki page vs. the b2 way? they are just going to follow the steps. both windows and macos decided to be special snowflakes in a lot of ways when it comes to building software especially, it is perfectly reasonable to just force users of those systems to ""just do it this way, it's what works"". can you please elaborate on this? i have found it to work quite well, providing the expected information. you don't need to write a basic template yourself. you just landed a pr in libtorrent that makes it so whichever way libtorrent is installed, the example find module is installed as well: so that will be used if nothing else works (i don't think you even need to copy it over manually to qbittorrent's module directory). true, but more importantly, i only added the pkgconfig back later, not everything else in the find script as well.",1,0.7452270984649658
428023191,12746,zeule,2020-05-20T13:45:36Z,"well, if you want to play that game... [a link] [a link] [a link] [a link] the fake package"" part is the result of your decision to put the find- logic into the main script. you just rejected those cases without any rationale. thank you. perfect. let me summarize: there was a working build script that was able to handle various environments and build the project on all the three major oses. you propose to replace that with a new one that is unable to handle macos (can't create bundles), limits windows users to a single installation method, complicates structure of the main build scrip. does it gove something in return? i can't see anything. am i missing something? and that's the problem.",1,0.8855847120285034
428055909,12746,glassez,2020-05-20T14:25:19Z,"although i am not an advanced cmake user, it seems obvious and logical to me that `pkg_check_modules()` is one of the ways of finding a certain package and getting information about it, whereas `find_package()` is a generalized interface between the main build script and the implementation of searching for a specific package (which can have arbitrarily complex logic and use different methods, including pkgconfig). but if cmake really involves using several (so-called) alternative methods (each of which is not able to do all the work on its own) then i'm even more disappointed in cmake.",-1,0.9754794239997864
428082853,12746,FranciscoPombal,2020-05-20T14:59:30Z,"do you just want me to remove the ""fake pakage logic"" completely? [a link] - structure of the main buildscript is much simpler now overall. in fact, in what concerns ""finding libtorrent"", it would just be a one-liner if it did not have the pkgconfig fallback. - windows users were already limited to a single (worse) installation method in practice. see the current ""windows compilation"" tutorial in the wiki. plus it's not my fault that windows does not use `pkgbuild`, otherwise it would not be limited to a single installation method with the new script. - it works just fine in macos: see this comment, and previous related ones: [a link] i did this because i found the previous find script problematic, for the reasons repeated above multiple times. including a fin script with qbittorrent is just more maintenance burden. we will have to keep it updated with the upstream ourselves. seems worse than just automatically trusting the `libtorrentrasterbarconfig.cmake` or pkgcofig files from upstream. --- do you think we should include our own `findopenssl.cmake` as well? because that makes as much sense as what you're asking for. the current code already accommodates all of the common cases: 1. cmake will first try to find `libtorrent` in `config` mode, because of `set(cmake_find_package_prefer_config on)` in the top level cml. this means it will try to use auto-generated `libtorrentrasterbarconfig.cmake` first if possible, which is what we want. 2. if that fails, it re-tries in `module` mode, which means it will use whatever `findlibtorrentrasterbar.cmake` scripts it can find (if available). this could be an entirely custom one, or a default one provided by `libtorrent` itself, _that we don't have to worry about maintaining_. 3. if that fails, it tries the `pkgconfig` method if available, because it is so commonly available in linux distros. now you might ask, ""since the default `findlibtorrentrasterbar.cmake` already happens to search with `pkgconfig`, isn't the 3rd step redundant?"". the answer is yes, it is redundant, but only if you happen to use the default `findlibtorrentrasterbar.cmake`, or a custom one that does the the `pkgconfig` search. such a script might not be available, however, or the user may not want to write it, so the `pkgconfig` method serves as a convenience fallback on linux. we're doing exactly the same procedure with openssl, except that since `findopenssl.cmake` is guaranteed to exist and suit our needs, we just need to `find_package(openssl)`, which really means we only follow the first 2 steps listed above.",0,0.8844209313392639
428086629,12746,zeule,2020-05-20T15:04:12Z,"becasue findopenssl.cmake is guaranteed to exist, while findlibtorrentrasterbar.cmake will appear with libtorrent 1.2.7 (?). when the minimal required libtorrent version for qbittorrent increases to 1.2.7 or newer, you can drop the local copy of findlibtorrentrasterbar.cmake. so simple.",0,0.9751036763191223
428093865,12746,FranciscoPombal,2020-05-20T15:13:48Z,"i also think it makes sense to abstract `pkg_check_modules()` away in a find script, so that it all happens behind the scenes with a single call to `find_package()`, but one must be aware of the trade-offs/consequences: - it is either guaranteed that the `findpakcagexyz.cmake` script will always be available or - you, as the client package, take up the burden and technical debt of bringing along and keeping up-to-date a (possibly customized) copy of some reference `findpakcagexyz.cmake`. or if there is no reference, roll your own. for libtorrent, we have the following case: - it is not guaranteed that `findlibtorrentrasterbar.cmake` exists everywhere. - i don't think we should carry our own copy of `findlibtorrentrasterbar.cmake` and worry about it. that's why i think it's reasonable to follow the 3 steps listed in [a link]",0,0.9825929403305054
428100052,12746,FranciscoPombal,2020-05-20T15:22:11Z,"yes, that's what i said. this code works great with or without libtorrent >=1.2.7. i don't want to wait until the minimum required version is 1.2.7.",0,0.8727198243141174
431213529,12746,FranciscoPombal,2020-05-27T15:05:50Z,"so, , what is your verdict? i want to merge this and move on.",0,0.9382032752037048
431223365,12746,glassez,2020-05-27T15:19:03Z,"i didn't review it completely... will do it later. but this place seems bad to me. maybe, of course, this is how it should be in cmake... (i'm not an advanced cmake user).",-1,0.9913032054901123
431722129,12746,glassez,2020-05-28T10:01:49Z,"you will have to change this logic when we start switching to c++17, because we can't require full support here (due to msvc limitations).",0,0.9909384250640869
431870543,12746,glassez,2020-05-28T14:18:40Z,isn't it needed anymore?,0,0.9896644949913025
431881632,12746,glassez,2020-05-28T14:31:50Z,"should you move ""find package"" for all common packages into qbt_base?",0,0.9948238134384155
433543462,12746,FranciscoPombal,2020-06-01T23:36:56Z,"looks like the situation is worse than expected; with c++17, this won't even work with gcc or clang either: [a link] honestly at this point it would just be better to hard-code minimum supported versions (e.g. for c++14 that is gcc >= 5.0, clang >= 5.0, msvc >= 19.11.25505). i would prefer if we could postpone this discussion until we're actually migrating to c++17, but let me know if you would prefer this change right here.",-1,0.7967642545700073
433546411,12746,FranciscoPombal,2020-06-01T23:47:51Z,"nope. this file was a hack used to map the cmake defines to qbittorrent defines. as an example, it had stuff like: [code block] so if `qbt_use_gui` was not set to `on` in cmake, `disable_gui` and `disable_countries_resolution` would be defined for the purposes of c++ files preprocessing/compilation. now we just do: [code block]",0,0.9716740846633911
433547261,12746,FranciscoPombal,2020-06-01T23:50:48Z,fixed.,0,0.9905837774276733
433549825,12746,FranciscoPombal,2020-06-02T00:00:08Z,"do you mean into the cml file at `src/base`, or just the top-level cml file? i did it this way initially because: - both `src/base` and `src/app` need some of these packages - seemed awkward to have `find_package()` calls in the top-level cml, since everywhere else the calls are only made as-needed, which i think is a good thing. for example, having the `find_package()` calls to the gui stuff in the `src/gui` cml simplifies the logic in the parent cmls (no need for `if(gui) find_package() ...`).",0,0.9694989323616028
439839146,12746,jagannatharjun,2020-06-14T15:08:51Z,can you add `/wd4127` here it produces too much useless noise in the builds [code block],0,0.8005993366241455
439844062,12746,Chocobo1,2020-06-14T16:03:43Z,"i think it is sensible to have both build systems using the same flags, i.e. you might want to submit a pr changing the qmake part first so that this pr can follow.",0,0.9866928458213806
439844456,12746,jagannatharjun,2020-06-14T16:07:44Z,"qmake uses /w3, which has c4127 already disabled so maybe make it /w3 then.",0,0.9878364205360413
439844560,12746,Chocobo1,2020-06-14T16:09:11Z,i think it is caused by `/w4` which isn't present in qmake build. i would suggest to remove it and rely on the default.,0,0.9881585240364075
439924716,12746,Chocobo1,2020-06-15T04:28:19Z,agreed. msvc ide defaults to `/w3` too. [a link],0,0.9746692776679993
439951415,12746,glassez,2020-06-15T06:19:20Z,"well, i finally found the time to test it... and i failed it! more precisely, my test failed from the first steps. i found another drawback of these changes that is ""blocking issue"" for me. your patch broke my development scenario. i need to do parallel development of qbittorrent and libtorrent (i'm making changes to both projects), so i don't have an ""installed"" libtorrent, but only a configured project in the ide (qtcreator) so my main project depends on it and build it first. it's very easy to configure there (especially in the case of qmake, nothing else is required). the initial problem with cmake was that it didn't allow you to configure projects because it couldn't find libtorrent. for the current cmake script, it was easy to get around this inconvenience, i only had to set a couple of cmake variables in the project settings (libtorrentrasterbar_include_dir and libtorrentrasterbar_library), so it didn't search for the package, but just used these values. with this changes i can't use this solution. i get the following message: i'm sorry, i can't approve of it until it is fixed or another solution is presented.",-1,0.8568048477172852
439986841,12746,glassez,2020-06-15T07:43:52Z,"well, seems it is possible to make libtorrent a part of qbittorrent project itself just by include it. am i right? then we just need to introduce some variable, e.g. libtorrentrasterbar_project_dir, and handle it (when it's set skip package searching and include libtorrent project). can you investigate into it? or do you think about another solution? (i can test it when i have time.) unfortunately the above won't work...",0,0.9094916582107544
440038720,12746,jagannatharjun,2020-06-15T09:14:47Z,have you considered [a link],0,0.9950343370437622
440093013,12746,glassez,2020-06-15T10:54:14Z,"no. i don't know much about cmake. and i don't have enough time to study it in detail. i can try it, of course, but i'm not sure it will work easily. judging by the amount of documentation, it is not so easy to configure... in addition, this is the job of someone who broke the handling of the use case i described above (""satellite projects"" development).",-1,0.9132900238037109
440094145,12746,zeule,2020-06-15T10:56:24Z,"assuming libtorrent is built with cmake too, one can supply `libtorrentrasterbar_dir` variable when configuring qbt. the variable has to point to the directory containing the libtorrentrasterbarconfig.cmake file (` /libtorrentrasterbar`). this works with any cmake `find_package()` call ([a link]",0,0.9940252900123596
440126875,12746,glassez,2020-06-15T12:03:43Z,"it won't work in described use case. what i need is the ability to tell cmake that some dependent package is not installed at the time of project configuration, but should be compiled from sources before building the project (or at least trick cmake into believing that the package was found, as i did earlier, and allow qtcreator to handle dependency between projects).",0,0.9910304546356201
440137984,12746,zeule,2020-06-15T12:24:59Z,"i can re-assure you it works exactly as you want, but you need to run configure for libtorrent manually for the first time.",0,0.9927473664283752
440149244,12746,glassez,2020-06-15T12:45:58Z,"i know it already but it's exactly what i don't want! i just want to perform ""build"" on qbittorrent project and allow my ide to resolve its dependencies. this is something that works perfectly with the native qt build system (qmake). and it should continue to work with cmake on the same principle (configured and forgot).",-1,0.48070764541625977
440151777,12746,zeule,2020-06-15T12:50:11Z,"libtorrent does not provide qmake build script. if the build works for in the way you describe, you must have wrote a qmake rule to build libtorrent. if so, why don't you do the same for cmake, the mainstream c++ build system?",0,0.9922332763671875
440390709,12746,FranciscoPombal,2020-06-15T19:14:59Z,"hmm, i have set it to `/w3` for now, but looking through [a link] and [a link] there seem to be some level 4 warnings that would be nice to have when building on windows, such as [a link] i think that ideally, we'd use `/w4 /wall`, and then blacklist those that produce too much noise. however, _where_ the noise is coming from is also important. for example, i'd actually like to have warning `c4127`, but only for our code - is there a way to tell that to the compiler? e.g. ""if this warning comes from qt code, ignore it""?",0,0.934360921382904
440598537,12746,glassez,2020-06-16T05:43:08Z,"i don't think you understand what i'm talking about... here is a description of my workflow (two ways, common things are omitted): 1. create ""solution"" in qtcreator and add two ""project"": cmake-based ""libtorrent"" and ""qbittorrent"" (either qmake or cmake based). 2. configure ""qbittorrent"" to use ""libtorrent"" include dir and built library (using appropriate variables in qmake based project or libtorrentrasterbar_include_dir/libtorrentrasterbar_library in cmake based project - before this pr it also prevents cmake to search for libtorrent package). 3. set ""libtorrent"" project as dependency for ""qbittorrent"" project (in qtcreator project settings). so from now on qtcreator handle this dependency. a piece of cake! and i want it to stay that way.",-1,0.5720570683479309
440780062,12746,zeule,2020-06-16T11:29:49Z,"i can't see how that differs from the workflow with packagename_dir that i proposed to you above. as an illustration here was my setup with kdevelop: 1. add libtorrent cmake project to a new session or a session with qbt project. 2. configure the libtorrent project to make it generate export targets and package config files in the libtorrentrasterbar subdir of its build dir. 3. if the qbt project was already configured and picked the system libtorrent up, either remove libtorrent variables from the project cmake cache or delete the cache or build dir altogether. 4. (re-)configure the qbt project passing `-dlibtorrentrasterbar_dir= ` 5. ensure libtorrent is placed earlier than qbt in the session build target list. looks pretty match the same for me. or you can go the formal way and create a superbuild project using the externalproject commands, as it was already suggested in the thread.",0,0.9903811812400818
441875422,12746,FranciscoPombal,2020-06-17T22:50:01Z,"sorry for not responding earlier, but this thread has gotten quite long and this particular comment chain is starting to get buried, so i only saw this now. as mentioned, if you've built libtorrent with cmake, it is quite easy to use it when building qbittorrent with cmake, whether you ""install"" it or not. according to what i understood of your workflow, you want to build libtorrent and use the files directly from the build dir without ""installing it"". to accomplish this, you can simply point `libtorrentrasterbar_dir` to the libtorrent build dir. for example, if you've built libtorrent like so: [code block] all the build files will go to `libtorrent/cmake-build-dir`, and will be usable in this state (including the cmake config/target scripts), even before you issue the install command. in particular, `libtorrentrasterbarconfig.cmake` will be inside `libtorrent/cmake-build-dir/libtorrentrasterbar` so, when building qbittorrent, you just need to add: `-dlibtorrentrasterbar_dir=""/absolute/path/to/libtorrent/cmake-build-dir/libtorrentrasterbar""` to its cmake configure command line. i imagine setting it up like this in qtcreator should be no problem.",-1,0.9710871577262878
442004443,12746,glassez,2020-06-18T06:50:39Z,"it's not a problem. the problem is that i require some additional manual actions since this pr... although it's not so big deal. seems qt creator has its own drawbacks (about integration with cmake), so maybe i need to send a couple of bug reports there first. well, even if you don't look at it qt creator integration, there is a more general/serious problem here, which is the inability to use it on windows if libtorrent isn't built with cmake (please correct me if i'm wrong).",0,0.6339277029037476
442135507,12746,FranciscoPombal,2020-06-18T10:43:30Z,"yes, conceptually it's not even a big deal; it's just ""when building cmake project x (qbittorrent) with some specified options, build cmake project y (libtorrent) first with some specified options"". since qt itself is moving to cmake very soon, i would expect a basic flow like this to be easily configurable, if not today, then in the near future. i'm not sure how libtorrent built with `b2` was propagating usage requirements to qbittorrent's qmake build previously. but now, i think the best solution for this is to have libtorrent generate/bundle cmake config files even when built with `b2`, so that it can easily be used in any cmake project. libtorrent is very sensitive to the flags used in its compilation and dependent projects, so automatic usage requirement resolution and propagation is a must. i honestly don't expect anyone building qbittorrent (or any c++ project based on libtorrent) to want to add libtorrent's libdir, include dir, compile flags, defines, etc manually. an existing example of this, actually relevant to us: right now, qt is built with qmake, but it still generates/bundles proper cmake config files. that's why you can build qt yourself (like in the wiki, with qmake) and have it still ""just work"" in cmake projects: [code block] note the `-dqt5_dir=g:\qbittorrent\install_msvc64\qt5\lib\cmake\qt5`. but yes, at present, you're right. until libtorrent's `b2` build generates cmake config files, it is not feasible to build qbittorrent on windows with cmake if libtorrent wasn't also built with cmake.",0,0.91761714220047
442146582,12746,zeule,2020-06-18T11:05:53Z,because you broke that in this very pr. lol,1,0.9844678044319153
442152987,12746,glassez,2020-06-18T11:19:14Z,"... libtorrent is very sensitive to the flags used in its compilation and dependent projects, so automatic usage requirement resolution and propagation is a must. i honestly don't expect anyone building qbittorrent (or any c++ project based on libtorrent) to want to add libtorrent's libdir, include dir, compile flags, defines, etc manually. you seem to be exaggerating... there is no such big problem here (at least for developers). i've always done it manually. what's the problem with using the same settings to build these two projects? actually, cmake gave me more trouble when i had to make it work correctly (e.g. when it failed to find boost in the folder where it was without any helpful error messages). in any case, i see no serious reason to break supporting libtorrent that is built with something other than cmake (at least as part of current changes).",-1,0.5406965613365173
442165238,12746,FranciscoPombal,2020-06-18T11:44:57Z,"let's see what i ""broke"" (quote from the findlibtorrentrasterbar.cmake file deleted by this pr): which is of course an excellent idea - set some important parameters to some values and hope for the best silently, without even informing/warning the user. moving to an objectively better solution is not ""breaking"", it's ""improving"". it just so happens that an improvement is also necessary in libtorrent's side (`b2` builds need to generate cmake config files). i'd like to hear how asking for a library to generate config files for the standard c++ build system when using another build system is not preferable to the previous solution. perhaps we should also open a bug report on qt's bug tracker saying ""hey guys, you know that thing you were doing with the qmake build generating proper, usable cmake config files? scratch that, just publish a findqt5.cmake file, tell everyone that they are expected to copy paste it in their projects (and to keep an eye out for changes :)). oh, and make sure to silently set important variables to arbitrary values to what you think are sane when whatever automatic detection methods you have in place fail, without warning the user."".",1,0.8327434659004211
442172825,12746,zeule,2020-06-18T11:59:48Z,"there are two calls in the findlibtorrentrasterbar.cmake file that make it possible to use it if you are on windows and libtorrent is built with boost build (or in any other situation when the cmake way could not work): `find_path()` and `find_library()` with hints. if you do not understand the purpose of the code are you throwing out, maybe it's time to pause for a while and think a little bit? as to your comment about random libtorrent flags, i can only say it is unrelated to the topic. the closest related think is the`libtorrentrasterbar_custom_definitions` variable in the same file.",0,0.9669314622879028
442207877,12746,glassez,2020-06-18T13:01:35Z,at least current (master) approach allows you to use any libtorrent distribution and i don't think this is a flaw that needs to be fixed. please extract this change into separate pr if you want to continue this discussion.,0,0.9859389066696167
442215549,12746,FranciscoPombal,2020-06-18T13:13:54Z,"i never claimed there was no way of finding libtorrent before, i claimed that my changes move towards a better way of doing it, that will also require changes on the libtorrent side. if these changes land before the required ones in libtorrent, then yes, there will be a period of time where building libtorrent without cmake on windows won't work for building qbittorrent. but who cares? window users can just build it with cmake in the meantime! cmake comes bundled with vs so most people interested in building on windows already have it, and even if it didn't, windows users are no strangers to the simple task of downloading an exe from the official website (and optionally adding it to path). not to mention that in the future, they'll have to have cmake anyway already to build qbittorrent. using cmake to build both projects is the most practical way already. you have already submitted a pr in libtorrent that touched some `b2` files, so you probably have some experience with that. additionally, you also recognize the importance of cmake in the c++ ecosystem. so, instead of arguing with me here, why not spend that time implementing the better solution over there (making libtorrent `b2` builds generating cmake config files)? personally, i have no interest in doing that myself, i'm happy to just tell windows users ""just build it with cmake"", and i doubt the vast majority would take issue with that or let it bother them. it is relevant. in the old code: - on windows, `pc_libtorrent_rasterbar_found` will be false (because no `pkgconfig`), leading to the `if(libtorrentrasterbar_custom_definitions) ... else()` conditional. - if the user manually specifies `libtorrentrasterbar_custom_definitions`, that will be used. but this is not only tedious and error-prone, it is unlikely that the user will even know about `libtorrentrasterbar_custom_definitions` in the first place, since it's ""documentation"" is a comment in the script. - if the `else()` branch is taken, we fall into the part i mentioned above: `# without pkg-config, we can't possibly figure out the correct build flags. (...)`, where flags that may not work are set without warning. - after that, nothing noteworthy happens to `libtorrentrasterbar_definitions`. it is used to determine if openssl is needed or not. additionally, a few more things may get appended if `libtorrentrasterbar_use_static_libs` (another important variable documented by comment) is not set. - it is then added to the target properties. may not work, hope for the best.",0,0.741850733757019
442228697,12746,FranciscoPombal,2020-06-18T13:33:12Z,"exaggerating about what? `libtorrent is very sensitive to the flags (...)` is no exaggeration. you think having to set libtorrent's libdir, include dir, compile flags, defines, etc manually is a good way of doing things? same with the official qmake build procedure in the wiki ([a link] having to manually edit the build script just to build is insane. maybe it does not bother you because you've been doing it for a long time, but don't let that cloud your judgement. it's difficult to be simpler than this (unless using something like `vcpkg` providing a toolchain file): [code block] it works for everyone with the same files (no need to edit them), each person just has to change paths like `-dboost_root=...` to what they're using at the command line. scriptable, automation-friendly and doesn't require a gui. if you're missing any important `-d.*_{root,dir}` option, you'll get a helpful message like this for each of them (example for boost): [code block] no idea why it failed without a helpful message in your case. perhaps something wrong with your boost installation? it's not a serious problem to break it temporarily (and only on windows), until libtorrent's `b2` build is capable of generating the required files. the workaround/alternative, which is ""just build it with cmake"" is more than sufficient and acceptable imo.",-1,0.9813858866691589
444373419,12746,glassez,2020-06-23T17:00:47Z,"are you still going to slow down the entire pr because of this unresolved issue, or are you going to separate it? there is nothing too problematic for me personally, just some inconveniences... but can this create problems for users of some more ""exotic"" systems? i mean, how likely is it that some distribution has installed libraries without both cmake and pkgconfig configuration files? do we need to hear more opinions about this particular change? p.s. i am ready to approve it as soon as my last questions are satisfied (as well as when the pending changes are completed and the commits are squashed). ?",0,0.7377340197563171
445095326,12746,FranciscoPombal,2020-06-24T18:39:27Z,"as far as i know, both of libtorrent's buildsystems produce at least the pkgconfig configuration files. you could argue ""what happens in distros that don't have pkgconfig?"" - but is this really an issue? i'd say it's very unlikely that there exists a relevant modern distro that doesn't have pkgconfig (although if anyone has hard evidence to the contrary, please enlighten me). anyway, what i'm advocating for (making libtorrent's b2 build method also produce cmake configuration files) makes the ""not having pkgconfig"" problem a non-issue. of course, this whole discussion has an even simpler solution: just don't have 2 different buildsystems. that way we wouldn't even have to worry about having the libtorrent b2 build producing cmake config files. why does libtorrent have to have 2 buildsystems? i suppose it still has both because it started out with b2 and never really dropped it completely, even up to now. if it could only be built with cmake, we would not be having this discussion, everyone would build it happily just fine and no one would complain. but since it happens to be able to be built a different way (which currently does not generate the required config files for the other buildsystem), everyone is sort of forced to support both, because any distro may to decide to use either one.(1) supporting 2 different buildsystems is just a waste of time. it's ok to have 2 during some kind of ""transition phase"" when moving from one to the other, but to keep supporting both indefinitely? just wasteful.(2) ultimately, a decision has to be made in favor of one for the project, and then everyone should ""get with the program"". (1) we can always just ignore this, pretend libtorrent built with b2 doesn't exist, and say ""your libtorrent distro package was built with b2 and it did not produce cmake config files? how terrible. grab the libtorrent source and compile from source yourself"". (2) there is an an exception to this: when one of the platforms the application must support absolutely requires using a different specific buildsystem than the rest. i don't think that's the case for libtorrent, qbittorrent, or similar projects. modern cmake alone is more than adequate for these projects. besides this one, can you please remind me of the other unresolved concerns you have? we don't have to slow down for this. we could just do it this way. if there are too many complaints, we can backtrack and re-add the package find file. but i doubt there will be many, if any complaints. the only complaint so far about this solution being worse is hypothetical (i'm not referring to this one [a link] of yours, which i don't think is complaint about this idea in general, you just had separate issue with boost). everyone else is either indifferent to this find package change (which is a good thing, it means it ""just works""), or actively supporting it (an actual arch linux package maintainer, no less). i would consider making package maintainers' lives easier a nice bonus.",0,0.9815389513969421
445118655,12746,glassez,2020-06-24T19:22:51Z,"no, i meant the questions from my previous comment only.",0,0.9867239594459534
445127494,12746,FranciscoPombal,2020-06-24T19:40:01Z,"this one? [a link] please extract this change into separate pr if you want to continue this discussion. you can still use any libtorrent distribution, as long as you have pkgconfig or cmake.",0,0.9949278831481934
449520397,12746,glassez,2020-07-03T10:53:05Z,there is error on windows using mingw: [code block] please fix it!,0,0.9722777009010315
449530032,12746,glassez,2020-07-03T11:18:03Z,"finally, i have completed my research on this issue. fortunately, your ""totalitarian"" tendencies will not be satisfied, and it still allows you to use any libtorrent source via `findlibtorrentrasterbar.cmake` script installed in the system (or provided to cmake in any possible way). it looks for cmake configuration files first, and if it fails at this, it still tries to find `findlibtorrentrasterbar.cmake` file and use it. imo, it works now even better than it did before, so i am satisfied and this issue is closed for me.",1,0.9760369062423706
449537172,12746,glassez,2020-07-03T11:36:21Z,"yes. shouldn't `qbt_base` care about required packages? then it can provide all common libraries/definitions as part of its interface (iirc, it already does this job except finding packages). but `qbt_app` depends on `qbt_base` so it shouldn't be a problem to obtain all needed stuff via `qbt_base` interface. (i think you understand what ""interface"" means in context of cmake imported targets)",0,0.9850902557373047
449569447,12746,glassez,2020-07-03T12:55:37Z,"on the other hand, we can have all these ""find_package"" calls in one place (and gui-related too, to be consistent). in addition, splitting the project into multiple targets (static libraries) still doesn't look certain to me. but you still have `if(gui)` to include gui stuff, isn't it? so it can just be written as: [code block]",0,0.9857496023178101
449575510,12746,glassez,2020-07-03T13:09:33Z,such strings (not cmake code but output strings) break my eyes. i would reformat it: [code block],-1,0.9534886479377747
449575983,12746,glassez,2020-07-03T13:10:43Z,the same as above: [code block],0,0.9952123165130615
449632268,12746,FranciscoPombal,2020-07-03T15:21:47Z,"hmm, actually, i haven't touched `winconf-mingw.cmake` nor tested with building with mingw at all. i'll fix this one error with a simple `and not mingw` in that conditional, but i would appreciate suggestions on how to improve the mingw configuration in general - currently, it's still use stuff like `libtorrentrasterbar_custom_definitions`. or at least, can you please show me how to setup an environment similar to what you're using, so that i can test properly myself? i have never used mingw before.",0,0.9511119723320007
449634383,12746,FranciscoPombal,2020-07-03T15:27:34Z,fixed.,0,0.9905837774276733
449634436,12746,FranciscoPombal,2020-07-03T15:27:42Z,fixed.,0,0.9905837774276733
449636339,12746,eli-schwartz,2020-07-03T15:33:17Z,"i'm confused... wasn't the *entire* point of this change, that it first looks for `findlibtorrentrasterbar.cmake`, wherever or however you produce one (e.g. by a system libtorrent-rasterbar install, or if you so wish by providing your own)? that was why i objected to moving this `find_package()` into a qbittorrent `cmake/modules/findlibtorrentrasterbar.cmake`, because then you would have recursion issues.",-1,0.9090512990951538
449666622,12746,glassez,2020-07-03T17:28:58Z,"did someone suggest to move `find_package()` there? perhaps this is some kind of misunderstanding... i suggested to move all ""find libtorrent"" related stuff there so we have only one call to `find_package(libtorrent)` in main script. even now i think it is good idea to have it this way (to have only one call to `find_package(libtorrent)` and let someone else to provide some specific way via findlibtorrentrasterbar.cmake if needed. `find_package()` by default tries to find and use corresponding findpackage.cmake module and if there is no such module it falls back to find and use corresponding cmake configuration files. but it is changed to opposite direction in this pr.",0,0.8314382433891296
449670708,12746,eli-schwartz,2020-07-03T17:50:04Z,"it is quite literally the review comment by zeule which started this discussion, so yes, someone did indeed suggest precisely that. including the find_package(), which i objected to because of namespacing issues. there is no difference to people interested in providing some findlibtorrentrasterbar.cmake if needed. moving this code to find_package(libtorrent) as opposed to leaving it right here merely runs the same exact code via an included macro of cmake function calls. there is no technical advantage to having it in its own file, there is only a readability advantage. but naming it ""libtorrent"" instead of ""libtorrentrasterbar"" may avoid the namespacing/recursion issue i raised, however, it instead opens up the amusing possibility the [a link] project might add a findlibtorrent.cmake, and result in possibly finding the wrong thing. ""naming is hard.""",0,0.9811286926269531
449671235,12746,eli-schwartz,2020-07-03T17:53:00Z,"if it is that important to move a few lines somewhere else, i suggest `qbtlibtorrentimpl.cmake` and `include(qbtlibtorrentimpl)`.",0,0.9950428009033203
449677621,12746,glassez,2020-07-03T18:26:34Z,"-schwartz, sorry, i can't understand your reasoning. what do you want from it? iirc, this new configuration allows you to use any libtorrent package that provide cmake configuration files or other kind of libtorrent distribution if there is findlibtorrentrasterbar.cmake exists in any known location (or using pkgconfig as 3rd attempt). we can remove pkgconfig way from our script but it can be added by libtorrent/cmake distributors to their findlibtorrentrasterbar.cmake. are you sure? having second find_package call for the same package only to make script failed isn't readability issue for me. looks like workaround. no.",-1,0.9684560894966125
449679750,12746,glassez,2020-07-03T18:38:25Z,anyway i suggest to continue this discussion in separate thread unless there is something blocking here.,0,0.9880332946777344
449727849,12746,FranciscoPombal,2020-07-04T01:38:29Z,"do you propose every target (gui, webui, ...) should be an ""interface library"" (e.g `add_library(xyz interface)`)? if i understand correctly, using static libraries gives us more control with the transitivity of dependencies (can use private, public, interface). furthermore, just for fun i tried making ""qbt_base"" an interface library, but the configure generates 3x repeated compile commands for each file of it - one per target that depends on it (qbt_gui, qbt_app and qbt_webui). so, for example, `src/base/bittorrent/resumedatasavingmanager.cpp` would be compiled 3x. this makes sense because interface libraries don't generate build output, so each dependent must generate the build outputs themselves. i suppose this is reasonable :+1:",0,0.9899896383285522
449742600,12746,glassez,2020-07-04T05:46:57Z,no.,0,0.9730188846588135
449743353,12746,glassez,2020-07-04T05:59:29Z,"maybe replace the condition above with `if (msvc)`? i have to use mingw environment on my tablet pc (when i'm away from one of my computers), because there's very little storage to keep the visual studio installed. i don't care much about the productivity of this environment, just that qbittorrent is compiled and run for testing. i just install everything needed using official qt installer. the only thing left for me to build myself (apart from libtorrent and qbittorrent) is a boost.system (this is not much different from the build using msvc).",0,0.9756556153297424
449749481,12746,glassez,2020-07-04T07:39:37Z,"shouldn't it be somewhere in winconf? or in ""src"" subdirectory? or at least below msvc_runtime_dynamic feature option declaration?",0,0.9932532906532288
449753855,12746,glassez,2020-07-04T08:47:31Z,wouldn't the following work? [code block],0,0.9954392313957214
449754355,12746,glassez,2020-07-04T08:54:54Z,"why did you change it from predefined variables (apple, win32, unix)?",0,0.9937289953231812
449754457,12746,glassez,2020-07-04T08:56:03Z,aren't other \*nix systems supported?,0,0.9904639720916748
449754651,12746,glassez,2020-07-04T08:59:07Z,the same thing. if we're decided to have all find_package at top level you should move this one there (and place it before include this file).,0,0.9935157299041748
449754930,12746,glassez,2020-07-04T09:02:39Z,it confuses me? why it's really needed? and if it's needed why only for libtorrent?,-1,0.7855172157287598
449755863,12746,glassez,2020-07-04T09:16:23Z,then all find_package calls should be moved in this script (src/cmakelists.txt) in the same way.,0,0.9946570992469788
449756807,12746,Chocobo1,2020-07-04T09:29:15Z,seems the version numbers still hasn't reverted.,0,0.9827561378479004
449757990,12746,Chocobo1,2020-07-04T09:46:16Z,"i think this line is redundant given the recent conscious about requiring the latest version of cmake. the specific `3.16` doesn't really mean anything specific for that cmake version, isn't? then it is better to remove this line altogether instead of having a dummy number that will mislead one thinking there is something special with it. imo it would be suitable to have a message that tells users to always upgrade their cmake installation to latest at here instead.",0,0.9497522711753845
449761379,12746,FranciscoPombal,2020-07-04T10:35:02Z,"i don't think that was the decision. we all settled with `3.16` as a compromise, for now. besides, every cmake project should begin with `cmake_minimum_required`. otherwise, users will be able to run the script with any version, but will get all sorts of errors and/or strange behavior if the version is not actually suitable. when i proposed ""always use the latest possible version"", it really means ""update `cmake_minimum_required` periodically, as it becomes convenient to make use of features/policy revisions introduced in newer versions, without regard for the versions available in distro repositories"".",0,0.8571823835372925
449763564,12746,glassez,2020-07-04T11:05:18Z,docs say that cmake_module_path is `a search path for cmake modules to be loaded by the include() or find_package() commands before checking the default modules that come with cmake`. so the modules that come from there are always preferred against the ones that come with cmake. also cmake docs say `cmake_module_path is empty by default and it is intended to be set by project` so it is intended to set this list instead of append to it. or cmake_module_path is usually used in different way?,0,0.9928061366081238
449764139,12746,Chocobo1,2020-07-04T11:13:45Z,"is `3.16` really the required minimum version? a slightly older version won't work? if the answer is no for the first question, then i haven't seen you address my concern about it, quoting myself: ... otherwise i misunderstood and please disregard this post. well i don't care how recent version we are using however i think it is a really bad compromise when the version doesn't really reflect the reality. i just want to point it out that maybe this can be overlooked for now but it *will* be a concern (at least from me) when we promote cmake build as officially supported.",-1,0.9720380902290344
449767515,12746,glassez,2020-07-04T12:03:44Z,this one makes it unusable. it cannot be run from qt creator since it is unable to find installed qt components. why do you really need to copy it there? it's needed to in install directory only.,0,0.9529067873954773
449768225,12746,glassez,2020-07-04T12:13:56Z,"the convenience is questionable, since we are only talking about the resulting binary. intermediate files are still created in the same directory, so if i need to support multiple configurations at the same time, i still have to set the different build directory per configuration manually, and this only adds an unnecessary subfolder inside, for example ""qbittorrent-build/debug/debug"".",0,0.5752344131469727
449775320,12746,glassez,2020-07-04T13:55:00Z,"the ideal option from my point of view is that cmake_minimum_required really reflects the minimum supported version of cmake (but i do not strictly insist on this until cmake is the main build system of the project so i don't want to waste my time on this topic), otherwise the user may find itself in a situation where we require it to install a version really larger than the one that could successfully process our project (it may already have a suitable version installed, but it will fail due to this unreasonable restriction).",0,0.9777864813804626
449776923,12746,Chocobo1,2020-07-04T14:17:49Z,agree. agree.,0,0.7596544027328491
449908039,12746,FranciscoPombal,2020-07-05T18:59:02Z,fixed,0,0.920660674571991
449908046,12746,FranciscoPombal,2020-07-05T18:59:13Z,fixed,0,0.920660674571991
449908243,12746,FranciscoPombal,2020-07-05T19:01:17Z,it was needed to fix a problem with reconfiguration with `ccmake` mentioned a few comments up. refer to the back-and-forth spanning from [a link] to [a link],0,0.9953511953353882
449928512,12746,FranciscoPombal,2020-07-05T23:05:41Z,"might be. but i haven't tested, and neither has anyone else (that i know of). the lazy way would be to replace all instances of `if(cmake_system_name matches ""linux"")` with `if(unix and (not apple))` and hope for the best, but this doesn't actually guarantee anything - we might be misleading the users into thinking that the support is in good standing. i think if someone wants to make it work in those systems, they can test and submit patches later with the required changes.",0,0.9310047626495361
449930193,12746,FranciscoPombal,2020-07-05T23:25:28Z,":+1: right, i don't need more justifications, clearly you find this useful and important. i'm just stating that i have no prior experience with it. i was expecting more of a step-by-step, but i'll give it a shot anyway.",1,0.9772107005119324
449935158,12746,FranciscoPombal,2020-07-06T00:15:10Z,"with the latest fixups, all package used under the `src/` tree are found with `find_package` calls in `src`'s cml. there is only one remaining `find_package` call, in the cml in `dist/unix/`. but `dist/` is not a subdir of `src` (they're at the same hierarchical level), so i think it's ok for that `find_package` call to remain where it is, or at most go up one level to `dist/`.",0,0.9828357100486755
449941772,12746,FranciscoPombal,2020-07-06T01:08:39Z,"not sure what you mean by this... my goal was to have the search procedure working with _at least_ 1) cmake config files and 2) pkg-config. if, in addition, it became possible to use an external `findlibtorrentrasterbar.cmake` to drive the search procedure, then great (as you confirmed, this is the case), but otherwise, no problem. what i did not want, in essence, was for us to provide our own `findlibtorrentrasterbar.cmake` in the repository. so i guess we all got what we wanted in the end? agreed, it has become unwieldy to continue the conversation in this thread. any interested parties can open a new dedicated thread for discussion after this pr is merged, i'll mark this one as resolved now. thanks for the input.",0,0.8204132318496704
450057330,12746,glassez,2020-07-06T08:17:00Z,"afaik, qbittorrent is used at least on freebsd. but even if someone does not know this clearly, it does not mean that it does not exist... there are no such big differences between different \*nix systems (and there is support in the source code), so it can be configured and built there even if no one has explicitly taken care of it. you don't have to break it here. it will still be possible to run this script on the mentioned systems, and it will be a shame if it fails just because of such changes. , what do you think?",-1,0.677519679069519
450058229,12746,glassez,2020-07-06T08:18:39Z,"well, but you accidentally changed the related conditions that isn't good in all cases.",0,0.7813898921012878
450084739,12746,glassez,2020-07-06T09:04:47Z,[a link] is blocking issue.,0,0.8688800930976868
450176432,12746,FranciscoPombal,2020-07-06T12:09:07Z,"i'll consider this resolved for now. apparently what we want is msvc's `external` include directives. we can later discuss if we really benefit from `/w4` or `/wall`. i should note that at the time of writing, cmake does not natively support this msvc feature. that is being tracked here: [a link]",0,0.9705846905708313
450180446,12746,Chocobo1,2020-07-06T12:17:01Z,"unless proven to work reliably, i would choose the conservative way to avoid unnecessary breaking.",0,0.9729994535446167
450181175,12746,Chocobo1,2020-07-06T12:18:31Z,do you agree with this change? [a link] [a link],0,0.9888765215873718
450184249,12746,FranciscoPombal,2020-07-06T12:24:44Z,you're right. next fixup commit will change this back (so that the executable ends up under `src/app/` like before). the point of copying `qt.conf` to the same location as the executable in the build tree is so that those options are still applied when quickly building and testing running the executable from the build tree without installing.,0,0.9854000210762024
450191499,12746,glassez,2020-07-06T12:38:49Z,"but really it breaks ""running the executable from the build tree""! what do you think the purpose of this file is? you're wrong! currently (before your patch) it is placed in root of build tree (this was changed lately from the place you mentioned above).",0,0.8202141523361206
450193144,12746,FranciscoPombal,2020-07-06T12:41:55Z,"the landscape has changed a bit since this pr was opened, most notably, support for `rc_1_1` was officially dropped from master. as for the remaining dependencies: ubuntu is basically our lower bound, and the minimum requirement of qt 5.9 means it also does not make sense to _not_ bump versions up to 18.04 versions, e.g. zlib up to 1.2.11, boost up to 1.65 and opensll up to 1.1.1 (plus openssl 1.1.1 is actually mandatory in qt >= 5.15, so at least this bump makes things easier).",0,0.9897178411483765
450198292,12746,glassez,2020-07-06T12:51:21Z,"if you didn't understand, placing qt.conf near the qbittorrent executable in output directory is problem.",0,0.983430027961731
450199053,12746,Chocobo1,2020-07-06T12:52:45Z,but your opinion doesn't really comply to what we established before (before you join) and i still see no point of your reasoning. i don't have much free time and i would just say this much.,-1,0.9623043537139893
450202394,12746,glassez,2020-07-06T12:58:41Z,"if you want us to seriously consider cmake as something approaching the official build system, you must follow the official project requirements. if you want to change them you should open separate issue. usually we discuss it before upcoming minor/major release.",0,0.9863618612289429
450206389,12746,glassez,2020-07-06T13:05:40Z,these definitions have project-wide meaning generally. don't understand why you moved it there.,0,0.9546549320220947
450271642,12746,FranciscoPombal,2020-07-06T14:44:32Z,"ok, fixed for real this time. i must have got confused with autotools or something. what do you think the purpose of this file is? i thought the purpose of the file was to override certain qt parameters at runtime. if we're shipping like that, why not also build like that? that file looks like it changes a setting relating to dpi, for instance. imagine you are trying to reproduce a user report/testing out some patches relating to dpi/scaling problems. if it never occurs to you to actually install the executable, you will probably fix the wrong problem, since if you don't have the file in the build tree, your environment will be different than the user's. lately, i have seen many reports about scaling/dpi, hopefully this makes fixing those on windows a bit easier. what am i missing, given the reasons above? i can run the executable just fine either way.",0,0.6585997939109802
450382026,12746,glassez,2020-07-06T17:44:05Z,"i pushed a new commit to make it so that cmake always knows libtorrentrasterbar_dir is a path, by setting it as a cache variable. now, even if you don't specify the type in the command line, the variable will always show up and be configurable in a gui such as ccmake. doesn't seem like a problem that should be fixed in this way. you just need to set variable with a type. if it's unexpected/undocumented behavior it's definitely cmake issue.",0,0.9403485655784607
450534156,12746,FranciscoPombal,2020-07-06T23:42:08Z,"exactly, that's what this line does - ensures the variable has a type. it initializes the variable in the cache with no value (empty string), but with `path` type. nothing else is affected by this, and this allows `ccmake` to work correctly. from the cmake docs ([a link] (...)",0,0.9902651309967041
450613327,12746,glassez,2020-07-07T05:07:34Z,"still doesn't seem good for me. i can't understand what you're doing with this. is this the intended way? or is this a mistake (of cmake) you're trying to workaround? or is it a ""feature"" when you cache a variable that wasn't originally intended to be cached? anyway, it looks strange to affect a variable that isn't even used directly in your script. and then it turns out that in general case you should do the same with all possible variables that can ever be set via the command line... it looks terrible. is there no other way?",-1,0.9955097436904907
450778523,12746,glassez,2020-07-07T10:54:54Z,"qt docs: qt docs: without `qt.conf` application knows about qt components that installed on developer machine since their paths are hard-coded. with `qt.conf` application tries to find qt components using paths that are specified there, in our case in the application executable folder, it is correct on target machine but incorrect on developer one). you use statically linked executable so you aren't affected by path of qt plugins etc. and you probably didn't pay attention to the qt translations.",0,0.9919394850730896
451067689,12746,FranciscoPombal,2020-07-07T18:39:26Z,"to be honest, i also get the feeling that this is simply a workaround for cmake guis like (`ccmake`, in particular). this is a workaround for the case where the user initially specifies a variable in the command line without a type (i would says it's uncommon for cmake users to specify variables _with_ a type in the command line invocation) and then later would like to change the variable's value with `ccmake`. it will not be possible, because `ccmake` does not allow you to change variables that don't have a specified type. i have found that some tools that invoke cmake, such as the cmake tools extension for vs code, add a variable type to all command-line entries, side-stepping this problem entirely. as for, ""why have this `set(cache)` call for `libtorrentrasterbar_dir` and not others?"", i would say this is the one variable that's not used directly that will be changed most often, and also this way the workflow of a contributor isn't broken. but if we go down this route, then yes, it might become justifiable to do this for other variables as well. but that would be done in another pr. i guess it comes down to whether or not you want to leave this workaround in to better support cmake gui users. unless you know of a better way to achieve the same thing.",0,0.9541198015213013
453198206,12746,FranciscoPombal,2020-07-11T14:03:07Z,"this particular problem has been fixed, but i'm still not able to build successfully with mingw. i'll mark this as resolved, let's continue solving the remaining problem in the comments at the bottom.",0,0.966582179069519
453198327,12746,FranciscoPombal,2020-07-11T14:04:41Z,"i've reviewed and tested the changes (not on apple/macos, but that is the most idempotent change anyway), and i'm quite certain everything is correct now.",0,0.6210261583328247
453198653,12746,FranciscoPombal,2020-07-11T14:08:12Z,"it's `qbt_version` and `qbt_version_2` that are ubiquitous. these particular ones only have meaning for ""base"" and ""app"", so i created a specific interface for that, to isolate it. in the future, i'd like to propose some versioning changes to prevent these kind of inconsistencies, but that's a matter for another time.",0,0.9826085567474365
453579958,12746,FranciscoPombal,2020-07-13T11:21:51Z,"`cmake_system_name matches ""linux""` works reliably to mean ""linux only"". i took a closer look at the scripts, and figured out that even now, the build should work on the bsds. currently, there are 4 places in the code that could be changed from that to `unix and not apple and not cygwin`: - finding libtorrent through pkg-config (finding via cmake config files should work fine anyway) - the script in the `dist folder`, that only handles the installation of man pages, icons, etc (thus, not relevant for building only; are the current installation directories for these ancillary files also correct for the bsds?) - the addition of the `_default_source` compile definition to all targets - the availability of the dbus and systemd features (is it relevant to the bsds?) the latter item can remain disabled on non-linux for now, and the others enabled without affecting anything else. then, at least a basic build without the `systemd` and `dbus` features should work. the installation will also work; if any of the installation directories need to be changed, some bsd user can later submit a patch for that. i'll make the change.",0,0.9771342873573303
453594905,12746,FranciscoPombal,2020-07-13T11:52:19Z,"right, i understand now. will remove the the build-time copying of this file.",0,0.9910265803337097
462026052,12746,Chocobo1,2020-07-29T04:08:00Z,msvc warning flags was intentionally dropped in a recent commit. you shouldn't reintroduce it.,0,0.9634653925895691
462027031,12746,Chocobo1,2020-07-29T04:12:22Z,is this file required? i think we have enough files in the project root directory. maybe move it into cmake folder.,0,0.994321346282959
462234991,12746,FranciscoPombal,2020-07-29T11:41:03Z,"right, fixed.",0,0.9889113903045654
462236148,12746,FranciscoPombal,2020-07-29T11:43:33Z,"it's used for configuring the images produced by the `--graphviz` flag, such as [a link] the default settings are pretty bad for our use case. according to the cmake docs ([a link] i would also prefer if cmake searched for it in the cmake modules location natively, but oh well. so just leaving it in `cmake_source_dir` is the easiest way, vs. placing the file in the cmake modules folder and copying it to `cmake_binary_dir` at configure-time (not sure how easy it is to do and don't really want to do it, at least now), or something like this: [a link] i too worry about the excessive number of files at the root of the project. these are the ones that can be removed in the near-future, and are a much bigger problem than a single additional cmake-related file: - replaced by a `.clang-format` file: `.editorconfig`, `uncrustify.cfg`, `codingstyleqtcreator.xml` (contributors may configure their text editor/ide how they like, then run clang-format before commiting; i doubt any other tools is better/more consistent than clang-format, since it is backed by the infrastructure of one of the major c++ compilers) - replaced by a gh actions workflow (maybe; i'll give this a try soon-ish), which goes in inside the `.github` directory: `.travis.yml`, `.appveyor.yml` - simply removed: `todo`, `install` (basic instructions to build can be in the readme + a link to the wiki for the rest) - simply removed due to dropping `qmake + autotools` as a build system: `bootstrap.sh`, `conf.pri.in`, `conf.pri.windows`, `configure`, `configure.ac`, `macxconf.pri`, `qbittorrent.pro`, `unixconf.pri`, `version.pri`, `winconf.pri` that's a reduction of 14 or 16 files, depending on whether we actually move to gh actions for ci, or 10 by just dropping `qmake + autotools` alone. here's my proposal for compromise, and a start to truly solving the ""bloated root"" problem: [a link]",-1,0.9614657759666443
462930126,12746,glassez,2020-07-30T11:26:05Z,", are you okay with this monstrous notation instead of human readable one like the following? [code block] (in all similar cases)",-1,0.7148873805999756
462933054,12746,glassez,2020-07-30T11:32:16Z,"it is overkill to split it into several lines, it isn't that long: [code block]",0,0.5915669798851013
462933625,12746,glassez,2020-07-30T11:33:34Z,it's one more overkill...,-1,0.6814913153648376
462934188,12746,glassez,2020-07-30T11:34:43Z,shouldn't you indent this line?,0,0.9927862286567688
462935524,12746,glassez,2020-07-30T11:37:38Z,"you should add one more indentation level to this and folloving lines (until the end of ""message"" parameter list).",0,0.9953763484954834
462937614,12746,glassez,2020-07-30T11:41:53Z,:-1: to split it,0,0.9922834038734436
462938290,12746,glassez,2020-07-30T11:43:29Z,:-1: to split it (and all other short fragments).,0,0.9853028059005737
462952139,12746,Chocobo1,2020-07-30T12:13:18Z,it looks like a not-so-useful feature to me and i would still prefer it to be dropped. what do you think?,-1,0.8732647895812988
462952917,12746,Chocobo1,2020-07-30T12:14:47Z,"i'm not familiar with the usage of generator expression, maybe franciscopombal can provide the reasons of using them.",0,0.8911113142967224
462967854,12746,glassez,2020-07-30T12:42:55Z,at least it should be dropped from this already bloated pr.,-1,0.7015724778175354
462984926,12746,FranciscoPombal,2020-07-30T13:12:06Z,"well, i guess there is no reason why this cannot be a separate pr, so i'll remove it from this one.",0,0.9852670431137085
462989909,12746,FranciscoPombal,2020-07-30T13:19:45Z,"the reasoning for using generator expressions was outlined in part of this comment ([a link] and further expanded upon in this whole comment: [a link] basically, though the syntax is a bit ugly, i think that is an acceptable price to pay for the benefits this change yields. to be fair, `$<$ ,$ >,$ >>:_default_source>` is a bit of a worst-case scenario, all things considered. it can't (or at least shouldn't) get worse than that.",0,0.7343274354934692
463059668,12746,jagannatharjun,2020-07-30T14:58:03Z,"cmake is my default build system but i never use generator expression, they're are not build for humans c++ is already hard why're you trying to make build system hard too, i'll personally like you to not use them at all. if() statements may seem redundant but they tend too be much more readable.",0,0.5448451638221741
463096427,12746,glassez,2020-07-30T15:50:15Z,"my opinion is avoid generator expressions whenever possible. i prefer more readability friendly code. in addition, ""overusing generator expressions"" is something that fell on our heads after this pr was almost completed, and we were trying to finish it. well, now here's another controversial thing that could have had its own pr rather than slowing this one down.",0,0.5360885262489319
465084976,12746,FranciscoPombal,2020-08-04T14:18:18Z,"did you even read my previous posts explaining the benefits? you guys are arguing ""don't use this nice feature of modern cmake because i don't understand it"". despite the somewhat ugly syntax, generator expressions are the best (and often the only easy correct way, see video below) to do certain things. generator expressions _is_ more friendly code, once you look past the syntax. there are many nice videos on yt explaining modern cmake (mostly from c++ conferences from 2017 to present) and generator expressions, including what they are used for and why they're needed and better than the alternative. i encourage you to watch at least this ~10 minute part explaining genexps of this particular talk about modern cmake, [a link] starting at 34:15 through 45:11 (the link already includes the correct timestamp). some highlights: - 35:44 - ""abstraction targets"" - what i attempted to do with the `qbt_common_cfg` and `qbt_version_definitions` targets inside `macroqbtcommonconfig.cmake` - 38:49 - relevant example of generator expressions preventing buggy and non-portable `if ()`-based code - 43:08 - relevant example of an imperative, non-modern cmake logic snippet being modernized and simplified with genexps. the original motivation to also switch to use more generator expressions was to also tackle the mingw build logic, which i originally intended to not even touch (perhaps leaving that to a later pr). i noticed it was becoming too hard to easily reason about target and platfom requirements with all the `if ()`s and scattered imperative logic, so i turned it all to targets + genexp. it made everything about different multiplatform requirements easier to reason about and conclude that currently, there isn't even any special logic required to build with mingw. the previous logic was even kind of dangerous, as it included old-style calls to `target_link_libraries()`, if i'm not mistaken. the whole build system is now easy to understand, change and extend, no matter the platform/os (okay, probably excluding the translations part in `app`, which is still somewhat messy, but as i said before, there is little we can do about it for now), as long as one takes the time to understand genexps. it's a small investment, and not doing so is like saying ""i want to read/write modern c++, but i don't want to learn anything new about c++ >= 11"". i think we are on the same page concerning the desire (and a need actually, considering the upcoming deprecation of qmake) to move to cmake as our build system - we should understand the tools that we use.",1,0.633495032787323
465145779,12746,FranciscoPombal,2020-08-04T15:41:03Z,"the point was to make it consistent with all the other such statements. but sure, i think the case where there's only one small element can be the exception.",0,0.9854124188423157
465153798,12746,FranciscoPombal,2020-08-04T15:52:49Z,all such instances fixed.,0,0.9944115281105042
465153892,12746,FranciscoPombal,2020-08-04T15:52:58Z,all such instances fixed.,0,0.9944115281105042
465154074,12746,FranciscoPombal,2020-08-04T15:53:15Z,all such instances fixed.,0,0.9944115281105042
465154169,12746,FranciscoPombal,2020-08-04T15:53:24Z,all such instances fixed.,0,0.9944115281105042
465154308,12746,FranciscoPombal,2020-08-04T15:53:38Z,all such instances fixed.,0,0.9944115281105042
465154687,12746,FranciscoPombal,2020-08-04T15:54:14Z,done (forgot to actually do it before).,0,0.9466142654418945
42972660,3989,glassez,2015-10-26T09:35:09Z,while (,0,0.9809292554855347
42973082,3989,glassez,2015-10-26T09:40:13Z,maybe friendlyvalue?,0,0.9818059802055359
42973107,3989,glassez,2015-10-26T09:40:37Z,and old is friendlyunit (as always),1,0.7676995992660522
42973387,3989,glassez,2015-10-26T09:44:47Z,"placing each condition in the parentheses improves the readability of the code, imo. [code block]",0,0.9750248789787292
42973868,3989,glassez,2015-10-26T09:50:32Z,place enum declaration on top of (all) function declarations.,0,0.9945507645606995
42974258,3989,glassez,2015-10-26T09:55:00Z,if (,0,0.9799877405166626
42974334,3989,glassez,2015-10-26T09:55:53Z,"#include ""searchsortmodel.h""",0,0.994599461555481
42974419,3989,glassez,2015-10-26T09:56:55Z,one initializer per line (coding style).,0,0.9934549927711487
42974525,3989,glassez,2015-10-26T09:58:20Z,no blank lines in empty function body.,0,0.9879584312438965
42974682,3989,glassez,2015-10-26T10:00:02Z,simple `foreach`,0,0.9941856861114502
42974855,3989,glassez,2015-10-26T10:02:11Z,we accepts one line for return (etc.) statements: [code block],0,0.9961602687835693
42974892,3989,glassez,2015-10-26T10:02:33Z,space after >=,0,0.992037296295166
42975093,3989,glassez,2015-10-26T10:04:56Z,here (and in similar places) are not that long to divide them into two lines.,0,0.9746289253234863
42975255,3989,glassez,2015-10-26T10:06:46Z,we doesn't accept member implementation in headers. move to .cpp.,0,0.994674563407898
42981387,3989,zeule,2015-10-26T11:20:11Z,pardon? what do you suggest?,0,0.9525514245033264
42981576,3989,zeule,2015-10-26T11:22:56Z,i prefer to highlight the symmetry,0,0.9855079054832458
42982600,3989,zeule,2015-10-26T11:37:03Z,"ok, but why?",0,0.9785723686218262
42988105,3989,glassez,2015-10-26T12:46:07Z,"by the way, since you began to use **enum class**, you can even put it outside utils::misc namespace (utils child namespaces are intended for the functions - that was the idea). it will be fine. just sizeunit::byte etc.",0,0.9344674944877625
42988493,3989,glassez,2015-10-26T12:51:01Z,"use friendlyvalue for your new function. the same names should be used to really overloaded functions, and these two are not (by the meaning), as do different (albeit related) things.",0,0.9900643229484558
42988666,3989,glassez,2015-10-26T12:52:51Z,ok.,0,0.980760931968689
42989367,3989,zeule,2015-10-26T13:01:13Z,"they are overloaded functions, in fact: the first one just converts result from the second one to string.",0,0.9877980351448059
42989587,3989,glassez,2015-10-26T13:03:43Z,in order to not mix the functions and types... just such a convention.,0,0.9921454787254333
42992120,3989,glassez,2015-10-26T13:29:53Z,"technically, yes, but not in meaning. the meaning of overloaded functions is to do the same thing for different params. for example: [code block] these are overloaded functions (by definition and by meaning). in your case one function reduces the number up to a certain order, and another converts a number to a string in some way.",0,0.9873633980751038
42993129,3989,glassez,2015-10-26T13:38:57Z,"i don't insist that to do so is generally impossible. sometimes, on the contrary, it is useful to have functions with identical names but with different access specifiers in a class. but if we put something in the interface, then it must have a clear meaning.",0,0.9743031859397888
42999913,3989,zeule,2015-10-26T14:32:20Z,"i would name both of them humanreadablesize(), but since there was the functions before, i simply named the second one identically.",0,0.9932669401168823
43013117,3989,glassez,2015-10-26T16:04:47Z,"qreal is wrong input type for this function. we expect there some amount of bytes that shouldn't be neither fractional nor negative. so qlonglong will be right here. and return void, of course.",0,0.7120659351348877
43015355,3989,Chocobo1,2015-10-26T16:20:48Z,"~~i've opened another pr which is related to this function, if possible please use the new code: [a link]",-1,0.8227433562278748
43016061,3989,DoumanAsh,2015-10-26T16:26:06Z,did you mean `quint64`?,0,0.9924472570419312
43016322,3989,Chocobo1,2015-10-26T16:27:55Z,qt4 -> qt,0,0.9872103929519653
43016599,3989,Chocobo1,2015-10-26T16:30:08Z,"ah, nevermind.",0,0.6287791728973389
43018101,3989,zeule,2015-10-26T16:41:00Z,"i guess there are negative sizes somewhere, and they are used to represent unknown size, because someone even created a translatable string for this case. for the same reason the function has to signal about incorrect size, so it returns `bool`. the very first action of this function will be the conversion of integral input into floating point value, but since everybody want cleaner interface, let's change both function signatures to `qint64`.",0,0.9787303805351257
43018501,3989,DoumanAsh,2015-10-26T16:44:15Z,but does `double` has any meaning for this function at all? it is just being used as `qint64` and so it is not really has any meaning since you're passing `qint64` in all cases?,0,0.9930369257926941
43018839,3989,zeule,2015-10-26T16:46:56Z,i guess `qreal` was used for parameter to avoid declaring a local variable,0,0.9843920469284058
43021786,3989,glassez,2015-10-26T17:07:02Z,"yes. i made a typo. i mean **qulonglong**, which is the same. we can't have a fractional number of bytes, but we can have fractional number of kibibytes, etc. so return type of **qreal** is correct. this logic should be placed where it is required. not here!",0,0.9216493368148804
43152279,3989,glassez,2015-10-27T17:05:05Z,"another proof that this is not the place for this: we did not complicate the calling code by removing it from here, however, we achieve the purity of this logic.",0,0.986676812171936
43155955,3989,zeule,2015-10-27T17:29:49Z,"can not understand your point. according to qtcreator, this function is called from 48 places to get string representation of a size or a speed. where the message should be placed?",0,0.8822763562202454
43158696,3989,glassez,2015-10-27T17:47:18Z,i mean wrong size processing only. that don't belong in this function.,0,0.7450001239776611
43159659,3989,zeule,2015-10-27T17:53:19Z,did you mean [code block] but still signed int in [code block] ?,0,0.9945656061172485
43162995,3989,glassez,2015-10-27T18:14:23Z,yes!,1,0.4961845874786377
43183765,3989,zeule,2015-10-27T20:42:50Z,"so you want one of the overloaded functions to check whether the input data is in range, while the other one not? not _this_ type of difference everybody expects from overloaded functions, i would say. now i begin to understand why did you think about them as not overloads.",0,0.9810865521430969
43225612,3989,glassez,2015-10-28T07:58:35Z,"try to explain again... these functions are overloaded because you have decided to give them the same name. but actually, they perform different roles. old function converts the numeric representation of the size in a string, and it is quite normal to introduce such concept as ""wrong"" size. it processes this in the usual way, i.e. generates its string representation. your function, as i said, reduces the number to a certain order. it does not handle the ""wrong"" size in the usual way, because it is incorrect input for this function, and reports an error (returns false). in this case, you knowingly allow a function to accept an incorrect input value (using a signed type for input argument), and then ""fighting"" with this inside it. this is illogical. this behavior is permissible only in cases where passing of incorrect input values into the function cannot be prevented (for example, the input parameter is a string).",0,0.8858948349952698
54537047,3989,glassez,2016-03-01T08:50:24Z,isn't there an implicit cast?,0,0.987653911113739
54537131,3989,glassez,2016-03-01T08:51:22Z,you pay for the number of code lines? [code block],0,0.9942387342453003
54537224,3989,glassez,2016-03-01T08:52:23Z,why not `sizeunit`?,0,0.9911380410194397
54537331,3989,glassez,2016-03-01T08:53:35Z,fix `is_speed` to camelcase.,0,0.9946692585945129
54537438,3989,glassez,2016-03-01T08:54:48Z,use `sizeunit` for loop counter.,0,0.9951358437538147
54537775,3989,glassez,2016-03-01T08:58:44Z,it's better (more readable) to move `&&` on the next line.,0,0.9902043342590332
54570399,3989,glassez,2016-03-01T14:08:18Z,why cast here?,0,0.9901491403579712
54571470,3989,glassez,2016-03-01T14:15:59Z,camelcase,0,0.9723753333091736
54571980,3989,glassez,2016-03-01T14:19:51Z,`||` to next line.,0,0.9885848164558411
54572406,3989,glassez,2016-03-01T14:22:34Z,fix indentation,0,0.9932259917259216
54583754,3989,zeule,2016-03-01T15:35:21Z,is there a `operator ++` for `enum class`?,0,0.9952149391174316
54584374,3989,zeule,2016-03-01T15:39:00Z,want to be explicit for narrowing conversions.,0,0.9887850284576416
54584524,3989,zeule,2016-03-01T15:39:49Z,ok,0,0.9233372807502747
54584576,3989,zeule,2016-03-01T15:40:04Z,ok,0,0.9233372807502747
54585233,3989,zeule,2016-03-01T15:43:42Z,"again, `operator++`. either `static_cast` will be here, or two of them in the next statement.",0,0.9920560717582703
54585570,3989,zeule,2016-03-01T15:45:34Z,ok,0,0.9233372807502747
54586402,3989,zeule,2016-03-01T15:50:48Z,"because there is no qin64 literal, afaik.",0,0.9869818091392517
54586545,3989,zeule,2016-03-01T15:51:39Z,this is a function override. i strongly object to changing parameters names for it.,-1,0.7694633603096008
54587368,3989,zeule,2016-03-01T15:56:32Z,ok,0,0.9233372807502747
54587470,3989,zeule,2016-03-01T15:57:12Z,thanks.,0,0.5270382761955261
54588416,3989,glassez,2016-03-01T16:02:47Z,"oh, right. this is `enum class`.",0,0.9813897013664246
54589311,3989,glassez,2016-03-01T16:08:32Z,but there is implicit cast here! why to make it complicated where it is not needed?,0,0.5042609572410583
54589575,3989,glassez,2016-03-01T16:10:03Z,what function do you override? (i mean its base class),0,0.9932750463485718
54589810,3989,glassez,2016-03-01T16:11:30Z,the names of the parameters have value only for the body of this function. you can even call them something different in the declaration of this function.,0,0.993301272392273
54590409,3989,glassez,2016-03-01T16:15:25Z,"weird. `qsortfilterproxymodel::filteracceptsrow()` really has such parameter names, which is not typical for qt...",-1,0.9837439656257629
54590519,3989,glassez,2016-03-01T16:16:04Z,blank line before access specifiers,0,0.9939299821853638
54590569,3989,zeule,2016-03-01T16:16:20Z,"pardon me, i don't understand you. here is a cut: [code block]",-1,0.8305799961090088
54590600,3989,glassez,2016-03-01T16:16:28Z,blank line,0,0.9861246347427368
54591266,3989,glassez,2016-03-01T16:20:21Z,you use `using namespace utils::misc;` above so omit utils::misc here.,0,0.9952195286750793
54591645,3989,glassez,2016-03-01T16:22:41Z,"don't use this. i already wrote somewhere here that it is meaningless (i mean, this is still not enough, so there is no need to clutter up the code).",0,0.7654943466186523
54591801,3989,glassez,2016-03-01T16:23:39Z,use the same style for declarations.,0,0.9931615591049194
54592204,3989,glassez,2016-03-01T16:26:06Z,"it is preferable to use aggregation, not private inheritance from ui classes. this eliminates naming conflicts and some of the other shortcomings.",0,0.9891746044158936
54592296,3989,glassez,2016-03-01T16:26:45Z,move `{` to the separate line,0,0.9932953715324402
54592468,3989,glassez,2016-03-01T16:27:35Z,blank line between methods and variables.,0,0.9809846878051758
54593215,3989,glassez,2016-03-01T16:31:44Z,duplicate file. delete it!,-1,0.7548293471336365
54594162,3989,glassez,2016-03-01T16:36:57Z,"i mean `qsortfilterproxymodel::filteracceptsrow()` really has `source_row` and `source_parent` param names, but these names are not typical for qt (qt uses camelcase). and most importantly, i want to say that you can change the names of the parameters in an absolutely free and safely.",0,0.9899380207061768
54596739,3989,zeule,2016-03-01T16:51:27Z,"and here we return to the first point: i strongly object. if it is a suggestion, i reject it. if you are going to maintain this code and want to have camelcased parameter names, i''ll change them, of course, no problem here.",0,0.9007445573806763
54596857,3989,zeule,2016-03-01T16:52:13Z,ok,0,0.9233372807502747
54597018,3989,zeule,2016-03-01T16:53:14Z,indeed.,0,0.9800629615783691
54597217,3989,zeule,2016-03-01T16:54:25Z,ok,0,0.9233372807502747
54598235,3989,zeule,2016-03-01T17:00:37Z,ok,0,0.9233372807502747
54598251,3989,zeule,2016-03-01T17:00:43Z,ok,0,0.9233372807502747
54598319,3989,zeule,2016-03-01T17:01:10Z,ok,0,0.9233372807502747
54600779,3989,glassez,2016-03-01T17:17:22Z,"it isn't suggestion, it's our coding style rule.",0,0.9899477958679199
54605410,3989,zeule,2016-03-01T17:48:50Z,"oh, my god... what a stupid mistake!",-1,0.9959482550621033
54605696,3989,zeule,2016-03-01T17:51:04Z,"but it is effectively not your code, not a code from qbittorent project, i mean.",0,0.9870490431785583
54606393,3989,glassez,2016-03-01T17:56:07Z,base class method - yes. but this method is part of qbittorrent. you misunderstood something... or too busy working :),1,0.9729687571525574
54607327,3989,glassez,2016-03-01T18:02:43Z,or do you mean that your code contributed to qbittorrent is not part of qbittorrent?,0,0.9908975958824158
54608034,3989,zeule,2016-03-01T18:07:39Z,"my compiler (gcc 5.3) does not agree with you. i shall either write: `std::max(0ll, minsize)`, which does not seem nice to me, since `long long` could be not `int64`, or something like `std::max(quint64{0}, minsize)`, which does not differ much from `static_cast`. maybe later, when qt will provide literals for its types, there will be an ideal notation.",0,0.9173628687858582
54609005,3989,glassez,2016-03-01T18:14:14Z,ok. then leave it as is.,0,0.9923036098480225
54610088,3989,glassez,2016-03-01T18:21:34Z,"apparently, this is due to the fact that std::max is a template. for interest - what prints your compiler about it?",0,0.9932470321655273
54610926,3989,glassez,2016-03-01T18:26:34Z,didn't you think to assign appropriate values to sizeunit members and just do `size *= unit`?,0,0.9939885139465332
54611187,3989,zeule,2016-03-01T18:28:12Z,"here is the output, please, with intermediate paths stripped by me: [code block]",0,0.9947928786277771
54612664,3989,glassez,2016-03-01T18:37:31Z,"ok. i thought so... gcc can't deduce template parameter types. but you can just (try to) do `std::max (0, minsize)`.",0,0.9633448123931885
54617402,3989,zeule,2016-03-01T19:06:15Z,"i meant that the function signature and parameter names are part of qt code, not qbittorrent. the overrides will become hardly untraceable if everyone change parameters names. or i can add `override` keyword. then the fact of overriding will be explicit.",0,0.991775393486023
54621569,3989,zeule,2016-03-01T19:32:24Z,"gcc is right, afaik, because promotions are applied _after_ template parameters have been determined.",0,0.9869930744171143
54680036,3989,glassez,2016-03-02T05:03:46Z,"yes. it just can't deduce template parameter (as i said above) since it has two candidates: `int` and `qint64`. but if we set template parameter explicitly it's ok - compiler instantiates function `std::max(qint64, qint64)` and pass `0` and `minsize` to it and it uses implicit cast from `int` to `qint64` in this case. so you can leave it as is or use `std::max ` instead.",0,0.9790762662887573
54680337,3989,glassez,2016-03-02T05:09:53Z,"you can do this if you will be easier. by the way, use `override` for overriden methods is a really good idea (not only here). it really can prevent some errors in contrast to redundant re-use of `virtual` keyword.",1,0.7916883826255798
54692377,3989,glassez,2016-03-02T08:29:02Z,broken indentation here.,0,0.9634515643119812
54692468,3989,glassez,2016-03-02T08:30:02Z,broken indentation,0,0.9632910490036011
54692644,3989,glassez,2016-03-02T08:32:17Z,broken indentation as above. missing spaces before || and extra space after it.,0,0.9883070588111877
54692744,3989,glassez,2016-03-02T08:33:22Z,same here,0,0.99204421043396
54699582,3989,glassez,2016-03-02T09:39:04Z,"please, no need to invent anything. just fix the indentation. it would also be more readable if you separate the subexpression (by enclosing them in parentheses). [code block]",0,0.9711508750915527
54699929,3989,glassez,2016-03-02T09:42:06Z,forgot to say earlier... we start the names of complex types with a capital letter. the same applies to the aliases (etc.) of such types. so there must be `base` (although i don't see much point to use this alias).,0,0.8755062818527222
54700106,3989,glassez,2016-03-02T09:43:37Z,what this does?,0,0.9872785806655884
54700752,3989,glassez,2016-03-02T09:49:28Z,fix coding style,0,0.9935343265533447
54706261,3989,glassez,2016-03-02T10:37:31Z,only one blank line.,0,0.9723823070526123
54720841,3989,zeule,2016-03-02T13:20:26Z,"ok, but what's wrong with it?",0,0.7284955978393555
54720901,3989,zeule,2016-03-02T13:20:58Z,ok,0,0.9233372807502747
54721203,3989,zeule,2016-03-02T13:24:02Z,those are standard methods generated by uic. they create widgets and set translated ui strings.,0,0.9949823021888733
54721590,3989,zeule,2016-03-02T13:27:15Z,"i need at least a verb, please, to understand what did you want to say.",0,0.9386953711509705
54722087,3989,zeule,2016-03-02T13:31:52Z,"weren't it you who asked to move `||`? look, was so nicely aligned : [code block] :d",1,0.9898567199707031
54722538,3989,zeule,2016-03-02T13:36:05Z,i had to stress my eyes to get the difference between two conditions. when they were co-aligned it was so much easier.,0,0.6471372246742249
54723483,3989,zeule,2016-03-02T13:44:20Z,"think of it as a kind of the language keyword? the sense is the following. if base class changes, then compiler warns you in the constructor body that you do not call the constructor of the new base class. you correct one type alias and voilà, all base virtual function calls are correct. plus you scm does not show any text changes where there were no semantic changes (you still call base class virtual method, no matter what base class is).",0,0.9887661337852478
54728149,3989,glassez,2016-03-02T14:22:28Z,"`{` to the next line we use `{` in the same line only after control statements (if, else, for, while, switch etc.). see coding_guidelines.md.",0,0.993868887424469
54728494,3989,glassez,2016-03-02T14:24:50Z,but you have to fix it here. i meant to insert a blank line before access specifiers.,0,0.9924031496047974
54729602,3989,glassez,2016-03-02T14:32:58Z,it does not require such alignment (we can't strive to do so in the general case; in this particular case you simply have the variable names of the same length). you just need to keep (our) rules for boolean expressions splitting (they have to split before operators) and rules of indentation (4 spaces as indent).,0,0.9928622841835022
54730563,3989,glassez,2016-03-02T14:39:17Z,"the same answer. i'm not going to argue about this. we have such rules. no need to break them. if they don't like me, can try to make a proposal with the best rules. but not here. this is a separate issue. i also do not like some rules. but the absence of any rules it is a great evil which makes the code unreadable. let's never return to this question in this way.",-1,0.8978433609008789
54731513,3989,glassez,2016-03-02T14:45:50Z,"i've seen this somewhere... c# or java (or something like that). i won't focus on this. ...unless new base class has the same functions :) okay, let it be. anyway all is not provided.",1,0.9865723848342896
54732661,3989,zeule,2016-03-02T14:52:45Z,"oh, these names were carefully selected, you know :), in order to align such statements. but if you, guys, want it the other way, i'll change the alignment, of course.",1,0.9764812588691711
54733788,3989,zeule,2016-03-02T14:59:46Z,"this keyword was proposed for c++ too, and during discussion what to do with the multiple inheritance somebody came up with such a `typedef`, which solved the problem. yes, of course it has to have the same functions with the same signatures. qt's model classes are a good example of such base classes.",0,0.987534761428833
54733925,3989,zeule,2016-03-02T15:00:42Z,"it is here already, isn't it?",0,0.9850299954414368
54734961,3989,zeule,2016-03-02T15:07:39Z,"that is why i use `static_cast` for the parameter: we define types for the parameters, and then the compiler can find the best function it has, i don't want to limit it.",0,0.9909844398498535
54735600,3989,zeule,2016-03-02T15:12:07Z,"well, i doubt this will be much simpler. sure, in one way we can do like [code block] but in the reverse way we have to find the most significant bit of a float number, and i don't know compiler- and platform-independent way to do this. do you? otherwise, i believe, there is no much sense to expel this simple loop.",0,0.5699114203453064
54735730,3989,glassez,2016-03-02T15:12:51Z,yes. i already wrote this: you already corrected it. github just shows the old comment until now (probably because it is linked to the previous line).,0,0.9836779832839966
54737353,3989,glassez,2016-03-02T15:23:18Z,"not so. the compiler has nothing to choose with the deduction of the template parameters. if there is ambiguity, it leads to error.",0,0.9575168490409851
54737936,3989,glassez,2016-03-02T15:26:55Z,ok.,0,0.980760931968689
54738272,3989,glassez,2016-03-02T15:29:18Z,`setupui()` - yes. but not `retranslateui()`. `retranslateui()` called internally from `setupui()`.,0,0.994907557964325
54740311,3989,zeule,2016-03-02T15:41:37Z,"sorry, i don't understand you. the third sentence is clear, but what mean the second one?",-1,0.9917306303977966
54746390,3989,glassez,2016-03-02T16:15:51Z,deduction of the parameters succeeds only if it gives an unambiguous result.,0,0.9903097748756409
54748384,3989,zeule,2016-03-02T16:26:52Z,"to my sadness, i still can not understand what do you want to tell me. my point is the following. i know there has to be a function `max()` which accepts two objects of the same type. i don't know whether the best match is provided by a function template or there is a regular overloaded function. to allow a compiler to include regular functions into the resolution list, i do not use template qualification, instead i cast the parameter.",-1,0.9867634177207947
54749589,3989,glassez,2016-03-02T16:33:50Z,"oh well, that's understandable. i did not include here the regular functions (only templates)... although i'm pretty sure in this case they (regular functions `std::max`) are not exist, but let it remain as is.",0,0.9231749176979065
55392420,3989,glassez,2016-03-08T17:17:39Z,why do you remove this?,0,0.9906022548675537
55393504,3989,zeule,2016-03-08T17:24:27Z,"long story short, this is where all the history has started. we move unconditional filtering from here into the qbt gui and make it conditional. you can read explanations from in the issue #3812.",0,0.9711529016494751
55478614,3989,glassez,2016-03-09T06:56:46Z,ok. thank you.,1,0.9453005194664001
58002706,3989,glassez,2016-03-31T05:29:00Z,"`qchar('""')` isn't enough here?",0,0.9926478862762451
58002818,3989,glassez,2016-03-31T05:31:24Z,why do you use comments in this format?,0,0.9927211403846741
58002942,3989,glassez,2016-03-31T05:34:25Z,fix coding style.,0,0.9817914962768555
58003091,3989,glassez,2016-03-31T05:37:36Z,maybe use `widthlist.size()` here directly and remove redundant variable?,0,0.9917117357254028
58003101,3989,glassez,2016-03-31T05:37:44Z,why not qstring constant?,0,0.9850292801856995
58003326,3989,glassez,2016-03-31T05:42:18Z,please describe this meta-magic. this is really necessary here?,0,0.9898297190666199
58003390,3989,glassez,2016-03-31T05:43:39Z,same question as above.,0,0.9885220527648926
58060032,3989,zeule,2016-03-31T14:13:37Z,"this is to save enum names instead of combobox index in the config file and, at the same time, to not duplicate those names in the code which does saving/loading. so the config file record reads: [code block] instead of [code block] i believe that this is better with respect to config file readability and possible further modifications. perhaps i have to add comment to the enum which would warn that name changes will break config reading.",0,0.9827978610992432
58062444,3989,zeule,2016-03-31T14:25:55Z,these are [a link] comments. since you work on windows you might know c# xml comments which appear in generated documentation and in the ide tooltips. these serve the same purpose: doxygen can generate documentation and good ides show these comments. for instance: ![a link],1,0.9787895083427429
58062934,3989,zeule,2016-03-31T14:28:25Z,to marginally decrease memory consumption.,0,0.9869384765625
58095251,3989,glassez,2016-03-31T17:37:53Z,"it may be better to have this enum in the global namespace and to keep here only the functions (i.e., utilities)?",0,0.9906358122825623
58096321,3989,glassez,2016-03-31T17:44:29Z,i think it's a good practice to name the ui elements with the class name suffix. for example: `filtermodecombo`.,0,0.7239047884941101
58096745,3989,glassez,2016-03-31T17:47:07Z,why not `currentindexchanged` here?,0,0.9911773204803467
58096924,3989,glassez,2016-03-31T17:48:06Z,`widthlist.size()` is of type `int` afaik.,0,0.995053768157959
58097463,3989,glassez,2016-03-31T17:51:13Z,fix coding style! delete space after `(`.,0,0.9788044691085815
58098001,3989,glassez,2016-03-31T17:54:26Z,fix coding style! we starts new line with comma only in constructor initialization list.,0,0.5326345562934875
58098155,3989,glassez,2016-03-31T17:55:09Z,"imo, `this` is redundant if it's not strongly required.",0,0.9811376333236694
58098775,3989,glassez,2016-03-31T17:58:25Z,please fix param name to `parent` (not your mistake);,0,0.9903500080108643
58099318,3989,glassez,2016-03-31T18:01:40Z,why this method is `public slot`? just `private` is enough for it.,0,0.9869726300239563
58101608,3989,zeule,2016-03-31T18:15:37Z,this will break adl. what is the advantage?,0,0.9783006310462952
58102070,3989,zeule,2016-03-31T18:18:07Z,i don't remember why i wanted to have the possibility to reapply the filter.,0,0.9489027857780457
58102369,3989,zeule,2016-03-31T18:19:59Z,not my code therefore i did not touch it.,0,0.9652170538902283
58102877,3989,zeule,2016-03-31T18:22:52Z,"technically yes, it is not needed. i've put it here to show the relation between the enum and the class.",0,0.9925330877304077
58103487,3989,zeule,2016-03-31T18:26:27Z,the `slot` is a leftover. it used to be a receiver of the model signal. i'll remove that. but it has to be public because `searchwidget` calls it too.,0,0.9942446351051331
58316286,3989,sledgehammer999,2016-04-03T19:42:27Z,"too bad qt creator doesn't do this. i am a bit skeptical of this. it might lead to loss of readability. but anyway, don't change this. this isn't a big problem for me atm.",-1,0.9719818830490112
58316418,3989,sledgehammer999,2016-04-03T19:51:24Z,nitpicking: you could use qstring::startswith()/endswith() but anyway. no need to change it.,0,0.9896301627159119
58316517,3989,sledgehammer999,2016-04-03T19:57:18Z,you can move the closing brace one line above and have the same base return outside the brace.,0,0.9923287034034729
58316587,3989,sledgehammer999,2016-04-03T20:02:16Z,i think it is more correct to do: [code block],0,0.9817684888839722
58316611,3989,sledgehammer999,2016-04-03T20:03:36Z,same here,0,0.99204421043396
58316613,3989,sledgehammer999,2016-04-03T20:03:42Z,and here,0,0.9837828278541565
58316654,3989,sledgehammer999,2016-04-03T20:06:39Z,"the correct plural of the word leech is ""leeches"". please correct all variations of it.",0,0.9912365674972534
58316666,3989,sledgehammer999,2016-04-03T20:07:45Z,"and of course add the source parent. btw, wouldn't it be beneficial to hold the sourcemodel() in a tmp variable at the top of the function? (for optimization and readability purposes).",0,0.9950991272926331
58316756,3989,sledgehammer999,2016-04-03T20:12:38Z,you can forward declare this.,0,0.9958541393280029
58316927,3989,sledgehammer999,2016-04-03T20:22:15Z,is `this` really needed here?,0,0.9920926690101624
58317022,3989,sledgehammer999,2016-04-03T20:29:05Z,i think you should load/save the values of the other filters too.,0,0.9882611632347107
58317080,3989,sledgehammer999,2016-04-03T20:33:11Z,if you indeed elect to save/load the other values too then please convert to the way we already do things. eg look at the top of application.cpp [code block] but in any case prefix this with `key_`,0,0.9947275519371033
58317126,3989,sledgehammer999,2016-04-03T20:36:18Z,"i assume if you elect to save/load the other values too, it makes sense to do it inside updatefilter() instead.",0,0.9897509217262268
58317197,3989,sledgehammer999,2016-04-03T20:40:25Z,unfortunately i think you need to break this up in multiple sub strings for 2 reasons. 1. any change in the html code will break all translations 2. some translator might forget an html tag and make the whole thing render weirdly. or worse insert his own tags.,-1,0.9262604117393494
58317312,3989,zeule,2016-04-03T20:48:23Z,i'll take it because there will be many changes anyway.,0,0.9740272164344788
58317359,3989,zeule,2016-04-03T20:52:32Z,sure.,0,0.9824982285499573
58317381,3989,zeule,2016-04-03T20:54:52Z,i probably wanted to follow the enumerator identifier. let's correct that too?,0,0.991815984249115
58317429,3989,zeule,2016-04-03T20:58:01Z,"btw, we can think about using doxygen for generating a .qch file for qt creator...",0,0.9924261569976807
58317438,3989,zeule,2016-04-03T20:58:49Z,agree.,0,0.9849521517753601
58317451,3989,sledgehammer999,2016-04-03T20:59:46Z,yes. from a quick look these need correction: 1. leechs 2. m_minleechs 3. m_maxleechs 4. leechs 5. setleechsfilter (and doxygen comments) 6. search is your friend :p,1,0.9859053492546082
58317484,3989,zeule,2016-04-03T21:02:18Z,"i'm afraid that the following situation may lead to a confusion: 1. search foe a small file, set size filter for that. 2. forget about item 1. 3. perform a search for a large file, see no results.",-1,0.9650408625602722
58317501,3989,zeule,2016-04-03T21:03:48Z,ok,0,0.9233372807502747
58317506,3989,zeule,2016-04-03T21:04:11Z,ok.,0,0.980760931968689
58317512,3989,sledgehammer999,2016-04-03T21:04:34Z,"you can leave it for now. but i predict, after i release this, users will want the application to remember their ""defaults"".",0,0.991678774356842
58317556,3989,ngosang,2016-04-03T21:07:38Z,"i think by now we should save only ""search in"" combo.",0,0.9840375185012817
58318619,3989,zeule,2016-04-03T22:15:49Z,"what a nice bug! it exists, but does not expose itself. wish they all learn from this one.",1,0.9948557615280151
58318785,3989,sledgehammer999,2016-04-03T22:25:30Z,do you mean you should assign and not append? i admit i didn't catch too :s,1,0.9887223243713379
58319867,3989,zeule,2016-04-03T23:39:28Z,"yes. obviously, the list was flooded with the copy of this word :) on 4 april 2016 at 00:25, sledgehammer999 notifications.com wrote:",1,0.9962137341499329
58329215,3989,glassez,2016-04-04T05:22:07Z,"then maybe it is better to use qdoc? or would you call it ""deadborn"" too?",0,0.9886413216590881
175494434,8584,glassez,2018-03-19T16:16:09Z,"when the user specifies ""skip checking"", it means that qbittorrent will not check the files, but will begin to seed them, assuming they already exist. this comment means ""it would be nice to check the files existence before"". your changes is meaningless since qbittorrent creates save folder when add torrent to session.",0,0.9921925663948059
175539211,8584,Piccirello,2018-03-19T18:24:59Z,"in the webui the user can specify whatever path they'd like. there's no guarantee that the path will actually exist- and that it isn't complete gibberish- so that's what this check is for. this has nothing to do with the ""skip checking"" option.",0,0.980542778968811
175797710,8584,glassez,2018-03-20T14:57:37Z,"why did you delete this comment? it's just about ""skip checking"" option. then you should try to create it, but not check for its existence. as i said, it's allowed case when path doesn't exist before we add torrent.",0,0.9841251373291016
175892869,8584,Piccirello,2018-03-20T19:21:57Z,"i think you're describing the case where the last directory doesn't exist. i'm focusing on the issue where the user specifies a path `/mnt1/disk/torrents/downloads` where `/mnt1` doesn't exist. surely in this case we shouldn't create that entire path, but throw an error.",0,0.9868878722190857
175893317,8584,Piccirello,2018-03-20T19:23:41Z,i don't want this commit to be the focus of this pr. if it's that contentious a change i'll gladly remove it.,-1,0.6456168293952942
176006620,8584,glassez,2018-03-21T08:24:44Z,"me too. i just wanted to clear the space for the main review. it is not as unambiguous as it may seem at first glance. it is better to move it in a separate pr. no, i'm describing common case. it should create save path even if it multilevel.",0,0.9736522436141968
176224543,8584,Piccirello,2018-03-21T20:19:25Z,"i'll move it to a separate pr. in the case i described (`/mnt1/disk/torrents/downloads`) would you expect qbittorrent to create all directories, or would you expect an error for `/mnt1` not existing? i personally would expect the latter.",0,0.9951745867729187
176320369,8584,glassez,2018-03-22T06:43:49Z,"i didn't say what i expected. i was talking about how it works now. but, imo, this behavior is quite expected, otherwise users (especially, remote users) will get a hell of a headache (it breaks some automations). p.s. let's continue this discussion in its own topic.",-1,0.8662892580032349
176481583,8584,Chocobo1,2018-03-22T16:15:21Z,"can you omit these? if there are any messages should print out, it should go through `logger`.",0,0.9959508180618286
176483905,8584,Chocobo1,2018-03-22T16:22:23Z,[code block] should be possible...,0,0.9944314360618591
176484296,8584,Chocobo1,2018-03-22T16:23:27Z,i would omit curly braces here and other places.,0,0.9899517893791199
176484810,8584,Chocobo1,2018-03-22T16:25:05Z,"~~please refactor, use a variable or two here.~~",0,0.9926021695137024
176485678,8584,Chocobo1,2018-03-22T16:27:37Z,and use `{}` replacing `qlist ()`,0,0.9951724410057068
176486292,8584,glassez,2018-03-22T16:29:24Z,why do you need this intermediate object? i mean qvariantmap.,0,0.9930450320243835
176487106,8584,Chocobo1,2018-03-22T16:31:46Z,use range-based `for()`,0,0.9952167272567749
176487321,8584,glassez,2018-03-22T16:32:29Z,"""plugin is not supported."" without any particular information is quite meaningless message.",-1,0.6768931746482849
176487649,8584,Chocobo1,2018-03-22T16:33:26Z,`qset `?,0,0.9939444661140442
176488815,8584,Chocobo1,2018-03-22T16:36:59Z,can you explain your plan? or just remove it.,0,0.9918389916419983
176489242,8584,Chocobo1,2018-03-22T16:38:14Z,"please use range-based `for`, this applies to all similar instances.",0,0.9945195317268372
176490448,8584,Chocobo1,2018-03-22T16:41:47Z,"~~i think this is wrong (in webapplication.cpp too), the `do while()` should be replaced by `if()`~~ nevermind.",0,0.8179993033409119
176491751,8584,Chocobo1,2018-03-22T16:45:39Z,`const qstringlist &plugins`,0,0.9946126937866211
176491856,8584,Chocobo1,2018-03-22T16:45:53Z,`const qlist &searchresults`,0,0.9938309192657471
176492056,8584,Chocobo1,2018-03-22T16:46:31Z,same as [a link],0,0.9953129291534424
176492310,8584,Chocobo1,2018-03-22T16:47:20Z,"base headers should go first, please move up",0,0.9950906038284302
176492590,8584,Chocobo1,2018-03-22T16:48:13Z,remove?,0,0.9904542565345764
176492856,8584,Chocobo1,2018-03-22T16:49:00Z,`++i`,0,0.974772572517395
176494266,8584,Chocobo1,2018-03-22T16:52:55Z,"qqueue inherits from qlist, if you used `qlist m_stdoutqueue` instead, you can just `return m_stdoutqueue;` below.",0,0.9947500824928284
176494864,8584,Chocobo1,2018-03-22T16:54:44Z,"or if you can predict some upper bound of the size of `m_stdoutqueue`, you should use `qvector` + `qvector::reserve()`",0,0.9948627352714539
176495217,8584,Chocobo1,2018-03-22T16:55:39Z,`bool websearchhandler::isactive() const`,0,0.9938575625419617
176495924,8584,Chocobo1,2018-03-22T16:57:29Z,`websearchhandler::getsearchresults() const`?,0,0.994714081287384
176498224,8584,Chocobo1,2018-03-22T17:04:02Z,"off topic, now c++ core guidelines actually has a recommendation for this: [a link]",0,0.9838392734527588
176504796,8584,glassez,2018-03-22T17:23:41Z,"there are very abstract fears about `#pragma once`. all compilers supported by qbittorrent project support this directive, so i don't see any problem with it. its ""non-standard"" was well known at the stage of discussion, however, the decision was made in its favor.",0,0.9568787813186646
176625136,8584,Piccirello,2018-03-23T02:33:12Z,`qdebug` and `logger` are both used pretty extensively in the codebase. is the `qdebug` way of logging deprecated?,0,0.9898906946182251
176626608,8584,Piccirello,2018-03-23T02:47:13Z,"i didn't know about this inline form. thanks. because i don't know of another way. i'm still very new to c++, so when pointing out that there are other ways, suggestions are welcome.",1,0.9885777235031128
176631260,8584,Piccirello,2018-03-23T03:32:33Z,i get this error when compiling with `+=` and `<<` ` webui/api/searchcontroller.cpp:233:34: error: no match for ‘operator+=’ (operand types are ‘qvariantlist {aka qlist }’ and ‘ ’) `,0,0.9930318593978882
176631344,8584,Piccirello,2018-03-23T03:33:32Z,i limit the number of results to 500 (arbitrary number) so that the response isn't too large. though i'm switching to using `qlist::mid()` for this.,0,0.992525577545166
176632860,8584,Piccirello,2018-03-23T03:45:38Z,i haven't thought of a good way of handling this. removing.,-1,0.943087100982666
176638520,8584,Chocobo1,2018-03-23T04:47:54Z,"imo yes, we don't need to distribute these code/messages unless we want users to help debug something, even so, we can provide a discrete build for them instead of using qdebug.",0,0.9892916083335876
176640382,8584,Piccirello,2018-03-23T05:10:17Z,i'll use the logger so that they'll be visible when the log is added to the webui. i'll also do this for when plugin updates fail - though this is admittedly a poor solution.,0,0.9249467849731445
176640731,8584,glassez,2018-03-23T05:14:32Z,"you should use qjson types directly, unless you already have data in different format. qjsonobject has similar interface with qhash/qmap. qjsonarray has similar interface with qlist. you can do either: [code block] or (if you don't need intermediate variable): [code block] so please don't create qvariantxxx types only to convert it to qjsonxxx types (everywhere in this code).",0,0.9920663833618164
176641219,8584,glassez,2018-03-23T05:19:44Z,"imo, qdebug is still usefull for dev-eyes-only messages (e.g. to indicate some important execution points etc.). also you free to use it as you want when you test some new code, but many of them are redundant in result and should be removed.",0,0.9810922145843506
176642339,8584,Chocobo1,2018-03-23T05:33:01Z,"pardon, i updated the code above.",0,0.9948323965072632
176644048,8584,glassez,2018-03-23T05:50:56Z,"as i requested before, it should be qjsonobject/qjsonarray here too.",0,0.9960175156593323
176928114,8584,Piccirello,2018-03-25T04:05:14Z,"qset doesn't maintain order of its elements, which is required for the webui implementation of categories.",0,0.9867464900016785
176928189,8584,glassez,2018-03-25T04:11:30Z,"actually, each search job is identified by searchhandler instance so you can use its pointer as id. just serialize it.",0,0.99445641040802
176932383,8584,Piccirello,2018-03-25T08:08:26Z,there are potential security implications to exposing the pointer's memory address to the webui. i prefer the current process of pseudo-random id generation.,0,0.9768461585044861
176940731,8584,Chocobo1,2018-03-25T13:38:37Z,"what about just using a counter and increment it every time? i reckon this id doesn't really need to be strongly protected, or it should be?",0,0.9807819128036499
176957814,8584,Piccirello,2018-03-25T23:02:01Z,"i don't think it needs to be strongly protected, since it's only useful once the user has authenticated. i considered the counter approach but that's an additional state we'd have to track.",0,0.9811619520187378
176977672,8584,Chocobo1,2018-03-26T04:13:03Z,if you don't need order in `m_searches` use qhash,0,0.995118260383606
176986854,8584,Piccirello,2018-03-26T06:01:14Z,order isn't needed here. i've swapped the `qmap` with `qhash`.,0,0.992635190486908
177165966,8584,glassez,2018-03-26T17:07:31Z,`const qjsonobject result = {`,0,0.9926477670669556
194682200,8584,glassez,2018-06-12T10:03:10Z,"if you want to print all these messages in a log, you have to make them more meaningful. look at it through the eyes of the user. it must understand what is at stake.",0,0.9505796432495117
194683476,8584,glassez,2018-06-12T10:07:53Z,"searchpluginmanager already initializes it in its constructor, so this additional method isn't needed. just call `new searchpluginmanager;` in place you want to initialize it (e.g. [a link]",0,0.994025707244873
194684984,8584,glassez,2018-06-12T10:14:08Z,wrong! the param is correct itself. the more appropriate error is not found (since there is no such search job with the given id).,-1,0.935529351234436
194686174,8584,glassez,2018-06-12T10:19:28Z,notfound,0,0.9585947394371033
194686674,8584,glassez,2018-06-12T10:21:40Z,notfound,0,0.9585947394371033
194686915,8584,glassez,2018-06-12T10:22:44Z,when are you going to delete its instance?,0,0.9934425354003906
194687596,8584,glassez,2018-06-12T10:25:17Z,"the query like ""search/categories?name=somename"" is confusing. what does name mean? shouldn't it be ""pluginname""?",-1,0.6680296063423157
194689480,8584,glassez,2018-06-12T10:33:06Z,"this is redundant info in all similar responses since it is always ""ok"".",0,0.9789589047431946
195283875,8584,Piccirello,2018-06-14T01:51:30Z,i see now our existing apis all use not found for this. i'll change the error(s).,0,0.9937340617179871
195288918,8584,Piccirello,2018-06-14T02:38:39Z,it'll get deleted here (will change this line) and also after a timer expires. i'm thinking 30 min.,0,0.9903311729431152
195677673,8584,glassez,2018-06-15T09:21:32Z,you forgot to remove this method.,0,0.9866146445274353
195678000,8584,glassez,2018-06-15T09:22:53Z,you can use `logmsg()` function instead.,0,0.9955440163612366
195679333,8584,glassez,2018-06-15T09:28:20Z,many of these log messages are just a trash. i would leave only really necessary ones.,0,0.7143327593803406
195680052,8584,glassez,2018-06-15T09:31:11Z,you also need remove the line `delete searchpluginmanager::instance();` from destructor and put it into appropriate place in application class.,0,0.9950920343399048
195680962,8584,glassez,2018-06-15T09:35:01Z,"it doesn't seem to be required here. please remind me, what is it for?",0,0.9854540824890137
195681433,8584,glassez,2018-06-15T09:36:59Z,only forward references are required here for these types (except the qhash). includes should be moved to .cpp,0,0.9954480528831482
195681864,8584,glassez,2018-06-15T09:38:47Z,fix typo in engine,0,0.9786277413368225
195810239,8584,glassez,2018-06-15T17:19:40Z,"i would use ""status"" here.",0,0.9908120036125183
195812755,8584,glassez,2018-06-15T17:29:27Z,please don't use `const` in function declaration with non-pointer/non-reference types. it's useless and confusing. leave it in function definition only.,-1,0.5485978126525879
195887277,8584,Piccirello,2018-06-16T00:21:33Z,these messages are valuable for knowing what happens after triggering an action. but maybe the log isn't the right place for them. i think i might have to handle this in the webui...,0,0.901288628578186
195888742,8584,Piccirello,2018-06-16T00:54:41Z,it's for `pluginversion`,0,0.9959854483604431
195889225,8584,Piccirello,2018-06-16T01:05:48Z,is it not standard to put the include in the header file when the type is used in a function definition?,0,0.992473840713501
195899849,8584,glassez,2018-06-16T10:17:40Z,"here are function declarations only. they're defined in .cpp. type definition isn't needed for the compiler when it just passed into function by pointer or by reference, or returned from function (it even unneeded if we use the pointer/reference without accessing to its content). so we can just forward declare it before.",0,0.9938333034515381
195899904,8584,glassez,2018-06-16T10:21:22Z,please don't produce unnecessary changes (especially where you don't know)! rss::autodownloader depends from rss::session so it should be created after rss::session.,0,0.929933488368988
195899946,8584,glassez,2018-06-16T10:24:31Z,"and more... in most cases, the application components must be removed in reverse order. so if you create it: [code block] you should remove it: [code block]",0,0.9864786267280579
195899973,8584,glassez,2018-06-16T10:26:44Z,i said: so you can leave it here.,0,0.9938173890113831
195900063,8584,glassez,2018-06-16T10:32:43Z,"the messages like ""i'm going to do something..."", ""i started doing something..."", ""i'm doing something..."" is useless in the log in most cases. it is much more important to have here messages about the result of some actions, for example ""plugin *plugin_name* has been successfully updated.""",0,0.9801833629608154
196048367,8584,Chocobo1,2018-06-18T11:47:27Z,const qstring &plugin,0,0.99516761302948
196048542,8584,Chocobo1,2018-06-18T11:48:11Z,const searchresult &searchresult,0,0.9912086725234985
196048813,8584,Chocobo1,2018-06-18T11:49:32Z,qregularexpression,0,0.9899398684501648
196049324,8584,Chocobo1,2018-06-18T11:51:47Z,(optional) i would use `logmsg()` instead of `logger::instance()->addmessage()` everywhere.,0,0.9957281947135925
196049807,8584,Chocobo1,2018-06-18T11:53:58Z,"`.arg(id, sessionid)` and please check other similar instances, combine multiple .arg() whenever possible.",0,0.9942194223403931
196049984,8584,Chocobo1,2018-06-18T11:54:55Z,"`','`",0,0.9380285143852234
196050751,8584,Chocobo1,2018-06-18T11:58:01Z,please make it a single line.,0,0.983260452747345
196051302,8584,Chocobo1,2018-06-18T12:00:28Z,please give the body a new line: [code block],0,0.9960591793060303
196051570,8584,Chocobo1,2018-06-18T12:01:42Z,"since it only has 1 instance, i would prefer inline it.",0,0.991792619228363
196146936,8584,glassez,2018-06-18T16:42:41Z,you should use the session to store your searches (i think i already talked about this earlier). `isession::getdata()` and `isession::setdata()` should help you. see synccontroller code for example.,0,0.993970513343811
196197375,8584,Piccirello,2018-06-18T19:29:47Z,"i initially attempted this, but faced some confusion. do we want to store the entire `searchhandler` object in the `isession`? how do we store this as a qvariant? i wasn't sure how to do this without adding additional methods to `isession`, which didn't seem like the right approach.",0,0.9478359818458557
196394222,8584,glassez,2018-06-19T11:58:34Z,e.g.: [code block],0,0.9948378205299377
197621225,8584,Piccirello,2018-06-23T19:54:44Z,i wasn't aware this could differ between the function declaration and definition.,0,0.8818104267120361
197621380,8584,Piccirello,2018-06-23T20:06:01Z,i'm adding back some messages and removing others. let me know if you think there are some that should still be removed.,0,0.9868786931037903
197621641,8584,Piccirello,2018-06-23T20:19:38Z,i didn't understand the implications of changing this. i'll change it back.,-1,0.626213014125824
197631714,8584,glassez,2018-06-24T08:08:05Z,this means that rss::autodownloader uses rss::session and assumes that it already exists. so we need create rss::session before rss::autodownloader and delete in reverse order (rss::autodownloader can call rss::session methods in its constructor and destructor).,0,0.9934199452400208
197631802,8584,glassez,2018-06-24T08:11:16Z,i still don't see you removing that code from the destructor.,0,0.9352748990058899
197631840,8584,glassez,2018-06-24T08:13:08Z,fix `value ()` => `value ()`,0,0.9924182891845703
197631902,8584,glassez,2018-06-24T08:15:56Z,i don't see any valid reason to do it.,0,0.7887324094772339
197632029,8584,glassez,2018-06-24T08:20:55Z,it's overthinking. you can just remove it from collection. qsharedpointer will do the rest.,0,0.9767248034477234
197632056,8584,glassez,2018-06-24T08:21:53Z,please return it as json too.,0,0.9956117272377014
197632085,8584,glassez,2018-06-24T08:22:43Z,everywhere in this pr!,0,0.8210914731025696
197667854,8584,Piccirello,2018-06-25T02:44:54Z,"this is to clean up the search job after a timeout. we don't want all jobs around for the life of the session, do we? if this isn't a concern i can remove it.",0,0.991159975528717
197714083,8584,glassez,2018-06-25T08:23:16Z,client side should control job lifetime within session boundaries. yes. it can be a problem in case of wrong use. but the timeout isn't the solution. it would be better to have max jobs limit.,0,0.968906581401825
197715374,8584,glassez,2018-06-25T08:28:12Z,", why are you once again ignoring this comment?",-1,0.5268719792366028
197846454,8584,Piccirello,2018-06-25T15:47:47Z,"sorry about that, i subsequently missed this comment when reviewing on github.",-1,0.9870743751525879
197852519,8584,Piccirello,2018-06-25T16:05:41Z,"we can't rely on the web session calling delete on each search job. i don't foresee the webui doing this at all unless the user takes explicit action (e.g. closing the search tab), which very likely wouldn't happen. i think a clean up timer is our best option. i don't think a max jobs limit solves for this same issue. max jobs would prevent someone from maliciously spawning a bunch of jobs to try using all system resources. if a user has a long-lived webui session, and does many searches over time, should they suddenly no longer be allowed to run a new search?",0,0.9785997271537781
197859279,8584,glassez,2018-06-25T16:27:44Z,"why? what do you think it's for? when the session ends it destroys all session data. did i suggest to prevent it from start a new search? apparently, it wasn't clear enough... i meant delete the old search when the user starts a new one and the limit is exceeded.",0,0.9225462675094604
197900110,8584,Piccirello,2018-06-25T18:39:45Z,"it exists in the api for obvious reasons, but doesn't cleanly fit into the actual webui usage. unless the user takes an explicit action, like closing a search tab (as the current gui `searchwidget` does). in general i don't expect a user to close their search tabs- they may just close the browser tab entirely. of course, this is still a valid way to delete the search jobs. but we should also account for long-lived sessions. thanks for clarifying. i still fail to see why we would set an arbitrary limit on this, when this limit doesn't also exist in the gui (please correct me if this is wrong). my goal with the timer is to *eventually* delete the search job when the user session is long-lived and the user doesn't explicitly delete it. maybe all this is unnecessary and we just wait until the session is deleted to delete all search jobs.",1,0.9413183927536011
201880294,8584,Piccirello,2018-07-12T00:39:29Z,"i've increased this timeout to 1 hour. i still firmly believe a timer is a good idea, but also welcome other input. web sessions are never deleted until the user clicks log out. which i strongly doubt any users actually do.",0,0.5721979737281799
201930553,8584,Chocobo1,2018-07-12T07:13:49Z,"i guess `searchcontroller::startaction()` could be invoked as many times as user want, the problem is qtimer could be a limited resource on some os, from qtimer doc: so maybe it is better to have a qmap that records the (id, start time) pair and have a single qtimer *private variable in class* that fires every hour.",0,0.9875521659851074
201962657,8584,glassez,2018-07-12T09:09:13Z,", if you don't know something and you're not able to learn it from the code yourself, just ask next time. session inactive time is 15 minutes. it will be deleted after (in fact, it won't be deleted exactly in 15 minutes, as i avoid (over-)using timers where possible; actually it will be deleted on next sessions-related action, i.e. when user access this (outdated) session or try to start the new one). sessions ensure that resources are freed when the session is closed (by the user or as a result of a timeout). i agree that this is not enough in some cases. each search start causes the allocation of resources, so we need to make sure that it is not excessive. but what do we really want to prevent? what's wrong with having a user have one or more active searches throughout the session (even if it's active for a few hours)? on the other hand, what can we prevent by having a timeout for each search? nothing! how many searches can i run during this time? not even during hour, but just during couple of minutes?.. so i repeat again, we should limit the number of existing searches instead.",0,0.9598225355148315
201963302,8584,glassez,2018-07-12T09:11:33Z,", please see [a link]",0,0.9932569265365601
202086359,8584,Piccirello,2018-07-12T15:49:30Z,"could you point me to where this happens in the code? i couldn't find it when i looked last night. if the session is cleared so aggressively then i'm less concerned about it. i should disable my ip whitelist rule so that i can see how often the session is recreated. it just happens in the background for me, without any auth prompt, so it appears to be one long session. the concern was around a long-lived (e.g. multi-day) session. i'll test to confirm, but this seems more unlikely now. i still don't think this is the right approach. the concern isn't concurrent sessions, it's sessions not being cleared over a long time period.",0,0.6974541544914246
202117887,8584,glassez,2018-07-12T17:33:19Z,"i.e. do you want to allow a remote user to start unlimited number of searches? why should session be cleared when it's active (i.e. actually used)? please provide me an example of use case when long lived ""searches"" bring real problems (assuming there is max searches count limit exists).",0,0.9916717410087585
202129554,8584,glassez,2018-07-12T18:09:54Z,you can search for inactive_time constant usages in webapplication code.,0,0.9951202273368835
202528254,8584,Piccirello,2018-07-15T00:16:20Z,"what limit would you impose? my point is that a search job may exist long after it's actually ""active,"" simply because the webui does not provide a good means of setting the search job as inactive. this is just a byproduct of how people use webpages. i really don't care to belabor this point any longer. if someone else wants to provide input, please do. otherwise i plan to have a search job timer (following 's suggestion to use a single timer).",0,0.6679467558860779
202529732,8584,Piccirello,2018-07-15T02:35:12Z,"now that i'm thinking about implementation, i'm inclined to set a limit of 10 concurrent searches. it would protect against hitting the qtimer limit and was already being suggested.",0,0.9841141700744629
204228006,8584,Chocobo1,2018-07-22T05:02:12Z,"this isn't needed imo, marking it `static` will make it reside in memory at all times. there more suitable one for marking static is max_concurrent_searches.",0,0.9911422729492188
204230610,8584,Piccirello,2018-07-22T07:26:36Z,but won't this variable only get initialized once anyway?,0,0.9907192587852478
204233454,8584,Chocobo1,2018-07-22T09:14:29Z,"yes, but also that the same memory/object of max_concurrent_searches will be shared by different `searchcontroller` instances (not that you really need them anyway...).",0,0.9923382997512817
204356229,8584,zeule,2018-07-23T10:42:15Z,"the variable names says ""correct"" while the message refer to its value as ""incorrect""",0,0.9915081262588501
204366773,8584,zeule,2018-07-23T11:27:57Z,"python version uses unsigned int, please change the comparison to `==`",0,0.9951775074005127
204368868,8584,zeule,2018-07-23T11:36:06Z,`plugins` is not a list? can't understand with respect to line 65 (below).,0,0.9651726484298706
204371527,8584,zeule,2018-07-23T11:46:50Z,duplicates `searchfinished()` (both as text and execution flow).,0,0.9865182042121887
204373112,8584,zeule,2018-07-23T11:53:21Z,seems to be a bad decision to me. adds a counter-intuitive special case. i would use -1 instead. that would require to change line 138.,-1,0.9786192774772644
204374892,8584,zeule,2018-07-23T12:00:48Z,duplicates `searchfinished()`,0,0.9935018420219421
204375908,8584,zeule,2018-07-23T12:05:04Z,redundant variable.,0,0.87708580493927
204375954,8584,zeule,2018-07-23T12:05:13Z,redundant variable.,0,0.87708580493927
204375993,8584,zeule,2018-07-23T12:05:21Z,redundant variable.,0,0.87708580493927
204376240,8584,zeule,2018-07-23T12:06:22Z,maybe return a confirmation?,0,0.9926907420158386
204376425,8584,zeule,2018-07-23T12:07:09Z,duplicates `seachfinished()`,0,0.9937439560890198
204377499,8584,zeule,2018-07-23T12:11:19Z,can i reach dos state invoking this frequently enough?,0,0.9943351149559021
204377694,8584,zeule,2018-07-23T12:12:04Z,can i reach dos state invoking this frequently enough?,0,0.9943351149559021
204382185,8584,zeule,2018-07-23T12:29:08Z,~consider~ [code block] impossible because iterators in qt dictionaries returns value but not a pair when dereferenced.,0,0.9711472988128662
204382702,8584,zeule,2018-07-23T12:31:07Z,doesn't seem to differ from `searchfinished()`,0,0.9910708665847778
204383866,8584,zeule,2018-07-23T12:35:28Z,why do you test in line 311 without removing these characters?,0,0.9891307353973389
204396404,8584,glassez,2018-07-23T13:17:07Z,what type of `plugin` do you expect?,0,0.9941884279251099
204398251,8584,zeule,2018-07-23T13:23:03Z,"oh, sorry. stupid qt dictionaries...",-1,0.9963788390159607
204472831,8584,glassez,2018-07-23T16:34:04Z,"what do you mean exactly? and what do you suggest to change in line 138: `int limit = params()[""limit""].toint();` the idea is treat `limit <= 0` as unlimited. but if we pass 0 to `qlist::mid()` we will get empty result, since **qlist** use 0 as is.",0,0.9930906295776367
204481146,8584,zeule,2018-07-23T17:00:41Z,"i suggest to use only negative number as absence of the limit: `int limit = params().value(""limit"", ""-1"").toint()`. that's right. i would expect exactly that. as a side note, ""limit"" seems to me a bad choice for the parameter name, which is ""count"". ""limit"" could mean ""offset"" + ""count"", the last index, and maybe something else.",0,0.9003254771232605
204485253,8584,zeule,2018-07-23T17:13:44Z,", what exactly is wrong here? you have to copy keys into a dedicated container to iterate over them. is it not stupid?",-1,0.9880926012992859
204486020,8584,glassez,2018-07-23T17:16:16Z,"you've probably never dealt with sql? limit means ""upper bound on the number of rows returned by the entire select statement"" there. but you're certainly going to say something like ""stupid sql..."". imo, the ""limit"" term is better than ""count"", since it means ""at most n values"" but not ""exactly n values"" and that's exactly what we want here. or let the user request a deliberately empty result subset is a good idea for you? then explain why you need it.",-1,0.7163572907447815
204488483,8584,zeule,2018-07-23T17:24:16Z,"have no idea what are you referring to, `select blah-blah limit 0` returns empty dataset. don't need it right away, of course, but can easily imagine scripting using the api and then 0 with a special meaning would add needless tests.",0,0.8912128806114197
204490414,8584,glassez,2018-07-23T17:30:41Z,"i only referred to it to show this term might mean not only `""offset"" + ""count"", the last index, and maybe something else`... ok.",0,0.9895454049110413
204491322,8584,glassez,2018-07-23T17:33:27Z,why don't use another way to iterate over it?,0,0.9850148558616638
204492317,8584,zeule,2018-07-23T17:36:33Z,return to using iterators explicitly? or what did you suggest?,0,0.9917861819267273
204494724,8584,zeule,2018-07-23T17:43:59Z,"that's exactly my point: ""limit"" might mean various things. probably not a big deal for sql, where one works with a particular dialect for years, but might be not so good for yet another application with its own api.",0,0.976737916469574
204495499,8584,glassez,2018-07-23T17:46:17Z,why not? or is it no longer fashionable?,0,0.9764922857284546
204496691,8584,zeule,2018-07-23T17:50:01Z,"sure, everyone fancies the range based for loop. explicit iterators are so old-styled.",0,0.9064996242523193
204498482,8584,glassez,2018-07-23T17:55:28Z,"imo, there is no place for fashion in programming. we should select the appropriate tool in each case.",0,0.9670493006706238
204607903,8584,Piccirello,2018-07-24T02:33:53Z,"good catch, will fix this.",1,0.9912240505218506
204608552,8584,Piccirello,2018-07-24T02:39:21Z,i'll also update the usage in `searchwidget.cpp`,0,0.9953180551528931
204609918,8584,Piccirello,2018-07-24T02:51:41Z,"`plugins` is either a single plugin, `all`, `enabled`, or `multi` (carry over from gui that means `enabled`). this api should probably support a comma/pipe separated list of plugins to use.",0,0.9939203262329102
204610637,8584,Piccirello,2018-07-24T02:57:56Z,will refactor,0,0.994446873664856
204610839,8584,Piccirello,2018-07-24T02:59:40Z,"`pluginmanager->checkforupdates()` doesn't return anything, so this would be a larger refactor.",0,0.9916913509368896
204610968,8584,Piccirello,2018-07-24T03:00:44Z,is this function more vulnerable than any other api endpoint?,0,0.981219470500946
204614437,8584,Chocobo1,2018-07-24T03:32:28Z,`if (!utils::foreignapps::pythoninfo().isvalid())` would be better.,0,0.9900897741317749
204709748,8584,zeule,2018-07-24T10:51:48Z,"%1 *out* of %2, probably",0,0.9542184472084045
204710465,8584,zeule,2018-07-24T10:54:25Z,"i don't quite understand why do you call `removeactivesearch()` here, as it looks to me that `searchhandler::cancelsearch()` will emit the `searchfinished()` signal, thus calling `searchcontroller::searchfinished()` via the lambda defined above.",0,0.9658733606338501
204710719,8584,zeule,2018-07-24T10:55:33Z,", could you comment on this, please?",0,0.9801658391952515
204711345,8584,zeule,2018-07-24T10:57:57Z,"`qlist::append()` will concatenate lists, as well as `qlist::operator<<(const qlist&)`, so you can drop the looping.",0,0.9939555525779724
204711887,8584,zeule,2018-07-24T10:59:58Z,"could you, please, declare these keys as constants? i.e.: [code block]",0,0.9954169988632202
204712682,8584,zeule,2018-07-24T11:03:19Z,"with as few as max 5 elements and string keys, `qmap` will be faster.",0,0.991263747215271
204714705,8584,zeule,2018-07-24T11:11:30Z,"those two functions (update and install) consume resources and free them only after downloading (successfully or not) a file. if downloading speed is low, the resources can be acquires as many times as the api calls were made.",0,0.9926345944404602
204976952,8584,Piccirello,2018-07-25T04:18:01Z,that's why i left the `limit` parameter as optional. you only need to send it if you explicitly want to impose a limit. i have to agree with this. i think count will be too confusing when the api returns fewer results.,0,0.9772391319274902
204978395,8584,Piccirello,2018-07-25T04:32:14Z,"it would trigger downstream, but i like the removal to be explicit. it's also a fairly cheap operation",0,0.8368706107139587
204981204,8584,Piccirello,2018-07-25T04:56:43Z,"in that case i suppose it's theoretically possible, though these apis are csrf-protected posts. only the user can invoke them.",0,0.9884262084960938
206154589,8584,zeule,2018-07-30T14:29:33Z,"i beg your pardon for slowpoking, but the plural form has to be used here. could you, correct, please? `incorrect update data were received for %1 out of %2 plugins.`",-1,0.9463451504707336
206156829,8584,zeule,2018-07-30T14:35:14Z,for maintenance it would be cool to relocate the code for creating these values somewhere nearby (just a note).,0,0.9801009893417358
206162538,8584,zeule,2018-07-30T14:43:14Z,ok,0,0.9233372807502747
206167287,8584,zeule,2018-07-30T14:48:50Z,i would add [code block] to the `isession` class to shorten all the similar calls.,0,0.994099497795105
206231180,8584,zeule,2018-07-30T16:08:47Z,"why does this need to be so complicated? why is the id string first of all? could you explain, please, why a simple interger number does not suit here?",0,0.9746923446655273
206264207,8584,Chocobo1,2018-07-30T17:52:38Z,`for (const qstring &pluginname : copyasconst(updateinfo.keys())) {`,0,0.9937758445739746
206264317,8584,Chocobo1,2018-07-30T17:52:59Z,`for (const qstring &searchid : copyasconst(searchhandlers.keys())) {`,0,0.9932401180267334
206264499,8584,Chocobo1,2018-07-30T17:53:33Z,`for (const qstring &category : copyasconst(searchpluginmanager::instance()->getplugincategories(name)))`,0,0.9923208355903625
206280172,8584,glassez,2018-07-30T18:43:43Z,`copyasconst` seems to be required only when the method returns a copy of an existing container rather than creating it.,0,0.9925010800361633
209106710,8584,Piccirello,2018-08-09T23:17:02Z,i think it sounds weird with the plural form. easy fix though: remove was/were entirely :),-1,0.8509964346885681
209107501,8584,Piccirello,2018-08-09T23:21:30Z,this code was recycled from the webui session id generation.,0,0.994741678237915
209241193,8584,zeule,2018-08-10T12:24:13Z,how does this address the question?,0,0.9912759065628052
209245307,8584,Piccirello,2018-08-10T12:40:41Z,i was responding to this question.,0,0.9455432295799255
209246271,8584,zeule,2018-08-10T12:44:17Z,"errrr... thank you, of course, but why does the id need to be that complicated?",1,0.6643742918968201
211088720,8584,Piccirello,2018-08-19T00:39:51Z,i've switched the id over to using an integer.,0,0.9944615364074707
213193796,8584,Chocobo1,2018-08-28T06:11:59Z,"i skimmed through, just one last thing from me: [code block]",0,0.9874629974365234
214377567,8584,Piccirello,2018-08-31T14:45:31Z,can i also omit the `copyasconst` from line 293: `for (const qstring &pluginname : copyasconst(updateinfo.keys())) {`? `updateinfo` is already const.,0,0.9959185719490051
214383713,8584,Chocobo1,2018-08-31T15:04:31Z,"yes, but not because it is already const.",0,0.9926900267601013
216555790,8584,glassez,2018-09-11T06:17:13Z,coding style is broken.,-1,0.757427453994751
216556074,8584,glassez,2018-09-11T06:19:23Z,redundant empty line.,-1,0.7013556957244873
218335003,8584,glassez,2018-09-18T08:10:51Z,"it's wrong assumption. there are no post, get, etc. on this app level. it's not web api. it's just ""serial"" api, that gets serialized data, process it and returns serialized result. if you need some webapi related limitations you need to implement them one level up.",0,0.8921496272087097
218477760,8584,glassez,2018-09-18T15:21:01Z,i just thought you were focusing on the request method...,0,0.9821892380714417
120285247,6911,zeule,2017-06-06T07:46:38Z,this is shorter: [code block],0,0.9951596856117249
120285632,6911,zeule,2017-06-06T07:48:55Z,"`template whitespace < `, please.",0,0.9903258085250854
120285877,6911,zeule,2017-06-06T07:50:08Z,you may write [code block],0,0.9954611659049988
120286617,6911,zeule,2017-06-06T07:54:15Z,"camelcase, please, for both parameters.",0,0.9908232688903809
120287162,6911,zeule,2017-06-06T07:57:33Z,why are these two condition pairs not joined under a single `if`?,0,0.9853317141532898
120287628,6911,zeule,2017-06-06T07:59:55Z,"camelcase, please (`settoentrydict()`)",0,0.9942839741706848
120307178,6911,zeule,2017-06-06T09:38:01Z,isn't `(qstring() == qstring()) == true` and as such this and the next comparisons are redundant?,0,0.9939180612564087
120404363,6911,glassez,2017-06-06T16:04:03Z,use `qset::fromlist()` and `qset::tolist()`.,0,0.9948009252548218
120405768,6911,glassez,2017-06-06T16:09:14Z,redundant blank line.,0,0.8117470145225525
120405800,6911,glassez,2017-06-06T16:09:24Z,redundant blank line.,0,0.8117470145225525
120407826,6911,glassez,2017-06-06T16:16:30Z,"it's better not to use such ""silently ignore wrong type"" approach. put `q_assert(entry.type() == entry::dict_t)` at start of this function. you should perform checking at caller side (ie where you call `entrydicttoset()`).",0,0.9908173084259033
120412911,6911,glassez,2017-06-06T16:37:18Z,qt containers are implicitly shared so you don't need return const reference. use `qset session::tags() const`.,0,0.9938036203384399
120413397,6911,glassez,2017-06-06T16:38:59Z,isempty,0,0.9397313594818115
120414157,6911,glassez,2017-06-06T16:41:47Z,`qset::remove()` returns `bool` so drop `> 0`.,0,0.9929641485214233
120414947,6911,glassez,2017-06-06T16:45:05Z,what's the point of these (torrenttagadded and torrenttagremoved) signals?,0,0.9457324147224426
120415740,6911,glassez,2017-06-06T16:48:12Z,settoentrydict,0,0.9923306703567505
120416563,6911,glassez,2017-06-06T16:50:53Z,why dou you store tags as dictionary? why not as list?,0,0.9854073524475098
120417022,6911,glassez,2017-06-06T16:52:42Z,why not `isvalidtag()`?,0,0.9909666776657104
120419672,6911,glassez,2017-06-06T17:03:09Z,why would you say it's not like the existing names? e.g. `anytag`.,0,0.98776775598526
120420238,6911,glassez,2017-06-06T17:05:44Z,you should change it with your name/email.,0,0.9948461055755615
120420511,6911,glassez,2017-06-06T17:06:35Z,"move this include one line up (before ""base/bittorrent/torrenthandle.h"").",0,0.995261013507843
120420952,6911,glassez,2017-06-06T17:08:29Z,fix coding style: [code block] `{}` is for empty methods (like destructor below).,0,0.9942896366119385
120424166,6911,glassez,2017-06-06T17:21:53Z,you should check invariant here. use `q_assert(m_torrentscount >= 0);`,0,0.9958431124687195
120424341,6911,glassez,2017-06-06T17:22:29Z,or `q_assert(m_torrentscount > 0);` at method start.,0,0.9942502975463867
120424594,6911,glassez,2017-06-06T17:23:25Z,please use qt5 connect syntax in new code.,0,0.9948540329933167
120424926,6911,glassez,2017-06-06T17:24:38Z,"in qtcreator you can use ""refactor -> convert connect() to qt 5 style"".",0,0.9955717325210571
120425215,6911,glassez,2017-06-06T17:25:44Z,fix variable name according to qbittorrent coding style: `m_tagitems`.,0,0.9947086572647095
120426664,6911,glassez,2017-06-06T17:31:14Z,use either [code block] or [code block],0,0.9956703186035156
120427031,6911,glassez,2017-06-06T17:32:48Z,`m_tagrows`,0,0.9930021166801453
120427616,6911,glassez,2017-06-06T17:34:52Z,check for item existence before!,0,0.9940592050552368
120428658,6911,glassez,2017-06-06T17:39:02Z,`qstring tagfiltermodel::getspecialalltag()`,0,0.9936271905899048
120435045,6911,glassez,2017-06-06T18:02:30Z,why do you use pointers for al_tag and untagged_tag?,0,0.9917730689048767
120435483,6911,glassez,2017-06-06T18:03:55Z,"iirc, `bittorrent::session::isvalidtag()` returns **true** for both al_tag and untagged_tag.",0,0.9923210740089417
120435756,6911,glassez,2017-06-06T18:04:51Z,untaggedcount,0,0.9844006896018982
120435890,6911,glassez,2017-06-06T18:05:21Z,`[](torrent *torrent)`,0,0.992608368396759
120436152,6911,glassez,2017-06-06T18:06:31Z,`torrent *torrent`,0,0.9882286787033081
120438021,6911,glassez,2017-06-06T18:13:05Z,move methods at top of fields.,0,0.9927458167076111
120438741,6911,glassez,2017-06-06T18:15:01Z,isn't this method redundant? `qmap::value` does the same.,0,0.9919341802597046
120517572,6911,tgregerson,2017-06-07T01:35:09Z,done.,0,0.9897913336753845
120517580,6911,tgregerson,2017-06-07T01:35:15Z,done.,0,0.9897913336753845
120517610,6911,tgregerson,2017-06-07T01:35:34Z,"done. fyi, this line was inserted by uncrustify, so the script may need fixing.",0,0.984546422958374
120517615,6911,tgregerson,2017-06-07T01:35:39Z,done. again uncrustify.,-1,0.6367843151092529
120517626,6911,tgregerson,2017-06-07T01:35:48Z,thanks for pointing that out. i read up on qt's containers after reading your comments.,1,0.9788689017295837
120517630,6911,tgregerson,2017-06-07T01:35:52Z,isvalidtag() is fine. done.,0,0.9734109044075012
120517640,6911,tgregerson,2017-06-07T01:35:59Z,done.,0,0.9897913336753845
120517655,6911,tgregerson,2017-06-07T01:36:12Z,"the tag filter has a special ""untagged"" filter for torrents that have 0 tags assigned to them. any time you add a tag to a torrent that was previously untagged, you need to remove it from the that filter. any time you remove the last tag from a torrent, you need to add it to that filter. this is why a count of the number of tags is passed with the signal.",0,0.9891007542610168
120517682,6911,tgregerson,2017-06-07T01:36:29Z,dictionary keys seemed more semantically similar to a set. not a strong preference though. it would be fine to switch it to a list if that's what you want.,0,0.9742131233215332
120517701,6911,tgregerson,2017-06-07T01:36:40Z,done,0,0.8682363629341125
120517714,6911,tgregerson,2017-06-07T01:36:46Z,done,0,0.8682363629341125
120518046,6911,tgregerson,2017-06-07T01:40:39Z,"yeah, i went back and forth on whether to call it anytag. this issue is that what these things functionally mean is ""select all torrents regardless of hash / category / tag"". anyhash is an accurate name because all torrents have a hash. anytag is not accurate because not all torrents have tags. thus this filter would also include torrents that do not have ""any tag"". perhaps it would be better if they were all changed to *filteringdisabled to be consistent.",0,0.9532515406608582
120518060,6911,tgregerson,2017-06-07T01:40:48Z,done.,0,0.9897913336753845
120518069,6911,tgregerson,2017-06-07T01:40:54Z,done,0,0.8682363629341125
120518082,6911,tgregerson,2017-06-07T01:40:59Z,done.,0,0.9897913336753845
120518091,6911,tgregerson,2017-06-07T01:41:05Z,done,0,0.8682363629341125
120518098,6911,tgregerson,2017-06-07T01:41:09Z,done.,0,0.9897913336753845
120518107,6911,tgregerson,2017-06-07T01:41:14Z,done,0,0.8682363629341125
120518123,6911,tgregerson,2017-06-07T01:41:18Z,done.,0,0.9897913336753845
120518147,6911,tgregerson,2017-06-07T01:41:22Z,done.,0,0.9897913336753845
120518155,6911,tgregerson,2017-06-07T01:41:26Z,done.,0,0.9897913336753845
120518165,6911,tgregerson,2017-06-07T01:41:34Z,done.,0,0.9897913336753845
120518181,6911,tgregerson,2017-06-07T01:41:47Z,"this is a design pattern for safely using objects with static storage duration. allocating them inside a function ensures thread-safe initialization with well-defined order. by allocating them with new and never destroying them (hence the pointers), you avoid potential race conditions caused by the fact that the c++ compiler only provides weak guarantees on destructor ordering for static objects. there is no specific issue with this code that requires it, it's just good general practice to avoid bugs being introduced later. you are right about isvalidtag - good catch. it was missing a call to trimmed() on the string to catch whitespace-only tags.",1,0.893312394618988
120518211,6911,tgregerson,2017-06-07T01:42:11Z,done.,0,0.9897913336753845
120518243,6911,tgregerson,2017-06-07T01:42:35Z,done.,0,0.9897913336753845
120518248,6911,tgregerson,2017-06-07T01:42:38Z,done.,0,0.9897913336753845
120518264,6911,tgregerson,2017-06-07T01:42:49Z,"it's probably worth keeping as a convenience wrapper since it gets called a lot, but i used qmap::value to make it a little more succinct.",0,0.9776436686515808
120518277,6911,tgregerson,2017-06-07T01:42:54Z,done.,0,0.9897913336753845
120518284,6911,tgregerson,2017-06-07T01:42:57Z,done.,0,0.9897913336753845
120528822,6911,Chocobo1,2017-06-07T03:43:24Z,"minor thing: `!tag.contains(',')`",0,0.9482920169830322
120528880,6911,Chocobo1,2017-06-07T03:44:14Z,`bool hastag(const qstring &tag) const;`,0,0.9941021800041199
120528974,6911,Chocobo1,2017-06-07T03:45:38Z,use camel case for `new_tag_count` and below,0,0.9939059615135193
120529148,6911,Chocobo1,2017-06-07T03:47:28Z,you should use camel case for variable names (pls check the whole pr).,0,0.9942756295204163
120529537,6911,Chocobo1,2017-06-07T03:52:02Z,i would prefer doing checks in 2 steps: [code block],0,0.991253674030304
120530323,6911,Chocobo1,2017-06-07T04:01:32Z,pls move to below of `torrent_added_notifications`,0,0.9949634075164795
120530472,6911,Chocobo1,2017-06-07T04:03:46Z,add empty line before and after,0,0.9920005798339844
120530500,6911,Chocobo1,2017-06-07T04:04:08Z,add empty line before and after if you want.,0,0.9915372133255005
120530765,6911,Chocobo1,2017-06-07T04:07:47Z,`qstringlist::join`?,0,0.9944841265678406
120530873,6911,Chocobo1,2017-06-07T04:09:29Z,"pls use qt5 connect syntax, everywhere pls.",0,0.9952390193939209
120531078,6911,Chocobo1,2017-06-07T04:12:10Z,~~you can omit this last parameter.~~ update: don't change it,0,0.9927664995193481
120531152,6911,Chocobo1,2017-06-07T04:13:13Z,combine [code block] and split line if too long,0,0.992473840713501
120531330,6911,Chocobo1,2017-06-07T04:15:44Z,"no need for `pref`, pls inline",0,0.9936498999595642
120531662,6911,Chocobo1,2017-06-07T04:19:45Z,`tr(dialog_title.tostdstring().c_str())` this is not translatable. and why not just use `dialog_title` here?,0,0.9932472705841064
120531726,6911,Chocobo1,2017-06-07T04:20:27Z,`bool ok = false;`,0,0.992071807384491
120531809,6911,Chocobo1,2017-06-07T04:21:37Z,pls give a default value,0,0.9930480122566223
120531954,6911,Chocobo1,2017-06-07T04:23:28Z,"`tr(error.tostdstring().c_str())` won't work, use e.g. `tr(""abc %1 %2"").arg(""first"").arg(""second"")`",0,0.9921017289161682
120532088,6911,Chocobo1,2017-06-07T04:25:00Z,"also, i would prefer `while () {}` if possible.",0,0.9937494993209839
120562150,6911,glassez,2017-06-07T08:21:16Z,"the interface of the object should be meaningful regardless of who uses it and how. in your case, the session ""says"": my torrent added (removed) tag, but does not indicate on this torrent. look at other similar signals and do your same. besides, you must omit ""new tag count"" parameter, because the observer can obtain it from the torrent itself (`torrent->tags().count()`).",0,0.9936730861663818
120562627,6911,glassez,2017-06-07T08:23:39Z,", i hope i don't need to comment all points with same issues. if i comment something you should deal with other similar code too.",0,0.7074978351593018
120562876,6911,glassez,2017-06-07T08:24:53Z,and it would be better to enclose this expression: [code block],0,0.9950372576713562
120563143,6911,glassez,2017-06-07T08:26:16Z,"as i said above it should be changed to `void handletorrenttagadded(torrenthandle *const torrent, const qstring &tag)`.",0,0.995752215385437
120564222,6911,glassez,2017-06-07T08:31:41Z,please do it. i don't see any serious reasons not to.,0,0.7670655250549316
120587708,6911,glassez,2017-06-07T10:21:48Z,"in other words it means ""filter accepts torrents with any hash/category/tag"" (""any tag"" means any tag or any set of tag or no tag, there is nothing wrong) so current names are valid.",0,0.9927864670753479
120588599,6911,glassez,2017-06-07T10:26:12Z,shouldn't we have a more strict rule for tags? i would allow only alphanumeric characters and perhaps spaces. also i would limit the maximum length of the tag.,0,0.9867120981216431
120687412,6911,glassez,2017-06-07T17:07:48Z,no. qset::fromlist is shorter.,0,0.9908213019371033
120687680,6911,glassez,2017-06-07T17:08:51Z,no. qset::tolist is shorter.,0,0.9898059964179993
120687763,6911,zeule,2017-06-07T17:09:14Z,i forgot to remove outdated comments :(,-1,0.9644854068756104
120688541,6911,glassez,2017-06-07T17:12:24Z,"see comment in the code above. the problem is `qstring() == qstring("""")` is true.",0,0.9941164255142212
120784873,6911,tgregerson,2017-06-08T01:59:05Z,"yeah, that makes sense. done.",0,0.9200652837753296
120784954,6911,tgregerson,2017-06-08T01:59:51Z,"i switched it back to anytag and added a comment explaining that ""any"" means any permutation rather than any individual item.",0,0.9932265877723694
120785004,6911,tgregerson,2017-06-08T02:00:24Z,"i appreciate your patience, and apologize to the reviewers for not catching more of these minor style issues before sending the pr. i went through the diffs again and tried to apply all the general comments. sorry if i have missed anything.",-1,0.9793883562088013
120785065,6911,tgregerson,2017-06-08T02:01:01Z,"string-to-char: done. curious, why do you prefer wrapping the return statement? about strict tags, i would really prefer not restricting characters too much. when using similar systems in other torrent clients, i have often found it useful to be able to include non-alphanum symbols. just as one example, there is a band named ""!"". i can see the motivation for restricting the maximum length because super long tags could cause issues with the ui. do you have a specific value in mind? i don't see any limit on category lengths, but maybe i am missing it.",0,0.9313787221908569
120785088,6911,tgregerson,2017-06-08T02:01:11Z,done,0,0.8682363629341125
120785102,6911,tgregerson,2017-06-08T02:01:23Z,fixed as above.,0,0.9944182634353638
120785206,6911,tgregerson,2017-06-08T02:02:27Z,"yeah, sorry for making you guys point this minor style guide stuff out. i have to use the other style all day at work, so it is a battle against my instincts.",-1,0.9923480749130249
120785213,6911,tgregerson,2017-06-08T02:02:32Z,done.,0,0.9897913336753845
120785229,6911,tgregerson,2017-06-08T02:02:38Z,done.,0,0.9897913336753845
120785239,6911,tgregerson,2017-06-08T02:02:43Z,done.,0,0.9897913336753845
120785254,6911,tgregerson,2017-06-08T02:02:48Z,done.,0,0.9897913336753845
120785264,6911,tgregerson,2017-06-08T02:02:52Z,good call.,1,0.9718003869056702
120785270,6911,tgregerson,2017-06-08T02:03:01Z,i figured consistent syntax should be used within a file. i went ahead and ported all the old code's calls to qt5 as well so the file would be consistent.,0,0.9885715842247009
120785291,6911,tgregerson,2017-06-08T02:03:11Z,done,0,0.8682363629341125
120785300,6911,tgregerson,2017-06-08T02:03:17Z,done.,0,0.9897913336753845
120785310,6911,tgregerson,2017-06-08T02:03:24Z,i moved the tr()'s to the call sites. there are actually only two possible values for the title.,0,0.9937216639518738
120785327,6911,tgregerson,2017-06-08T02:03:32Z,done,0,0.8682363629341125
120785336,6911,tgregerson,2017-06-08T02:03:37Z,done.,0,0.9897913336753845
120785342,6911,tgregerson,2017-06-08T02:03:42Z,done.,0,0.9897913336753845
120785350,6911,tgregerson,2017-06-08T02:03:49Z,no problem.,0,0.7675672173500061
120785377,6911,tgregerson,2017-06-08T02:04:03Z,done.,0,0.9897913336753845
120785390,6911,tgregerson,2017-06-08T02:04:10Z,done.,0,0.9897913336753845
120785412,6911,tgregerson,2017-06-08T02:04:16Z,rendered obsolete.,0,0.8729898929595947
120786517,6911,tgregerson,2017-06-08T02:14:57Z,it needs to be separate because there are 3 different cases here: - both torrent and session have the tag already (do nothing). - the session has the tag but the torrent doesn't (add the tag to the torrent). - neither the session nor the torrent has the tag (add the tag to both of them). ...and i have actually split these conditionals up further at the request of another review comment.,0,0.9852414727210999
120786631,6911,tgregerson,2017-06-08T02:15:58Z,done.,0,0.9897913336753845
121074241,6911,zeule,2017-06-09T08:30:34Z,redundant variable.,0,0.87708580493927
121074539,6911,zeule,2017-06-09T08:32:28Z,you might want to shorten this into a single `return` statement: [code block],0,0.9945535659790039
121074835,6911,zeule,2017-06-09T08:34:10Z,you might want to shorten this into a single statement: [code block],0,0.9934945702552795
121075321,6911,zeule,2017-06-09T08:36:37Z,can be shortened to a single `return` statement.,0,0.9926815629005432
121115770,6911,zeule,2017-06-09T12:40:16Z,"i don't see any sense in keeping twice the data for two special cases. imo, a function `qstring tagdisplayname(const qstring &tag)` would be a better choice.",0,0.836834728717804
121116045,6911,zeule,2017-06-09T12:41:49Z,unneeded line break.,0,0.9268866777420044
121118559,6911,zeule,2017-06-09T12:53:58Z,plasma icons themes contain special icons for tags. it might make sense to use them here (optionally). for example: [code block],0,0.9926503300666809
121119372,6911,zeule,2017-06-09T12:57:59Z,you do search second time here (the first was two lines above).,0,0.9935054779052734
121119437,6911,zeule,2017-06-09T12:58:20Z,same here (search twice for the same item).,0,0.991256594657898
121119513,6911,zeule,2017-06-09T12:58:41Z,... and here,0,0.9042074084281921
121119787,6911,zeule,2017-06-09T13:00:11Z,why pointer?,0,0.9895949363708496
121120034,6911,zeule,2017-06-09T13:01:32Z,why not `using bittorrent::torrenthandle`? why did you change the name?,0,0.99356609582901
121120610,6911,zeule,2017-06-09T13:04:29Z,and if `item == nullptr` what does it mean? dis-synchronization between the model and actual tags? shouldn't it be reported to log or in another way?,0,0.9936047196388245
121120992,6911,zeule,2017-06-09T13:06:43Z,"questionable decision, imo.",-1,0.9229871034622192
121125841,6911,zeule,2017-06-09T13:29:18Z,"move comma to the previous line, please.",0,0.9476300477981567
121126139,6911,zeule,2017-06-09T13:30:39Z,"`geticon(""tag-new"", ""list-add"")`",0,0.9935797452926636
121126277,6911,zeule,2017-06-09T13:31:19Z,"`geticon(""tag-delete"", ""list-remove"")`",0,0.9940908551216125
121126537,6911,zeule,2017-06-09T13:32:27Z,maybe it would be better to show this action disabled? for consistency.,0,0.9668750762939453
121142932,6911,zeule,2017-06-09T14:39:59Z,"move comma to the previous line, please.",0,0.9476300477981567
121144262,6911,zeule,2017-06-09T14:45:04Z,"the action text is not consistent with the two actions above. consider removing "" tags"" from those two actions. also consider ""tag-add"" and ""tag-delete"" icons, please.",0,0.9895281195640564
121174494,6911,glassez,2017-06-09T16:58:10Z,"this is a subjective opinion (i don't remember that we had something about this in the coding style, though there is something similar in the initialization list of constructors). personally last time i prefer to start all line breaks from the operator or comma.",0,0.9579540491104126
121176350,6911,glassez,2017-06-09T17:07:08Z,"iirc, this is common behavior of all torrent filter widgets. it looks like one widget composed of several full-sized subwidgets.",0,0.974845290184021
121179980,6911,zeule,2017-06-09T17:24:29Z,"right, but (a) tag list can become long and (b) user might want to correlate tags with trackers and categories.",0,0.9908336997032166
121183509,6911,glassez,2017-06-09T17:42:04Z,maybe this is really not appropriate place for tags widget? i still think we should leave basic tags support in this pr and start any advanced investigations later.,0,0.9061896800994873
121194691,6911,zeule,2017-06-09T18:34:36Z,ok.,0,0.980760931968689
121551284,6911,tgregerson,2017-06-12T23:23:41Z,done.,0,0.9897913336753845
121551297,6911,tgregerson,2017-06-12T23:23:47Z,"done, but i had to replace the braces with a direct call to the container constructor, because the compiler cannot deduce the correct type from braces in a conditional.",0,0.993024468421936
121551309,6911,tgregerson,2017-06-12T23:23:52Z,done.,0,0.9897913336753845
121551315,6911,tgregerson,2017-06-12T23:23:56Z,done.,0,0.9897913336753845
121551323,6911,tgregerson,2017-06-12T23:24:01Z,done.,0,0.9897913336753845
121551348,6911,tgregerson,2017-06-12T23:24:05Z,done.,0,0.9897913336753845
121551541,6911,tgregerson,2017-06-12T23:25:31Z,"ok. maybe it's because i don't have any additional themes installed on my development machine, but it looks the same as before.",0,0.954059362411499
121551585,6911,tgregerson,2017-06-12T23:25:50Z,"yes, this is as intended. they are searching for different items. the first one searches for the special ""untagged"" entry, the second one searches for the tag that was just added.",0,0.9920382499694824
121551602,6911,tgregerson,2017-06-12T23:25:59Z,as above.,0,0.9881609678268433
121551622,6911,tgregerson,2017-06-12T23:26:08Z,as above.,0,0.9881609678268433
121551667,6911,tgregerson,2017-06-12T23:26:25Z,"[a link] this is the second question i've gotten on this, so if people feel this idiom is too obscure and hurts readability, we can get rid of the static and just create a new string object on every call.",0,0.9904719591140747
121551723,6911,tgregerson,2017-06-12T23:26:44Z,"iirc, it was like this in the code i copied over from the categoryfiltermodel. if you don't like it, i'm happy to change it.",1,0.9183387756347656
121551747,6911,tgregerson,2017-06-12T23:26:59Z,"yes, that would indicate some sort of internal inconsistency. i added a qwarning.",0,0.9883091449737549
121551840,6911,tgregerson,2017-06-12T23:27:38Z,"the leading comma seems like a somewhat unusual style to me too, but afaict, it seems like a common thing to do in the code i've seen. i am just trying to stay consistent. if there is a style recommendation one way or another, i'm happy to follow it.",1,0.9603281021118164
121551873,6911,tgregerson,2017-06-12T23:27:59Z,done.,0,0.9897913336753845
121551881,6911,tgregerson,2017-06-12T23:28:03Z,"i was going for consistency with categories, which also omits the ""remove category"" option from all / uncategorized. so if one is changed, we should probably change both.",0,0.9849883317947388
121551894,6911,tgregerson,2017-06-12T23:28:07Z,done.,0,0.9897913336753845
121551911,6911,tgregerson,2017-06-12T23:28:17Z,done.,0,0.9897913336753845
121686869,6911,glassez,2017-06-13T14:02:59Z,why not [code block] as you did below?,0,0.9905349612236023
121689847,6911,glassez,2017-06-13T14:13:16Z,"imo, check for valid tag here (and in `session::hastag()` too) is overkill.",-1,0.6463385224342346
121692942,6911,glassez,2017-06-13T14:23:14Z,done?.. it's still here!,0,0.4773898124694824
121699582,6911,glassez,2017-06-13T14:44:31Z,"these two functions do not require access to private members of the tagfiltermodel class, then why make them class methods? why not just put them in .cpp?",0,0.9934725761413574
121700345,6911,glassez,2017-06-13T14:46:48Z,no `else` branch if `if` ends with `return`.,0,0.991738498210907
121700902,6911,glassez,2017-06-13T14:48:41Z,"parent cannot be valid in list model index, isn't it? so we don't need to check it.",0,0.9920926690101624
121703395,6911,glassez,2017-06-13T14:56:58Z,invalid indentation for brace enclosed case. see coding guidelines.,0,0.9754869341850281
121703470,6911,glassez,2017-06-13T14:57:10Z,invalid indentation for brace enclosed case. see coding guidelines.,0,0.9754869341850281
121704695,6911,glassez,2017-06-13T15:01:06Z,do you really need the casts below? has transferlistfilterswidget overloads for `tracker*` signals?,0,0.994891881942749
122320548,6911,tgregerson,2017-06-15T21:45:58Z,done.,0,0.9897913336753845
122321719,6911,tgregerson,2017-06-15T21:52:08Z,there's no particular reason for them to be member functions. i moved them to anonymous namespace in the cpp.,0,0.9935811758041382
122321747,6911,tgregerson,2017-06-15T21:52:18Z,done,0,0.8682363629341125
122321762,6911,tgregerson,2017-06-15T21:52:23Z,done.,0,0.9897913336753845
122321785,6911,tgregerson,2017-06-15T21:52:30Z,fixed.,0,0.9905837774276733
122321815,6911,tgregerson,2017-06-15T21:52:34Z,fixed,0,0.920660674571991
122321827,6911,tgregerson,2017-06-15T21:52:39Z,"yes, it does not compile without the cast. each signal also has a method with the same name and different arguments that it uses to emit the signal. apparently connect() cannot use the fact that only one is declared as a signal to disambiguate.",0,0.9915921688079834
122321859,6911,tgregerson,2017-06-15T21:52:48Z,removed.,0,0.9612457156181335
122401532,6911,glassez,2017-06-16T09:25:10Z,"now you have wrong indentation inside this anonymous namespace (and, imo, redundant leading and trailing blank lines).",0,0.6844496726989746
122485199,6911,glassez,2017-06-16T16:47:40Z,"the my main objections are related to `setdata()` method: 1. i don't know why `qt::displayrole` expected here (this is very old code) although `qt::editrole` should be used for simple editing purposes. 2. i do not see the point of supporting `setdata()` at all, because we do not use the standard qt model/view editing features. we can refer directly to underlying model from the caller code. it will also spare us from having to convert data to/from qvariant. i'm not asking you to edit existing code, but you should get rid of your code here.",0,0.7209314107894897
122496359,6911,zeule,2017-06-16T17:44:29Z,this member can be declared as `const`.,0,0.995701014995575
122496909,6911,zeule,2017-06-16T17:47:00Z,"don't understand why this one is needed. if you keep it, consider declaring is as `= default` instead of providing an empty body.",0,0.9275491833686829
122536609,6911,tgregerson,2017-06-16T21:24:05Z,"are there guidelines about blank lines somewhere? one of the previous reviews kept asking me to add more, so i'm having trouble figuring out what the expectations are.",-1,0.6981703042984009
122536631,6911,tgregerson,2017-06-16T21:24:11Z,"ok, i removed the indirection to setdata for the tags code and left the old code alone.",0,0.9942800998687744
122568338,6911,glassez,2017-06-17T13:03:00Z,"here we are dealing with a known valid indices, isn't it? therefore, we assume that each of them corresponds to a valid torrent unless some errors in code. so we should use `q_assert(torrent);` instead of `if-else`.",0,0.9923495054244995
122568432,6911,glassez,2017-06-17T13:07:56Z,"please use the same coding style rules for function type as for function declaration, type should be separated by space: `void (bittorrent::torrenthandle *const)`. also in header.",0,0.994249701499939
122568965,6911,tgregerson,2017-06-17T13:40:48Z,done.,0,0.9897913336753845
122568968,6911,tgregerson,2017-06-17T13:40:55Z,done.,0,0.9897913336753845
122569231,6911,Chocobo1,2017-06-17T13:58:21Z,`const qstring &tag`?,0,0.994516909122467
122569242,6911,Chocobo1,2017-06-17T13:59:36Z,i would move this comment to cpp file,0,0.9948856234550476
122569499,6911,Chocobo1,2017-06-17T14:17:44Z,pls add parentheses around `operator==` parameters,0,0.994394063949585
122569640,6911,Chocobo1,2017-06-17T14:24:24Z,"since line 613 doesn't have curly braces, you should remove it here.",0,0.9925681352615356
122569693,6911,Chocobo1,2017-06-17T14:27:55Z,i would use a `switch (){}` here,0,0.9940757751464844
122569710,6911,Chocobo1,2017-06-17T14:28:56Z,remove `qstringliteral`?,0,0.9954980611801147
122569815,6911,Chocobo1,2017-06-17T14:33:47Z,`bool session::isvalidtag(const qstring &tag) const`,0,0.9946799874305725
122569896,6911,Chocobo1,2017-06-17T14:38:21Z,i would use `emplace_back()` if possible.,0,0.9933876991271973
122569958,6911,Chocobo1,2017-06-17T14:42:03Z,"this is very minor, do you mind add [code block]",0,0.9916163086891174
122570496,6911,glassez,2017-06-17T15:09:12Z,then replace it with `qlatin1string`.,0,0.9949624538421631
122570534,6911,glassez,2017-06-17T15:11:01Z,"no, it's static.",0,0.9872220158576965
122838698,6911,tgregerson,2017-06-19T22:15:36Z,done,0,0.8682363629341125
122838716,6911,tgregerson,2017-06-19T22:15:41Z,probably it can just be removed since this is a private method.,0,0.9864739179611206
122838728,6911,tgregerson,2017-06-19T22:15:46Z,done,0,0.8682363629341125
122838745,6911,tgregerson,2017-06-19T22:15:51Z,done,0,0.8682363629341125
122838759,6911,tgregerson,2017-06-19T22:15:55Z,done.,0,0.9897913336753845
122838789,6911,tgregerson,2017-06-19T22:16:05Z,done.,0,0.9897913336753845
122838809,6911,tgregerson,2017-06-19T22:16:11Z,done.,0,0.9897913336753845
122838839,6911,tgregerson,2017-06-19T22:16:15Z,done.,0,0.9897913336753845
123005493,6911,zeule,2017-06-20T15:13:31Z,don't understand why this list is needed. update: don't understand why this list of strings is needed.,0,0.8381168842315674
123119954,6911,tgregerson,2017-06-20T23:15:33Z,deleted.,0,0.8038783669471741
123119981,6911,tgregerson,2017-06-20T23:15:44Z,done.,0,0.9897913336753845
123119992,6911,tgregerson,2017-06-20T23:15:49Z,the order of the strings corresponds to their row in the model. so it allows lookup of model row by tag and vice versa.,0,0.9944483041763306
123121381,6911,zeule,2017-06-20T23:25:51Z,but why strings? why not list of `const tagmodelitem*`? i'm continuing to ask why do you search for every item twice.,0,0.9882423281669617
123125249,6911,tgregerson,2017-06-20T23:54:59Z,"once i did a clean build, i noticed that this change caused my icons to disappear. ![a link] this is with a stock linux mint 18.1. i am not sure why it is not using the 'fallback' icon if the tags icons are not there. but i decided to revert back to the original icons i was using to avoid any problems.",1,0.6660533547401428
123129687,6911,tgregerson,2017-06-21T00:30:30Z,"sure, that is fine too. done.",0,0.7564888596534729
123217387,6911,tgregerson,2017-06-21T11:00:45Z,"no, it was committed, but i just now reverted the change. when i was doing final checks of the gui, i noticed that this had caused icons to disappear: ![a link] this is on my test system, which is a stock linux mint 18.1 (no additional icon packs installed). i'm surprised, since the icon provider was supposed to fall back to the original icon if the tag-specific icon was not present, but that doesn't seem to work.",-1,0.9206010699272156
123449447,6911,zeule,2017-06-22T08:30:47Z,"if you decided to drop that tag_name -> item dictionary, there is no need in pointer here, a straightforward list `qlist m_tagitems;` should be better?",0,0.9935506582260132
123658449,6911,tgregerson,2017-06-23T01:53:22Z,done.,0,0.9897913336753845
123702502,6911,zeule,2017-06-23T09:00:23Z,thanks!,1,0.8631753921508789
123786505,6911,glassez,2017-06-23T16:04:50Z,", what improvements do you expect from these changes? or you again driven by the fear of pointers? :)",1,0.9704495072364807
123789035,6911,zeule,2017-06-23T16:17:52Z,again double lookup. consider `void removefrommodel(const qmodelindex& index);` instead,0,0.9949021339416504
123789581,6911,zeule,2017-06-23T16:20:27Z,explicit destructor is unneeded now.,0,0.9687471389770508
123790257,6911,glassez,2017-06-23T16:23:56Z,or `void removefrommodel(int row);`,0,0.9943230152130127
123790494,6911,zeule,2017-06-23T16:25:04Z,", we got less complex code already. and yes, i avoid pointers when possible not only because c++ provides better ways to manage objects (but that's the main reason), but also because of data locality, which is important for qbt too, not because it needs all the performance of the cpu cache, but because programs like this one are active in background and provokes cache misses for other processes.",0,0.9668825268745422
123790819,6911,glassez,2017-06-23T16:26:39Z,fix coding style!,0,0.9650169610977173
123792205,6911,glassez,2017-06-23T16:33:51Z,then we should seriously consider the need to avoid using qlist where possible. see [a link] for more info.,0,0.9892110824584961
123794238,6911,tgregerson,2017-06-23T16:44:25Z,it is needed as a consequence of your request to store tagmodelitem as objects instead of pointers. the alternative is moving tagmodelitem's declaration to the header rather than forward-declaring it.,0,0.9949971437454224
123795505,6911,zeule,2017-06-23T16:50:21Z,"right, pardon me. but nevertheless why don't you save a couple of lines and declarre it as default then?",0,0.9393056631088257
123849861,6911,tgregerson,2017-06-23T21:40:33Z,done.,0,0.9897913336753845
123849889,6911,tgregerson,2017-06-23T21:40:43Z,done.,0,0.9897913336753845
123849934,6911,tgregerson,2017-06-23T21:40:57Z,done.,0,0.9897913336753845
123870045,6911,glassez,2017-06-24T04:19:57Z,why we need to search for special items? they always have const indexes.,0,0.9757406115531921
123870089,6911,glassez,2017-06-24T04:22:00Z,m_tagitems[1],0,0.994268536567688
123870121,6911,glassez,2017-06-24T04:23:30Z,or just add two const methods returning these two special items.,0,0.9950851798057556
123870132,6911,glassez,2017-06-24T04:24:17Z,m_tagitems[0],0,0.9941765069961548
123870139,6911,glassez,2017-06-24T04:24:40Z,m_tagitems[1],0,0.994268536567688
123870146,6911,glassez,2017-06-24T04:25:04Z,m_tagitems[0],0,0.9941765069961548
123870151,6911,glassez,2017-06-24T04:25:14Z,m_tagitems[1],0,0.994268536567688
123880525,6911,tgregerson,2017-06-24T16:29:39Z,"methods aren't const, since they return non-const member pointers, but otherwise done (here and elsewhere).",0,0.9927788376808167
123413260,6779,glassez,2017-06-22T03:12:35Z,shouldn't be or in this place?,0,0.823408305644989
123413432,6779,glassez,2017-06-22T03:14:44Z,there are many conditions here so it would be better to have two helper functions: isloopbackaddress and islanaddress.,0,0.9921200275421143
123510924,6779,Piccirello,2017-06-22T13:35:07Z,"the lan conditionals return true if the address isn't localhost or if local auth is enabled. therefore if an or is used and a user connects with a lan ip, the function would return true regardless of the lan conditionals. that being said, development is still underway, so don't start picking apart my changes just yet ;) once i'm finished i'll squash the changes and update this pr.",1,0.9634724855422974
123891138,6779,Chocobo1,2017-06-25T06:08:24Z,i would prefer `const qhostaddress &clientaddress`,0,0.9956138134002686
123891141,6779,Chocobo1,2017-06-25T06:08:29Z,i would prefer `const qhostaddress &clientaddress`,0,0.9956138134002686
123891279,6779,Chocobo1,2017-06-25T06:18:30Z,these 2 can move to `src\base\utils\net` if you want,0,0.9955456256866455
123891344,6779,glassez,2017-06-25T06:24:15Z,at least it shouldn't be member of abstractwebapplication.,0,0.9845298528671265
123891372,6779,Chocobo1,2017-06-25T06:26:32Z,please use: [code block],0,0.9952685236930847
123891410,6779,glassez,2017-06-25T06:28:56Z,"no. don't do it! it is considered ""bad form"" to use `else` after `return`.",-1,0.9851468205451965
123891468,6779,Chocobo1,2017-06-25T06:33:09Z,"ok, but at least it should be [code block] to save 1 comparison.",0,0.9921450018882751
123891802,6779,glassez,2017-06-25T06:54:04Z,you are again mistaken. it saves nothing.,-1,0.9559669494628906
123891834,6779,glassez,2017-06-25T06:56:23Z,"the second comparison will be executed only if the first returns false, because otherwise we will just return from the function.",0,0.993552565574646
123891861,6779,Chocobo1,2017-06-25T06:57:09Z,`0a00`,0,0.9780716896057129
123891986,6779,Chocobo1,2017-06-25T07:04:18Z,you're right. i my head was obsessed with something else.,0,0.9077017903327942
123892025,6779,Piccirello,2017-06-25T07:06:01Z,done.,0,0.9897913336753845
123892026,6779,Piccirello,2017-06-25T07:06:04Z,done.,0,0.9897913336753845
123892028,6779,Piccirello,2017-06-25T07:06:08Z,done.,0,0.9897913336753845
123892084,6779,Piccirello,2017-06-25T07:08:50Z,[a link] and [a link] are equivalent.,0,0.9939654469490051
123892118,6779,Chocobo1,2017-06-25T07:10:51Z,"use `isinsubnet(const qhostaddress &subnet, int netmask)`? i.e. `isinsubnet(qlatin1string(""10.0.0.0""), 8)` and below",0,0.9952017068862915
123892133,6779,Chocobo1,2017-06-25T07:11:43Z,"i know, the suggestion is for clarity.",0,0.9917669892311096
123892143,6779,Piccirello,2017-06-25T07:12:22Z,why? they are equivalent.,0,0.9845933318138123
123892231,6779,Chocobo1,2017-06-25T07:19:11Z,to save 1 function call in our code?,0,0.9945937991142273
123892275,6779,Chocobo1,2017-06-25T07:21:48Z,"`clientaddress` -> `addr` or some other name there is no concept of ""client"" in these 2 helper functions",0,0.9941859245300293
123892515,6779,Piccirello,2017-06-25T07:36:13Z,what's the purpose of using qlatin1string in this instance? it's not currently used for creating the ipv6 mapped 127.0.0.1 address.,0,0.9940599203109741
123892601,6779,Piccirello,2017-06-25T07:41:46Z,done.,0,0.9897913336753845
123892617,6779,Chocobo1,2017-06-25T07:43:00Z,"there are non-trivial computation in this func, maybe it make sense to add the following? [code block] update: example updated.",0,0.9951038360595703
123892750,6779,Chocobo1,2017-06-25T07:50:47Z,qhostaddress is constructed via `qhostaddress(const qstring &address)` and then from [a link] :,0,0.9950392842292786
123892762,6779,Chocobo1,2017-06-25T07:51:46Z,example updated,0,0.991643488407135
123893183,6779,Piccirello,2017-06-25T08:21:30Z,done.,0,0.9897913336753845
123893290,6779,Piccirello,2017-06-25T08:28:14Z,done.,0,0.9897913336753845
123893531,6779,Chocobo1,2017-06-25T08:42:38Z,"we use implicit type conversion in our codebase, so i'll say there is no need for explicit `qhostaddress()` construction here.",0,0.994637668132782
123893749,6779,Piccirello,2017-06-25T08:54:11Z,i can't compile without explicitly passing `qhostaddress` [code block],0,0.9917305111885071
123893798,6779,Chocobo1,2017-06-25T08:56:31Z,"hmmm, ok then.",0,0.9578062295913696
123895124,6779,glassez,2017-06-25T10:12:44Z,please drop `else` branch and place return statement outside it.,0,0.9945276379585266
123895134,6779,glassez,2017-06-25T10:13:45Z,"i still see ""clientaddress""...",0,0.9937082529067993
123895162,6779,glassez,2017-06-25T10:15:30Z,move this include to .cpp,0,0.9945407509803772
123899738,6779,Chocobo1,2017-06-25T14:13:20Z,the indention looks wrong to me.,-1,0.7336203455924988
123907984,6779,Piccirello,2017-06-25T20:18:46Z,i used the same indentation as the [a link] isauthneeded() implementation.,0,0.9947774410247803
123912548,6779,Chocobo1,2017-06-25T23:58:11Z,the `}` should have 4 less spaces right? [a link],0,0.992145836353302
123923362,6779,Piccirello,2017-06-26T03:38:16Z,good catch.,1,0.9776482582092285
125306907,6779,Chocobo1,2017-07-03T14:51:57Z,"just stumbled upon this, there is a simpler check for this: [code block] [a link] pls test if it works",0,0.9102882742881775
125348690,6779,Piccirello,2017-07-03T19:41:35Z,nice find! tested and it works :thumbs_up:,1,0.9975525736808777
125364435,6779,zeule,2017-07-03T22:38:30Z,bypass authentication for clients on lan?,0,0.993516206741333
125364658,6779,zeule,2017-07-03T22:42:09Z,shouldn't we test that server and client are in the same sub-net?,0,0.9932424426078796
125369775,6779,Piccirello,2017-07-04T00:13:28Z,"""bypass authentication for localhost"" is used now. replace both (for consistency)?",0,0.9951643943786621
125370074,6779,Piccirello,2017-07-04T00:18:45Z,"i'm not sold on the benefits of doing so. reserved local ips aren't routable over the internet anyway, so adding that additional check would break the feature for some client environments.",-1,0.770243227481842
125397543,6779,Chocobo1,2017-07-04T06:32:29Z,"btw, maybe changing to `isprivateaddress` would be more accurate.",0,0.9882083535194397
125430333,6779,Piccirello,2017-07-04T09:34:11Z,agreed && updated.,0,0.9895685315132141
125431567,6779,zeule,2017-07-04T09:39:51Z,"as well as now it is unusable for others. for instance, your guesthouse gives ips from sub-net 10.0.0.0/24. you set up a router in your room and assign to your laptop, phone and tablet ips from 192.168.0.0/16. but you can't disable authentication for lan clients, because all the guesthouse will be able to use your qbt instance.",0,0.9831052422523499
125431954,6779,zeule,2017-07-04T09:41:55Z,"then both are incorrect, imo, and have to be corrected.",0,0.7813877463340759
125439638,6779,Chocobo1,2017-07-04T10:18:23Z,"i don't think we need this check, different clients in different subnets won't be able to talk to each other directly, well... unless someone explicitly set it up... in this example, i would say if someone on 10.0.0.0/24 is able to connect to 192.168.0.0/16 freely, then that router has serious security flaw (routing table or firewall had been tampered), i don't think is the common case.",0,0.9761404991149902
125440254,6779,zeule,2017-07-04T10:21:09Z,"no, you set up a port forwarding for your qbt, of course, so the router works as expected.",0,0.9947437047958374
125443393,6779,zeule,2017-07-04T10:39:16Z,"security flaw is what this pr is going to merge: unlimited access for unknown and uncontrolled hosts for the sake of (imaginary?) convenience. imo, you should not invent a wheel but implement this in the common way: give user a way to provide a list of sub-nets. probably with a a button (""add localhost and lan addresses"") for a convenience with a message like ""this list is provided for convenience purposes only. please remove all unneeded addresses""",-1,0.5937305092811584
125444576,6779,Chocobo1,2017-07-04T10:46:56Z,"i still don't find this scenario make sense, why enable webui port forwarding when you don't want outside to access it? iirc, its called access control list (acl), that would work too.",0,0.5123142004013062
125444770,6779,zeule,2017-07-04T10:48:13Z,"i want to have access from outside, but with authentication.",0,0.9867614507675171
125446136,6779,zeule,2017-07-04T10:56:58Z,"btw, if your router does not perform ingress filtering, you will be extremely vulnerable to address spoofing, because any lan address will bypass authentication.",0,0.971376895904541
125447125,6779,Chocobo1,2017-07-04T11:03:33Z,"it make sense now, thanks!",1,0.9837616086006165
125447767,6779,Piccirello,2017-07-04T11:08:00Z,this bypass feature is geared towards convenience. it's up to your network firewall to control what information can pass between subnets. your host should also be running a firewall with additional rules. anyone who needs additional control should turn towards one of these proven methods for enforcing network security.,0,0.9868414402008057
125450543,6779,zeule,2017-07-04T11:25:02Z,: did you read everything written above?,0,0.9918795228004456
125529128,6779,Piccirello,2017-07-04T20:58:23Z,"i did, but i think that would make for a bad user experience. as i stated, for finer control this should be handled by a firewall, either at the router or the host.",0,0.5316102504730225
125529619,6779,zeule,2017-07-04T21:05:43Z,"if you rely on a firewall, why bother with ip addresses at all? in that case a simple option ""disable authentication"" will be much simpler and clearer.",0,0.9879758954048157
125529976,6779,Piccirello,2017-07-04T21:11:00Z,"how is the ipv4 handling of this any different than the ipv6 implementation? with ipv6 all private ips are allowed, including many trillions+ outside of the user's subnet. once again, private ips aren't routable over the internet. even if a router allowed such a packet through, the nature of a tcp connection wouldn't allow the source of the spoofed ip to receive the reply.",0,0.9807944893836975
125530162,6779,Piccirello,2017-07-04T21:13:42Z,done.,0,0.9897913336753845
125813536,6779,Piccirello,2017-07-06T05:25:43Z,"thinking through this more, the only way i see to solve the ipv6 issue is to implement the acl you mentioned earlier. i don't think this method will be easy for newbies but for more advanced users it'll be great.",1,0.8439337015151978
126339541,6779,Piccirello,2017-07-10T05:56:00Z,the updated code has been pushed.,0,0.9961708188056946
126404658,6779,glassez,2017-07-10T12:16:24Z,utils shouldn't depend on application preferences!,0,0.9887020587921143
126405279,6779,glassez,2017-07-10T12:19:52Z,"this ""include"" is in wrong place.",0,0.6967300772666931
126405438,6779,glassez,2017-07-10T12:20:45Z,is it valid copyright?,0,0.9938404560089111
126405788,6779,glassez,2017-07-10T12:22:32Z,is it valid copyright?,0,0.9938404560089111
126406178,6779,glassez,2017-07-10T12:24:06Z,we prefer `nullptr` in new code.,0,0.9935370087623596
126406260,6779,glassez,2017-07-10T12:24:32Z,invalid comment.,0,0.6977687478065491
126406565,6779,glassez,2017-07-10T12:25:54Z,`// have to call dialog window`,0,0.9918286204338074
126409626,6779,zeule,2017-07-10T12:40:30Z,"`getwebuiauthbypassips()`? also, wouldn't `qpair ` result type be a better choice? motivation: textual representation (list of strings) is an implementation detail.",0,0.9917436242103577
126418516,6779,Piccirello,2017-07-10T13:19:43Z,would you rather the `qstringlist` of subnets was explicitly passed to the function as an argument? or is there another way of accomplishing this without the pref import?,0,0.9933377504348755
126438487,6779,glassez,2017-07-10T14:32:14Z,"""module"" header should be the first, then system and qt headers, then all other application headers (according to coding guidelines).",0,0.993730902671814
126440741,6779,zeule,2017-07-10T14:39:29Z,and then what? parse again a few lines later?,0,0.9434860348701477
126441706,6779,zeule,2017-07-10T14:42:44Z,this operation would be simpler with a state-full object: ```c++ class subnets { public: subnets(); // loads config bool contains(const qhostaddress&) const; private: qvector > m_subnets; };,0,0.9939621090888977
126442421,6779,glassez,2017-07-10T14:44:56Z,"now `isipinauthbypasssubnet` function isn't ""utility"" so just move it to abstractwebapplication (e.g. `abstractwebapplication::isclientinauthbypasssubnet()`). you can, of course, modify this function to turn it in ""utility"" again (ie to get rid from preferences dependency), but in this case it would be better to have consistent interface (ie, both test address and subnets should have the same format - either qhostaddress or qstring).",0,0.993441104888916
126443442,6779,glassez,2017-07-10T14:48:31Z,", imo, it's just moving code from one place to another...",0,0.9628846645355225
126444099,6779,Chocobo1,2017-07-10T14:50:38Z,headers should be sorted alphabetically.,0,0.9903430938720703
126446402,6779,Chocobo1,2017-07-10T14:58:29Z,"the default works as well, pls remove it. imo, only property value that is different than the default should be saved, otherwise you won't know if it's really needed. there is a small arrow on the right side of property setting in qt designer, use it to reset to default. and please recheck all those properties that are explicitly set.",0,0.9851890802383423
126448436,6779,Chocobo1,2017-07-10T15:05:22Z,`\n`,0,0.9759271144866943
126449082,6779,Chocobo1,2017-07-10T15:07:27Z,i prefer default off,0,0.9825776219367981
126452907,6779,Chocobo1,2017-07-10T15:18:25Z,"it might make sense to disable/enable the whitelist button when unchecking/checking the checkbox. also after editing the whitelist, the apply button should be enabled if the list has changed.",0,0.992176353931427
126523882,6779,zeule,2017-07-10T20:12:24Z,"and aside from any preferences, default values must maintain current behavior.",0,0.9912499189376831
126697209,6779,glassez,2017-07-11T14:02:13Z,"once you have decided to sort it, then do it right. headers should be in alphabetical order within each group so move ""logger.h"" and ""settingsstorage.h"" on top of ""utils/fs.h"".",0,0.9937942028045654
126697628,6779,glassez,2017-07-11T14:03:41Z,remove unneeded space between `>`: `qlist >` in all your code.,0,0.9942795038223267
126698087,6779,glassez,2017-07-11T14:05:13Z,you renamed method names to but forgot to rename keys: `authbypassip` -> `authbypasssubnets`.,0,0.9952109456062317
126698561,6779,glassez,2017-07-11T14:06:54Z,"also this variable is redundant. you can use value(""preferences/webui/authbypassip"").tostringlist() in loop condition directly.",0,0.9945092797279358
126702378,6779,glassez,2017-07-11T14:20:04Z,why this var is outside the loop?,0,0.9866798520088196
126702690,6779,glassez,2017-07-11T14:21:06Z,`toutf8()` is redundant here!,0,0.9917371869087219
126704187,6779,glassez,2017-07-11T14:25:36Z,please describe this!,0,0.9932130575180054
126704752,6779,glassez,2017-07-11T14:27:29Z,"as i asked earlier, please make the interface consistent. use either qhostaddress or qstring in all of the parameters.",0,0.9950897693634033
126705389,6779,glassez,2017-07-11T14:29:18Z,"as this function began to have a more general meaning, please change it name accordingly (remove authbypass).",0,0.9952438473701477
126706436,6779,glassez,2017-07-11T14:32:36Z,no need to declare it outside the loop.,0,0.9901455044746399
126706931,6779,glassez,2017-07-11T14:34:18Z,initialize this var.,0,0.9942317605018616
126707183,6779,glassez,2017-07-11T14:35:15Z,it seems that this branch is not used...,0,0.9898928999900818
126707695,6779,glassez,2017-07-11T14:36:49Z,please add space after `template` keyword: `template struct qpair;`.,0,0.9955230951309204
126708476,6779,glassez,2017-07-11T14:39:23Z,this var is redundant.,0,0.9126496315002441
126708540,6779,glassez,2017-07-11T14:39:36Z,move to the loop.,0,0.9882091283798218
126709151,6779,glassez,2017-07-11T14:41:37Z,`const auto &i`,0,0.9939841628074646
126709272,6779,glassez,2017-07-11T14:42:03Z,redundant variable.,0,0.87708580493927
126710553,6779,glassez,2017-07-11T14:45:52Z,please add also `q_disable_copy(myclass)` to all your qobject subclasses.,0,0.9955529570579529
126711197,6779,glassez,2017-07-11T14:47:39Z,you can decrease this code: [code block],0,0.9953834414482117
126711965,6779,glassez,2017-07-11T14:49:58Z,redundant var.,0,0.8768526315689087
126712022,6779,glassez,2017-07-11T14:50:09Z,move to the loop.,0,0.9882091283798218
126712391,6779,glassez,2017-07-11T14:51:01Z,redundant var.,0,0.8768526315689087
126712756,6779,glassez,2017-07-11T14:52:02Z,why do you allow two data formats here?,0,0.9921888113021851
126853518,6779,Piccirello,2017-07-12T02:44:51Z,"you come across as extremely rude. do you really think i intentionally messed up the order? people make mistakes; you need to act in a way that _encourages_ open source contributions, not in such a way that deters them.",-1,0.984459638595581
126867241,6779,glassez,2017-07-12T05:33:55Z,i'm sorry if i hurt you. i didn't want to.,-1,0.9888523817062378
127773160,6779,zeule,2017-07-17T17:39:11Z,"i don't understand why is the conversion to utf-8 needed. could you explain, please?",-1,0.591658353805542
127773513,6779,zeule,2017-07-17T17:40:04Z,the function will be shorter with `std::transform()`.,0,0.9942944645881653
127884136,6779,glassez,2017-07-18T05:16:50Z,he can't... it just overthinking.,-1,0.7965665459632874
128133903,6779,Piccirello,2017-07-19T01:20:28Z,i don't think it hurts to support multiple input formats.,0,0.967015266418457
128134007,6779,Piccirello,2017-07-19T01:21:29Z,this is done for readability. there's no coding guideline on it.,0,0.9926526546478271
128135918,6779,Piccirello,2017-07-19T01:41:04Z,i get this error when declaring inside the loop [code block],0,0.9680474996566772
128136688,6779,Piccirello,2017-07-19T01:48:16Z,thanks for the reference. i've added it.,1,0.9212937355041504
128137211,6779,Piccirello,2017-07-19T01:52:53Z,"in the qt5 [a link] `parsesubnet` returns `qmakepair(qhostaddress(), -1)` for invalid subnets.",0,0.9952884912490845
128149727,6779,Piccirello,2017-07-19T04:18:41Z,i don't follow. do you mean because of the comment?,0,0.8401445150375366
128173827,6779,glassez,2017-07-19T07:41:49Z,"oh, that's right! this is a limitation of qt `foreach`. but that is no reason to have an extra variable. you can define an alias for this type: `using subnet = qpair >`. or, even better, use c++ range-based `for` (afaik, qt has deprecated its `foreach` now).",0,0.8445186614990234
128177030,6779,glassez,2017-07-19T07:57:04Z,"we can't set all the rules verbatim! there are some things in common... for example, we don't usually put spaces inside the parentheses (in this case, the brackets have similar semantics). at least the brackets here are pairs of things, and they should look flipped relative to their content (i.e. no whitespace after the opening bracket then must not be before the closing). but if some things not so obvious, we can add some new rules in coding guidelines. imo, this is against the readability.",-1,0.9385445713996887
128177173,6779,glassez,2017-07-19T07:57:46Z,redundant blank line.,0,0.8117470145225525
128177431,6779,glassez,2017-07-19T07:58:56Z,wrong order.,-1,0.7645806670188904
128178402,6779,Chocobo1,2017-07-19T08:04:18Z,we have uncrustify.cfg that helps more or less.,0,0.9925733804702759
128179441,6779,glassez,2017-07-19T08:09:34Z,protocolequivalentaddress is used only when isipv4mappedaddress is true but here is always false.,0,0.9935867190361023
136747940,6779,Piccirello,2017-09-04T05:53:03Z,this was a logic bug. good catch.,1,0.9899863600730896
136748831,6779,Piccirello,2017-09-04T06:03:53Z,i switched over to using the range-based for.,0,0.9879293441772461
138982619,6779,zeule,2017-09-14T18:59:01Z,seems like there is no need in conversion when `addr.isinsubnet(subnet)` returns true.,0,0.9873971343040466
138983853,6779,zeule,2017-09-14T19:04:46Z,why not `m_ui->ipsubnetwhitelistbutton->setenabled(checked);`?,0,0.9951480031013489
138984137,6779,zeule,2017-09-14T19:06:06Z,bypass authentication for clients in whitelisted ip subnets?,0,0.9941666126251221
139165131,6779,zeule,2017-09-15T14:33:46Z,my point was that the white list contains not clients but sub-nets.,0,0.9851986765861511
139180713,6779,Piccirello,2017-09-15T15:32:32Z,"that's correct, but we'd have to first iterate through all subnets to determine if the conversion is needed. are you proposing having two loops?",0,0.9939507246017456
139284983,6779,zeule,2017-09-16T12:06:12Z,"well, i would write as follows: [code block] to me this reads easier. but decide yourself, whether you want to change the code. the whole point is not critical, of course.",0,0.987013041973114
139297691,6779,Piccirello,2017-09-16T23:47:56Z,"maybe this is my inexperience with c++ talking, but that code looks far more opaque to me :man_shrugging: . it doesn't appear to be more performant, so i'll stick what what i have now.",-1,0.9562960863113403
139302137,6779,glassez,2017-09-17T05:28:07Z,"this function handles only one specific case of invalid subnet so it shouldn't be in utils. btw, it has small piece of trivial code so you can use it inplace.",0,0.9908888339996338
139302164,6779,glassez,2017-09-17T05:30:27Z,"this function handles only one specific case of invalid subnet so it shouldn't be in utils. btw, it has small piece of trivial code so you can use it inplace.",0,0.9908888339996338
139302360,6779,glassez,2017-09-17T05:42:04Z,"imo, i would have it another way. i would have isipinsubnet() function here since it more common, and use it in loop where it needed.",0,0.9898338317871094
139302428,6779,glassez,2017-09-17T05:47:17Z,i would define subnet type in this namespace and use it instead: [code block],0,0.9954620003700256
139302516,6779,glassez,2017-09-17T05:53:16Z,it should be ipsubnetwhitelistoptionsdialog.,0,0.9956762194633484
139304262,6779,Piccirello,2017-09-17T07:57:35Z,"`qhostaddress::isinsubnet` already handles that functionality. this is a bespoke method that abstracts away the ipv4/ipv6 conversion and whether it was successful, while only performing the conversion once for the entire list. if anything this should probably be moved out of utils.",0,0.9924783706665039
139304294,6779,Piccirello,2017-09-17T07:59:04Z,where should this function be moved to? this code is used in multiple places so i think it makes sense as a net util.,0,0.9915415644645691
139304533,6779,zeule,2017-09-17T08:10:31Z,"if you want to care about performance, one can replace qlist with vector.",0,0.9925246834754944
139315024,6779,glassez,2017-09-17T16:34:22Z,ok. let it be as-is.,0,0.9903261065483093
139315120,6779,glassez,2017-09-17T16:37:29Z,please use utils::net::subnet everywhere in your new code.,0,0.9944100975990295
139315154,6779,glassez,2017-09-17T16:39:11Z,and use `subnets` as var name here. subnetpair confuses in any case.,0,0.9951776266098022
139315433,6779,glassez,2017-09-17T16:52:19Z,you use it to check result of `qhostaddress::parsesubnet()` only so you will only need to do the following: [code block] or change this function to handle all possible invalid subnets and leave it here...,0,0.9958226680755615
139315532,6779,glassez,2017-09-17T16:56:52Z,"when i asked to rename this class i implied you will guess to rename the corresponding files to follow this name. unfortunately, you have not guessed, so i'm asking you to do it.",0,0.6721603274345398
139322303,6779,Piccirello,2017-09-17T21:58:07Z,i've renamed the function so it more accurately reflects the intended purpose.,0,0.992356538772583
139335352,6779,glassez,2017-09-18T04:17:50Z,"i don't understand your perseverance. why this function? why would you create a couple and compare the parameter with it, if it is known that only the first items are compared? maybe i'm picky... i don't see any sense in this function. /demigods, judge us, please.",-1,0.993470311164856
139339561,6779,Piccirello,2017-09-18T05:43:21Z,"[a link] returns that pair when invalid parameters are passed to it. therefore i am checking directly against the expected ""invalid"" value.",0,0.994532585144043
142449492,6779,Piccirello,2017-10-03T16:15:32Z,thoughts? i'd like to move this pr forward.,0,0.9652454257011414
142653657,6779,glassez,2017-10-04T12:19:21Z,invalid indentation here.,0,0.8864290714263916
142712215,6779,glassez,2017-10-04T15:51:22Z,the one of valid solutions is implementing the following wrapper: [code block],0,0.9952545166015625
142851272,6779,Piccirello,2017-10-05T05:40:23Z,i still haven't figured out how to do either of these things. could you point me in the right direction?,0,0.5066419243812561
142878315,6779,Chocobo1,2017-10-05T08:33:57Z,"for the first one, use qt signal/slots, connect qcheckbox toggled signal to qbutton setenabled slot. for the second, after closing edit dialog, if the list has changed then call enableapplybutton.",0,0.9946964979171753
143224206,6779,Piccirello,2017-10-06T15:40:49Z,"can you point to an existing example in the codebase that connects a qcheckbox and qbutton? i can't find how ""web user interface"", ""use https instead of http"", or any of the other checkboxes implement it.",0,0.9908571839332581
143262019,6779,glassez,2017-10-06T18:18:10Z,"since this function does not give us the parsed subnet, i would name it `canparsesubnet`. imo, use overloads is incorrect in this case.",0,0.9760584235191345
143324773,6779,Chocobo1,2017-10-07T07:12:33Z,try [code block] ps. i didn't test,0,0.9940674304962158
143632255,6779,Piccirello,2017-10-10T05:23:03Z,thanks for the help. i've implemented both features for the whitelist. i've also updated the ip ban list- in a separate commit- so it too implements the apply button functionality.,1,0.9743829369544983
145911288,6779,glassez,2017-10-20T09:00:24Z,const &,0,0.9767569899559021
145911335,6779,glassez,2017-10-20T09:00:37Z,const &,0,0.9767569899559021
145917519,6779,glassez,2017-10-20T09:29:32Z,const &,0,0.9767569899559021
145918214,6779,glassez,2017-10-20T09:33:15Z,i would return subnets as string and convert it when it's really needed. now it is irrational. in most use cases you convert it back in strings.,-1,0.717013418674469
145918832,6779,glassez,2017-10-20T09:36:11Z,add space before colon too.,0,0.9941315054893494
145923507,6779,glassez,2017-10-20T09:57:45Z,is this method really needed?,0,0.9914230704307556
145923815,6779,glassez,2017-10-20T09:59:18Z,"i can't see, where it is used.",0,0.8759353160858154
145970675,6779,Piccirello,2017-10-20T14:00:32Z,it's used on line 439.,0,0.9933179616928101
145975431,6779,Piccirello,2017-10-20T14:19:27Z,"we're already parsing the user's text input into subnets to verify if they're valid before saving. the downstream functions that call `getwebuiauthbypasssubnets` don't always keep them as subnets, but it makes a lot of sense that the function to get the subnets would return items of type subnet.",0,0.991385817527771
145981427,6779,Piccirello,2017-10-20T14:41:17Z,it's still needed to disable the whitelist button when the subnet bypass option is initially unchecked upon opening preferences.,0,0.9909164309501648
146008007,6779,glassez,2017-10-20T16:23:05Z,i mean why do you need this separate method? why don't do the following: [code block],0,0.9882317185401917
146009581,6779,glassez,2017-10-20T16:30:12Z,"what's the point? i don't see any sense. after all, you even do not check data loaded from config. do not forget that it can be changed manually.",-1,0.9543001055717468
146097182,6779,Piccirello,2017-10-21T05:25:39Z,"the code is self documenting. the return type matches what you'd expect based on the name of the function (ie. a function to get a list of subnets would return a list of objects of type subnet). would we also return a list of integers as strings? subnet whitelist entries are checked before they're saved. a user can circumvent the process by editing the config manually, but who's going to do this? and why do we care? i really don't see how this point is relevant.",0,0.8710184693336487
146097335,6779,glassez,2017-10-21T05:38:32Z,"the manual config editing is the only way when qbittorrent built without gui. and yes, we should care about it just as you take care of the data entered via the appropriate dialog in gui.",0,0.9937145113945007
146097748,6779,Piccirello,2017-10-21T06:05:45Z,"i don't see this as a valid use case. can you point me to another preference that's validated upon load, rather than at save?",0,0.7792516350746155
146098293,6779,glassez,2017-10-21T06:40:49Z,"unfortunately, it may be absent in most legacy code. but lately i constantly remind to all contributors that we should check the input data from any external sources.",-1,0.6640225052833557
146098623,6779,Piccirello,2017-10-21T07:01:50Z,done.,0,0.9897913336753845
146110344,6779,WolfganP,2017-10-21T17:12:27Z,"foa, thx a lot for this functionality , very interesting for a qb-nox+webui user as myself. beyond all input validations and formatting, what will the end entry in the preferences file to define the pre-authenticated subnet? something like 192.168.0.0/24 or anything different?",1,0.9880914688110352
146114411,6779,Piccirello,2017-10-21T20:05:21Z,"each entered subnet is ""normalized"" by passing it through `qhostaddress::parsesubnet()`. then the entire list (excluding any invalid subnets) is saved to the preferences file. for example, my whitelist contains these entries: [code block] and my `qbittorrent.conf` contains this line: [code block]",0,0.9941087961196899
146116179,6779,WolfganP,2017-10-21T21:39:50Z,perfect . thx again for this feature. as soon as it's accepted i'll test it against the altwebui stuff recently implemented.,1,0.9925962686538696
146802864,6779,zeule,2017-10-25T09:39:51Z,the function name is misleading. from the name it's unclear what does is test: whether the ip is in any of the subnets (which it actually does) or does it belong to all of them.,-1,0.5439466238021851
146803830,6779,zeule,2017-10-25T09:43:02Z,"maybe this is an error, but not warning (desired action is impossible)?",0,0.9452300667762756
147160189,6779,Piccirello,2017-10-26T14:31:33Z,what would you propose renaming it to?,0,0.9938027858734131
147314972,6779,glassez,2017-10-27T03:07:01Z,maybe `isipinrange()`?,0,0.9933329224586487
147319604,6779,Piccirello,2017-10-27T04:07:02Z,updated.,0,0.9768958687782288
147547231,6779,Chocobo1,2017-10-28T06:02:36Z,i think you want `const preferences *pref `,0,0.9890382289886475
147547296,6779,Chocobo1,2017-10-28T06:08:13Z,"this is a primitive type imo, why forward declare it instead of including the header?",0,0.9895322322845459
147547367,6779,Chocobo1,2017-10-28T06:11:57Z,please add parentheses around each `operator==` statements,0,0.9954051971435547
147547414,6779,Chocobo1,2017-10-28T06:15:44Z,"weird, why have 2 similar functions? can someone point me to the discussion if there were any?",-1,0.9430109858512878
147547465,6779,Chocobo1,2017-10-28T06:20:08Z,`const utils::net::subnet &subnet`,0,0.9929805994033813
147547562,6779,Chocobo1,2017-10-28T06:25:18Z,is it possible to use `qsortfilterproxymodel::data()`?,0,0.9948700666427612
147547572,6779,glassez,2017-10-28T06:26:05Z,this one should be `parsesubnet()`. the function above is for convenience (to avoid declaring redundant variable in place we need just test subnet string representation).,0,0.9944576025009155
147547584,6779,Chocobo1,2017-10-28T06:27:02Z,also i would write: [code block],0,0.9951239228248596
147547698,6779,Chocobo1,2017-10-28T06:36:19Z,"~~can we omit `addrconversionok`?~~ ~~because if `toipv4address()` fails, i image it will return an invalid address and there is no harm passing it to `isinsubnet()`.~~ never mind.",0,0.9640787243843079
147547842,6779,Chocobo1,2017-10-28T06:45:23Z,"i guess you're missing an ampersand in the 2nd parameter... `bool parsesubnet(const qstring &subnetstr, subnet &subnet)` makes more sense to me.",0,0.9880484938621521
147547907,6779,Chocobo1,2017-10-28T06:49:45Z,please write: [code block],0,0.9955838322639465
147547951,6779,Piccirello,2017-10-28T06:52:33Z,"i think it's confusing for `parsesubnet` not to return a subnet. especially so when it somehow returns a boolean. now `canparsesubnet()` is overloaded, with one variant returning the parsed subnet. this is similar to [a link].",0,0.5980188250541687
147547956,6779,glassez,2017-10-28T06:52:47Z,"the doc says nothing about returned value in this case, so we can get undefined behavior instead.",0,0.9843863844871521
147548022,6779,glassez,2017-10-28T06:57:24Z,in this case it's better to have: [code block],0,0.9940695762634277
147548061,6779,Chocobo1,2017-10-28T06:59:55Z,please apply this patch [code block] note: updated 1.,0,0.993558943271637
147548076,6779,Piccirello,2017-10-28T07:00:40Z,~~there's no harm but it's a bit inefficient compared to checking `addrconversionok`. i don't mind the variable but if you feel strongly i'll update it.~~,0,0.8384318351745605
147548127,6779,Piccirello,2017-10-28T07:03:14Z,there was an explicit reason i had to default this to false but i can't remember it now. let me mull this one over.,0,0.9600276350975037
147548349,6779,Chocobo1,2017-10-28T07:15:11Z,please put an example in this widget's `placeholdertext` property. also i tried to put `192.168.1.0/24` but all i get is `/0`,0,0.9946233034133911
147548364,6779,Chocobo1,2017-10-28T07:16:25Z,don't forget to remove ` ` in net.cpp,0,0.9938236474990845
147548382,6779,Piccirello,2017-10-28T07:18:03Z,"this function doesn't really do any of the parsing; it just checks the result of `qhostaddress::parsesubnet` against the `invalid` subnet. in 3/4 of this function's uses, the return is directly used in a conditional. in the 4th use, the result is passed as the sole parameter to `setenabled`. thus i think a function that returns a boolean has more utility.",0,0.9848802089691162
147548419,6779,Chocobo1,2017-10-28T07:21:16Z,"also please start with the word ""example: "" followed by 1 ipv4 example and 1 ipv6 example. the same with the widget in webui.",0,0.9952378273010254
147548445,6779,Chocobo1,2017-10-28T07:24:28Z,"subnet parsesubnet(const qstring &subnetstr, bool *ok = nullptr); +1",0,0.9874414205551147
147548532,6779,glassez,2017-10-28T07:32:15Z,", don't produce meaningless overloads. the test functions (with names like `issomething`, `hassomething`, `cansomething` and so on) usually don't have any side results. the conversion functions can have additional result of type bool if its return value can't indicate conversion error.",0,0.978071928024292
147548663,6779,Chocobo1,2017-10-28T07:42:16Z,"on a second thought, `subnet parsesubnet(const qstring &subnetstr, bool *ok = nullptr);` can indicate conversion error, then the `bool ok` is redundant?",0,0.9883695840835571
147548834,6779,glassez,2017-10-28T07:52:33Z,initially i propose to have this wrapper around qhostaddress::parsesubnet to get rid from incorrect in utils space `isvalidsubnet(subnet subnet)` function.,0,0.9917538166046143
147548854,6779,glassez,2017-10-28T07:54:27Z,it seems we can use `qhostaddress::parsesubnet` directly in case we don't need to check its result and have `canparsesubnet` for check-only cases.,0,0.9894590377807617
147588934,6779,Chocobo1,2017-10-29T18:00:13Z,"please use `env()` (and below), it's better because it's guaranteed to be read-only.",0,0.9947978258132935
147601130,6779,Piccirello,2017-10-30T00:21:21Z,"it can only indicate a conversion error via the invalid subnet being returned, which is the entire purpose of this function. any code that doesn't need to check the validity of the result already uses `qhostaddress::parsesubnet` directly.",0,0.9931449890136719
147618599,6779,Piccirello,2017-10-30T05:03:36Z,i just tested that subnet in the gui and it's working normally for me. can you re-try with the latest build?,0,0.9921265840530396
147896813,6779,Chocobo1,2017-10-31T05:08:06Z,`bool ok = false;`,0,0.992071807384491
147896878,6779,Chocobo1,2017-10-31T05:08:55Z,`if (ok) *ok = (subnet != invalid);`,0,0.9936046004295349
147897000,6779,Chocobo1,2017-10-31T05:10:30Z,`bool ok = false;`,0,0.992071807384491
147897107,6779,Chocobo1,2017-10-31T05:11:54Z,"up to you, but i will add `const` here.",0,0.9920851588249207
147897144,6779,Chocobo1,2017-10-31T05:12:24Z,`bool ok = false;`,0,0.992071807384491
147897156,6779,Chocobo1,2017-10-31T05:12:40Z,same here.,0,0.9916109442710876
148343323,6779,Piccirello,2017-11-01T18:24:16Z,"will implement this change. but for my own info, what's the purpose of checking `ok` before assigning it?",0,0.9950302839279175
148344501,6779,glassez,2017-11-01T18:28:40Z,it can be `nullptr` if user don't want to know status.,0,0.991837203502655
148535318,6779,zeule,2017-11-02T13:42:53Z,"everything seems settled down, so could you, please, make the same changes to src/gui/cmakelists.txt?",0,0.9878684878349304
148710927,6779,Piccirello,2017-11-03T05:02:14Z,updated cmakelists.txt (and squashed).,0,0.9936187267303467
149589036,6779,glassez,2017-11-08T07:08:46Z,wrong curly brace position.,0,0.5831784605979919
149589329,6779,glassez,2017-11-08T07:11:43Z,inconsistent `else` block. curly braces are required because of curly braces in `if`.,0,0.991983950138092
162117841,6779,glassez,2018-01-17T17:12:28Z,"unfortunately i noticed it only now... why have you chosen this out-of-context way to encode this list? we should send it as (json) list, isn't it? i'm sure this should be fixed soon.",-1,0.9692658185958862
114750802,6698,glassez,2017-05-04T11:28:05Z,"why we need ""preferences"" in these paths? why not just ""appearance/usesystemicontheme"" and so on?",0,0.9837841987609863
114750963,6698,glassez,2017-05-04T11:29:34Z,this and the following lines are unrelated here!,0,0.9749711751937866
114751385,6698,glassez,2017-05-04T11:32:39Z,move these includes on bottom of qt includes.,0,0.9952701926231384
114751612,6698,glassez,2017-05-04T11:34:25Z,"imo, it is time to create explicit gui component.",0,0.9920293092727661
114751767,6698,glassez,2017-05-04T11:35:26Z,app includes should be after system/qt includes.,0,0.9940333962440491
114752015,6698,glassez,2017-05-04T11:36:59Z,`enum msgtype: int;`,0,0.9918666481971741
114752586,6698,glassez,2017-05-04T11:40:47Z,wrong brace location,-1,0.5058521032333374
114752691,6698,glassez,2017-05-04T11:41:31Z,you should have it in next indentation level.,0,0.9952789545059204
114752767,6698,glassez,2017-05-04T11:42:05Z,redundant blank line.,0,0.8117470145225525
114752848,6698,glassez,2017-05-04T11:42:39Z,move brace to next line,0,0.9930039048194885
114752869,6698,glassez,2017-05-04T11:42:47Z,brace,0,0.7281572818756104
114752982,6698,glassez,2017-05-04T11:43:28Z,redundant blank line,0,0.9490613341331482
114753135,6698,glassez,2017-05-04T11:44:28Z,redundant blank line,0,0.9490613341331482
114753541,6698,glassez,2017-05-04T11:47:28Z,why not in declaration?,0,0.9889687299728394
114753623,6698,glassez,2017-05-04T11:48:00Z,too long line.,-1,0.8303176760673523
114753641,6698,glassez,2017-05-04T11:48:09Z,too long line,-1,0.8709244132041931
114753702,6698,glassez,2017-05-04T11:48:32Z,redundant blank line,0,0.9490613341331482
114753954,6698,glassez,2017-05-04T11:50:05Z,redundant blank line,0,0.9490613341331482
114754038,6698,glassez,2017-05-04T11:50:39Z,redundant blank line,0,0.9490613341331482
114754077,6698,glassez,2017-05-04T11:50:52Z,redundant blank line,0,0.9490613341331482
114754169,6698,glassez,2017-05-04T11:51:33Z,redundant blank line,0,0.9490613341331482
114754325,6698,glassez,2017-05-04T11:52:25Z,shift indentation,0,0.9907351732254028
114754458,6698,glassez,2017-05-04T11:53:19Z,redundant blank line,0,0.9490613341331482
114754616,6698,zeule,2017-05-04T11:54:20Z,"i don't know, inherited code.",0,0.9236825704574585
114754786,6698,glassez,2017-05-04T11:55:36Z,brace issue,0,0.9884418249130249
114754882,6698,glassez,2017-05-04T11:56:23Z,brace,0,0.7281572818756104
114754903,6698,glassez,2017-05-04T11:56:31Z,brace,0,0.7281572818756104
114754921,6698,glassez,2017-05-04T11:56:39Z,brace,0,0.7281572818756104
114755042,6698,glassez,2017-05-04T11:57:23Z,why not in declaration?,0,0.9889687299728394
114755106,6698,glassez,2017-05-04T11:57:48Z,redundant blank line,0,0.9490613341331482
114755146,6698,glassez,2017-05-04T11:58:03Z,brace,0,0.7281572818756104
114755182,6698,glassez,2017-05-04T11:58:17Z,redundant blank line,0,0.9490613341331482
114755200,6698,glassez,2017-05-04T11:58:23Z,redundant blank line,0,0.9490613341331482
114755585,6698,zeule,2017-05-04T12:00:53Z,", probably you suggest to replace names here?",0,0.9930636286735535
114757213,6698,zeule,2017-05-04T12:11:36Z,"ok ,but i still think that it is better to place them in the following order: 1. corresponding header file 2. app includes 3. qt include 4. stl and other standard includes why? because standard library includes are of less importance, everybody knows what is inside , but what is much more important is app modules inter-dependencies, showed by app includes.",0,0.9836349487304688
114757610,6698,zeule,2017-05-04T12:13:50Z,"second point: system includes are usually not sensitive to the include order, while app includes might have implicit dependencies. listing them closer to the start of the includes list helps to find such dependencies if any.",0,0.9901781678199768
114757828,6698,zeule,2017-05-04T12:15:12Z,"will fix, but, btw, also disagree: indented namespaces in fact discourage namespace usage.",0,0.9788018465042114
114758070,6698,zeule,2017-05-04T12:16:41Z,"otherwise it would be inlined, and we do not want it, right?",0,0.9749446511268616
114774205,6698,zeule,2017-05-04T13:37:00Z,this comment should belong to #6375,0,0.9944202303886414
114787072,6698,zeule,2017-05-04T14:26:22Z,do you mean something like: `src/base/ui.h`: [code block] and in `src/gui/gui.h' [code block],0,0.994439959526062
114835520,6698,glassez,2017-05-04T17:08:02Z,this is good point.,1,0.9747841954231262
114835920,6698,glassez,2017-05-04T17:09:49Z,these lines was in this place earlier but they were removed in current master.,0,0.9949706196784973
114836729,6698,glassez,2017-05-04T17:13:14Z,"not in this pr, of course... i didn't think about implementation, i have the idea itself. now we have mainwindow as gui manager, but this is wrong approach.",-1,0.7705475687980652
114838339,6698,zeule,2017-05-04T17:20:41Z,"hm... mistake during rebasing then, i guess.... thanks.",1,0.44197267293930054
115128389,6698,thalieht,2017-05-06T20:34:10Z,"""could not find theme file""?",0,0.9833387136459351
115128546,6698,thalieht,2017-05-06T20:42:47Z,this section should be at the end and _base_ should be on top according to the guidelines.,0,0.9938387274742126
115128637,6698,thalieht,2017-05-06T20:48:15Z,redundant extra line.,0,0.7182453274726868
115128660,6698,thalieht,2017-05-06T20:49:36Z,one line up.,0,0.9759528040885925
115128808,6698,thalieht,2017-05-06T21:03:23Z,one line up.,0,0.9759528040885925
115128957,6698,thalieht,2017-05-06T21:13:36Z,2 lines down.,0,0.9603897929191589
115128982,6698,thalieht,2017-05-06T21:15:16Z,one line up.,0,0.9759528040885925
115129037,6698,thalieht,2017-05-06T21:17:27Z,one line up.,0,0.9759528040885925
115129044,6698,thalieht,2017-05-06T21:17:45Z,the bracket here and a few lines below empty line before `private:`,0,0.9949769377708435
115129046,6698,thalieht,2017-05-06T21:17:50Z,one line up.,0,0.9759528040885925
115129550,6698,zeule,2017-05-06T21:45:12Z,done.,0,0.9897913336753845
115129552,6698,zeule,2017-05-06T21:45:19Z,done.,0,0.9897913336753845
115129625,6698,zeule,2017-05-06T21:48:27Z,"no, themes are addressed by theme name.",0,0.9919418096542358
115130185,6698,thalieht,2017-05-06T22:20:29Z,"how about ""could not find a theme file named""? i could be wrong but `file theme` doesn't seem right, `theme file` seems more correct. anyway in the current one you forgot ""could not _find_ file theme named""? unless the class name is deceiving.",0,0.9858113527297974
115130295,6698,zeule,2017-05-06T22:25:47Z,"ah, right! thanks! there is a typo. has to be ""could not find theme named"".",1,0.9934099316596985
115968618,6698,zeule,2017-05-11T11:45:22Z,"`setvalue(post, prevalue);`",0,0.994145393371582
116801952,6698,Chocobo1,2017-05-16T17:10:44Z,redundant line,0,0.8700101971626282
116802326,6698,Chocobo1,2017-05-16T17:12:21Z,"huh, so you like adding these... i can go either way, i'll let others decide.",0,0.6988836526870728
116803046,6698,zeule,2017-05-16T17:15:25Z,"please note, the first two commits are authored by and are taken from pr #6375",0,0.9921072125434875
116803439,6698,Chocobo1,2017-05-16T17:16:55Z,i would remove the extra comma,0,0.989124059677124
116804627,6698,Chocobo1,2017-05-16T17:21:49Z,i think you should adhere to coding guidelines till it changes...,0,0.9815696477890015
116804994,6698,Chocobo1,2017-05-16T17:23:22Z,`const auto &pair`,0,0.9947977066040039
116805169,6698,Chocobo1,2017-05-16T17:24:01Z,"`m_entries.emplace_back(pair.first, pair.second);` ?",0,0.9944561123847961
116805508,6698,Chocobo1,2017-05-16T17:25:16Z,and i would remove `{}`,0,0.9935427904129028
116805840,6698,Chocobo1,2017-05-16T17:26:31Z,pls add parentheses,0,0.9944307208061218
116806442,6698,Chocobo1,2017-05-16T17:28:52Z,"instead of casting inside, why not pass in `size_t` directly?",0,0.9925897121429443
116806607,6698,Chocobo1,2017-05-16T17:29:34Z,i would add parentheses,0,0.9936555624008179
116807074,6698,Chocobo1,2017-05-16T17:31:23Z,i would remove `{}`,0,0.9928199648857117
116807408,6698,Chocobo1,2017-05-16T17:32:40Z,i would remove `{}`,0,0.9928199648857117
116810810,6698,Chocobo1,2017-05-16T17:46:26Z,"just curious, why create a namespace?",0,0.9758301973342896
116829572,6698,zeule,2017-05-16T19:02:20Z,"no, impossible: [code block]",0,0.9003503918647766
116831695,6698,zeule,2017-05-16T19:11:46Z,because `qabstractitemmodel` interface uses `int` and replacing parameter type we get casts in `data()` then.,0,0.9935004115104675
116832796,6698,zeule,2017-05-16T19:16:35Z,to show that these constants are local.,0,0.9924910664558411
117098066,6698,thalieht,2017-05-17T20:09:42Z,no big deal imo but i think `logmessagetype` should not be abbreviated because no other section is.,0,0.6915401220321655
117103499,6698,thalieht,2017-05-17T20:35:47Z,deser i alize,0,0.9894396662712097
117105617,6698,thalieht,2017-05-17T20:45:42Z,to freely mix objects from different sources within a theme?,0,0.990459680557251
117107447,6698,thalieht,2017-05-17T20:54:09Z,typo: correspondign,0,0.9938679337501526
117108245,6698,thalieht,2017-05-17T20:57:54Z,"""this function handles theme inheritance""?",0,0.9932663440704346
117110310,6698,thalieht,2017-05-17T21:07:14Z,seriali z ation,0,0.9844304919242859
117110759,6698,thalieht,2017-05-17T21:09:26Z,thees -> this?,0,0.9867542386054993
117110975,6698,thalieht,2017-05-17T21:10:27Z,deescription: one extra e,0,0.9954959154129028
117112697,6698,thalieht,2017-05-17T21:19:00Z,swap with above.,0,0.9934201836585999
117113321,6698,thalieht,2017-05-17T21:22:09Z,"them -> theme? also ""color"" 2 lines above.",0,0.9906628131866455
117113450,6698,thalieht,2017-05-17T21:22:47Z,firs -> first,0,0.982466995716095
117114296,6698,thalieht,2017-05-17T21:27:18Z,one line up.,0,0.9759528040885925
117114607,6698,thalieht,2017-05-17T21:28:38Z,why so lonely?,-1,0.9651311039924622
117115841,6698,thalieht,2017-05-17T21:35:32Z,wasloadedsucces s fu l ly,0,0.9845394492149353
117117196,6698,thalieht,2017-05-17T21:42:37Z,"some lines above you use variable name xok but here xok. personally i don't care, actually i prefer the second in this case but coding style.. if it matters i've seen at least one more somewhere else.",0,0.9252124428749084
117117935,6698,thalieht,2017-05-17T21:46:22Z,out -> our?,0,0.9911565780639648
117118422,6698,thalieht,2017-05-17T21:48:55Z,capital x in extension.,0,0.9919005632400513
117120886,6698,thalieht,2017-05-17T22:02:49Z,"not an error but you use ""colors"" everywhere else. same 2 lines up.",0,0.9797744154930115
117122030,6698,thalieht,2017-05-17T22:09:30Z,you forward declare this a few lines below.,0,0.9924889802932739
117124561,6698,thalieht,2017-05-17T22:24:48Z,triple fff in effect.,0,0.7530004978179932
117124918,6698,thalieht,2017-05-17T22:27:23Z,serialise -> serialize,0,0.9901536107063293
117202149,6698,glassez,2017-05-18T09:34:42Z,i would use format string and `qstring::arg()`.,0,0.9944013953208923
117203963,6698,glassez,2017-05-18T09:42:44Z,fix coding style.,0,0.9817914962768555
117204052,6698,glassez,2017-05-18T09:43:12Z,coding style.,0,0.9877970814704895
117204258,6698,glassez,2017-05-18T09:44:05Z,fix coding style: add blank line before `private` section.,0,0.9939437508583069
117204690,6698,glassez,2017-05-18T09:45:59Z,fix coding style. lambda should be indented as function so mave curly brace to next line.,0,0.9912319779396057
117204941,6698,glassez,2017-05-18T09:47:10Z,fix coding style.,0,0.9817914962768555
117225243,6698,glassez,2017-05-18T11:42:14Z,explicit qvariant isn't needed here and below.,0,0.9924910664558411
117225596,6698,glassez,2017-05-18T11:43:58Z,redundant blank line.,0,0.8117470145225525
117225723,6698,glassez,2017-05-18T11:44:40Z,i would remove braces in these two loops.,0,0.9876101016998291
117227383,6698,glassez,2017-05-18T11:53:17Z,don't need it anymore. leave qt5 branch only.,0,0.9912793040275574
117227679,6698,glassez,2017-05-18T11:54:22Z,oops. this comment is related to other line.,-1,0.9794067740440369
117227785,6698,glassez,2017-05-18T11:55:01Z,don't need it anymore. leave qt5 branch only.,0,0.9912793040275574
117228093,6698,glassez,2017-05-18T11:56:54Z,fix coding style.,0,0.9817914962768555
117228234,6698,glassez,2017-05-18T11:57:47Z,coding style.,0,0.9877970814704895
117228684,6698,glassez,2017-05-18T12:00:41Z,it's bad idea using unrelated operators even if it's shorter.,-1,0.7842620611190796
117228880,6698,glassez,2017-05-18T12:01:50Z,unused branch.,0,0.9494306445121765
117229068,6698,glassez,2017-05-18T12:03:04Z,need space after if.,0,0.9931240677833557
117229607,6698,glassez,2017-05-18T12:06:12Z,need blank lines between enum declarations.,0,0.9821099638938904
117230124,6698,glassez,2017-05-18T12:09:11Z,it is unix only. move to unixconf.pri,0,0.9941898584365845
117410823,6698,glassez,2017-05-19T06:29:01Z,isn't plasma integration unix only feature?,0,0.9935130476951599
117419709,6698,glassez,2017-05-19T07:31:07Z,why is it separate from other color providers?,0,0.9904884099960327
117419914,6698,glassez,2017-05-19T07:32:17Z,"imo, all this theme initialization should be in application.",0,0.9927878975868225
117420546,6698,glassez,2017-05-19T07:35:32Z,aren't `registerfontproviders` and `registercolorproviders` enough? (without `gui` part) or there could be non-gui providers?,0,0.9902036190032959
117421486,6698,glassez,2017-05-19T07:40:49Z,i wouldn't create these variables.,0,0.9144545793533325
117421527,6698,zeule,2017-05-19T07:41:05Z,"theoretically no, but practically yes.",0,0.9400674104690552
117422104,6698,glassez,2017-05-19T07:44:44Z,"why on activated? isn't ""current item changed"" better choice?",0,0.9867832660675049
117438134,6698,zeule,2017-05-19T09:14:32Z,i had an impression that they are re-used somewhere...,0,0.9779858589172363
117454067,6698,zeule,2017-05-19T10:46:13Z,maybe `active()` would be better?,0,0.9907387495040894
117466720,6698,zeule,2017-05-19T12:15:23Z,maybe somebody wants to re-apply a theme. last time it was me tuning the plasma colors.,0,0.965580940246582
117475840,6698,zeule,2017-05-19T13:08:08Z,"could you elaborate, please?",0,0.9868924021720886
117477694,6698,zeule,2017-05-19T13:17:43Z,done.,0,0.9897913336753845
117671085,6698,LordNyriox,2017-05-22T06:43:33Z,: see `&=`.,0,0.9891158938407898
117714322,6698,glassez,2017-05-22T10:38:36Z,yes. `&=` is bitwise operator and not logical. correct code: [code block] c++ compilers (still) accept this code as such as using integers in logical expressions but imo (and i hope not only imo) it's a bad idea mixing it.,-1,0.7879274487495422
117715864,6698,zeule,2017-05-22T10:48:32Z,"section 4.7.4 of the standard is explicit on this subject and the code is correct. however, if you want that change, probably it means that the taken approach does not please everyone and i better refactor this fragment to return early after the first read error.",0,0.9885451197624207
117737927,6698,glassez,2017-05-22T12:57:07Z,"i don't know why this was done, apparently, for backward compatibility. imo, implicit conversion between boolean and numeric types is evil. it would be better independently of the discussed issue unless you need to read it all in any case.",-1,0.9842876195907593
117778888,6698,zeule,2017-05-22T15:43:38Z,replaced with exceptions.,0,0.9885860085487366
118046397,6698,zeule,2017-05-23T16:53:21Z,"so the question boils down to ""does theme actively change application or is it used by the app?"" if so, then theme the themes are passive entities.",0,0.9902302622795105
118909066,6698,zeule,2017-05-29T10:22:44Z,ok.,0,0.980760931968689
119870868,6698,glassez,2017-06-02T14:30:04Z,some headers are in sources section. please fix.,0,0.9796764850616455
119871861,6698,glassez,2017-06-02T14:33:45Z,use `static_cast` unless you check casting result.,0,0.9950100183486938
119901052,6698,glassez,2017-06-02T16:40:05Z,shouldn't you capture `this` here? you use `tr` method inside this lambda.,0,0.994030773639679
119901330,6698,glassez,2017-06-02T16:41:38Z,deserializationerror &ex,0,0.9763895869255066
125428067,6698,zeule,2017-07-04T09:23:21Z,`tr()` is static.,0,0.9945968389511108
125743103,6698,zeule,2017-07-05T20:03:13Z,this partially solves #2934.,0,0.9913661479949951
128436030,6698,glassez,2017-07-20T06:45:04Z,i have long wanted to say this: i extremely do not like this approach! why are you making the theme dependent on its users? why not make an abstract interface? e.g.: `qcolor colortheme::color(colorid id) const`. then we won't need to change it every time we want to add support for those in some other application component.,-1,0.9889905452728271
128464641,6698,zeule,2017-07-20T09:19:55Z,"because different parts of the colours set require a bit different handling. torrent state colours require fast access and as such are backed by a cache, while others do not need this. these three functions give a simple interface for clients and of course one can do: [code block] sorry, i can't see how adding an enum member is better or simpler than adding a virtual function.",-1,0.9295828938484192
128470361,6698,glassez,2017-07-20T09:45:01Z,"okay, okay, i won't criticize your solutions, they are certainly correct!.. but if i leave the sarcasm aside, i meant a little more. i meant more abstract interface. the colortheme class simply parses the file and allows you to request a color by its [string] key. caching and other specific handling can (should) be done on the client side.",1,0.5806928277015686
128483811,6698,zeule,2017-07-20T10:53:49Z,"but nothing in the interface says that `colortheme::color()` might be slow, therefore a cache at the client side seems to be illogical. from the other side, you are absolutely right: the client only can decide what is slow for it and what is not.",0,0.9860410094261169
128569838,6698,glassez,2017-07-20T16:47:34Z,"did someone once specifies it in the interface? for example, `colortheme::getcolorslowly()`? this is what i want: each application layer is responsible for its task and has no incorrect dependencies.",0,0.9934032559394836
140826712,6698,zeule,2017-09-25T16:25:16Z,: please take a look at the last commit (refactor theme serialization). i've tried to implement your recommendations.,0,0.9887296557426453
140833898,6698,glassez,2017-09-25T16:53:20Z,"well, i'll look into it asap.",0,0.979949951171875
393258675,12144,glassez,2020-03-16T19:19:46Z,i would declare it as static const invalid in appropriate struct.,0,0.9799806475639343
393261985,12144,glassez,2020-03-16T19:26:38Z,invalid coding style.,-1,0.6800457835197449
393263785,12144,glassez,2020-03-16T19:30:29Z,there are no lines in model. there are items.,0,0.9899196624755859
393270060,12144,glassez,2020-03-16T19:43:40Z,"i would call it ""onnewmessage"" or ""handlenewmessage"".",0,0.9904145002365112
393439897,12144,jagannatharjun,2020-03-17T04:33:24Z,done,0,0.8682363629341125
393439938,12144,jagannatharjun,2020-03-17T04:33:31Z,done?,0,0.9878233671188354
393439972,12144,jagannatharjun,2020-03-17T04:33:38Z,done,0,0.8682363629341125
393459962,12144,jagannatharjun,2020-03-17T06:01:55Z,i think this was done because of the use of html based formatting in `logwidget` which is not required anymore.,0,0.9860188961029053
393460109,12144,jagannatharjun,2020-03-17T06:02:38Z,will `m_msgcount` make more sense?,0,0.9929640293121338
393645667,12144,Chocobo1,2020-03-17T12:34:19Z,"we shouldn't use `exec()` anymore, take a look at `void trackerfilterslist::showmenu(const qpoint &)` to see how to do it in an async way.",0,0.9940400123596191
393680905,12144,jagannatharjun,2020-03-17T13:32:36Z,"should i combine both views under `basiclogview`, i mean all they have different is model, which can be added seperately",0,0.9886743426322937
393696721,12144,glassez,2020-03-17T13:55:55Z,"as i said before you can use generic view. all things you're doing in view constructors you can apply from outside it. seems one exception is key press event handler, so you can implement generic copiablelistview and use it with your models (although you can use basic listview and set external event handler).",0,0.988663375377655
393700490,12144,jagannatharjun,2020-03-17T14:01:26Z,"both have the same key events (is am missing something) i was doing it this way implement `loglistview`, set model and filter seperately in executionlogwidget i.e create two instance and setmodel accordingly, they both seem to have only this much difference",0,0.9861332774162292
393702370,12144,jagannatharjun,2020-03-17T14:04:04Z,"problem is model, they seem to do the same think but i can't seem to find an acceptable way to combine them.",-1,0.6633129119873047
393708367,12144,glassez,2020-03-17T14:12:30Z,seems the only way is using templates.,0,0.9738049507141113
393712177,12144,glassez,2020-03-17T14:17:43Z,although seems it isn't good idea to use templates with qobject based types so we can leave two models.,0,0.9347025752067566
393712701,12144,jagannatharjun,2020-03-17T14:18:24Z,signals will not work in template how about this [code block] but it will duplicate data,0,0.9899746775627136
393717737,12144,glassez,2020-03-17T14:25:07Z,what do you mean? also vector isn't good choice for collecting messages since when it is full each new message will need its shifting.,0,0.9439133405685425
393727954,12144,jagannatharjun,2020-03-17T14:38:45Z,we currently directly query the message from the logger with this we're maintaining our own message queue. stack?,0,0.9945132732391357
393730223,12144,jagannatharjun,2020-03-17T14:41:50Z,"i think you were saying to limit the number of messages in msglist, so maybe this can be considered with this we're caching the message also as you said.",0,0.9898423552513123
393739770,12144,glassez,2020-03-17T14:55:03Z,"currently in this pr, i suppose... yes. but already converted in display friendly form. otherwise we need to obtain and convert it regularly.",0,0.9900599718093872
393745528,12144,jagannatharjun,2020-03-17T15:02:43Z,"setting up was small, so i didn't make separate classes",0,0.9706915020942688
393760683,12144,jagannatharjun,2020-03-17T15:23:35Z,"well now i'm implementing `baselogmodel`, but just for the discussion, isn't it will create performance implication on a large number of messages. which was the original problem. also, the display functions are only called for the items in the view so it can't be a much of a problem neither std::stack or qstack provides iteration so i'm using qvector as a stack,",0,0.9863675236701965
393766134,12144,glassez,2020-03-17T15:30:48Z,we need to make a choice. seems we need to compare performance of both ways. anyway both models contain many duplicated code so baselogmodel will probably relevant in both cases.,0,0.9817200303077698
393768956,12144,glassez,2020-03-17T15:34:35Z,"there are ""circular buffer"" types. as far as i remember tried to use one of them in logger (in original pr).",0,0.9901498556137085
393823147,12144,Chocobo1,2020-03-17T16:48:58Z,why you need 3 lines to do the same thing? why not just: [code block],0,0.9860835671424866
393836560,12144,Chocobo1,2020-03-17T17:08:53Z,this should be `return m_types.testflag(type);`,0,0.9951275587081909
393844606,12144,Chocobo1,2020-03-17T17:21:45Z,i think it is a bad idea to use `std::pair` all over the place. maybe you can use `indexrange ` or `indexinterval ` if the first one doesn't fit well.,-1,0.822563648223877
393854457,12144,glassez,2020-03-17T17:37:02Z,"imo, it seems to be redundant at all. why one needs to know this range before it obtain messages for the first time?",0,0.9052610397338867
393895971,12144,glassez,2020-03-17T18:45:27Z,"seems ""retrieve by demand"" approach still needs some kind of this info. although i would reimplement single message retrieving to be index based (real index instead of id). we just need to provide ""logger::messagecount()"" method. this way we avoid multiple index-to-id mappings (currently this pr need two mappings to access any message and additional calculations/checkings to get messages count). so i suggest that ""logger::getmessage(int index)"" just means ""get nth message from current set"".",0,0.9852346777915955
393898162,12144,glassez,2020-03-17T18:49:15Z,we still need to maintain id (as timepoint alternative) so async client (e.g. webapi user) can access messages subset starting from some timepoint.,0,0.9931702613830566
394363252,12144,jagannatharjun,2020-03-18T13:55:06Z,used qcache,0,0.993767261505127
394363379,12144,jagannatharjun,2020-03-18T13:55:18Z,done,0,0.8682363629341125
394363472,12144,jagannatharjun,2020-03-18T13:55:26Z,done,0,0.8682363629341125
394363564,12144,jagannatharjun,2020-03-18T13:55:31Z,done?,0,0.9878233671188354
394569747,12144,Chocobo1,2020-03-18T18:52:19Z,seems this can go private.,0,0.9881213903427124
394570569,12144,Chocobo1,2020-03-18T18:53:45Z,later date should be on top.,0,0.9923581480979919
394571173,12144,Chocobo1,2020-03-18T18:54:54Z,`qobject::` is redundant isn't? you should really read closely to the code samples i gave...,0,0.9708630442619324
394571436,12144,Chocobo1,2020-03-18T18:55:25Z,is this header in use?,0,0.9945254325866699
394571694,12144,Chocobo1,2020-03-18T18:55:55Z,this can be `const qaction *` can't it?,0,0.9939671754837036
394572427,12144,Chocobo1,2020-03-18T18:57:12Z,seems this is not needed here.,0,0.9896866679191589
394574532,12144,Chocobo1,2020-03-18T19:00:47Z,`const qmodelindex &index` as it seems to be some complex type to me.,0,0.9878658652305603
394577671,12144,Chocobo1,2020-03-18T19:06:40Z,`logger::message()` and `logger::peer()` read data from different source so they should have different lock.,0,0.9919291734695435
394579751,12144,Chocobo1,2020-03-18T19:10:45Z,seems this project prefers each variable to have its own line. check other places too!,0,0.9879125952720642
394581398,12144,glassez,2020-03-18T19:14:01Z,and don't appent these extra spaces inside this line (between name and email).,0,0.9938974976539612
394593541,12144,jagannatharjun,2020-03-18T19:36:58Z,done,0,0.8682363629341125
394593571,12144,jagannatharjun,2020-03-18T19:37:03Z,done,0,0.8682363629341125
394594156,12144,jagannatharjun,2020-03-18T19:38:15Z,done,0,0.8682363629341125
394594215,12144,jagannatharjun,2020-03-18T19:38:23Z,removed,0,0.9591778516769409
394594267,12144,jagannatharjun,2020-03-18T19:38:30Z,done,0,0.8682363629341125
394594343,12144,jagannatharjun,2020-03-18T19:38:38Z,removed,0,0.9591778516769409
394594434,12144,jagannatharjun,2020-03-18T19:38:48Z,done,0,0.8682363629341125
394594524,12144,jagannatharjun,2020-03-18T19:38:57Z,done,0,0.8682363629341125
394594831,12144,jagannatharjun,2020-03-18T19:39:37Z,"seems like they're not needed to explicitly store, so i removed them as member variables.",0,0.9876540303230286
395110899,12144,Chocobo1,2020-03-19T15:24:26Z,done? you didn't change anything here...,0,0.9508941769599915
395112121,12144,Chocobo1,2020-03-19T15:26:09Z,what does this do? better add a comment in code because it is not really obvious.,0,0.983910322189331
395112858,12144,Chocobo1,2020-03-19T15:27:09Z,constructor & destructor should be placed together.,0,0.9893133044242859
395117947,12144,jagannatharjun,2020-03-19T15:33:51Z,"they should be private slots, displaylistmenu is connected to context menu requested and copy selection is connected to copy action",0,0.9954882264137268
395119986,12144,Chocobo1,2020-03-19T15:36:39Z,i mean shouldn't `keypressevent()` be private?,0,0.9892938137054443
395124028,12144,jagannatharjun,2020-03-19T15:42:10Z,"sorry, done",-1,0.9943243265151978
395124274,12144,jagannatharjun,2020-03-19T15:42:30Z,added a comment please check.,0,0.9924882650375366
395124424,12144,jagannatharjun,2020-03-19T15:42:39Z,done.,0,0.9897913336753845
395182950,12144,Chocobo1,2020-03-19T17:05:21Z,please add `explicit`,0,0.99580979347229
395185646,12144,Chocobo1,2020-03-19T17:09:13Z,do you mean now it is all plain text and no more coloring for different `msgtype`?,0,0.9936402440071106
395187618,12144,Chocobo1,2020-03-19T17:12:17Z,move the declaration lower to just where it is needed.,0,0.9906008243560791
395190369,12144,Chocobo1,2020-03-19T17:16:34Z,if possible try moving #ifndef block to the bottom of this function block.,0,0.9920554757118225
395191304,12144,Chocobo1,2020-03-19T17:17:54Z,should this be renamed to `setmsgtypes()`?,0,0.9953632354736328
395196371,12144,jagannatharjun,2020-03-19T17:25:27Z,"coloring is handled by model, so we don't do html formatting any more, previously we're using qlabel with html formatting.",0,0.9945265650749207
395200282,12144,jagannatharjun,2020-03-19T17:31:04Z,done.,0,0.9897913336753845
395200353,12144,jagannatharjun,2020-03-19T17:31:10Z,done,0,0.8682363629341125
395200404,12144,jagannatharjun,2020-03-19T17:31:16Z,done,0,0.8682363629341125
395200469,12144,jagannatharjun,2020-03-19T17:31:22Z,done,0,0.8682363629341125
395200529,12144,jagannatharjun,2020-03-19T17:31:27Z,done,0,0.8682363629341125
395445996,12144,Chocobo1,2020-03-20T05:35:40Z,seems a good idea to me to turn msgmodel->reset() into a public slot and you can invoke it without the lambda.,0,0.9275270104408264
395448317,12144,Chocobo1,2020-03-20T05:48:43Z,[a link] would you please check your code thoroughly?,0,0.9950266480445862
395449143,12144,Chocobo1,2020-03-20T05:53:30Z,can't this be private?,0,0.9863231182098389
395449384,12144,Chocobo1,2020-03-20T05:54:51Z,redundant empty line isn't?,0,0.5679371356964111
395451673,12144,Chocobo1,2020-03-20T06:07:28Z,"`qstring::fromlatin1(""%1 - "")`",0,0.9927438497543335
395451833,12144,Chocobo1,2020-03-20T06:08:15Z,those parameters can be `const`.,0,0.9944297671318054
395451920,12144,Chocobo1,2020-03-20T06:08:40Z,use a `switch()` or return on negated condition.,0,0.9930064678192139
395452256,12144,Chocobo1,2020-03-20T06:10:32Z,i would use this form: [code block] and then why not merge it with the declaration of `text`?,0,0.9937677383422852
395452618,12144,Chocobo1,2020-03-20T06:12:32Z,we need an empty line at eof please.,0,0.9904568791389465
395455969,12144,glassez,2020-03-20T06:29:24Z,"""lastknownid"" is meaningless name in terms of logger itself (logger knows any existing id). i would change it to accept parameter that has some consistent meaning, e.g. ""sinceid"". even more... as i said before we really has no ids but some ""synthetic"" timepoints (to be sure they are unique) so i would rename all id related stuff accordingly.",0,0.9576812982559204
395456469,12144,glassez,2020-03-20T06:31:52Z,"also i would rename ""msg"" to ""message"" in all (or at least in all public) names. ?",0,0.9945435523986816
395457075,12144,glassez,2020-03-20T06:34:40Z,"why did you remove reference from ""types"" parameter?",0,0.9939056038856506
395459726,12144,glassez,2020-03-20T06:46:55Z,`explicit` should be always used if constructor can be used with single parameter and we don't want to use it implicitly. if you remove `explicit` here you will be able to write `logfiltermodel model = log::all` but it is incorrect.,0,0.9766826629638672
395464319,12144,glassez,2020-03-20T07:05:20Z,"it's incorrect usage of signals. signals should be used to inform about some events, but not to encourage something external to take some action.",0,0.5214834213256836
395467471,12144,glassez,2020-03-20T07:17:18Z,why these two are static? if you need to store them between method calls you should make them class members.,0,0.9864621758460999
395470221,12144,glassez,2020-03-20T07:26:19Z,is it correct? shouldn't `+=` be here?,0,0.9942891597747803
395470768,12144,glassez,2020-03-20T07:28:03Z,also i don't see where they're used...,0,0.9865471124649048
395472503,12144,glassez,2020-03-20T07:34:14Z,why don't you return `item` here? otherwise you need to call logger three times at once.,0,0.9924012422561646
395472640,12144,Chocobo1,2020-03-20T07:34:46Z,"agreed, at least in all public names.",0,0.9832309484481812
395473398,12144,Chocobo1,2020-03-20T07:37:10Z,"`log::msgtypes` is actually `qflags<>`, i suspect it is small enough to be passed by value, i don't think it make sense that it will be larger than the underlying enum size.",0,0.9909936785697937
395475265,12144,glassez,2020-03-20T07:43:05Z,"ok, seems you're right.",0,0.9521245956420898
395530487,12144,jagannatharjun,2020-03-20T09:50:09Z,yeap you're right,0,0.9383054375648499
395532977,12144,jagannatharjun,2020-03-20T09:54:58Z,"my first thought was -> [code block] but this will not work, because we have a filter mode inside messageview, will have to add another check from filtermodel and then cast its model to baselogmodel, doesn't it will spill the implementation detail everywhere, any suggestion?",0,0.9763432145118713
395618715,12144,Chocobo1,2020-03-20T12:58:56Z,do you really need the dummy parameter?,0,0.9914284348487854
395619605,12144,Chocobo1,2020-03-20T13:00:36Z,fix coding style please.,0,0.990057647228241
395621386,12144,Chocobo1,2020-03-20T13:04:11Z,"`qstring::fromlatin1(""%1 - %2"")`",0,0.9933547973632812
395621680,12144,Chocobo1,2020-03-20T13:04:48Z,please add an empty line between every switch cases.,0,0.9932129383087158
395625320,12144,Chocobo1,2020-03-20T13:11:34Z,is it guaranteed that `id` will always be valid and will not read outside of `m_peers`? this looks very unsafe to me.,-1,0.7665945291519165
395629041,12144,Chocobo1,2020-03-20T13:18:08Z,i think we should add `case log::normal:` here to be explicit. the `default` case should be only used for catching unexpected cases.,0,0.9876394867897034
395633106,12144,Chocobo1,2020-03-20T13:25:14Z,"`m_msgcount` can be implied from m_cache size, isn't?",0,0.9945752620697021
395641695,12144,glassez,2020-03-20T13:39:23Z,"it isn't guaranteed that start index is 0. you should initialize it alongside with initial message count from logger. e.g. if message count is 0 then start index is 0, otherwise start index should be obtained from first message.",0,0.9913620352745056
395642611,12144,glassez,2020-03-20T13:40:56Z,are you just messing around here?,-1,0.703874945640564
399827482,12144,jagannatharjun,2020-03-29T17:25:12Z,"webui functions also take parameters at lastknownid, should i change them too? ps: this pr doesn't touch those function, should i really have to touch these?",0,0.992095410823822
399828540,12144,jagannatharjun,2020-03-29T17:33:37Z,"`baselogmodel::data` does the checking, i don't think both inherited classes can do boundary checking (they don't know indexes)",0,0.9895685315132141
399828927,12144,jagannatharjun,2020-03-29T17:36:45Z,"i got this through hard testing :face_with_tears_of_joy: ps: will change to 64, or is there any other number?",1,0.9825006127357483
399829115,12144,jagannatharjun,2020-03-29T17:38:24Z,should i leave it? i think the maximum number of visible messages in the current view should be around this number anyway.,0,0.9874196648597717
399847726,12144,jagannatharjun,2020-03-29T20:16:32Z,removed,0,0.9591778516769409
399847753,12144,jagannatharjun,2020-03-29T20:16:43Z,fixed,0,0.920660674571991
399847791,12144,jagannatharjun,2020-03-29T20:16:57Z,done?,0,0.9878233671188354
399847915,12144,jagannatharjun,2020-03-29T20:17:45Z,maybe `getmessagedfrom(int lastknownid)`?,0,0.9946148991584778
399922535,12144,Chocobo1,2020-03-30T04:36:13Z,please remove it.,0,0.9760221838951111
399962238,12144,Chocobo1,2020-03-30T06:52:33Z,functions should be listed before variables.,0,0.993722140789032
399966381,12144,Chocobo1,2020-03-30T07:02:16Z,same here.,0,0.9916109442710876
399966740,12144,Chocobo1,2020-03-30T07:03:06Z,please add an empty line above this.,0,0.9945873022079468
399968853,12144,jagannatharjun,2020-03-30T07:07:46Z,"nope cache size is fixed, it will fill up to the size specified in the baselogmodel constructor (64 for now) and then start deleting the least recently used",0,0.9914275407791138
399968930,12144,glassez,2020-03-30T07:07:56Z,we cache no all messages but several recent ones (in current pr implementation).,0,0.993736982345581
399970101,12144,Chocobo1,2020-03-30T07:10:20Z,`const qstring time = qdatetime::frommsecssinceepoch(msg.timestamp).tostring(qt::systemlocaleshortdate);`,0,0.9927104711532593
399970948,12144,Chocobo1,2020-03-30T07:12:14Z,"please try `return {text};` or `return {text, {}, {}};`",0,0.9952408075332642
399972674,12144,Chocobo1,2020-03-30T07:15:42Z,i would still add an `break;` here,0,0.9921712875366211
399975016,12144,Chocobo1,2020-03-30T07:20:45Z,move this empty line below `item` declaration.,0,0.9943463206291199
399975236,12144,Chocobo1,2020-03-30T07:21:12Z,`const int index`,0,0.9931373596191406
399975755,12144,Chocobo1,2020-03-30T07:22:18Z,what do you mean by using `&&` here?? or you should use `q_assert_x`,0,0.9914031624794006
399992350,12144,jagannatharjun,2020-03-30T07:53:49Z,done.. extra ident is added by uncrusitify should i keep it?,0,0.9924127459526062
399992475,12144,jagannatharjun,2020-03-30T07:54:03Z,done,0,0.8682363629341125
399992551,12144,jagannatharjun,2020-03-30T07:54:10Z,done.,0,0.9897913336753845
399992596,12144,jagannatharjun,2020-03-30T07:54:15Z,done,0,0.8682363629341125
399992829,12144,jagannatharjun,2020-03-30T07:54:38Z,removed the string,0,0.9941034913063049
399993248,12144,jagannatharjun,2020-03-30T07:55:25Z,"changed to later one, clang-tidy is complaining about missing initializer for the first one.",0,0.8812681436538696
399993397,12144,jagannatharjun,2020-03-30T07:55:39Z,done.,0,0.9897913336753845
399993455,12144,jagannatharjun,2020-03-30T07:55:46Z,done,0,0.8682363629341125
399993505,12144,jagannatharjun,2020-03-30T07:55:52Z,done.,0,0.9897913336753845
399993541,12144,jagannatharjun,2020-03-30T07:55:57Z,done.,0,0.9897913336753845
399993718,12144,jagannatharjun,2020-03-30T07:56:19Z,changed to 64,0,0.9838009476661682
400000784,12144,jagannatharjun,2020-03-30T08:08:45Z,"i think there were two new lines at the end of the file, you're referring to that right? removed.",0,0.9910593628883362
400071195,12144,Chocobo1,2020-03-30T10:02:36Z,these two can be const function.,0,0.9926791191101074
400073327,12144,Chocobo1,2020-03-30T10:06:10Z,i think it is better to use a lambda instead of defining another function.,0,0.9814884662628174
400073388,12144,Chocobo1,2020-03-30T10:06:18Z,here too.,0,0.9698454141616821
400074685,12144,Chocobo1,2020-03-30T10:08:33Z,really?,-1,0.818821132183075
400077045,12144,Chocobo1,2020-03-30T10:12:33Z,can `view` & `model` be `const t *`?,0,0.9945026636123657
400215571,12144,jagannatharjun,2020-03-30T14:01:34Z,done please have a look.,0,0.968275785446167
400216253,12144,jagannatharjun,2020-03-30T14:02:27Z,i moved the contextmenuhandling in executionlogwidget please have a look..,0,0.9950172305107117
400631202,12144,Chocobo1,2020-03-31T04:07:33Z,"no, it is too long.",0,0.6019896864891052
401792559,12144,jagannatharjun,2020-04-01T17:38:14Z,yes. changed the pointers to const,0,0.9924492835998535
401792696,12144,jagannatharjun,2020-04-01T17:38:28Z,replace with lambda version,0,0.9940793514251709
401792820,12144,jagannatharjun,2020-04-01T17:38:38Z,changed with lambda versions,0,0.9937891364097595
401792985,12144,jagannatharjun,2020-04-01T17:38:53Z,functions are removed,0,0.9920759201049805
401793086,12144,jagannatharjun,2020-04-01T17:39:03Z,ok replaced.,0,0.9834346175193787
401793295,12144,jagannatharjun,2020-04-01T17:39:27Z,"sorry, somehow missed. please check again.",-1,0.989355742931366
402031403,12144,Chocobo1,2020-04-02T03:27:10Z,"i don't think this should have `mutable`, it can but seems it isn't really needed.",0,0.8844972252845764
402032789,12144,Chocobo1,2020-04-02T03:32:58Z,why do you omit the `context` parameter? imo it is good practice to always specify `context` [a link],0,0.9922835230827332
402032853,12144,Chocobo1,2020-04-02T03:33:14Z,here too.,0,0.9698454141616821
402034183,12144,Chocobo1,2020-04-02T03:38:51Z,`const int initialsize`,0,0.9941599369049072
402034598,12144,Chocobo1,2020-04-02T03:40:42Z,isn't this redundant? `m_startindex` already defaults to `0`,0,0.992919385433197
402035087,12144,Chocobo1,2020-04-02T03:42:46Z,when will this condition happen? i don't understand.,-1,0.64696204662323
402037462,12144,Chocobo1,2020-04-02T03:53:28Z,does it help if this is enlarged to `128` or `256`? also please add a comment of the criteria of setting this value.,0,0.9951456189155579
402040130,12144,Chocobo1,2020-04-02T04:05:13Z,"this variable name is too vague, can it be renamed to `msgindex`?",0,0.9846870303153992
402073749,12144,jagannatharjun,2020-04-02T06:15:02Z,please see [a link],0,0.995389461517334
402074601,12144,jagannatharjun,2020-04-02T06:17:43Z,"please see [a link] sorry i remember initializing m_startindex to -1, but i somehow missed to push the changes, extremely sorry.",-1,0.9942808151245117
402079895,12144,jagannatharjun,2020-04-02T06:31:50Z,the insert used in `baselogmodel::data() const` is not a const data member of `qcache`,0,0.9947498440742493
402080039,12144,jagannatharjun,2020-04-02T06:32:15Z,added,0,0.8435775637626648
402080134,12144,jagannatharjun,2020-04-02T06:32:30Z,added,0,0.8435775637626648
402080168,12144,jagannatharjun,2020-04-02T06:32:35Z,done,0,0.8682363629341125
402080423,12144,jagannatharjun,2020-04-02T06:33:18Z,done,0,0.8682363629341125
404286627,12144,Chocobo1,2020-04-06T18:04:25Z,"ok, but i mean leaving a comment in code.",0,0.9909613728523254
404287287,12144,Chocobo1,2020-04-06T18:05:27Z,"`m_startindex` still default to `0` in header file, do you intend to change it to `-1` or not?",0,0.9950821399688721
404290529,12144,Chocobo1,2020-04-06T18:11:09Z,add whitespace: `new item {rowdata(msgindex)};`,0,0.9951608777046204
404299269,12144,jagannatharjun,2020-04-06T18:26:02Z,sorry:crying_face:,-1,0.9952818751335144
404309615,12144,jagannatharjun,2020-04-06T18:43:28Z,actually `m_startindex=-1` causes crashes hmmmmmm,0,0.9373425245285034
404313727,12144,jagannatharjun,2020-04-06T18:50:28Z,"m_startindex should be zero here, as the `initialsize` is provided from the derived classes which obtain this value by calling `messagecount` and `peercount` so `m_startindex` is guaranteed to be zero here we need `initialsize` as we'll miss some log message emitted during start up since gui is initialized after core classes the index in `baselogmodel::addnewmessage(int index)` will be the index of the new message after gui is initialized but we need previous messages in the view as well(?)",0,0.9943758249282837
404936583,12144,Chocobo1,2020-04-07T16:15:11Z,"the last parameter `1` is the same as the default value, you can omit it if you want.",0,0.9950820207595825
404938188,12144,Chocobo1,2020-04-07T16:17:27Z,i think this is a better idea: i would omit checking `m_msgcount == 0` above and do boundary check on `msgindex` instead. to me this seems to be safer. `if ((m_msgcount < 0) || (m_msgcount > some_upper_limit)) return {};`,0,0.623849630355835
404940523,12144,Chocobo1,2020-04-07T16:20:49Z,"iirc i suggested this change, now i feel silly... apologies, you are free to omit the empty lines in this `switch()` block if you want.",-1,0.9943852424621582
404942993,12144,Chocobo1,2020-04-07T16:24:17Z,you need to add curly brackets here since the loop consist of multi-lines.,0,0.9935674071311951
404943759,12144,Chocobo1,2020-04-07T16:25:17Z,`qstring::fromlatin1`,0,0.994021475315094
404944240,12144,Chocobo1,2020-04-07T16:25:53Z,please move it into the anonymous namespace below.,0,0.9954639077186584
404947004,12144,Chocobo1,2020-04-07T16:29:34Z,seems this can be `const`,0,0.9932001233100891
404947213,12144,Chocobo1,2020-04-07T16:29:51Z,`(timewidth + fontmetrics.width(seperator))`,0,0.9929677248001099
404947840,12144,Chocobo1,2020-04-07T16:30:41Z,"i'm not sure, is this required?",0,0.8246028423309326
404950805,12144,Chocobo1,2020-04-07T16:35:02Z,i think this should be at top of this function: [code block],0,0.9903050661087036
404952228,12144,Chocobo1,2020-04-07T16:37:14Z,doesn't it reset the pen properties? i mean shouldn't you call `qpen::setcolor` instead?,0,0.9933740496635437
405293696,12144,jagannatharjun,2020-04-08T06:47:11Z,how about this `if (!((msgindex >= m_startindex) && (msgindex < m_msgcount))) return {};`,0,0.9933950304985046
405296167,12144,jagannatharjun,2020-04-08T06:52:56Z,"this paints background, focus rect and other things except for text, the reason why display role is null is to make this call work correctly",0,0.9932242631912231
405297563,12144,jagannatharjun,2020-04-08T06:55:59Z,it's guaranteed that `qstyleditemdelegate` will return painter in original state([a link] it may also call `qpainter::save` and i don't know if overlapping save command to painter will work,0,0.993644118309021
405311629,12144,jagannatharjun,2020-04-08T07:25:18Z,removed,0,0.9591778516769409
405311901,12144,jagannatharjun,2020-04-08T07:25:52Z,done,0,0.8682363629341125
405311974,12144,jagannatharjun,2020-04-08T07:25:59Z,done,0,0.8682363629341125
405312014,12144,jagannatharjun,2020-04-08T07:26:04Z,done,0,0.8682363629341125
405312080,12144,jagannatharjun,2020-04-08T07:26:12Z,done,0,0.8682363629341125
405312377,12144,jagannatharjun,2020-04-08T07:26:47Z,done,0,0.8682363629341125
405312606,12144,jagannatharjun,2020-04-08T07:27:14Z,done,0,0.8682363629341125
405316829,12144,Chocobo1,2020-04-08T07:35:17Z,i would prefer not having `!` in the statement.,-1,0.7307933568954468
405318105,12144,jagannatharjun,2020-04-08T07:37:37Z,`if ((msgindex < m_startindex) || (msgindex >= m_msgcount))` ?,0,0.9941282272338867
405319750,12144,Chocobo1,2020-04-08T07:40:41Z,off topic: iirc we are having issues on progress bar here: [a link] could be related...,0,0.8996718525886536
405321624,12144,jagannatharjun,2020-04-08T07:44:10Z,done,0,0.8682363629341125
405328817,12144,jagannatharjun,2020-04-08T07:56:32Z,"hmm may be you're right, but the issues are mainly on linux based systems and i don't have linux machine to test on.",0,0.9638333320617676
405353903,12144,glassez,2020-04-08T08:38:14Z,"docs clearly state that painter pushes its state onto ""stack"" so it will work.",0,0.9910051822662354
405622962,12144,glassez,2020-04-08T15:42:35Z,"no. as i said before this name is meaningless from logger perspective (since it knows all its messages). it can be just `getmessages(int startid)` which literally means ""give me all the messages starting with some specific id"".",0,0.9861289858818054
287553240,10702,glassez,2019-05-25T06:35:53Z,tracking changes in the style file is too much!.. dissaproved.,-1,0.9900789260864258
287554349,10702,jagannatharjun,2019-05-25T07:25:41Z,"helps when making new style file, helped me myself when i was testing this. think about the designer, don't have to restart qbittorrent again and again though i am ready to remove this if you insist",1,0.8403127789497375
287556131,10702,glassez,2019-05-25T08:45:02Z,"my belief is that minor features that are not directly related to the main purpose of the application should be implemented as less expensive as possible. interface customizing is minor feature and ""helps when making new style file, helped me myself when i was testing this"" is even more minor (qbittorrent isn't style design studio). reloading the style file on demand (when applying application settings) is more than enough.",0,0.966436505317688
287556156,10702,glassez,2019-05-25T08:46:21Z,"we don't use ""get"" prefix in getter names.",0,0.9916398525238037
287563413,10702,glassez,2019-05-25T13:49:08Z,please don't produce such a long lines. you can place comment before affected code and split it into several lines.,0,0.9221667647361755
287597553,10702,glassez,2019-05-26T13:12:42Z,shouldn't you apply it to qapplication instead?,0,0.9947766065597534
289048502,10702,zywo,2019-05-30T15:43:36Z,"if i'm not wrong, this data member is never used.",0,0.9708945751190186
289061060,10702,jagannatharjun,2019-05-30T16:12:39Z,xd i thought i removed it long time ago,0,0.9788345098495483
291899853,10702,glassez,2019-06-10T07:01:05Z,please init it before main window (i.e. one line up).,0,0.995145857334137
291900208,10702,glassez,2019-06-10T07:02:53Z,coding style issue: opening brace for functions/lambdas should be on its own line.,0,0.9695723652839661
291900319,10702,glassez,2019-06-10T07:03:29Z,coding style issue: missing space after comma.,0,0.9603961706161499
291901560,10702,glassez,2019-06-10T07:10:03Z,move this line up (so initialization order follows items order).,0,0.9937547445297241
291902946,10702,glassez,2019-06-10T07:16:05Z,"why first parameter is ""nullptr""?",0,0.990458607673645
291903475,10702,glassez,2019-06-10T07:18:24Z,i don't know what you're trying to prevent here. please explain.,-1,0.6032359004020691
291904727,10702,glassez,2019-06-10T07:23:58Z,please don't check int as bool: [code block],0,0.9842779040336609
291905211,10702,glassez,2019-06-10T07:25:59Z,the same as above.,0,0.9920604228973389
291905894,10702,glassez,2019-06-10T07:28:43Z,we put all internal functions in anonymous namespace.,0,0.994899570941925
291906227,10702,glassez,2019-06-10T07:30:08Z,please implement constructor and make initialization there.,0,0.9950856566429138
291906755,10702,glassez,2019-06-10T07:32:27Z,"""new"" is redundant in such names.",0,0.9799571633338928
291907798,10702,glassez,2019-06-10T07:36:31Z,"this name implies that class instance represents some theme instance. but it realy manages themes so it still should be called uithememanager. please note ""ui"" instead of ""ui"" in used names (to be a correctly written abbreviation).",0,0.9915105104446411
291981933,10702,jagannatharjun,2019-06-10T11:56:51Z,"on successful `getopenfilename`, i am inserting a ""custom"" in combobox but this `insert` call calls this function recursively with the 'select' as current text, and we get infinite `getopenfilename` calls",0,0.9917469024658203
292278722,10702,glassez,2019-06-11T05:06:53Z,redundant blank line.,0,0.8117470145225525
292285812,10702,glassez,2019-06-11T05:48:42Z,"i don't see the need to reinitialize it. i do not understand why you chose a text-based methods to manage it. since you have a predetermined number of items, you know their indexes, so it is better to use more efficient index-based methods. besides, all these functions (fromthemestr, themestr) are unnecessary. [code block]",0,0.7594528794288635
292562239,10702,jagannatharjun,2019-06-11T17:00:11Z,"thanks, didn't know about `blocksignals`, still learning xd.",1,0.8547770977020264
292562698,10702,glassez,2019-06-11T17:01:09Z,"redundant action in destructor, isn't it?",0,0.8937334418296814
292564074,10702,glassez,2019-06-11T17:03:54Z,"ok, it is reasonable. also you can move block/unblock signals outside if/else to prevent unnecessary signal here.",0,0.9768825769424438
292564483,10702,jagannatharjun,2019-06-11T17:04:52Z,"idk, it's done in `saveoptions` called with every `accept`?",0,0.9953343272209167
292565110,10702,jagannatharjun,2019-06-11T17:06:12Z,"well before some commit i was using empty `m_qssfilepath` as some sort of flag, now it's not necessary.",0,0.991576611995697
292565311,10702,glassez,2019-06-11T17:06:37Z,"sorry, i misread it.",-1,0.9914644360542297
294034162,10702,Chocobo1,2019-06-15T04:19:19Z,can this be moved into `mainwindow` constructor?,0,0.9957818984985352
294034250,10702,Chocobo1,2019-06-15T04:23:43Z,this is more suitable at `uithememanager::installtheme`,0,0.995759904384613
294034282,10702,Chocobo1,2019-06-15T04:25:24Z,"this can be inlined to `uithememanager::theme()` and then you don't even need a state for uithememanager, isn't?",0,0.9919816851615906
294034470,10702,jagannatharjun,2019-06-15T04:35:23Z,glassez said it better to change the stylesheet for the `main application`,0,0.9921761155128479
294034634,10702,Chocobo1,2019-06-15T04:43:25Z,"no, i mean move it into mainwindow and change qapplication stylesheet from there. [a link] stylesheet operations doesn't belong to application class imo.",0,0.9877678751945496
294034724,10702,Chocobo1,2019-06-15T04:48:39Z,better way is create get/set methods in preference class and use it.,0,0.9910476803779602
294034821,10702,jagannatharjun,2019-06-15T04:52:59Z,this way i only do it once else we it will do it with every installtheme,0,0.9902695417404175
294034838,10702,glassez,2019-06-15T04:54:09Z,it can be also done in uithememanager class itself.,0,0.993965208530426
294035274,10702,Chocobo1,2019-06-15T05:17:47Z,"yeah, but what if user removed that folder (by accident or not), unless he recreates it manually he will have to restart app to get it appeared.",0,0.9713138341903687
294042393,10702,jagannatharjun,2019-06-15T10:23:08Z,how about i create a separate signal `stylechanged` in preference class and listen for it in `uithememanager`,0,0.9932668209075928
294042473,10702,glassez,2019-06-15T10:26:35Z,"bad idea. preferences already has general signal for ""changed"" event. see other classes that use preferences.",-1,0.9786806106567383
294043483,10702,glassez,2019-06-15T11:02:13Z,too many blank lines. only one in a row is acceptable.,-1,0.602902889251709
294043534,10702,glassez,2019-06-15T11:04:00Z,m_uithemefilepath.,0,0.9906820058822632
294043924,10702,jagannatharjun,2019-06-15T11:21:02Z,done,0,0.8682363629341125
294043930,10702,jagannatharjun,2019-06-15T11:21:20Z,done,0,0.8682363629341125
294043936,10702,jagannatharjun,2019-06-15T11:21:31Z,maybe done.,0,0.9635924696922302
294043940,10702,jagannatharjun,2019-06-15T11:21:41Z,maybe done.,0,0.9635924696922302
294044252,10702,Chocobo1,2019-06-15T11:35:47Z,"i would place these functions just below `void setlocale(const qstring &locale);`, similar to the layout of the option dialog. and also in .cpp file too.",0,0.9938920736312866
294044293,10702,Chocobo1,2019-06-15T11:37:02Z,"you are casting `theme` to `int` eventually, you should just make the parameter `int` type.",0,0.9929424524307251
294044333,10702,Chocobo1,2019-06-15T11:37:47Z,wrong order here and at other places too.,-1,0.7182642221450806
294044376,10702,Chocobo1,2019-06-15T11:39:44Z,`setguithemeselection`,0,0.9927939176559448
294044382,10702,Chocobo1,2019-06-15T11:39:59Z,`getguithemeselection`,0,0.9917614459991455
294044468,10702,Chocobo1,2019-06-15T11:43:00Z,this should be a function `applytheme()` and `uithememanager` class should become `guitheme` namespace.,0,0.9947052597999573
294044823,10702,jagannatharjun,2019-06-15T11:57:32Z,then what's the point of using `enum class`,0,0.9623404145240784
294044950,10702,Chocobo1,2019-06-15T12:04:52Z,"ha, i should be the one asking that problem. joking aside, this specific function is feeding to/from `m_ui->combotheme`. the combobox only understands `int` and thus it doesn't need to know (or use) your customized enum class, isn't? plugging enum into the middle of it feels unnatural for me.",-1,0.9331873655319214
294049276,10702,jagannatharjun,2019-06-15T14:34:35Z,`setguitheme`?,0,0.9939610958099365
294049756,10702,jagannatharjun,2019-06-15T14:50:14Z,"[code block] isn't above looks more cryptic as compared to this [code block] sure less code, but the latter is not intituitive.",0,0.9654804468154907
294055354,10702,Chocobo1,2019-06-15T18:12:08Z,if i were to do it: [code block] also you introduced a *potential* undefined behavior by `static_cast ` in `preferences::theme()` which occurs when the value is large to an extent. that's why i prefer making getters/setters as simple as possible and move the logic of verifying the value validness outside of it instead. defying your own idea...!?,-1,0.9860358238220215
294064104,10702,jagannatharjun,2019-06-16T01:17:11Z,"then i have to write some where what 0 and 1 means in this context. imho i like ""current"" way, but will change if you insist. you're the boss xd",1,0.935272216796875
294064257,10702,jagannatharjun,2019-06-16T01:28:45Z,oh ho that what `selection` implies here. ok now i understood.,0,0.7601950764656067
294067229,10702,Chocobo1,2019-06-16T04:27:07Z,or perhaps in the current context you can work around by using `bool`: `void preferences::setguiusecustomtheme(bool)`. it is either custom or not (the default).,0,0.9932109713554382
294086579,10702,jagannatharjun,2019-06-16T14:20:28Z,i personally like named constants in my code. this way clearly shows the intent. having an enum cleanly defines different types of `themes` available. imho i find you're both suggested ways more complicated. i myself took some time to understand what you meant by `selection` but maybe i'm a little dumb. idk maybe i'm wrong. ?,-1,0.531093955039978
300320649,10702,glassez,2019-07-04T09:46:44Z,why this one is really needed? i would do its job in uithememanager constructor.,0,0.9868996143341064
300352040,10702,glassez,2019-07-04T11:12:59Z,"it's good idea (and widely used practice) to use custom format name and file extension in such case, imo. we don't expect any rcc file here but some preformatted content packed in it.",1,0.7671030759811401
300352939,10702,jagannatharjun,2019-07-04T11:15:43Z,"with latest commit, it is `m_rccfilepath`",0,0.9954870343208313
300355855,10702,jagannatharjun,2019-07-04T11:24:08Z,"i don't have any problem, suggestions?",0,0.9705324769020081
300363766,10702,glassez,2019-07-04T11:49:17Z,"""select qbittorrent theme file"" for message. .qbtheme or something like it for file extension.",0,0.994769275188446
300675511,10702,glassez,2019-07-05T13:06:04Z,"we've discussed this already. it must be initialized before the mainwindow. why did you move it? i only asked you to get rid of the unnecessary method ""applytheme"", but not to move this one. you really don't understand why it has to be in this order?",0,0.5566990375518799
300676624,10702,glassez,2019-07-05T13:09:52Z,customuithemepath and other names accordingly,0,0.9945284724235535
300689521,10702,glassez,2019-07-05T13:45:20Z,"imo, selection suffix isn't so appropriate. it sounds like state of some control but the option means the ui theme mode (default/custom that is used by the application. so i would use something like uithememode. or even make it to be boolean option ""usecustomuitheme""",0,0.9728327989578247
300692746,10702,glassez,2019-07-05T13:53:51Z,settings in the configuration file can be in inconsistent state (custom theme is used but the path is not set) so you should handle this case.,0,0.9911954402923584
300695121,10702,glassez,2019-07-05T14:00:11Z,why not log this message?,0,0.9882665276527405
300696447,10702,glassez,2019-07-05T14:04:06Z,why did you leave these two methods public? they're not supposed to be accessed outside of the class implementation.,0,0.9785410761833191
300715498,10702,jagannatharjun,2019-07-05T14:56:28Z,"![a link] ![a link] if called before, the main window is not initialized with the previously set theme, idk why,",0,0.9662941098213196
300723197,10702,glassez,2019-07-05T15:20:18Z,"this is weird... how is `-stylesheet` command line parameter supposed to work in this case?.. i wish i had time to debug it. anyway, if you can't figure out what the problem is, you're gonna have to go the other way. i'm looking into the future when the theme will contain icons and other resources, so it should be initialized before creating the gui.",-1,0.9935681223869324
300727082,10702,jagannatharjun,2019-07-05T15:32:44Z,registerresource in the constructor and `applystylesheet` after mainwindow initialization?,0,0.9953722357749939
300734799,10702,glassez,2019-07-05T15:59:35Z,looks like we're gonna have to do it this way.,0,0.925910472869873
300753968,10702,jagannatharjun,2019-07-05T17:23:28Z,now?,0,0.9896223545074463
300754137,10702,jagannatharjun,2019-07-05T17:24:16Z,now?,0,0.9896223545074463
300826544,10702,glassez,2019-07-06T09:50:04Z,there is the same problem with inconsistent/incorrect settings here. you should never trust to the configuration file since it can be corrupted for some reason. so you should check/fix the config values before use them.,0,0.9598285555839539
300826604,10702,glassez,2019-07-06T09:53:05Z,"please move ""&&"" to the next line. [code block]",0,0.9949305653572083
300826649,10702,glassez,2019-07-06T09:54:10Z,will ask you to add `const` here.,0,0.9945060610771179
300826739,10702,glassez,2019-07-06T09:57:28Z,you should add curly braces since the content of `if` is multiline. (see qbittorrent coding guidelines),0,0.9956763386726379
300826771,10702,glassez,2019-07-06T09:58:56Z,please use `logmsg()` helper.,0,0.9953858256340027
300826836,10702,glassez,2019-07-06T10:01:39Z,add `q_disable_copy(uithememanager)` after it.,0,0.995079755783081
300833708,10702,Chocobo1,2019-07-06T14:57:46Z,`const bool use`,0,0.995144784450531
300833727,10702,Chocobo1,2019-07-06T14:58:28Z,add `const` to function signature.,0,0.9954209923744202
300833729,10702,Chocobo1,2019-07-06T14:58:33Z,add `const` to function signature.,0,0.9954209923744202
300833765,10702,Chocobo1,2019-07-06T15:00:01Z,no default value for usecustomuitheme? really?,-1,0.6756494641304016
300833778,10702,Chocobo1,2019-07-06T15:00:50Z,still placing in wrong order.,-1,0.7237036228179932
300833833,10702,Chocobo1,2019-07-06T15:03:25Z,wrong comma placement.,-1,0.8066116571426392
300833871,10702,Chocobo1,2019-07-06T15:04:23Z,i don't really insist that you can instead return early on `!preferences::instance()->usecustomuitheme()` condition.,0,0.984279215335846
300833893,10702,Chocobo1,2019-07-06T15:05:18Z,wrong comma placement.,-1,0.8066116571426392
300833987,10702,Chocobo1,2019-07-06T15:09:00Z,do you need this function? seems not to me as you can inline within `applystylesheet`.,0,0.9952408075332642
300834019,10702,Chocobo1,2019-07-06T15:10:35Z,you should put in the var name.,0,0.9936471581459045
300834092,10702,Chocobo1,2019-07-06T15:13:33Z,"you should put in the var name... why do i even need to point this (and many other small coding style defectives) out... this is easily seen not in line with rest of file, isn't?",-1,0.6590129137039185
300834152,10702,Chocobo1,2019-07-06T15:16:13Z,please fill in the 3rd parameter `this`.,0,0.9956978559494019
300834173,10702,Chocobo1,2019-07-06T15:17:14Z,`const int index`,0,0.9931373596191406
300834213,10702,Chocobo1,2019-07-06T15:18:29Z,"i would replace """" with {}",0,0.9924231767654419
300834627,10702,Chocobo1,2019-07-06T15:34:41Z,please add an empty line above this line.,0,0.9944362640380859
300834637,10702,Chocobo1,2019-07-06T15:35:12Z,please add an empty line above this line.,0,0.9944362640380859
300835073,10702,jagannatharjun,2019-07-06T15:48:12Z,this is to handle i/o error in opening of stylesheet,0,0.9946638345718384
300835179,10702,jagannatharjun,2019-07-06T15:50:40Z,sorry,1,0.6406954526901245
300851053,10702,Chocobo1,2019-07-07T06:01:05Z,why is it required?,0,0.9923633337020874
300851072,10702,Chocobo1,2019-07-07T06:02:05Z,"only in header, remove the `const` in variable.",0,0.9950138926506042
300851077,10702,Chocobo1,2019-07-07T06:02:13Z,~~here too.~~ never mind.,0,0.7957642674446106
300851110,10702,Chocobo1,2019-07-07T06:03:35Z,wrap it in `tr()`,0,0.9928802847862244
300851136,10702,Chocobo1,2019-07-07T06:04:53Z,"and use `.arg()` to concatenate strings, it is better for translators.",0,0.9948943853378296
300851241,10702,Chocobo1,2019-07-07T06:08:01Z,i would prefer return early on opposite condition. you produced a needless block of indention currently.,-1,0.8399118781089783
300851379,10702,Chocobo1,2019-07-07T06:15:48Z,what is the point of giving an error message about you can't open an internal path? what do you expect the users to react upon seeing this error?,0,0.9225497245788574
300851408,10702,Chocobo1,2019-07-07T06:17:18Z,"you shouldn't call `readall` when `open` is failed in any case, it is beyond common sense even if it produces expected behavior.",0,0.947281002998352
300851442,10702,Chocobo1,2019-07-07T06:19:18Z,now it make sense (to me) to return early: `if (!preferences::instance()->usecustomuitheme()) {/*setstylesheet && return*/}` because you can save an indention in a long block.,0,0.9901646971702576
300851509,10702,Chocobo1,2019-07-07T06:22:12Z,"this line is too long, please split at the start of &&",0,0.7074559926986694
300851528,10702,Chocobo1,2019-07-07T06:23:04Z,and add parentheses around the returned expression.,0,0.9945188164710999
300851798,10702,Chocobo1,2019-07-07T06:33:19Z,"backticks usually encloses code. using `""""` is more proper.",0,0.991228461265564
300851824,10702,Chocobo1,2019-07-07T06:34:21Z,i would prefer placing functions before variables.,0,0.981676459312439
300851913,10702,Chocobo1,2019-07-07T06:37:52Z,this can be `const` too.,0,0.9939753413200378
300852051,10702,Chocobo1,2019-07-07T06:43:33Z,is it necessary to registerresource in constructor? can't you do it in `applystylesheet`?,0,0.9949874877929688
300852634,10702,glassez,2019-07-07T07:02:33Z,you didn't follow my previous comments? just look a little into the future. it is assumed that the themes will contain icons and other resources. so it has to be loaded before we create gui. but `applystylesheet` doesn't work before gui (mainwindow) is created (as reported by ) so we have to apply it after.,0,0.9914767146110535
300852746,10702,glassez,2019-07-07T07:07:05Z,"agree. but error message still needed. i would reformat it to be more user-friendly, e.g. ""couldn't apply theme stylesheet. perhaps theme file is invalid. reason: """,0,0.9652839303016663
300852801,10702,glassez,2019-07-07T07:09:36Z,as we usually do :+1:,1,0.9152270555496216
300852977,10702,Chocobo1,2019-07-07T07:15:48Z,understood.,0,0.9652015566825867
300853042,10702,jagannatharjun,2019-07-07T07:17:46Z,will remove it.,0,0.9905731081962585
300853092,10702,Chocobo1,2019-07-07T07:19:19Z,shouldn't you produce a warning (in log) when the path is invalid or register action failed?,0,0.9915797710418701
300853199,10702,Chocobo1,2019-07-07T07:22:25Z,"at least it should guide users/theme creators to the right direction, about the expected file name.",0,0.9773375988006592
300853261,10702,glassez,2019-07-07T07:24:27Z,`registerresource()` returns false in case of error. it should be logged in this case.,0,0.9943208694458008
301174242,10702,jagannatharjun,2019-07-08T15:59:04Z,#1 [code block] #2 [code block] which one?,0,0.994795024394989
301385835,10702,Chocobo1,2019-07-09T03:47:36Z,neither [code block],0,0.9873929619789124
301386485,10702,Chocobo1,2019-07-09T03:52:12Z,"i would write: `""failed to register .qbtheme file. path: \""%1\""""`",0,0.9925779700279236
301386821,10702,Chocobo1,2019-07-09T03:54:45Z,"you can also create a const variable to `preferences::instance()`, code will be much shorter.",0,0.9947624802589417
301387324,10702,Chocobo1,2019-07-09T03:58:03Z,"`error: \""%1\""`",0,0.9893442988395691
301387495,10702,Chocobo1,2019-07-09T03:58:56Z,shouldn't it belong to log::warning?,0,0.9907352924346924
301492522,10702,glassez,2019-07-09T09:41:43Z,"i would produce more user-friendly log messages (unless some internals are required to be described there): `failed to load ui theme from file \""%1\""`. there is enough information to understand what we are talking about both for the user and for the developer.",0,0.9829346537590027
301494231,10702,glassez,2019-07-09T09:45:48Z,i still don't see the point in showing the application internals in this message...,-1,0.6123242974281311
301535897,10702,jagannatharjun,2019-07-09T11:32:00Z,"maybe the creator miss spell the file and these are for the creator anyway, more information is always good :stuck_out_tongue_winking_eye: any suggestions for another message.",0,0.6364946961402893
301539952,10702,glassez,2019-07-09T11:43:45Z,"yes. but you still should print file path related to theme source root but not to the internal path used by qbittorrent. `couldn't apply theme stylesheet. stylesheet.qss couldn't be opened. reason: %1`. imo, the message like this is both user-friendly and informative for the theme creator.",1,0.6750317811965942
301542508,10702,glassez,2019-07-09T11:50:03Z,"the message should give the user a clear understanding of what is at stake. it should also contain a minimum of information for the developer, sufficient to match the problem with the application code, if necessary.",0,0.9894639253616333
301571751,10702,Chocobo1,2019-07-09T13:00:11Z,redundant qstring,0,0.9841234087944031
63430288,4936,sledgehammer999,2016-05-16T21:35:56Z,are we inventing new ways to use every possible feature of the c++ language in qbittorrent? i would do it in a for loop here. ps: i don't want you to change it. just a remark.,0,0.9684388637542725
63433818,4936,sledgehammer999,2016-05-16T22:00:16Z,delete newline,0,0.991692841053009
63433823,4936,zeule,2016-05-16T22:00:18Z,"perhaps it's just me, but `std::transform` shows the purpose more clearly because the stl algorithms are declarative.",0,0.9609559178352356
63433862,4936,sledgehammer999,2016-05-16T22:00:33Z,delete newline,0,0.991692841053009
63434494,4936,sledgehammer999,2016-05-16T22:05:40Z,repeat the macro because of [a link],0,0.9939694404602051
63434820,4936,sledgehammer999,2016-05-16T22:08:11Z,i think it is better to organize it this way: [code block],0,0.9825133085250854
63435518,4936,sledgehammer999,2016-05-16T22:14:57Z,another point is that templates usually bloat the binary size. (again not saying you should change it),0,0.9814629554748535
63436458,4936,zeule,2016-05-16T22:23:08Z,should we have [code block] and call it like [code block] the binary size will increase comparing to [code block] but here? why?,0,0.9915602803230286
63437448,4936,sledgehammer999,2016-05-16T22:31:50Z,it was a general comment.,0,0.9855247139930725
63437895,4936,sledgehammer999,2016-05-16T22:36:37Z,potential division by zero if `m_piecescount == 1` or `m_imagewidth == 1`,0,0.99274080991745
63437916,4936,sledgehammer999,2016-05-16T22:36:50Z,same here,0,0.99204421043396
63438437,4936,sledgehammer999,2016-05-16T22:41:42Z,"do you really need to initialize explicitly `m_image`, `m_piececolors` and `m_highlitedregion`?",0,0.9941169023513794
63440356,4936,zeule,2016-05-16T23:00:23Z,"well, the code is certainly not clean here and relies on the fact that when we cast float infinity to int, we receive `-max_int` and this value is discarded in the next checks.",0,0.9265986680984497
63440517,4936,sledgehammer999,2016-05-16T23:01:51Z,i think this should go to the top like the other class.,0,0.9759480357170105
63440540,4936,sledgehammer999,2016-05-16T23:02:05Z,`qtextstream &stream`,0,0.9938253164291382
63440691,4936,zeule,2016-05-16T23:02:54Z,"but i will fix the code, of course.",0,0.9771105051040649
63440734,4936,sledgehammer999,2016-05-16T23:03:07Z,"i think you have to wording wrong here. it should be: `files.count() > 1 ? tr(""file in this piece:"") : tr(""files in this piece:""));`",0,0.9721804857254028
63440931,4936,sledgehammer999,2016-05-16T23:04:11Z,what is the purpose of this if you're always going to return the same value? for exposing it in the future via a setting?,0,0.9850799441337585
63440997,4936,zeule,2016-05-16T23:04:57Z,we highlight several pieces if a file is stretched over them.,0,0.9889261722564697
63441000,4936,sledgehammer999,2016-05-16T23:04:57Z,shouldn't you drop the exclamation mark here?,0,0.9899251461029053
63441143,4936,zeule,2016-05-16T23:06:21Z,and only a single piece if it contains more than one file.,0,0.9930186867713928
63441355,4936,zeule,2016-05-16T23:08:37Z,i must have made a mistake in `isfilenamecorrectionneeded()` because the generated tooltip texts are correct.,0,0.9879868626594543
63441415,4936,sledgehammer999,2016-05-16T23:09:13Z,for the same reason i think you should repeat this macro here too,0,0.9921100735664368
63441768,4936,zeule,2016-05-16T23:12:44Z,"the function is virtual, and the overrided one in `pieceavailabilitybar` returns `true`.",0,0.9945785999298096
63441996,4936,zeule,2016-05-16T23:15:04Z,or not :),0,0.9699881672859192
63442097,4936,zeule,2016-05-16T23:16:04Z,"we do not want to see "".unwanted"" in the `piecesavailiabilitybar` (remote files), right?",0,0.9806185364723206
63442147,4936,sledgehammer999,2016-05-16T23:16:37Z,"but here you test ""files.count()"" which doesn't tell you if the file spans multiple pieces.",0,0.9884827733039856
63442389,4936,zeule,2016-05-16T23:18:53Z,"this is the number of files in the piece under the mouse pointer. if the files size is not exactly equal to the piece size, this works.",0,0.9946172833442688
63442412,4936,sledgehammer999,2016-05-16T23:19:08Z,no we don't. but the name of the function indicates that you don't need the exclamation mark. so you need to changed the returned values or the function name to avoid confusions.,0,0.9909905195236206
63442636,4936,zeule,2016-05-16T23:21:10Z,ok,0,0.9233372807502747
63442806,4936,sledgehammer999,2016-05-16T23:23:03Z,"shit i was reading the comparison wrong. but it still can lead to weird outputs. for example one file that occupies one whole piece. the tooltip will read ""files in these pieces"" which is wrong.",-1,0.9907716512680054
63442888,4936,zeule,2016-05-16T23:23:51Z,then the negation has to be removed (and the function name is correct).,0,0.9929034113883972
63443322,4936,sledgehammer999,2016-05-16T23:28:04Z,"now that i am thinking it, is there really a situation where we want to output the "".unwanted"" folder? i think not.",0,0.98148512840271
63443558,4936,sledgehammer999,2016-05-16T23:30:07Z,"why this define? i see the different code paths, but why do they achieve? is the random user that compiler supposed to know about this define and define/undefine it himself?",0,0.9771414399147034
63443727,4936,zeule,2016-05-16T23:31:44Z,"i think for the ""progress"" bar (local files) we should output exactly what is on the drive, i.e. including "".unwanted"".",0,0.9863276481628418
63444051,4936,sledgehammer999,2016-05-16T23:35:02Z,yeah. you're right. i am sleepy. i can't think straight.,-1,0.7313154339790344
63444139,4936,zeule,2016-05-16T23:36:03Z,then i add a check for the files size if `files.count() == 1`,0,0.994838535785675
63444714,4936,zeule,2016-05-16T23:41:46Z,"i was not sure which layout to use for tooltips and asked people to compare. you may do this too, but after some recent adjustments to the table layout it is almost perfect and before merging i will delete the define and unused code path.",0,0.6977794170379639
63444732,4936,sledgehammer999,2016-05-16T23:41:59Z,"should i add more pedantry? three strings: 1. ""file in this piece"" -> one file that occupies only one whole piece 2. ""files in these pieces"" -> more than one file that occupy one piece 3. ""file in these pieces"" -> one file that occupies multiple pieces what happens if user hovers over a piece that has 2 files one of which spans to the next(or previous) piece? do you highlight those pieces too?",0,0.9921281337738037
63445197,4936,zeule,2016-05-16T23:46:24Z,"ok no, i don't. only the piece under the cursor is highlighted.",0,0.9900742173194885
63447109,4936,sledgehammer999,2016-05-17T00:05:32Z,and i was wondering from where these came from(i was looking at the 2nd commit diff only). these don't belong in this commit.,0,0.974427342414856
63447153,4936,sledgehammer999,2016-05-17T00:06:00Z,this also doesn't belong in this commit.,0,0.923855185508728
63447354,4936,zeule,2016-05-17T00:08:23Z,ups...,0,0.9776294231414795
63512058,4936,zeule,2016-05-17T12:25:25Z,like to be explicit.,0,0.982866108417511
63599846,4936,sledgehammer999,2016-05-17T20:42:46Z,remove newline,0,0.9944272041320801
63600704,4936,sledgehammer999,2016-05-17T20:47:50Z,you need to check for `m_piecescount` too. remember it is multiplication and any zero makes the whole multiplicaiton zero.,0,0.9931951761245728
63600743,4936,sledgehammer999,2016-05-17T20:48:06Z,you need to check for `m_imagewidth` too. remember it is multiplication and any zero makes the whole multiplicaiton zero.,0,0.9927957653999329
63601164,4936,sledgehammer999,2016-05-17T20:50:32Z,lets leverage the language and not be very verbose with no reason. if it has a default constructor don't empty initialize it. so pelase delete those 3.,0,0.9902756214141846
63601404,4936,zeule,2016-05-17T20:51:49Z,"apparently, there is need for brackets here, because i read this expression incorrectly yesterday too. `m_imagewidth` is in nominator.",0,0.9833406805992126
63601477,4936,zeule,2016-05-17T20:52:15Z,same here.,0,0.9916109442710876
63601546,4936,zeule,2016-05-17T20:52:34Z,ok,0,0.9233372807502747
63601854,4936,sledgehammer999,2016-05-17T20:54:21Z,you're right. division and multiplication have the same priority and you go from left to right. but better put the parentheses to be sure.,0,0.9886610507965088
63604633,4936,zeule,2016-05-17T21:09:51Z,wouldn't it be more readable to replace `m_imagewidth` and `m_piecescount` with `float m_pixelsperpiece`?,0,0.9917013049125671
63605362,4936,sledgehammer999,2016-05-17T21:14:22Z,"yes, but why float? you can't have eg half a pixel.",0,0.9796623587608337
63606205,4936,zeule,2016-05-17T21:19:41Z,"but we need to store ratio with precision of about 1e-3 (size of a typical display) in order to transform piece index to pixel with 1-pixel precision. if a torrent contains less than 1000 pieces, integer ratio is not enough.",0,0.9906519651412964
63607884,4936,sledgehammer999,2016-05-17T21:30:23Z,i am probably confused on how you calculate pixelsperpiece. how do you do it?,-1,0.642829179763794
63608861,4936,zeule,2016-05-17T21:36:33Z,"~~`torrent->info().piecescount() / image.width()`~~ no, of course no. that was piecesperpixel. `image.width() / torrent->info().piecescount()`",0,0.9680286645889282
63610988,4936,sledgehammer999,2016-05-17T21:51:45Z,then yes float makes sense. remember 2 special cases: 1. the last piece might be smaller than piece_size 2. i can't explain it well. but take into consideration that due to rounding errors the edges (first/last piece) might be off by some pixels. not too important.,0,0.9794013500213623
63715540,4936,glassez,2016-05-18T14:41:34Z,fix coding style for lambda. if you need split it you should use same style as for other functions: [code block],0,0.9928445219993591
63715744,4936,glassez,2016-05-18T14:42:26Z,**this** isn't required here.,0,0.9906436800956726
63716223,4936,glassez,2016-05-18T14:44:38Z,remove `bittorrent::` prefix from newly added methods.,0,0.9951175451278687
63716416,4936,glassez,2016-05-18T14:45:33Z,fix coding style as i described above.,0,0.9937856197357178
63717022,4936,glassez,2016-05-18T14:48:24Z,minor. do you remember qdebug stream output adds spaces so you will get `filename ' file ' was not found in torrent ' torrent name '`.,0,0.9918307662010193
63717814,4936,glassez,2016-05-18T14:51:54Z,you can use `libt` shorthand in bittorrent *.cpp files.,0,0.9952796697616577
63718539,4936,glassez,2016-05-18T14:55:17Z,`qpair ` doesn't your uncrustify know this?,0,0.9272842407226562
63718741,4936,glassez,2016-05-18T14:56:07Z,fix coding style for initializers.,0,0.9918939471244812
63719373,4936,zeule,2016-05-18T14:58:58Z,it can not process just two lines.,0,0.9358232021331787
63719809,4936,glassez,2016-05-18T15:00:55Z,fix `m_pieces` => `pieces`.,0,0.9935427904129028
63720071,4936,glassez,2016-05-18T15:02:09Z,fix coding style.,0,0.9817914962768555
63720395,4936,glassez,2016-05-18T15:03:51Z,_virtual_ is redundant here!,0,0.8749514818191528
63720598,4936,glassez,2016-05-18T15:04:51Z,insert space befor `*`.,0,0.9922568798065186
63721069,4936,glassez,2016-05-18T15:07:03Z,fix coding style for initializers.,0,0.9918939471244812
63721683,4936,glassez,2016-05-18T15:09:57Z,and please don't use uncrustify now unless you sure it will not produce another coding style violations. but you can use discovered violations to upgrade uncrustify.cfg later.,0,0.9757735133171082
63722301,4936,glassez,2016-05-18T15:12:44Z,insert space before `&`.,0,0.9907981157302856
63722477,4936,glassez,2016-05-18T15:13:35Z,"of course, you can use `qvector ` instead of const reference.",0,0.9945107698440552
63722581,4936,glassez,2016-05-18T15:14:02Z,fix `ratio_n` name.,0,0.994771420955658
63722815,4936,glassez,2016-05-18T15:14:57Z,maybe `return` after to avoid too long `else`?,0,0.9903364181518555
63723580,4936,glassez,2016-05-18T15:18:22Z,"if you're going to use it in a functional context, it is better to give it a verbal name: render. but, imo, i would change its `operator()` to `void render()`.",0,0.9874926805496216
63723883,4936,glassez,2016-05-18T15:19:37Z,fix `qpair ` => `qpair `,0,0.9900499582290649
63724381,4936,glassez,2016-05-18T15:22:07Z,are you sure it should be public?,0,0.987008273601532
63724770,4936,glassez,2016-05-18T15:23:55Z,private virtual/abstract methods? tear out my eyes!,-1,0.9759829044342041
63725195,4936,zeule,2016-05-18T15:26:00Z,?,0,0.9296892285346985
63726034,4936,zeule,2016-05-18T15:30:10Z,"well, it is public in `qobject`, so there is no big difference...",0,0.9877184629440308
63727004,4936,glassez,2016-05-18T15:35:10Z,why not `protected`? i don't see much point in making virtual methods private. it only confuses people.,0,0.9201647043228149
63727306,4936,glassez,2016-05-18T15:36:30Z,then ok.,0,0.9830632209777832
63728506,4936,zeule,2016-05-18T15:42:28Z,"because a descendant does not need (and thus disallowed) to call it. update: yes, i understand that it _can_ call it. this just shows that the method is not designed for that.",0,0.9909387826919556
63730041,4936,glassez,2016-05-18T15:50:50Z,okay. although they are still abstract.,0,0.9836335778236389
63735814,4936,zeule,2016-05-18T16:23:48Z,herb sutter once wrote a nice [a link] on this subject.,1,0.6992293000221252
63736859,4936,glassez,2016-05-18T16:30:15Z,i mean insert `return` here and then drop `else` and put its content one indentation level up.,0,0.9908291101455688
63737367,4936,glassez,2016-05-18T16:33:30Z,"if you moved it that way (not the way i showed), you could do it in one line: [code block]",0,0.9940676689147949
63737430,4936,zeule,2016-05-18T16:33:57Z,"does that mean ""create two functions out of this one""?",0,0.989905059337616
63739160,4936,glassez,2016-05-18T16:43:49Z,you forget to fix this issue.,0,0.6625860333442688
63739304,4936,glassez,2016-05-18T16:44:38Z,and what is your comment about this?,0,0.9906483292579651
63739463,4936,zeule,2016-05-18T16:45:38Z,"it's not my code, but ok.",0,0.9254032373428345
63739539,4936,glassez,2016-05-18T16:46:07Z,ok. forget it. now i'll see there is some code after `if-else`.,0,0.9681419134140015
63739941,4936,zeule,2016-05-18T16:48:37Z,"i do not want to change the names. the object _is_ renderer, and `operator()` is its natural ""do the only thing you can"" method.",0,0.9821380376815796
63740384,4936,glassez,2016-05-18T16:51:33Z,"okay, let it remain as is.",0,0.9758270978927612
63740567,4936,sledgehammer999,2016-05-18T16:52:50Z,i think it is better to leave it. if one is reading he should know immediately that it is virtual.,0,0.9729032516479492
63741156,4936,glassez,2016-05-18T16:56:17Z,non-virtual cannot be override. in other words: override implies virtual.,0,0.9897935390472412
63741509,4936,sledgehammer999,2016-05-18T16:58:31Z,"i missed ""override"".",0,0.6123377084732056
63786158,4936,zeule,2016-05-18T21:31:39Z,", i think that with this we avoid floating-point arithmetic, but please check.",0,0.9850517511367798
64022439,4936,glassez,2016-05-20T10:47:15Z,remove extra space between last parentheses.,0,0.9911677837371826
64720949,4936,zeule,2016-05-26T10:04:12Z,decided to remove `constexpr` for now. waiting for c++14.,0,0.9866095185279846
64725578,4936,glassez,2016-05-26T10:44:51Z,please describe it in short. what changes in c++14 do you wait?,0,0.9947547912597656
64726799,4936,zeule,2016-05-26T10:57:01Z,"the relaxed `constexpr` restrictions, of course.",0,0.9872318506240845
64732018,4936,glassez,2016-05-26T11:48:25Z,i thought so. but another question - will it be enough?,0,0.9526528120040894
64733107,4936,zeule,2016-05-26T11:59:35Z,"sorry, i don't understand you. i just want to put an assertion into a constexpr function. one needs c++14 for that.",-1,0.9834877848625183
64742589,4936,glassez,2016-05-26T13:16:50Z,i'm not sure these relaxation will be enough to use q_assert in `constexpr` methods.,0,0.6352849006652832
65109630,4936,sledgehammer999,2016-05-30T22:58:48Z,"forward declaring indexrange the same way, doesn't work?",0,0.9830639958381653
65109908,4936,zeule,2016-05-30T23:09:51Z,"it works, of course. decided that the file is so tiny that such optimisation is not significant, while, naturally, this way it is more easy to use this header.",0,0.9784925580024719
65110296,4936,sledgehammer999,2016-05-30T23:19:33Z,i don't know why calculations seem off. example: **torrent size** = 9 **bytes** **piece size** = 2 bytes **image width** = 500 pixels **bytesperpixel** = 0.018 assuming you want piece 5 (last one) then you get: (5 \* 2 + 2 / 2) / 0.0.18 = 11 / 0.018 = 611.111!,-1,0.5911436080932617
65110314,4936,sledgehammer999,2016-05-30T23:20:35Z,what if the file size is smaller than the image? extreme case. look at my example below.,0,0.9812129139900208
65110430,4936,zeule,2016-05-30T23:24:45Z,the idea behind switching to bytes is that there will be no torrent with size in bytes less than ten times size of screen in pixels.,0,0.9905132055282593
65110574,4936,zeule,2016-05-30T23:29:58Z,"it will render incorrectly if `image.width() > torrentinfo.totalsize()`, but i thought that this will never happen. and the relative precision of the computations is `image.width() / torrentinfo.totalsize() * 100%`",0,0.9829749464988708
65110604,4936,sledgehammer999,2016-05-30T23:31:27Z,sorry i made a mistake. the piece index for the last piece would be 4 not 5. which gives an answer of 500. but since the image is so much bigger than the torrent size should one byte occupy several pixels? shouldn't bytesperpixel = width / size ?,-1,0.9895228743553162
65110699,4936,sledgehammer999,2016-05-30T23:35:08Z,don't use curly braces. use the parentheses.,0,0.9902337789535522
65110704,4936,sledgehammer999,2016-05-30T23:35:21Z,same here.,0,0.9916109442710876
65110894,4936,sledgehammer999,2016-05-30T23:43:28Z,and i don't check this one until the first one is resolved.,0,0.991057276725769
65110983,4936,zeule,2016-05-30T23:45:46Z,"in your example `m_bytesperpixel == 0` (and see my comment above). if you think that probability to encounter a torrent with size less than 1000 bytes is not zero, or you just don't want to leave any chance to it, i will rewrite this with floating-point numbers.",0,0.9911674857139587
65111049,4936,sledgehammer999,2016-05-30T23:48:14Z,and i think i get wrong results for this example too: **torrent size** = 10 mib **piece size** = 2 mib **image width** = 500 pixels **bytesperpixel** = 10240 / 500 = 20.48 = 20 pos for piece 4 (last one): (4 \* 2048 + 2048 / 2) / 20 = 9216 / 20 = 460.80 that means that about 40px are allocated for each piece. so 5 pieces occupy 200px. where do the rest 300px go?,0,0.8409744501113892
65111644,4936,zeule,2016-05-31T00:11:15Z,"i suppose that you meant kib, not mib, for the sizes, then bytesperpixel = 20. let's compute pixels per piece: pixelsperpiece = totalpixels / numberofpieces = totalpixels / ceil(torrrentsize / piecesize); in this example numberofpieces = 5 and pixelsperpiece = 100. the method computes image positions for the center of the given piece. exact number is 450, while computation gave 460. the error is 10/450 = 2.2%. the estimation of the error is: `image.width() / torrentinfo.totalsize() * 100%` = 500 / 10240 *100% = 4.9%; however, taking a torrent of size 10 mib we get error value of approx 1920 / (10 \* 2^20) \* 100% = 0.02% and thus a typical error will be 1920*0.02% = 0.384 px. should we want precise pointing, we need to compute two image positions: for the beginning of a piece and for the end. perhaps that would make computations clearer, i don't know. testing on you showed that i have to either put the approximation used into a comment or rewrite the code using two ends and, perhaps, floating point arithmetic.",0,0.9873853921890259
65112294,4936,sledgehammer999,2016-05-31T00:35:10Z,"oops you're right. i messed up the units. anyway, i didn't realize you wanted to calculate the position at the center. i think your explanation is enough and imo the error rate is acceptable. more comments on what the algos do are welcome for future reference. and i suppose torrents smaller than the image are so improbable that we shouldn't worry about them.",1,0.6407849788665771
65112442,4936,zeule,2016-05-31T00:40:24Z,i will add the comment then.,0,0.9915340542793274
65113853,4936,zeule,2016-05-31T01:19:07Z,"the function works incorrectly (don't know details yet), but in multi-file torrent it highlights exactly in the first half of the progress bar. it is strange that i had not noticed that for a few days.",-1,0.8878704309463501
65116531,4936,zeule,2016-05-31T02:21:11Z,"it was an integer overflow when computing value inside of the braces. will make `m_piecesize` of type `qlonglong` too,",0,0.9930210709571838
65117432,4936,zeule,2016-05-31T02:36:13Z,"ok, but this is how c++ code will look like in the very near future.",0,0.9798034429550171
65124251,4936,glassez,2016-05-31T05:08:17Z,but we did accept using it! let's be consistent in our actions. you agreed to this so easily? after you have fought for this opportunity? you surprise me (not to say otherwise).,-1,0.8315778374671936
65153706,4936,sledgehammer999,2016-05-31T09:59:03Z,"i went back and read the relevant issue. ok, i understand why you want it(to narrow the implicit type conversions). i mistakenly thought that it was only to initialize elements of lists (eg vector, map, hash). you can leave them then. i guess old habits make my eyes hurt by seeing this ""unusual/different"" invocation.",-1,0.9493263363838196
65155861,4936,zeule,2016-05-31T10:15:02Z,added a comment which explains the used approximation and qdebug log for a case when it is coarse.,0,0.9914587736129761
65156041,4936,zeule,2016-05-31T10:16:27Z,"thank you,",1,0.8302332758903503
65188017,4936,zeule,2016-05-31T14:08:47Z,just realised that using the `piecerange` abstraction i can make the interface of this class cleaner and remove one of the approximations (for the piece center).,0,0.9886305332183838
65192496,4936,zeule,2016-05-31T14:31:20Z,", take a look, please. as to me the new functions is more correct and cleaner.",1,0.7241737246513367
65194125,4936,zeule,2016-05-31T14:39:08Z,the `indexrange` type seems to be too general to be a member of the `bittorrent` namespace?,0,0.9920288920402527
65207857,4936,glassez,2016-05-31T15:41:07Z,of course. move it into global namespace and its file in `base/` directly.,0,0.9948968291282654
65208026,4936,glassez,2016-05-31T15:42:03Z,i don't like the use **class** keyword in this context.,-1,0.9460834860801697
65208634,4936,glassez,2016-05-31T15:45:05Z,some incorrect indentation...,0,0.5629299879074097
65209909,4936,glassez,2016-05-31T15:51:19Z,"the use of ternary operator with such cumbersome constructions inside looks horrible. imo, in this case it's better (more readable) to use ""earlier return"" or `if-else`: [code block] [code block]",-1,0.9940358400344849
65216509,4936,zeule,2016-05-31T16:26:23Z,class → typename,0,0.989969789981842
65216630,4936,zeule,2016-05-31T16:26:56Z,simplified. what's wrong with the indentation?,0,0.9477331638336182
65218017,4936,glassez,2016-05-31T16:35:47Z,now here is the extra space...,0,0.9929344654083252
65218415,4936,glassez,2016-05-31T16:38:09Z,next indentation level should be more indented than previous one.,0,0.9912603497505188
65220088,4936,zeule,2016-05-31T16:48:15Z,isn't it the case here?,0,0.9913210272789001
65223258,4936,glassez,2016-05-31T17:08:19Z,your previous code was: [code block] the last two lines should be more indented than `: bittorrent::makeinterval (`,0,0.9958159327507019
65225281,4936,zeule,2016-05-31T17:20:48Z,"oh, i see. thanks!",1,0.9867291450500488
65469602,4936,sledgehammer999,2016-06-02T00:58:52Z,"question: since begin() is the same as first() shouldn't end() be the same as last()? i am under the impression you offer those for compatibility, right?",0,0.984495997428894
65536695,4936,zeule,2016-06-02T13:17:15Z,"you are right, this id for compatibility, and as such, end() must point to one after the last element.",0,0.9920623302459717
65552916,4936,sledgehammer999,2016-06-02T14:43:11Z,"i suppose you mean last() and end() are both correct as they are now, right?",0,0.989984393119812
65553778,4936,zeule,2016-06-02T14:47:43Z,yes.,0,0.9851860404014587
778597745,15915,glassez,2022-01-05T07:30:30Z,note for myself: this line is incorrect.,0,0.9490578174591064
781161531,15915,Chocobo1,2022-01-10T12:46:53Z,you can remove those unused headers: [code block],0,0.9955930113792419
781182424,15915,Chocobo1,2022-01-10T13:17:32Z,i would move comparison operators out of class if possible. or at least make them `friend`.,0,0.9883948564529419
781183175,15915,Chocobo1,2022-01-10T13:18:38Z,"those operators without assignment (`/`, `+`) should be out of class if possible. or at least make them `friend`.",0,0.9918928146362305
781185169,15915,Chocobo1,2022-01-10T13:21:29Z,"i would rename the variables to `from, to`. the same to `renamefile()`",0,0.9946106672286987
781188890,15915,Chocobo1,2022-01-10T13:26:22Z,i would either rename it to `forceremovefile(const path &path)` or merge it with `removefile()` (try usual remove first then adjust permission if failed).,0,0.9955606460571289
781191909,15915,Chocobo1,2022-01-10T13:30:24Z,it might be a good idea to sort this block alphabetically so that functions with similar prefixes will be placed next to each other.,0,0.9790257811546326
781195799,15915,Chocobo1,2022-01-10T13:35:34Z,"this should answer you: [a link] therefore it can't be the mount point iirc (or it can? well you have to test it to be sure...) well i don't really expected to see such comments in code, those can be asked on the net instead...",0,0.9841389060020447
781199929,15915,Chocobo1,2022-01-10T13:41:03Z,can't you do these operations on `path` instead of on `qstring`?,0,0.9934090375900269
781203795,15915,Chocobo1,2022-01-10T13:45:59Z,"since this looks like a shim, i would write it: [code block] the same applies to other new functions in this file.",0,0.9944124817848206
781205591,15915,Chocobo1,2022-01-10T13:48:19Z,maybe? [code block] and other similar instances in this file (where `auto` or `auto&` is used),0,0.9918323755264282
781209326,15915,Chocobo1,2022-01-10T13:53:03Z,maybe use \`path\` to denote the variable and not the type.,0,0.9863141775131226
781232347,15915,glassez,2022-01-10T14:21:02Z,please remind me why it is better?,0,0.9936758875846863
781243225,15915,glassez,2022-01-10T14:33:26Z,"but both `some/path/.` and `some/path` point to the same place, don't they?",0,0.9913175106048584
781244849,15915,glassez,2022-01-10T14:35:18Z,"no, since `path` don't store unclean/redundant paths like `some/path/.`",0,0.9883663058280945
781248193,15915,Chocobo1,2022-01-10T14:39:04Z,"iirc it was for implicit type conversion and/or more degree of freedom on the right hand side when doing comparisons. maybe `path` doesn't allow/need it, but it is still a good idea to follow it generally.",0,0.9382124543190002
781344767,15915,Chocobo1,2022-01-10T16:22:27Z,"on a second thought, adding `path` to `utils::compare` might be a bad idea. imo there will be 2 types of comparison for a path type. the first is actual path comparison where the case sensitivity of the file system (or perhaps operating system) will be taken into consideration. the second is comparing the path on a string level where the case sensitivity is always true when comparing. and this is not clear which kind of comparison `utils::compare` is doing. for string-like comparison, i would just convert the path to string at the usage site instead.",0,0.8621348142623901
781348377,15915,Chocobo1,2022-01-10T16:26:44Z,"i suppose not, otherwise i would have update it if i found the opportunity. anyway, the point is to remove the simplify the following `if()` block if path won't ever contain trailing slash.",0,0.9894485473632812
781352179,15915,Chocobo1,2022-01-10T16:31:01Z,`tonative()`,0,0.9939906597137451
781352658,15915,Chocobo1,2022-01-10T16:31:33Z,ditto.,0,0.9384599328041077
781360771,15915,Chocobo1,2022-01-10T16:40:58Z,tonative()?,0,0.9917188882827759
781362278,15915,Chocobo1,2022-01-10T16:42:42Z,both tonative()?,0,0.993168830871582
781363982,15915,Chocobo1,2022-01-10T16:44:30Z,"tonative()? my conclusion so far is that only when passing value to qt functions or qbt internal functions can use tostring(), otherwise it is tonative().",0,0.9863563776016235
781381635,15915,glassez,2022-01-10T17:05:28Z,if scope of this class is limited only to string comparison it should probably be moved in `utils/string/compare.h` as `utils::string::compare`.,0,0.9933624267578125
781386923,15915,glassez,2022-01-10T17:12:18Z,if i remember correctly it is used in some kind of sort algorithms so i will need to implement another compare for path class and just duplicate all the logic from existing compare to compare paths in the same way as it was done previously... have you any better idea?,0,0.9899208545684814
781778709,15915,glassez,2022-01-11T05:58:38Z,done.,0,0.9897913336753845
781779834,15915,glassez,2022-01-11T06:01:43Z,done.,0,0.9897913336753845
781787516,15915,glassez,2022-01-11T06:23:11Z,done.,0,0.9897913336753845
781792384,15915,glassez,2022-01-11T06:35:50Z,done.,0,0.9897913336753845
781793232,15915,glassez,2022-01-11T06:38:02Z,removed qmimedatabase. i'm not sure what another headers are unused...,0,0.9879207611083984
781794734,15915,glassez,2022-01-11T06:41:34Z,"seems it's about left side. any right side can be used when comparators are class members, e.g.: [code block]",0,0.9888627529144287
781853470,15915,glassez,2022-01-11T08:09:21Z,changed anyway.,0,0.8617897629737854
781855417,15915,glassez,2022-01-11T08:11:02Z,slightly reordered declarations but still using logical relations.,0,0.9914669990539551
781869218,15915,glassez,2022-01-11T08:23:58Z,"seems it is used in only one place so i ended up with removing this operators from compare, and now i process paths as strings there.",0,0.9910116195678711
782756639,15915,Chocobo1,2022-01-12T06:55:58Z,"`qlatin1string` is still useful here, isn't?",0,0.9934681057929993
782758726,15915,Chocobo1,2022-01-12T07:00:29Z,tonative?,0,0.9904752373695374
782759392,15915,Chocobo1,2022-01-12T07:01:51Z,i think you should still add path header to this file and to searchhandler.cpp too.,0,0.9901825785636902
782761181,15915,Chocobo1,2022-01-12T07:05:52Z,for function parameter it should be `const char *rhs`. this applies to other similar instances.,0,0.9948853850364685
782762397,15915,Chocobo1,2022-01-12T07:08:37Z,is it a good idea to provide this stream operator? it only provides `tostring()`.,0,0.990542471408844
782764175,15915,Chocobo1,2022-01-12T07:12:29Z,"if it isn't too much trouble for you, i would split it to 2 lines as it is easier to read (for me).",0,0.9634038805961609
782766006,15915,Chocobo1,2022-01-12T07:16:26Z,not sure why you did it this way. iirc the comparison functions is supposed to compare the salient feature of the type. i would do it like this: [code block],0,0.9080854058265686
782768766,15915,Chocobo1,2022-01-12T07:21:45Z,"(for `/`, `+`) since you already have `friend` version of it, you can just ditch this and declare `friend` version as public.",0,0.993954598903656
782772962,15915,Chocobo1,2022-01-12T07:28:19Z,seems the outer `path()` is redundant. the same in `std::string` overload.,0,0.9894233345985413
782773461,15915,Chocobo1,2022-01-12T07:29:24Z,`return !(lhs == rhs);`,0,0.9922722578048706
782775098,15915,Chocobo1,2022-01-12T07:32:34Z,i would rename `rootfolder` to `newroot` or `newrootfolder`.,0,0.9946532249450684
782783619,15915,Chocobo1,2022-01-12T07:47:55Z,could the path ever be empty? what about making `path` always non-empty? (make this an invariant of the type),0,0.9907870888710022
782784616,15915,Chocobo1,2022-01-12T07:49:41Z,maybe name it `root`?,0,0.9905716180801392
782784750,15915,Chocobo1,2022-01-12T07:49:54Z,maybe just `parent`?,0,0.9886526465415955
782789814,15915,Chocobo1,2022-01-12T07:58:11Z,is it a good idea to expose this signature instead? [code block],0,0.9948038458824158
782821026,15915,glassez,2022-01-12T08:41:44Z,it is useful in some scenarios. of course it could be done differently but i would prefer postpone this to further optimization.,0,0.883776068687439
782824267,15915,glassez,2022-01-12T08:45:59Z,but it seems disallow empty paths will add a hell lot of headaches. you even can't provide non-throwing constructor to create path from string.,-1,0.9370571970939636
782836123,15915,glassez,2022-01-12T08:55:40Z,"it's quite the opposite. it makes sense to convert paths to a native form only when it is really necessary, i.e. when we call third-party functions or show them to the user. everything else is extra heat generation (don't forget that they are stored in uniform format). note, that i try to avoid changing format in webapi etc.(although they are used inconsistently there).",0,0.9824672341346741
782840320,15915,glassez,2022-01-12T08:58:25Z,"but i just emphasize that shared memory key isn't a path. it is just based on some path. i can change it anyway, if you feel it is better.",0,0.9916090369224548
782845919,15915,glassez,2022-01-12T09:03:37Z,it is intention to use `const char[]` since it should be applicable to string literals written in the code only. any other char arrays shouldn't be treated as latin1 strings.,0,0.9935184121131897
782929789,15915,glassez,2022-01-12T10:28:16Z,it is needed for qvariant.,0,0.9940273761749268
782936779,15915,glassez,2022-01-12T10:37:20Z,"it seems to me that the concept of greaterthan/lessthan is not very applicable to the path. only the concept of equal (not equal) makes sense. anyway, as i said above, `it does not pretend to be general purpose solution`. if such a method is really required in the future we'll add it.",0,0.9786849021911621
783034240,15915,glassez,2022-01-12T12:35:47Z,"one more time... there is no point in converting it to a native format in order to transfer it to another qbittorrent instance, where it will be converted back to uniform format inside path.",0,0.9500964879989624
783035550,15915,glassez,2022-01-12T12:37:44Z,"apparently, i hooked it by accident. reverted.",-1,0.8991196155548096
783038975,15915,glassez,2022-01-12T12:42:28Z,done.,0,0.9897913336753845
783040524,15915,glassez,2022-01-12T12:44:44Z,ok.,0,0.980760931968689
783043821,15915,glassez,2022-01-12T12:49:03Z,why do you think so? `path(const qstring &)` constructor is explicit.,0,0.9923198819160461
783045328,15915,glassez,2022-01-12T12:51:05Z,do you think indirection is better? just to reduce the number of friend functions?,0,0.9837660789489746
783049239,15915,glassez,2022-01-12T12:56:22Z,i would still emphasize that it is single path item. isn't it useful?,0,0.9850968718528748
783050847,15915,glassez,2022-01-12T12:58:25Z,i'm used to `parent` being related specifically to the object model in qt. here it is the parent part of the path.,0,0.97331702709198
785392593,15915,Chocobo1,2022-01-16T05:23:26Z,never mind.,0,0.958609402179718
785392903,15915,Chocobo1,2022-01-16T05:29:11Z,"if i read correct, those will be write to file on disk, right? and since the file is human readable (or even editable) then it should show the correct path separator.",0,0.9900013208389282
785393174,15915,Chocobo1,2022-01-16T05:33:15Z,or is it possible to use `qlatin1string` as the parameter instead? using `char[]` or `char*` can't really guard against misuse (non latin1 strings/literals).,0,0.9902670979499817
785393324,15915,Chocobo1,2022-01-16T05:36:25Z,"sorry, i misread.",-1,0.9915124773979187
785393418,15915,Chocobo1,2022-01-16T05:38:11Z,"or it can be simplified (based on existing code path, so the surface to the internals is smaller): [code block] the same applies to `path operator+(const path &lhs, const std::string &rhs)`",0,0.9945923686027527
785393774,15915,Chocobo1,2022-01-16T05:44:15Z,i wanted to reduce access to internal/private variables (here is `m_pathstr`) and build functions on a smaller set of *core functions. therefore this is achievable.,0,0.9936002492904663
785394125,15915,Chocobo1,2022-01-16T05:49:16Z,"ok, we can leave it to later. it is just a wild thought anyway.",0,0.9210770726203918
785394351,15915,Chocobo1,2022-01-16T05:53:31Z,never mind.,0,0.958609402179718
785394375,15915,Chocobo1,2022-01-16T05:54:12Z,"well i saw `std::filesystem::path` has used the same naming, then never mind.",0,0.9898354411125183
785394708,15915,Chocobo1,2022-01-16T05:59:55Z,"as a user, it is a bit confusing to see both `isequalto()` and `operator==()` exists side by side. maybe just make this function always compare case insensitively?",-1,0.7435248494148254
785394801,15915,Chocobo1,2022-01-16T06:01:05Z,wrong indent format used.,0,0.5141620635986328
785395040,15915,Chocobo1,2022-01-16T06:04:55Z,same here.,0,0.9916109442710876
785395157,15915,Chocobo1,2022-01-16T06:06:38Z,tonative() i think this error message could be shown to the user.,0,0.9855589866638184
785396254,15915,Chocobo1,2022-01-16T06:24:08Z,"now i have rethink (back to the basics) about the `path` class. now i think the `path` has only one true form, it is `tonative()`. `tostring()` is actually an (qbt/qt) artificial/internal thing that provide a faster code path for some operations. therefore i would rename `tostring()` to something else, maybe `togenericstring()` (idea taken from `std::filesystem::path::generic_string`) and rename `tonative()` to `tostring()`. it is also possible to provide a `operator qstring()` to show this intention.",0,0.9830284118652344
785396622,15915,Chocobo1,2022-01-16T06:29:26Z,"i might be drifting off... so i'll ask. what kind of path does it support? i can see absolute path is ok, what about relative path? do you intend to support the following usage? (note this is related to security in webui/webapi usage) [code block]",0,0.7551407814025879
785397145,15915,glassez,2022-01-16T06:37:47Z,"well, in this case, apparently you're right. but at a minimum, this will require additional tests to make sure that it does not break, since it wrote with uniform separators initially. and it will definitely break the possibility of a ""painless"" downgrade.",0,0.9134351015090942
785397412,15915,Chocobo1,2022-01-16T06:40:27Z,"if uniform separators were used from the start, then just keep it as is. no need to break things now... maybe a comment a code saying this is intended would help developers in the future.",0,0.985498309135437
785412915,15915,glassez,2022-01-16T09:24:09Z,"then it will be wrong on case sensitive systems. wouldn't it be better to make it system dependent? really we need both comparison way: 1. accurate comparison (always case sensitive) 2. system dependent comparison (case insensitive on appropriate systems) we should use system dependent comparison everywhere we need to know whether two paths point to the same file/folder. accurate comparison is still useful when we compare old and new paths before moving/renaming since it is valid to change only case of filename even on case insensitive systems. so question is which of them should be an `operator==()`, and which an additional function?",0,0.9397041201591492
785413368,15915,glassez,2022-01-16T09:27:53Z,it will most likely break downgrade. we can provide additional patch to v4.4.1 that will make it separator independent.,0,0.9872303605079651
785431330,15915,glassez,2022-01-16T12:03:49Z,done.,0,0.9897913336753845
785432930,15915,glassez,2022-01-16T12:16:46Z,"of course, the relative paths are supported as well (a relative path is not only the one that contains `.` or `..`). as i have already said, my intention (at least at the first stage) is not to introduce anything new, but only to improve the current use case (i.e. to save the caller from having to take care of separators where it does not concern it, and from the basic cleaning of paths from redundant elements). this is basically a routine but very extensive code transformation, which should preserve the current logic (except in cases where obvious bugs are noticed, which can be easily eliminated without breaking anything else). something more advanced requires additional research, so it can be added later in separate prs. it may be better to handle such cases outside of the path class, so as not to make normal use inconvenient.",0,0.982412576675415
785434097,15915,glassez,2022-01-16T12:27:29Z,"i can agree with this part of your proposal, but i really don't like the other part of it: i really dislike `togenericstring()`. firstly, i would like to keep it short, since it is too heavily used throughout the code and a long name will really infuriate. secondly, i still feel like having it more expressive about its essence (that it doesn't transform path into something other, but just returns internal data, to prevent from suggestions to store it in a separate variable if it is used multiple times). i would really call it `data()`.",-1,0.8213359713554382
785435756,15915,glassez,2022-01-16T12:40:44Z,done.,0,0.9897913336753845
785435814,15915,glassez,2022-01-16T12:41:14Z,done.,0,0.9897913336753845
785436422,15915,glassez,2022-01-16T12:46:07Z,user-friendly representation of type's value isn't always correctly comparable in terms of this type. apparently we should keep discuss it in [a link],0,0.9852831363677979
785437837,15915,glassez,2022-01-16T12:57:56Z,"no. unless you want to go back to where we started: [code block] even in this case it's enough to have overloads with `qstring` parameter. `qlatin1string` doesn't do it either. this is just a way to make the conversion easier/faster when the developer is aware that the string is latin1. in other words, the `path` class provides some contract in the interface that it assumes `latin-1` to be the encoding of the string literal (unlike qstring, which uses utf-8 for string literals and char arrays).",0,0.98697829246521
785684697,15915,glassez,2022-01-17T07:07:13Z,i think `operator==()` should compare in platform dependent way. if we need accurate comparison we can compare them as strings.,0,0.985944390296936
786441689,15915,Chocobo1,2022-01-18T06:15:59Z,i was hoping it can be enforced either at compile-time or run-time (under debug mode)...,0,0.9842333197593689
786445182,15915,Chocobo1,2022-01-18T06:25:18Z,ok for me.,0,0.9768423438072205
786448696,15915,Chocobo1,2022-01-18T06:33:56Z,"this is the concerning part. if this part (relative paths) isn't well-defined, it might cause problems when part of the path is taking inputs from user/outside world. and i can't be 100% sure whether this is happening now due to bulk changes..",-1,0.6409362554550171
786451448,15915,glassez,2022-01-18T06:40:54Z,it is well-defined. path class support relative path. it just remove redundancies that doesn't affect the meaning of path (ref. `qdir::cleanpath()`).,0,0.9862406849861145
795202961,15915,Chocobo1,2022-01-30T15:28:46Z,"i feel unsafe when reading this part, can you refactor it more to: [code block] and maybe keep the `if (tmppath != m_path)` comparison?",-1,0.972590982913971
795204960,15915,Chocobo1,2022-01-30T15:43:49Z,"this is removed, is it correct?",0,0.9955364465713501
795205926,15915,Chocobo1,2022-01-30T15:51:20Z,will `qfileinfo::exists()` return true on folders?,0,0.9943477511405945
795207667,15915,Chocobo1,2022-01-30T16:04:07Z,i think it is reasonable to provide this if there are any usage of it: [code block],0,0.9909578561782837
795208523,15915,Chocobo1,2022-01-30T16:10:25Z,those look like `const` vars.,0,0.9916778802871704
795208839,15915,Chocobo1,2022-01-30T16:12:57Z,`u'/'`,0,0.9769187569618225
795210203,15915,Chocobo1,2022-01-30T16:24:03Z,can those (and other default functions) be removed? under c++ rule of zero.,0,0.9917193651199341
795211524,15915,Chocobo1,2022-01-30T16:34:44Z,you should include the path header.,0,0.995088517665863
795211687,15915,Chocobo1,2022-01-30T16:36:22Z,please add `reserve()`,0,0.9961452484130859
795211756,15915,Chocobo1,2022-01-30T16:37:07Z,`pathlist`?,0,0.9951382279396057
795211851,15915,Chocobo1,2022-01-30T16:38:01Z,"those errors might be presented to user, so `tostring()`",0,0.9927718043327332
795212289,15915,Chocobo1,2022-01-30T16:41:15Z,"optional, maybe rename it to `paths` as it isn't a list...",0,0.9943985342979431
795212571,15915,Chocobo1,2022-01-30T16:43:51Z,"optional, if possible i would use `{}` as it isn't interesting of the type. also in similar code below.",0,0.9938708543777466
795213142,15915,Chocobo1,2022-01-30T16:48:04Z,`destpath += c_torrent_file_extension);`?,0,0.9948468208312988
795949888,15915,Chocobo1,2022-01-31T18:27:43Z,i think you should revert it.,0,0.9756553769111633
795954126,15915,Chocobo1,2022-01-31T18:33:18Z,i think those should be `tostring()` (and other `data()` instances in this function).,0,0.9869993329048157
795954577,15915,Chocobo1,2022-01-31T18:33:55Z,`pathlist`?,0,0.9951382279396057
795955061,15915,Chocobo1,2022-01-31T18:34:35Z,`tostring()` too.,0,0.9946315288543701
795956447,15915,Chocobo1,2022-01-31T18:36:26Z,i would include path class header.,0,0.9937886595726013
795960319,15915,Chocobo1,2022-01-31T18:41:41Z,either you should revert `qstringliteral` back or use `path` class.,0,0.9942014813423157
795962569,15915,Chocobo1,2022-01-31T18:44:51Z,include path header.,0,0.9940780401229858
795966521,15915,Chocobo1,2022-01-31T18:49:02Z,`/rss` -> `rss`?,0,0.9932221174240112
795967438,15915,Chocobo1,2022-01-31T18:50:09Z,wrong order.,-1,0.7645806670188904
795969425,15915,Chocobo1,2022-01-31T18:52:48Z,you should probably recheck all .cpp files whether the path header is included...,0,0.9933225512504578
795970845,15915,Chocobo1,2022-01-31T18:54:45Z,please add `reserve()`.,0,0.9959667921066284
795971941,15915,Chocobo1,2022-01-31T18:56:03Z,is `torrent->hasmetadata()` check redundant now?,0,0.9944975972175598
795975088,15915,Chocobo1,2022-01-31T19:00:13Z,imo `tostring()` is more accurate even if it doesn't contain path separators.,0,0.9865992069244385
795977379,15915,Chocobo1,2022-01-31T19:03:26Z,"duplicate... you could also try reviewing your own pr, it is useful.",0,0.7754804491996765
795980681,15915,Chocobo1,2022-01-31T19:08:00Z,i would use `path`.,0,0.9940944314002991
795984512,15915,Chocobo1,2022-01-31T19:13:30Z,i think it should be `tostring()`.,0,0.9874124526977539
795984704,15915,Chocobo1,2022-01-31T19:13:45Z,ditto.,0,0.9384599328041077
795985048,15915,Chocobo1,2022-01-31T19:14:19Z,`const path decodedpath { ....`,0,0.9916068315505981
795985649,15915,Chocobo1,2022-01-31T19:15:12Z,redundant?,0,0.9568108916282654
795989107,15915,Chocobo1,2022-01-31T19:20:02Z,why change it?,0,0.9535385966300964
795998054,15915,Chocobo1,2022-01-31T19:30:30Z,"i would like this empty line removed, those are a sequence of non-breakable actions imo.",0,0.9831318855285645
796001454,15915,Chocobo1,2022-01-31T19:35:13Z,maybe call it `isparentof`?,0,0.9900268316268921
796003365,15915,Chocobo1,2022-01-31T19:38:02Z,also it feels a bit weird that it is done this way. i would expect something like `path::hasparent(path)` instead of other way around.,-1,0.9686473608016968
796005655,15915,Chocobo1,2022-01-31T19:41:13Z,"off topic, i think it would be faster by not using replacement: `path(idstring + qlatin1string("".torrent""))`",0,0.9854640364646912
796006203,15915,Chocobo1,2022-01-31T19:42:01Z,`tostring()`,0,0.9942939877510071
796007236,15915,Chocobo1,2022-01-31T19:43:32Z,ditto.,0,0.9384599328041077
796007393,15915,Chocobo1,2022-01-31T19:43:44Z,ditto.,0,0.9384599328041077
796008842,15915,Chocobo1,2022-01-31T19:45:44Z,"still it should store in native path, no? bencoded file is editable with an editor...",0,0.9929323196411133
796009707,15915,Chocobo1,2022-01-31T19:46:56Z,ditto.,0,0.9384599328041077
796010018,15915,Chocobo1,2022-01-31T19:47:23Z,`const path resumefilename(...)`,0,0.9939401149749756
796012209,15915,Chocobo1,2022-01-31T19:50:35Z,`path` since it isn't clear what type it returns.,0,0.9703897833824158
796014264,15915,Chocobo1,2022-01-31T19:53:40Z,i think it should return `qstring` instead. this can avoid (imo) confusing code pattern of `filename().data()`,0,0.9883278012275696
796018990,15915,Chocobo1,2022-01-31T20:00:11Z,imo you should use `tostring()` in upper code and omit this conversion. the code would be less uncertain due to less `data()`.,0,0.9901247024536133
796022536,15915,Chocobo1,2022-01-31T20:05:15Z,ditto.,0,0.9384599328041077
796022873,15915,Chocobo1,2022-01-31T20:05:48Z,ditto.,0,0.9384599328041077
796023000,15915,Chocobo1,2022-01-31T20:05:56Z,ditto.,0,0.9384599328041077
796024324,15915,Chocobo1,2022-01-31T20:07:47Z,ditto.,0,0.9384599328041077
796026761,15915,Chocobo1,2022-01-31T20:11:18Z,`pathlist`?,0,0.9951382279396057
796027592,15915,Chocobo1,2022-01-31T20:12:30Z,`const path path` and the reset of this file.,0,0.9938551783561707
796030360,15915,Chocobo1,2022-01-31T20:16:39Z,ditto.,0,0.9384599328041077
796266396,15915,Chocobo1,2022-02-01T05:07:17Z,declaration style..,0,0.9933316111564636
796267102,15915,Chocobo1,2022-02-01T05:09:50Z,looks like `tostring()` since we cannot be certain what processing follows it.,0,0.9901372194290161
796267544,15915,Chocobo1,2022-02-01T05:11:24Z,ditto. and in all other `logmsg()` instances.,0,0.9729940891265869
796268963,15915,Chocobo1,2022-02-01T05:16:11Z,`tostring()`,0,0.9942939877510071
796269450,15915,Chocobo1,2022-02-01T05:17:48Z,declaration style seems you never review it again your selves after you code it...,0,0.9913853406906128
796270696,15915,Chocobo1,2022-02-01T05:22:09Z,you sure this logic is correct? i would stick with the previous logic to be safe.,0,0.9863336682319641
796271389,15915,Chocobo1,2022-02-01T05:24:02Z,ditto.,0,0.9384599328041077
796475925,15915,glassez,2022-02-01T10:53:59Z,yes.,0,0.9851860404014587
796540291,15915,glassez,2022-02-01T12:21:14Z,"then we have to compare them in ""case sensitive"" way, otherwise user won't be able to change only case of some path element.",0,0.9846320152282715
796678071,15915,glassez,2022-02-01T14:54:38Z,yes. it was mistakenly assigned twice. [a link],0,0.9842823147773743
797405001,15915,glassez,2022-02-02T09:17:57Z,it is never used.,0,0.971515417098999
797405796,15915,glassez,2022-02-02T09:18:52Z,applied.,0,0.9775310158729553
797406996,15915,glassez,2022-02-02T09:20:23Z,yes. except `path() = default;`. done.,0,0.9911143779754639
797407997,15915,glassez,2022-02-02T09:21:33Z,done.,0,0.9897913336753845
797410579,15915,glassez,2022-02-02T09:24:38Z,added.,0,0.9917559623718262
797436089,15915,glassez,2022-02-02T09:54:58Z,"ok, although i don't treat it as a type indication, so it's ok for me to have it as is.",0,0.9730532169342041
797438203,15915,glassez,2022-02-02T09:57:20Z,done.,0,0.9897913336753845
797500340,15915,glassez,2022-02-02T11:13:15Z,"accidentally hooked by ""find and replace"". reverted.",0,0.6485914587974548
797510991,15915,glassez,2022-02-02T11:27:42Z,"initially i returned ""native"" paths only where `tonative()` was used explicitly. should i change it in entire api to return ""native"" paths? is it generally a good idea to make api results dependent on the server platform? i would use uniform paths instead.",0,0.9916879534721375
797519150,15915,glassez,2022-02-02T11:38:52Z,you're doing it better. probably because it's not a problem for me to have indirect inclusions (at least for such global things).,1,0.5574631094932556
797526165,15915,glassez,2022-02-02T11:48:43Z,"""invalid"" torrentinfo returns empty list (as it was even previously). so we don't check it almost anywhere in the code.",0,0.98921799659729
797528743,15915,glassez,2022-02-02T11:52:20Z,"ok, if you don't care about the excessive search for separators that it will cause.",0,0.8764942288398743
797531353,15915,glassez,2022-02-02T11:55:53Z,i've done this several times... such little things usually go unnoticed in their own code. especially when there are a hell of a lot of changes that have already been revised and changed several times.,0,0.6995364427566528
797537047,15915,glassez,2022-02-02T12:03:47Z,"these data (as well as many other similar data related to the gui state) are saved to the main configuration file only due to a very long-ago mistake that there is still no one to fix. they are not really intended for the user. if someone still climbs here, he should be scared of other things, not ""non-native"" paths. why should we apply unnecessary transformations in such cases?",0,0.5231797099113464
797543734,15915,glassez,2022-02-02T12:12:55Z,"it makes code cleaner, imo. why all caller code should care of what platform is supported currently? it should implement its (upper level) logic. if, for example, support of detecting network file systems on haiku is added, it will affect only the place that directly depends on it. this change is in this pr only because i made it along the way.",0,0.8299397826194763
797548571,15915,glassez,2022-02-02T12:19:39Z,"`parent` is used in the meaning of the `direct parent`. this method checks for any base path, i.e. if other is `/home/john/music/jazz` it will return true for `/home/john/music`, `/home/john`, `/home` and `/`.",0,0.9928693175315857
797554168,15915,glassez,2022-02-02T12:27:06Z,"it is editable but **it isn't intended** to be edited in a regular way. it is for internal use by torrent applications. so why to do it less efficiently? p.s. any binary file ""is editable with an editor"" (hex or even text one) but we don't care...",0,0.6850886940956116
797558368,15915,glassez,2022-02-02T12:32:35Z,"filename component of path is still path, isn't it? we can easily do something like `path path = somedirpath / otherpath.filename();` ok. i'll try to check whether it add other confusing code instead.",0,0.9904677271842957
797563008,15915,glassez,2022-02-02T12:38:58Z,ok.,0,0.980760931968689
797566671,15915,glassez,2022-02-02T12:43:43Z,`path::findrootfolder` returns single-element path. why to search separators in it?,0,0.994341254234314
797568333,15915,glassez,2022-02-02T12:45:49Z,it was redesigned several times even before i published pr... it was something like `const auto newfilepath = path::fromstring(qstring(p->new_name()));` previously.,0,0.9930312633514404
797571221,15915,glassez,2022-02-02T12:49:31Z,the logic is just adjusted to fit using new path class.,0,0.994653582572937
797648275,15915,glassez,2022-02-02T14:15:20Z,done.,0,0.9897913336753845
797650107,15915,glassez,2022-02-02T14:17:07Z,included here.,0,0.9943558573722839
799387884,15915,Chocobo1,2022-02-04T11:33:09Z,"in this case i think so, because it is referring to some file on the server. for this pr it should just preserve the original outcomes. so for all other non related, maybe later.",0,0.9845556616783142
799397970,15915,Chocobo1,2022-02-04T11:48:49Z,"imo the main reason is consistency, that is, the users saw the paths on gui is saved the same (native separators) on file.",0,0.9875597357749939
799402196,15915,Chocobo1,2022-02-04T11:55:36Z,"i see. then i would suggest `bool path::hasancestor(const path &other)`. to elaborate a bit. imo a class function should have `this` as the protagonist and do comparisons with others, e.g. it should provide usage like `path(""/main/a/b/c"").hasancestor(path(""/others""))`.",0,0.979414165019989
799407445,15915,Chocobo1,2022-02-04T12:04:09Z,imo file name is more (naturally) like a string. that string can become `path` but then it gains additional meaning: it is a relative path to a filename. so i would let users explicitly convert to `path` from string if they really need it.,0,0.9877419471740723
799413215,15915,Chocobo1,2022-02-04T12:13:04Z,i still hold the same viewpoint: `data()` is a shortcut and it should only be used if the following code is able to consume it. otherwise (or if uncertain) it is always `tostring()`. i consider this way to be safe even if it is sacrificing some performance.,0,0.9729299545288086
799415200,15915,glassez,2022-02-04T12:16:18Z,even if file is intended for internal use?,0,0.9929435849189758
799417676,15915,Chocobo1,2022-02-04T12:20:10Z,"on the other side, user might want it in uniform style so they can transfer over different os... so leave it as is.",0,0.9904026985168457
799418327,15915,glassez,2022-02-04T12:21:14Z,"in fact, it even fixes a bug in the old logic, since it explicitly uses `.!qb` extension, not just its length.",0,0.987280547618866
799426700,15915,Chocobo1,2022-02-04T12:33:40Z,"the `oldparentpath` is already a full path, isn't? so is `actualstoragelocation()` still needed?",0,0.9943998456001282
799439217,15915,glassez,2022-02-04T12:52:39Z,"no, it isn't. why did you think so?",0,0.9847933650016785
799441211,15915,Chocobo1,2022-02-04T12:55:30Z,"currently it is unfortunate the file of the context here is still for manual editing... if the file is truly not intended for hand editing, then it would not matter.",-1,0.9603368639945984
799449552,15915,Chocobo1,2022-02-04T13:07:50Z,never mind.,0,0.958609402179718
805550642,15915,jagannatharjun,2022-02-14T07:01:41Z,this causes performance regression during startup ![a link],-1,0.7214703559875488
805619425,15915,glassez,2022-02-14T08:53:06Z,#16444 should improve it.,0,0.9873316884040833
805641875,15915,jagannatharjun,2022-02-14T09:20:02Z,"is it necessary to use `qmimedatabase::suffixforfilename` for extension? maybe leave that to the user if they require a mime base suffix, they can call it by themselves.",0,0.9941694736480713
85654958,5877,thalieht,2016-10-30T08:18:32Z,coding style is camelcase but it doesn't matter in this case because this method seems to be changed/removed in #5310. if you could change it back to avoid rebasing #5310 that would be great.,0,0.7786752581596375
85654979,5877,thalieht,2016-10-30T08:19:53Z,spaces around `<`,0,0.9904631972312927
85655067,5877,thalieht,2016-10-30T08:22:56Z,space before `//` and in the next line. typo `bannig`,0,0.9684911966323853
85655179,5877,thalieht,2016-10-30T08:29:45Z,parenthesis around `(m_filterpath != newfilterpath)` for clarity. there is no rule for this but i was corrected once if i remember correctly.,0,0.9909313917160034
85655636,5877,dzmat,2016-10-30T09:01:12Z,fixed,0,0.920660674571991
85655640,5877,dzmat,2016-10-30T09:01:21Z,fixed,0,0.920660674571991
85655641,5877,dzmat,2016-10-30T09:01:29Z,fixed,0,0.920660674571991
85655642,5877,dzmat,2016-10-30T09:01:38Z,fixed,0,0.920660674571991
88067085,5877,Chocobo1,2016-11-15T17:21:52Z,"giving `0` by default is bad style imo, because everyone just ignore it. you should make use of it when you instantiate the class/variable.",-1,0.9688539505004883
88068089,5877,Chocobo1,2016-11-15T17:26:31Z,"headers are sorted alphabetically, move up 1 line",0,0.9949778914451599
88071948,5877,Chocobo1,2016-11-15T17:45:12Z,`const` for qstringlist is redundant. you should instead: [code block],0,0.9806758165359497
88224504,5877,dzmat,2016-11-16T12:13:34Z,fixed,0,0.920660674571991
88224785,5877,dzmat,2016-11-16T12:15:26Z,fixed,0,0.920660674571991
88229827,5877,dzmat,2016-11-16T12:53:01Z,"can not give any rationale except that it is autogenerated code by qt creator. and of course i ignored that parameter when instantiated object that class. i read documentation and and found that null parameter is fully legal for qdialog, but creates distinct taskbar entry for window of dialog. so now i pass a parent when creating an object. but i not sure, should i change autogenerated cod of constructor declaration. also i doubt that this dialog will be used by somebody more somewhere else.",0,0.8858275413513184
91743774,5877,zeule,2016-12-09T16:08:12Z,redundant variable.,0,0.87708580493927
91743958,5877,zeule,2016-12-09T16:09:16Z,redundant variable.,0,0.87708580493927
91744491,5877,zeule,2016-12-09T16:11:01Z,"""...may not be empty.""",0,0.9771642088890076
91744730,5877,zeule,2016-12-09T16:12:11Z,why not `for`?,0,0.985782265663147
91745213,5877,zeule,2016-12-09T16:14:38Z,`modified` → `m_modified`,0,0.9937293529510498
91745432,5877,zeule,2016-12-09T16:15:57Z,suggest `options_banlist` → `banlistoptions` change.,0,0.9953550100326538
91746275,5877,zeule,2016-12-09T16:20:36Z,"the text says that you've banned a list. perhaps, ""manually banned ips"" would be better?. otherwise, please provide disambiguation for translators (what the list is).",0,0.9935279488563538
91746873,5877,zeule,2016-12-09T16:23:45Z,"same here (banned list of ips, but not list of banned ips) .",0,0.9894379377365112
91747410,5877,zeule,2016-12-09T16:26:31Z,"what is a ""normal ip""? actually, what is an ""unnormal ip""? :)",1,0.9730826616287231
91748236,5877,zeule,2016-12-09T16:30:48Z,please format the initialisation list as follows: [code block],0,0.9955539107322693
91748333,5877,zeule,2016-12-09T16:31:19Z,redundant comment,-1,0.8920683264732361
91748784,5877,zeule,2016-12-09T16:33:40Z,"`qmessagebox::warning(..., tr(""error""),...)` so, is this a warning or an error?",0,0.9936254024505615
91749398,5877,zeule,2016-12-09T16:36:38Z,"everywhere except this title you use ""manual"" term and only here ""user"". why?",0,0.9899166226387024
91753994,5877,dzmat,2016-12-09T17:01:00Z,fixed,0,0.920660674571991
91754210,5877,dzmat,2016-12-09T17:02:10Z,fixed,0,0.920660674571991
91757003,5877,dzmat,2016-12-09T17:17:19Z,fixed,0,0.920660674571991
91757023,5877,dzmat,2016-12-09T17:17:26Z,fixed,0,0.920660674571991
91761817,5877,dzmat,2016-12-09T17:46:01Z,"yes, it's warning, not error. also i reworded message, please check.",0,0.9859527349472046
91762472,5877,dzmat,2016-12-09T17:50:14Z,"**foreach** is widely used in this program, what is wrong with it? different lists and foreach iteration looks much better than c++ iterator style for()",0,0.9382916688919067
91762506,5877,zeule,2016-12-09T17:50:26Z,"the message is even more cryptic now, as far as i'm concerned. maybe it would be better to disable the button when the text box is empty?",0,0.9173856377601624
91763578,5877,dzmat,2016-12-09T17:57:10Z,fixed,0,0.920660674571991
91763841,5877,zeule,2016-12-09T17:58:48Z,"also, why don't we check the input string here, in the dialog? you may use a validator and get a cleaner ui in addition to a more elegant code.",0,0.9925267696380615
91764191,5877,zeule,2016-12-09T18:01:22Z,i meant the c++11 range-based `for`.,0,0.9915046095848083
91765168,5877,dzmat,2016-12-09T18:07:51Z,"fix type to ""manually banned ip list""",0,0.9908456206321716
91766147,5877,dzmat,2016-12-09T18:13:57Z,"may be ""list of banned ips"" would be better wording? my english skill is not perfect.",0,0.7424012422561646
91768666,5877,zeule,2016-12-09T18:30:10Z,this one is semantically correct.,0,0.99038165807724
91833936,5877,dzmat,2016-12-10T11:44:36Z,fixed,0,0.920660674571991
91833939,5877,dzmat,2016-12-10T11:44:43Z,"it is consequence of ""copy paste"" from provided here mockups :) fixed.",1,0.9916790127754211
91835303,5877,dzmat,2016-12-10T13:33:45Z,"reworded to ""list of banned ip addresses"".",0,0.9898509979248047
91835378,5877,dzmat,2016-12-10T13:40:04Z,"normal ip == not malformed. anyway it was redundant comment, i remove it.",0,0.9813659191131592
91849185,5877,dzmat,2016-12-11T06:46:04Z,"i read some comparisons and it looks like for() gives slightly more perfomance than qt foreach(), so i change it to for()",0,0.9887025356292725
91853972,5877,dzmat,2016-12-11T11:39:37Z,"following your logic we should also rename existing methods like `session::getbannediplist()` to something like `session::getlistofmanuallybannedipadresses()`. it will be fully semantically correct, but i'm not sure that such rename will resolve more problems than create. what other men would say?",0,0.9650891423225403
91854414,5877,dzmat,2016-12-11T12:08:28Z,renamed class name. should i also rename file names?,0,0.9955626726150513
91855392,5877,zeule,2016-12-11T13:04:58Z,"it would be good. follow the scheme of the surrounding files, please.",1,0.8475174903869629
91855544,5877,zeule,2016-12-11T13:12:45Z,"agree with you: ""list"" is unneeded in `getbannediplist()` because the function signature encodes this piece of information (in the return type). the same is true for the setter. moreover, this project does not use ""get"" prefix. hence i would make function signatures as follows: `qstringlist bannedips() const; void setbannedips(const qstringlist &ips); `",0,0.9809753894805908
91856499,5877,dzmat,2016-12-11T14:04:33Z,"i will do it later, because it will screw up all reviews here.",-1,0.533760666847229
91857143,5877,zeule,2016-12-11T14:41:58Z,"in ""saving list"" pair the gerund does not pose an action. an article is needed between them, i.e. ""saving the list"". consider ""'%1' is not a valid ip address and was rejected while applying the list of banned addresses.""",0,0.9931678175926208
91857246,5877,zeule,2016-12-11T14:47:16Z,"do not know about performance side of this comparison; my point is that all the code tools like debuggers, formatters, etc. understand what `for()` is out of the box, but you have to teach them (if it is possible) what a custom macro is.",0,0.9658506512641907
91940777,5877,dzmat,2016-12-12T12:54:04Z,"accepted your variant, fixed.",0,0.970207929611206
91947708,5877,dzmat,2016-12-12T13:40:11Z,"reworded message again. also added validator, so ""ban ip"" is disabled until valid ip address is entered.",0,0.9954283237457275
91961879,5877,dzmat,2016-12-12T14:57:00Z,i got curios and roughly counted getsmth() style function declarations. `./src/base/preferences.h` have 71 such declarations and whole project nearly 179. looks like the train has left the station.,0,0.9283559918403625
91987289,5877,zeule,2016-12-12T16:48:05Z,"qbt follows qt style, so, please, remove ""get"" at least.",0,0.9909177422523499
91990260,5877,zeule,2016-12-12T17:00:35Z,"""dialog"" → ""manually banned ips"" or whatever",0,0.9713773727416992
91990826,5877,zeule,2016-12-12T17:03:00Z,"remove ""get"", and maybe remove ""list"" too.",0,0.9943504929542542
91991226,5877,zeule,2016-12-12T17:04:53Z,camelcase,0,0.9723753333091736
91992605,5877,zeule,2016-12-12T17:11:17Z,"""arg1""? why ""1""? and i'm curious why not a `qvalidator`? a validator can prevent entering a wrong text, and that is a waybetter than checking what is wrong with the input.",0,0.9787148237228394
92396444,5877,dzmat,2016-12-14T13:55:01Z,fixed,0,0.920660674571991
92396825,5877,dzmat,2016-12-14T13:56:51Z,renamed to `bannedips()`,0,0.9955638647079468
92397101,5877,dzmat,2016-12-14T13:58:12Z,also renamed `setbannediplist()` --> `setbannedips()`,0,0.9951440095901489
92399060,5877,dzmat,2016-12-14T14:08:23Z,oops. fixed and removed redundant group title. ![a link],-1,0.9951435327529907
92407770,5877,dzmat,2016-12-14T14:50:21Z,"1. renamed arg1 to ip. 2. qregexpvalidator does not fits good here. custom validator will be just more complicated wrapping around `libtorrent::address::from_string` than my code. also i dislike ui designs when input field suddenty drop my input when it does not pass intermediate validator check. it is enough that action button is disabled while there is wrong value in input, but edit is not blocked. use case: i copy ip that i want to ban from somewhere and also copied some letters to the left of ip. (may be i was in a hurry, or there is selection problems.) i want to paste it into qbittorent, cut off wrong letters and ban it, but ta-da - validator does not allow me to paste because is will be wrong value, and it force me to use intermediate text editor paste-strip-copy steps. also don't forget about maintaining complicated custom validator code, and such principles like kiss and yagni",-1,0.774467945098877
92408917,5877,dzmat,2016-12-14T14:55:33Z,fixed.,0,0.9905837774276733
92410194,5877,zeule,2016-12-14T15:01:18Z,"camelcase, please (""bannedips"")",0,0.9909332990646362
92410621,5877,zeule,2016-12-14T15:03:29Z,[code block] if you like (just to save a line).,0,0.9944920539855957
92411311,5877,zeule,2016-12-14T15:06:30Z,what if `bannediplis` contains this ip already? related question: shouldn't `bannediplist` be sorted?,0,0.9930328130722046
92411533,5877,zeule,2016-12-14T15:07:26Z,redundant variable,0,0.9450158476829529
92411941,5877,zeule,2016-12-14T15:09:08Z,"`static`? or move it out of the class completely. also, a bit of code earlier would look clearer if you rename this function: [code block]",0,0.9915292263031006
92412536,5877,zeule,2016-12-14T15:11:29Z,"again can't understand why ""list of"" is here.",-1,0.8112075328826904
92415092,5877,zeule,2016-12-14T15:22:08Z,camelcase (banlistbutton),0,0.988819420337677
92417406,5877,zeule,2016-12-14T15:31:55Z,"are you a member of list admirers society? :) seriously, do you think ""list"" adds anything useful to the meaning of the identifier? to me it means presence of several entities only, but there is the plural form in the language exactly for that. is there anything else that i'm missing?",1,0.9950018525123596
92418257,5877,zeule,2016-12-14T15:35:34Z,"a caprice, perhaps, but maybe it is better to pad this to the right a bit?",0,0.9805133938789368
92418678,5877,zeule,2016-12-14T15:37:17Z,"may this happen? the button has to be disabled if the text is empty, right? then why the check is here?",0,0.9923040270805359
92418959,5877,zeule,2016-12-14T15:38:29Z,does this empty line mean something?,0,0.9711139798164368
92608596,5877,dzmat,2016-12-15T13:31:22Z,fixed,0,0.920660674571991
92611250,5877,dzmat,2016-12-15T13:48:00Z,fixed,0,0.920660674571991
92611306,5877,dzmat,2016-12-15T13:48:19Z,fixed,0,0.920660674571991
92611393,5877,dzmat,2016-12-15T13:48:49Z,fixed,0,0.920660674571991
92611603,5877,dzmat,2016-12-15T13:50:06Z,fixed,0,0.920660674571991
92618385,5877,dzmat,2016-12-15T14:28:12Z,"is there such a society? i would like to _enlist_ in it :grinning_face_with_big_eyes:. i have put list everywhere because in my brain all processing i have coded is spinning around structured in list entities, not just scattered multiple entities. briefly, i'm working with list here, not with ips. anyway i rename it as you wish.",1,0.9452205300331116
92619054,5877,dzmat,2016-12-15T14:31:39Z,added 2 indent steps. not sure that it will survive after uncrustify run.,0,0.7002403736114502
92619652,5877,dzmat,2016-12-15T14:35:03Z,"no, fixed it.",0,0.9661005139350891
92621800,5877,zeule,2016-12-15T14:45:04Z,thank you.,1,0.6976000666618347
92622556,5877,zeule,2016-12-15T14:48:53Z,"please, [code block]",0,0.9617014527320862
92624104,5877,zeule,2016-12-15T14:56:36Z,"not sure about this include. there were efforts to isolate libtorrent inside of `src/base/bittorrent`. to follow that way i would add a helper function there (in fact, just move `isvalidip()`). , what do you think?",0,0.9047457575798035
92635589,5877,dzmat,2016-12-15T15:49:05Z,"not so necessary, because this function is declared locally in cpp file. nobody should `#include *.cpp`, so it should not contaminate global namespace, if your concerns about it. also i thought about static function declaration to exclude it from linkage tables.",0,0.990256667137146
92636722,5877,dzmat,2016-12-15T15:53:58Z,"added static, will wait for helper function relocation decision.",0,0.9954432249069214
92637546,5877,zeule,2016-12-15T15:57:01Z,"right, but doing so you are making it very clear that there is no available declaration of this function anywhere, period. i'm concerned about clear reading of the author intentions in the first place.",-1,0.6524885296821594
92641414,5877,dzmat,2016-12-15T16:13:23Z,"i had some thoughts about code for alternative ip addition variant, circumventing disabled ""ban ip"" button. onreturnpressed() for example. so i had not still removed this obviously redundant checks.",0,0.985077977180481
92643513,5877,dzmat,2016-12-15T16:22:23Z,"yes, i will implement it. but it rises question what to do with duplicates presented via webgui. may be it would be better to write that code in common save path at `session::setbannedips()` ?",0,0.9912830591201782
92655655,5877,dzmat,2016-12-15T17:16:44Z,read stackoverflow. folks say that static and anonymous namespace are pretty the same thing for function declaration. run grep through project and found only 1 existing anonymous namespace: `./base/preferences.cpp:727:namespace {` also found 16 static functions declarations. look like people does not care about such things. stay confused. :confused_face:,-1,0.987695574760437
92657688,5877,zeule,2016-12-15T17:26:43Z,"this is because formatting rules for this project make it look as follows: [code block] when i grep for 'namespace$', i get 24 matches",0,0.9936627149581909
92662728,5877,zeule,2016-12-15T17:51:57Z,you may use `qhostaddress` to test for ip validity and suppose that it gives the same result as the function from libtorrent.,0,0.9942389726638794
92786485,5877,dzmat,2016-12-16T10:22:07Z,tested it. with `namespace` gcc gives better error message than `static` in case of conflict. fixed it.,0,0.888860821723938
92798337,5877,zeule,2016-12-16T11:43:58Z,"sorry, i do not know what to do with the web ui. but why that stops you from making this ui better?",-1,0.9946834444999695
92808539,5877,zeule,2016-12-16T13:08:25Z,may i suggest [code block] ?,0,0.9957054257392883
92808567,5877,zeule,2016-12-16T13:08:38Z,redundant variable,0,0.9450158476829529
92808682,5877,zeule,2016-12-16T13:09:32Z,"`s, qt::matchexactly` (whitespace)",0,0.9940202236175537
92808855,5877,zeule,2016-12-16T13:10:57Z,"""the entered..."" should be clearer, as to me.",0,0.9781873226165771
92808933,5877,zeule,2016-12-16T13:11:50Z,why do we need this line?,0,0.950308620929718
92809176,5877,zeule,2016-12-16T13:14:07Z,is this a leftover?,0,0.9889707565307617
92809531,5877,zeule,2016-12-16T13:17:14Z,the return value is not used so far. wip?,0,0.9935635328292847
92921591,5877,dzmat,2016-12-17T13:22:12Z,fixed,0,0.920660674571991
92921593,5877,dzmat,2016-12-17T13:22:21Z,fixed,0,0.920660674571991
92921617,5877,dzmat,2016-12-17T13:24:16Z,"hmm, unscrustify does not fix it automatically. fixed .",0,0.9772670269012451
92921730,5877,dzmat,2016-12-17T13:31:20Z,"`addr` is not a redundant variable. for example `qhostaddres(""1.2"").tostring()` returns ""1.0.0.2"". also ""0:0:0:0:0::1"" -> ""::1"". e.g. there is probability of change of the ip string to normalized state using such a trick.",0,0.9933527708053589
92921830,5877,dzmat,2016-12-17T13:37:06Z,yes. fixed,0,0.9617606401443481
92922025,5877,dzmat,2016-12-17T13:52:01Z,it's leftover. fixed.,0,0.9888890981674194
92922210,5877,dzmat,2016-12-17T14:06:46Z,"i am in doubt. your approach will return false for a ""0.0.0.0"" string, but mine will return true. would we like to allow user ban ""0.0.0.0"" or to disallow ?",-1,0.7190466523170471
92922463,5877,zeule,2016-12-17T14:25:23Z,"""0.0.0.0"" may not point to any host eligible for banning. why would one want to ban it?",0,0.9785691499710083
92922475,5877,zeule,2016-12-17T14:26:13Z,"thanks, i will look into it.",1,0.8162213563919067
92922619,5877,zeule,2016-12-17T14:36:17Z,`#include `,0,0.9928992986679077
92922627,5877,zeule,2016-12-17T14:36:49Z,`#include `,0,0.9928992986679077
92922632,5877,zeule,2016-12-17T14:37:51Z,[code block] ? yet `isnull()` check seems to me to be more appropriate.,0,0.9928833246231079
92925078,5877,dzmat,2016-12-17T17:12:07Z,fixed,0,0.920660674571991
92925184,5877,dzmat,2016-12-17T17:18:02Z,autocomplite let me down. fixed.,-1,0.9811115860939026
92925189,5877,dzmat,2016-12-17T17:18:13Z,fixed.,0,0.9905837774276733
92925557,5877,zeule,2016-12-17T17:37:07Z,"please, place it between other utils/ headers",0,0.9949653744697571
92925564,5877,zeule,2016-12-17T17:37:27Z,"please, place it between other utils/ sources",0,0.9939699172973633
92934179,5877,dzmat,2016-12-18T05:29:02Z,fixed,0,0.920660674571991
92934180,5877,dzmat,2016-12-18T05:29:05Z,fixed,0,0.920660674571991
92941018,5877,zeule,2016-12-18T13:05:54Z,"i'm really sorry for being such a nasty reviewer, but you misplaced this by one line, so move it one line downward, please (it has to be after misc.cpp, just like you did it with the header file).",-1,0.9939351677894592
92941634,5877,dzmat,2016-12-18T13:41:24Z,"fixed. btw, what to do in case of gui.pri, where i have added files too, but alphabet order is already broken?",0,0.971129298210144
92941805,5877,zeule,2016-12-18T13:49:39Z,"you do not need to fix this unless you want to. if so, leave the fix in its own commit, please.",0,0.9908602237701416
93216137,5877,zeule,2016-12-20T11:09:08Z,redundant variable.,0,0.87708580493927
93216880,5877,zeule,2016-12-20T11:14:19Z,"i would put the intention of this conversion here, e.g. (my imagination of the author's idea): ```c++ qstring s = qhostaddress(ip).tostring(); // the same ipv6 addresses could be written in different forms; qhostaddress::tostring() result format follows rfc5952; thus we avoid duplicate entries pointing to the same address",0,0.9921936988830566
93242378,5877,dzmat,2016-12-20T14:05:16Z,accept it including comment.,0,0.9885711073875427
97159338,5877,sledgehammer999,2017-01-20T21:28:56Z,leave a license notice. copy one from our files. and adjust your name/year/email.,0,0.9948768019676208
97159480,5877,sledgehammer999,2017-01-20T21:29:42Z,leave a license notice. copy one from our files. and adjust your name/year/email.,0,0.9948768019676208
97159732,5877,sledgehammer999,2017-01-20T21:31:13Z,"disregarding the comment about license, is this really useful? why not use it directly?",0,0.9847901463508606
97160026,5877,sledgehammer999,2017-01-20T21:33:01Z,no need for the include just forward declare it(and include the header in the .cpp) forwards declare it this way: [code block],0,0.9953972697257996
97160231,5877,sledgehammer999,2017-01-20T21:34:06Z,"unless, you copied code from some other place in our repo, dumez isn't a contributor in this file.",0,0.9872395396232605
97160566,5877,sledgehammer999,2017-01-20T21:36:07Z,same here,0,0.99204421043396
97161241,5877,sledgehammer999,2017-01-20T21:39:59Z,"i know that you need the underscores for automatic connection, but you don't need them for the middle part. eg `on_pb_banip_clicked()` -> `on_pbbanip_clicked()` also as a convention we use ""button"" to refer to pushbuttons so the above become `on_buttonbanip_clicked()`",0,0.9934701919555664
97163415,5877,sledgehammer999,2017-01-20T21:53:35Z,`qdialog::accept();`,0,0.99244624376297
97164032,5877,sledgehammer999,2017-01-20T21:57:30Z,this function is private and not used somewhere else. so convert it to a private slot which doesn't take parameter. just query the ip text inside this function. and connect it manually in the constructor if you don't want to rename it for autoconnecting.,0,0.9945547580718994
97164080,5877,sledgehammer999,2017-01-20T21:57:50Z,redundant. see my comment above.,0,0.9663510322570801
97164629,5877,sledgehammer999,2017-01-20T22:01:14Z,"as i said above this wrapper isn't necessary, and you don't obtain any space from it. also in this particular case in this function you create 2 temporary qhostaddress objects from the same data. one that checks for validity and one that asks a string representation. you should use the same object to do it.",0,0.991655707359314
97164889,5877,sledgehammer999,2017-01-20T22:03:02Z,also conventionally we prefix qlineedit names with `txt`. so `ed_ip` -> `txtip`.,0,0.9949659705162048
97165447,5877,sledgehammer999,2017-01-20T22:06:29Z,`txtip`,0,0.9907112717628479
97165504,5877,sledgehammer999,2017-01-20T22:06:44Z,`buttonbanip`,0,0.988079845905304
97165581,5877,sledgehammer999,2017-01-20T22:07:15Z,`buttondeleteip`,0,0.9799995422363281
97165854,5877,sledgehammer999,2017-01-20T22:08:58Z,why this newline?,0,0.9698352217674255
97165953,5877,sledgehammer999,2017-01-20T22:09:41Z,`manually banned ips`,0,0.9924276471138
97166225,5877,sledgehammer999,2017-01-20T22:11:30Z,/qbittorrent-frequent-contributors should we join the multiple ips(ipv4+ipv6) using newlines or some other delimiter like `|`? do we have any informal convention on this?,0,0.9929051995277405
97166366,5877,sledgehammer999,2017-01-20T22:12:26Z,`manually banned ips`,0,0.9924276471138
97167297,5877,sledgehammer999,2017-01-20T22:18:55Z,"due to this we must ensure that the lists are always sorted. i would suggest to do this in the widget for `newlist`, but his may come from the web api too. so `newlist` must be sorted here first. `m_bannedips` must be sorted during loading. the type of `m_bannedips` is of `cachedsettingvalue<>`. this template takes a lamda in the constructor as an argument to manipulate the loaded data. if you can't figure out what to do sort it, then leave a message and i'll help you. (or some other one).",0,0.9867545962333679
97167527,5877,sledgehammer999,2017-01-20T22:20:29Z,why not use qhostaddress like you do in the widget?,0,0.991837203502655
97167961,5877,sledgehammer999,2017-01-20T22:23:23Z,"`""%1 is not a valid ip and was rejected while applying the list of banned ips.""`",0,0.970790684223175
97168117,5877,sledgehammer999,2017-01-20T22:24:24Z,`log::warning`,0,0.7750797867774963
97171540,5877,sledgehammer999,2017-01-20T22:48:58Z,"unless i am mistaken the above 2 lines are useless. all they do is re-parse the ip_filter file and apply it. the new `bannedips` aren't applied. this is done in `session::processbannedips()` which isn't called. but it isn't enough to call it here and be done with it. there is subtle bug in this whole logic. consider the following: 1. the logic of `session::processbannedips()` is to ask **libtorrent** for the current filter and then append to it the bannedips. 2. user has banned 3 ips. 3. edits the list, removes one and adds two more. 4. due to the logic of `session::processbannedips()` we won't unban the deleted ip. i have a proposal on how to resolve this: 1. if `newlist` and `m_bannedips` are different, then find the difference(what was deleted from m_bannedips). 2. extend `session::processbannedips()` to take a qstringlist argument with a default value of an empty list. 3. then inside there, if the list isn't empty apply the rules for that list with `0` instead of `libt::ip_filter::blocked` as a flag.",0,0.8505847454071045
97194992,5877,dzmat,2017-01-21T09:28:59Z,"if i deabbreviate your version, it sounds like a ""manually banned internet protocols"". it looks bad. i know that for a network programmer ""ip"" and ""ip address"" became kind of synonyms, but it is different things. of course, if your insist, i will change this name to whatever you want. but we already have done several iterations of renaming with __evsh__ and __thalieht__.",-1,0.9830969572067261
97195171,5877,dzmat,2017-01-21T09:42:09Z,"i had a plan to implement additional filtering in `session::setbannedips()` and this function `isvalidip()` shoud be useful there. it was a cause to create net.cpp and move only one function there. and at that time `isvalidip()` was more complicated. it happened later to became so simple, thanks to __evsh__ .",0,0.9015097618103027
97195184,5877,dzmat,2017-01-21T09:42:45Z,fixed,0,0.920660674571991
97195197,5877,dzmat,2017-01-21T09:42:59Z,fixed,0,0.920660674571991
97195275,5877,dzmat,2017-01-21T09:48:54Z,"fixed, but i think it is kind of a dirty hack and premature optimization (which is a root of all evil (c) ).",-1,0.900127649307251
97195280,5877,dzmat,2017-01-21T09:49:23Z,fixed,0,0.920660674571991
97195473,5877,dzmat,2017-01-21T10:02:10Z,fixed,0,0.920660674571991
97195475,5877,dzmat,2017-01-21T10:02:16Z,fixed,0,0.920660674571991
97195480,5877,dzmat,2017-01-21T10:02:50Z,fixed,0,0.920660674571991
97195494,5877,dzmat,2017-01-21T10:03:52Z,fixed,0,0.920660674571991
97195498,5877,dzmat,2017-01-21T10:04:16Z,fixed,0,0.920660674571991
97195653,5877,dzmat,2017-01-21T10:16:20Z,"i argued upped - it is ""protocol"" vs ""address"" choice. i obviously prefer ""address"".",0,0.9857091903686523
97195685,5877,dzmat,2017-01-21T10:18:42Z,fixed,0,0.920660674571991
97195784,5877,dzmat,2017-01-21T10:27:19Z,fixed,0,0.920660674571991
97197152,5877,sledgehammer999,2017-01-21T12:09:34Z,"so, now which is it? i mean now that you simplified it, do you still think it will be useful as wrapping one thing only?",0,0.9909181594848633
97197159,5877,sledgehammer999,2017-01-21T12:10:02Z,actually we do this to improve compilation times.,0,0.9912078380584717
97197176,5877,sledgehammer999,2017-01-21T12:12:04Z,ok i understand. then feel free to add address/addresses to my proposed string changes.,0,0.9486123323440552
97197216,5877,sledgehammer999,2017-01-21T12:16:01Z,ok. but you have a leftover backtick after the percentage sign.,0,0.9884470105171204
97199850,5877,dzmat,2017-01-21T15:13:58Z,deleted `banlistoptions::banip()` and moved all functionality to `banlistoptions::on_buttonbanip_clicked()`,0,0.9931402802467346
97200020,5877,dzmat,2017-01-21T15:22:27Z,it will slightly increase performance in rarely used function and considerable decrease maintainability of that code imho. so i prefer to left it as is.,-1,0.5271360278129578
97200238,5877,dzmat,2017-01-21T15:29:48Z,it is unnecessary because it is done in `banlistoptions::on_txtip_textchanged()` event handler called because of `m_ui->txtip->clear();` call.,0,0.993547260761261
97200469,5877,dzmat,2017-01-21T15:40:32Z,"fixed. i just wonder what is a point in implicit ancestor method calling, if we already call the same method because it is not overridden in banlistoptions widget?",0,0.9666560292243958
97200490,5877,sledgehammer999,2017-01-21T15:41:27Z,"fyi, qt has [a link] or if you wish use one of the std sorts...",0,0.9929250478744507
97200548,5877,sledgehammer999,2017-01-21T15:44:01Z,i want it explicit so a reader can understand immediately that we call the base method.,0,0.988763689994812
97200877,5877,Chocobo1,2017-01-21T16:01:35Z,"""starting with qt 5.0, you are instead encouraged to use directly the implementations available in the stl"" [a link]",0,0.9940715432167053
97201348,5877,sledgehammer999,2017-01-21T16:25:44Z,"but my proposal doesn't account for one corner-case bug: 1. user has manually banned an ip that is also included in the ip filter file. 2. then he deletes it from the manually banned ips list. in my proposal step 2 would result in allowing that ip even though the ip_filter includes it(until the user restarts the application). so would it be wise, to reparse the ip_filter file, add the bannedips and set that whole list in libtorrent, discarding the old one?",0,0.9893280863761902
97215262,5877,dzmat,2017-01-22T07:27:17Z,"i think that building ip_filter from scratch (reparse file and add manual part ) will be less error prone and more maintainable way to do it. performance penalty does not matter because it will be not frequent operation, i think.",0,0.9436260461807251
97892396,5877,sledgehammer999,2017-01-25T22:19:03Z,these 2 should be moved at the top before the check: [code block] also remove the commented out lines.,0,0.995682954788208
98333794,5877,dzmat,2017-01-28T16:17:01Z,"rewrote more code. now it double checks for inequality of lists. also added code for recreation of internal libtorrent ip filter from scratch to implement ""unban"" case. but i found that manual ban list is enforced to ipfilterlist even when ipfiltering checkbox is disabled. i sink it is an error, isn't it?",0,0.984650194644928
99666237,5877,sledgehammer999,2017-02-06T19:39:26Z,"i think the correct word is ""ensure""",0,0.9829109311103821
99672853,5877,sledgehammer999,2017-02-06T20:09:14Z,typo: 3rd party,0,0.9953521490097046
99672926,5877,sledgehammer999,2017-02-06T20:09:38Z,typo: 3rd party,0,0.9953521490097046
99673442,5877,sledgehammer999,2017-02-06T20:12:17Z,it would be a good idea to sort here too. so the first check in setbannedips has actually a change to match.,0,0.9712460041046143
99674248,5877,sledgehammer999,2017-02-06T20:16:28Z,here i meant to change it to `manually banned ip addresses...`,0,0.9849712252616882
99674394,5877,sledgehammer999,2017-02-06T20:17:22Z,`manually banned ip addresses...`,0,0.9770005941390991
99823791,5877,dzmat,2017-02-07T13:43:45Z,"it will give us no new functionality but only a twice sort and compare sequence. it is an unnecessary overhead. btw it is presumed here, that `iplist` is created already in sorted order, because entries in `m_ui->bannediplist` are maintained in such an order.",0,0.9567244648933411
99827280,5877,sledgehammer999,2017-02-07T14:00:04Z,"ok, i didn't know that.",0,0.9751331210136414
61945041,5214,zeule,2016-05-03T19:56:53Z,"it might make sense to make this variable static. however, i can't imagine qbt changing this environment variable at run time.",0,0.9830485582351685
61993662,5214,glassez,2016-05-04T06:19:57Z,change this in runtime will cause undefined behaviour or even crash the program. so it must be initialized at program startup and do not change further.,0,0.94609135389328
61993875,5214,glassez,2016-05-04T06:24:22Z,"this function, like some other (cachelocation, qdesktopservices*) , needs to be moved to another place, because they sense are not file system utilities. these are shell or environment utilities.",0,0.9938374161720276
61994121,5214,glassez,2016-05-04T06:28:48Z,settingsstorage is not the only class that requires modifications. there are some other classes that store all their settings/state/data in the same place. although it may be enough changes in qdesktopservicesdatalocation for them.,0,0.9918937087059021
62826678,5214,glassez,2016-05-11T10:44:31Z,singleton**g**?,-1,0.5690614581108093
62827506,5214,glassez,2016-05-11T10:52:18Z,why do you leave these ugly wrappers? why shouldn't we use environment utils directly?,-1,0.9737663865089417
62827805,5214,glassez,2016-05-11T10:54:44Z,using namespace utils::environment is good idea!,1,0.9811042547225952
62830833,5214,zeule,2016-05-11T11:24:52Z,ok.,0,0.980760931968689
62831258,5214,zeule,2016-05-11T11:29:49Z,i don't understand this function and thus left it as is.,0,0.5280901789665222
62843023,5214,Chocobo1,2016-05-11T13:01:32Z,is include guard omitted on purpose?,0,0.9931789636611938
62844932,5214,Chocobo1,2016-05-11T13:14:20Z,you can add `const` here.,0,0.9958814382553101
62846204,5214,Chocobo1,2016-05-11T13:22:47Z,"maybe just me, you could use a temporary qstring to hold the qdir::absolutefilepath(), will be easier to read.",0,0.9849985241889954
62848725,5214,Chocobo1,2016-05-11T13:38:33Z,"this `catch` is quite away from the `throw`s, is it a good idea to move up?",0,0.9902222156524658
62849024,5214,Chocobo1,2016-05-11T13:40:37Z,can you share the reason of handling error by exceptions? i'm curious about it.,0,0.9823437929153442
62850051,5214,Chocobo1,2016-05-11T13:45:58Z,`const specialfolder folder`?,0,0.9940897226333618
62853925,5214,zeule,2016-05-11T14:06:12Z,two reasons: i had to signal error from `application::application()` and `main()` had many repeative calls to `displaybadargmessage()` with `return exit_failure` (that is in `catch` clause now).,0,0.9835878014564514
62854902,5214,zeule,2016-05-11T14:11:33Z,"no, it was a mistake. thanks!",1,0.9911364316940308
62855317,5214,zeule,2016-05-11T14:13:54Z,"agree, the body of `main()` is too long, we better split it onto several functions.",0,0.9709591269493103
62867711,5214,zeule,2016-05-11T15:17:20Z,"sorry, can not understand why it would be better with `const`.",-1,0.9933274984359741
62872084,5214,Chocobo1,2016-05-11T15:40:23Z,"by reading the method signature i would suspect `folder` will somehow change to other value, but it didn't. well this is a habit of mine...",0,0.9063065052032471
62873297,5214,glassez,2016-05-11T15:46:37Z,you read the method signature incorrectly! the `folder` cannot be changed since it passed by value. the method free to change its `folder` copy.,0,0.5624609589576721
62877620,5214,Chocobo1,2016-05-11T16:10:39Z,you must have misunderstood me. i meant i suspect the local copy `folder` will somehow change to other value but it didn't.,0,0.9058029055595398
62880615,5214,glassez,2016-05-11T16:28:57Z,"passing param by value as const creates hard dependency between function signature and its implementation. if in the future we will need to do some preprocessing of this param, we will either have to change the method signature or use some tricks (create additional variables, etc.).",0,0.9862447381019592
62881424,5214,zeule,2016-05-11T16:33:53Z,"i hope that even with this polemic you guys will find a time to look at `qinisettings` and think whether we can drop it completely, please? :)",1,0.9920521974563599
62884040,5214,Chocobo1,2016-05-11T16:49:41Z,that sounds like you don't like to add `const` for pass-by-value parameters!?,0,0.7565993666648865
62887959,5214,glassez,2016-05-11T17:14:36Z,yes. except some really special cases.,0,0.9725445508956909
62897582,5214,glassez,2016-05-11T18:10:21Z,it returns the cache dir path and create this directory if it doesn't exist which is overkill. so you may drop this function and use your environment utils directly.,0,0.9574745893478394
62910921,5214,zeule,2016-05-11T19:30:02Z,"but why it was written? apparently, somebody encountered a situation when the cache directory was missing. should we create them all the directories when we create the `specialfoldersimpl` object?",0,0.9929012656211853
62923227,5214,zeule,2016-05-11T20:44:47Z,"after some thinking i like this approach. in `utils::envrironment::specialfolders::initialize()` we ensure that all paths exist in the same way as we do in `utils::envrironment::impl::specialfoldersimplcustom::specialfoldersimplcustom` and remove all the `qdir::mkpath()` calls from the individual functions. the program can not run without the config, cache, and data directories. as for the downloads directory, we already create it now anyway.",1,0.7307478189468384
63026362,5214,glassez,2016-05-12T14:09:08Z,maybe remove `qprocessenvironment` from constructor params and us `qprocessenvironment::systemenvironment()` in constructor body? you don't like yourself the extra things in the interface!,0,0.7817760109901428
63026651,5214,glassez,2016-05-12T14:10:45Z,there are still some messages? why such verbosity? why not just `message`?,0,0.9842793941497803
63027199,5214,zeule,2016-05-12T14:13:38Z,i wanted to point out that default values are loaded from environment.,0,0.9873062372207642
63027818,5214,zeule,2016-05-12T14:16:51Z,"usually, exception texts are for developers, that is why.",0,0.9905904531478882
63274950,5214,glassez,2016-05-14T11:38:15Z,fix coding style: [code block],0,0.9939800500869751
63274968,5214,zeule,2016-05-14T11:39:41Z,are you thinking that '?' on the next line adds readability?,0,0.9897236824035645
63274985,5214,glassez,2016-05-14T11:41:03Z,it's better to split such long lines.,0,0.9721008539199829
63275151,5214,glassez,2016-05-14T11:59:23Z,i am thinking we should following the coding guidelines. i am thinking the code uniformity adds readability.,0,0.9673491716384888
63275227,5214,glassez,2016-05-14T12:05:43Z,why do you love to violate the order? the copyright notice should be placed in reverse chronological order and be as follows: [code block] you can see how it's done!,0,0.9357903599739075
63275282,5214,glassez,2016-05-14T12:08:42Z,fix coding style!,0,0.9650169610977173
63275323,5214,glassez,2016-05-14T12:13:27Z,why `protected`?,0,0.9860237836837769
63275358,5214,glassez,2016-05-14T12:16:53Z,please add parenthesis around `s.size() >= 2` too.,0,0.9957036375999451
63275403,5214,glassez,2016-05-14T12:19:51Z,fix coding style!,0,0.9650169610977173
63275406,5214,glassez,2016-05-14T12:20:32Z,fix coding style!,0,0.9650169610977173
63275441,5214,glassez,2016-05-14T12:23:30Z,"please fix param name (use camelcase). i understand that most likely it got you inherited, but i hope it's not too much trouble you.",0,0.8908005952835083
63275449,5214,glassez,2016-05-14T12:24:18Z,insert blank line after.,0,0.9836323857307434
63275515,5214,glassez,2016-05-14T12:28:46Z,add space before `*`.,0,0.9939447045326233
63275550,5214,glassez,2016-05-14T12:31:50Z,this file is an implementation of the classes in the `utils::environment` namespace. to use `using namespace utils::environment` is a good idea here.,0,0.9260197281837463
63275597,5214,glassez,2016-05-14T12:36:07Z,"base must be independent from app, gui etc.",0,0.9902425408363342
63275648,5214,glassez,2016-05-14T12:39:58Z,"as i mentioned above, better to remove `utils::environment` and `utils::environment::impl` from these names, than so to be perverted here.",0,0.9895304441452026
63275663,5214,glassez,2016-05-14T12:41:02Z,please don't mix initializer styles.,0,0.7755300402641296
63275690,5214,glassez,2016-05-14T12:43:21Z,as **profile** is abstract class you may have public constructor here.,0,0.9941881895065308
63275700,5214,glassez,2016-05-14T12:44:28Z,this isn't needed.,0,0.9871913194656372
63276658,5214,zeule,2016-05-14T14:03:31Z,"i might misunderstand you, but there is no public constructor because this is an abstract class.",0,0.9029672145843506
63276688,5214,zeule,2016-05-14T14:05:33Z,"who then can initialize this singleton, if not application?",0,0.9915292263031006
63276741,5214,glassez,2016-05-14T14:09:02Z,i mean you can have public constructor in abstract class. no need extra (protected) section here.,0,0.9910094738006592
63276793,5214,glassez,2016-05-14T14:14:44Z,"application initializes (almost) all current singletons, but they are independent from it. just do `initialize()` public.",0,0.9948166012763977
63276809,5214,zeule,2016-05-14T14:16:49Z,"you probably mean that it is impossible to create and instance with pure virtual functions anyway. imo, protected constructor in such case is better for documentation/hint reasons.",0,0.9881277680397034
63276861,5214,zeule,2016-05-14T14:22:00Z,"bad idea. imo, a friend declaration, in this case, is not a dependence. consider the following example: [code block] does `a` depend on `main()`? no, it utilises the idea that there _has_ to be the `main()` function and only it can initialise the class. the same is here: everyone knows that there has to be an `application` class in qt application.",-1,0.9553211331367493
63276943,5214,glassez,2016-05-14T14:30:49Z,"okay, probably you're right here...",0,0.9801694750785828
63276959,5214,zeule,2016-05-14T14:32:24Z,glad that you agree.,1,0.9850735068321228
63276965,5214,glassez,2016-05-14T14:32:49Z,"okay, if so.",0,0.9869158267974854
63280068,5214,zeule,2016-05-14T18:27:41Z,": could you check these changes, please?",0,0.9941781759262085
63280072,5214,zeule,2016-05-14T18:28:03Z,": and here too, please.",0,0.9851518273353577
63280264,5214,zeule,2016-05-14T18:43:51Z,`booloption` is an exception (with its public inheritance). but probably i just need to move `option::usage()` from `option` to `booloption`.,0,0.989740252494812
63280543,5214,Chocobo1,2016-05-14T19:06:40Z,"i wasn't going to question it anymore, but i can't hold myself :p please, just for once; could you explain (convince) me that this implementation will work fine in my scenario in: [a link] i believe that is a very common usage scenario. or let me know why my scenario might be invalid.",1,0.9858624339103699
63280594,5214,zeule,2016-05-14T19:11:10Z,i guess you imply `--portable` switch set. things will not work in this scenario (obviously). that is why we split the portable mode onto two options.,0,0.9844681620597839
63285751,5214,Chocobo1,2016-05-15T03:48:03Z,"i am confused, how do `--configuration` & `--profile` help for this scenario?",-1,0.9212661385536194
63288523,5214,zeule,2016-05-15T08:57:05Z,there are four options added by this pr. two of them turn on independent features of the portable mode: `--profile` and `--relative-fastresume`. there is one option for configurations (`--configuration) and there is a shortcut`--profile`which is equal to`----profile=$exe_dir/profile`and`--elative-fastresume`. for the use-case noted by one needs just `--profile` option. those who use a portable drive for qbt and downloads need both options.,0,0.9948167204856873
63294895,5214,glassez,2016-05-15T17:13:00Z,"imo, ""relative fastresume"" is wrong wording.",0,0.7009283304214478
63531253,5214,zeule,2016-05-17T14:25:00Z,done.,0,0.9897913336753845
63535447,5214,zeule,2016-05-17T14:45:56Z,done.,0,0.9897913336753845
63761145,5214,glassez,2016-05-18T18:55:37Z,remove this blank line.,0,0.9928326606750488
63762663,5214,glassez,2016-05-18T19:05:17Z,"you seem to misunderstand the qlatin1string meaning, once you use it for the wrong purpose. re-read the documentation.",0,0.9532972574234009
63763510,5214,glassez,2016-05-18T19:10:28Z,this applies not only to this line.,0,0.9899354577064514
63764264,5214,glassez,2016-05-18T19:15:44Z,the same issue with method names as in another pr.,0,0.9716111421585083
63764772,5214,glassez,2016-05-18T19:19:08Z,it's better to have blank line after earlier return.,0,0.9871288537979126
63767102,5214,glassez,2016-05-18T19:33:58Z,"when i suggested utils::environment, i proceeded from the sense of the old functions. environment is something external to the application, but the profile is not. so you shouldn't put it to utils::environment namespace. let it be in global namespace and its files in `base/` directly.",0,0.9923551082611084
63786509,5214,zeule,2016-05-18T21:33:50Z,done. your turn :),0,0.615541398525238
63789555,5214,zeule,2016-05-18T21:55:41Z,"while i certainly agree with you that the code does not fall exactly into the ""environment"" group, it makes an individual unit and i think it would be nice to highlight that by using a proper place in the files hierarchy. can not find a word right away.",0,0.9666603803634644
63873396,5214,glassez,2016-05-19T13:02:51Z,ok. let's go.,0,0.9431070685386658
63891614,5214,zeule,2016-05-19T14:46:31Z,"sorry, , those are good names for the entity which is currently named `class profile`, but we are looking for a name for the namespace (and the corresponding directory), which contains this entity, its various implementations and other things which control how the qbt is localised within a filesystem at run-time.",-1,0.9550911784172058
63892152,5214,zeule,2016-05-19T14:49:02Z,"sorry, i've told you already that i did read the documentation. you see, i don't understand what is wrong. either explain that or give a hint suggesting the right code fragment, please.",-1,0.9892531037330627
63915606,5214,glassez,2016-05-19T16:58:09Z,since we don't use qt_no_cast_from_ascii using qlatin1string in our code is at least useless (really this leads to unnecessary cost). please. for this particular case: [code block],-1,0.6111708283424377
63916068,5214,glassez,2016-05-19T17:01:10Z,for other case: [code block],0,0.9950538873672485
63916330,5214,glassez,2016-05-19T17:02:49Z,some other case: [code block],0,0.9939144253730774
63927984,5214,zeule,2016-05-19T18:13:13Z,"your code has the following shortcomings: 1. global `qstring` constants lead to `qstring` constructor calls at module loading time. static variables in functions would be a bit better. 2. both local static and global `qstring` variables need twice the memory comparing to `char` arrays (permanent usage, is never freed). 3. an expression like `qstring(""a literal"")` requires more computing resources as comparing to `qlatin1string(""the same literal"")` because utf-8 to utf-16 decoder is more complex than ascii to utf-16. and what are the advantages? what costs?",0,0.8638686537742615
63931548,5214,glassez,2016-05-19T18:34:27Z,"i don't mean global constant. i mean some constant, for example class-wide. if you feel so sorry for the two bytes, you can do so: [code block] agree. but you don't understand the following: `qstring(""str1"") + ""str2""` = 2 qstring ctor + 1 operator+ `qlatin1string(""str1"") + qlatin1string(""str2"")` = 2 qlatin1string ctor + 2 qstring ctor + 1 operator+ 1. performance: additional (and redundant) qlatin1string constructor calls 2. visual: additional (and redundant) qlatin1string in code",0,0.699182391166687
63954036,5214,zeule,2016-05-19T21:01:58Z,"the thing is qlatin1string ctor + qstring ctor is not more work than qstring ctor(char literal), because we remove information about encoding. i suggest you read `qlatin1string` class definition, it is quite short. and the general note: it is usually not possible to make something more optimal removing the information, but the inverse case (more optimal with additional information) is more likely. i bet the compiler generates not significantly different code for `qstring::fromlatin1(""a literal"")` and `qstring(qlatin1string(""a literal""))`.",0,0.9841156601905823
64063420,5214,glassez,2016-05-20T15:48:48Z,damn. unfortunately qt5 documentation is outdated and contains incorrect and conflicting information. it turns out that qstring's **const char** * api is no longer so lightweight and optimized as described.,-1,0.994392991065979
64064921,5214,zeule,2016-05-20T15:58:53Z,i don't know what you are talking about but they say in the documentation that `setcodecforcstring()` was removed and all `const char*` strings are assumed to be in utf-8. do they hide anything else?,0,0.9813416004180908
64065318,5214,glassez,2016-05-20T16:01:33Z,but the following is wrong:,0,0.8610930442810059
64065651,5214,zeule,2016-05-20T16:03:32Z,done.,0,0.9897913336753845
64125286,5214,zeule,2016-05-21T01:13:32Z,"with this pr we are adding options to control were qbt stores its configuration and data files (like the fast resume files or the rss cache) and we called this entity ""profile"". thank you for the willingness to help.",1,0.9215763211250305
64177748,5214,glassez,2016-05-23T07:20:31Z,profile is usual name for such a thing. why do you propose changing it?,0,0.9891889095306396
64265540,5214,glassez,2016-05-23T18:34:09Z,"things under utils namespace are helpers, wrappers (and so on) for different purposes. but profile is more important, so i see it as the application component (albeit small). therefore, i propose to put it in the global namespace.",0,0.9880187511444092
64387582,5214,zeule,2016-05-24T13:14:16Z,maybe it will be better to leave implementation classes in namespace impl? perhaps we can create `base/private` or `base/impl` directory and put those files there?,0,0.9909027218818665
64389072,5214,glassez,2016-05-24T13:24:14Z,agree. `base/private` and `private` namespace (as done in bittorrent).,0,0.9922928810119629
110687948,5214,sledgehammer999,2017-04-10T15:31:37Z,you already check this in `parsecommandline()`,0,0.9957285523414612
110688795,5214,sledgehammer999,2017-04-10T15:34:47Z,what happens if it is malformed? no 2 parts?,0,0.9692609906196594
110688993,5214,sledgehammer999,2017-04-10T15:35:32Z,what happens if it is malformed? no 2 parts?,0,0.9692609906196594
110769375,5214,zeule,2017-04-10T21:36:38Z,"this test meant to show whether the port number is set by user, or has its default value of -1. probably should change the condition to `!= -1`?",0,0.9922606348991394
110789530,5214,sledgehammer999,2017-04-10T23:58:36Z,oops. you're correct. i forgot that this might be unset. in this case this check can stay as it is.,0,0.5322716236114502
110790296,5214,sledgehammer999,2017-04-11T00:05:20Z,"i don't know if this intended or not. this is just a reminder. you might want to leave an email beside your name. if yes, add it on every other place you put your name.",0,0.9097418785095215
110791229,5214,zeule,2017-04-11T00:14:21Z,at the time of writing i did not want to leave e-mail there. probably i'll insert the e-mail during the next round of changes.,0,0.9835790991783142
110792148,5214,sledgehammer999,2017-04-11T00:22:43Z,sure. whatever you want. it was just just a reminder. (i am continuing with the review),1,0.4970366060733795
110792623,5214,sledgehammer999,2017-04-11T00:27:39Z,i think this is a remnant of qt4 support.,0,0.9821838140487671
110793803,5214,sledgehammer999,2017-04-11T00:34:48Z,do you have any reference to this? edit: you probably infer it from qt docs about nativeformat. i hope it stays the same for iniformat. unfortunately the docs don't have an example. i'll check the macos machine to see if it indeed saves it there.,0,0.9770594239234924
110795539,5214,sledgehammer999,2017-04-11T00:52:37Z,according to the docs iniformat forces the use of `.ini` extension on all platforms. so why override it and use `.conf` instead? i think we should stay close to how qt works.,0,0.9863218069076538
110796525,5214,sledgehammer999,2017-04-11T01:02:53Z,i see it will stay empty so it will fallback to using the defaultprofile.,0,0.9909857511520386
110796850,5214,sledgehammer999,2017-04-11T01:05:57Z,"ok, defaults are used if empty",0,0.994998574256897
110804394,5214,sledgehammer999,2017-04-11T02:31:48Z,"the `--portable` documentation should be updated to indicate that it also implies `--relative-fastresume` also the result of this test isn't a little too harsh? imo, we should silently ignore `--relative-fastresume` in this case.",0,0.9815980195999146
110807130,5214,sledgehammer999,2017-04-11T03:05:46Z,usage doesn't seem to be documented,0,0.9578900337219238
110861556,5214,zeule,2017-04-11T10:00:42Z,"disagree with you: current files have '.conf' extension, and if we use '.ini' in the custom profiles, we make a custom profile dir incompatible with the current one, while otherwise profile dirs can be copied one into another.",0,0.8380399346351624
110886219,5214,sledgehammer999,2017-04-11T12:16:25Z,"partially true. the old code has an ifdef when creating the qsettings object. in linux it uses nativeformat, which are ini files with `.conf` extension. on windows+macos it uses iniformat which forces `.ini` as extension.",0,0.9918373227119446
110887971,5214,sledgehammer999,2017-04-11T12:26:27Z,shouldn't the arguments be reversed here? (i am talking about the bool check),0,0.9927257299423218
110890682,5214,zeule,2017-04-11T12:39:45Z,wouldn't that create an impression that `--relative-fastresume` is used somehow? let's print a warning instead?,0,0.9886018633842468
110892170,5214,sledgehammer999,2017-04-11T12:46:52Z,"well, if they read the documenation they should have that impression. but i am ok with a warning.",0,0.8416407108306885
71085636,5532,glassez,2016-07-17T17:03:22Z,having both add-started and add-paused params is bad idea. one of them is redundant.,-1,0.9327764511108398
71085696,5532,glassez,2016-07-17T17:07:23Z,here and in similar places you break coding style rule. you must insert spaces around arithmetic operators.,0,0.9704654216766357
81368647,5532,wiiaboo,2016-09-30T16:07:23Z,you should also remove the trailing spaces in this and other lines.,0,0.9941674470901489
81371163,5532,briankendall,2016-09-30T16:22:32Z,it is done.,0,0.9802975654602051
112675708,5532,zeule,2017-04-21T12:25:57Z,i would avoid such a general name for the parameter. who knows what other path we would add in the future?,0,0.9837164878845215
112675782,5532,zeule,2017-04-21T12:26:21Z,same here.,0,0.9916109442710876
112676794,5532,zeule,2017-04-21T12:32:48Z,"either remove ""started"" and ""paused"" from the translatable string or make it clear for a translator that they have to be kept as is.",0,0.9923967719078064
112677283,5532,zeule,2017-04-21T12:35:57Z,"don't quite understand why we can pass `wrap_at_column` as default value, but can not do the same with `usage_text_column`?",0,0.9388216733932495
112722324,5532,glassez,2017-04-21T16:02:19Z,"we use ""add paused"" term in this meaning, so it should be ""add-paused"" here.",0,0.992960512638092
112722398,5532,glassez,2017-04-21T16:02:41Z,"we use ""save path"" term in this meaning, so it should be ""save-path"" here.",0,0.9944023489952087
112722854,5532,briankendall,2017-04-21T16:05:09Z,good point. i'll change it to save-path unless you have a different suggestion. edit: apparently i forgot to refresh this page before commenting and missed the above discussion. save-path it is.,1,0.9710748791694641
112722898,5532,briankendall,2017-04-21T16:05:20Z,similarly will change it to torrent-status,0,0.9940434098243713
112723563,5532,glassez,2017-04-21T16:08:23Z,"imo, ""status"" is incorrect in this context.",0,0.8900936841964722
112727419,5532,zeule,2017-04-21T16:27:42Z,"i would use bool option `--add-paused`, which will be shorter without the value part than `--status=paused`. are there any more statuses except these two?",0,0.994645357131958
112737102,5532,briankendall,2017-04-21T17:20:08Z,"`--add-paused` doesn't give the option of someone adding a torrent unpaused when the app is configured to add all torrents paused by default, so it ought to include both options.",0,0.9905695915222168
112737453,5532,zeule,2017-04-21T17:22:26Z,maybe we better extend the `booloption` class to accept a value? to make it possible to pass `--add-paused=false`.,0,0.9905089139938354
112738339,5532,briankendall,2017-04-21T17:27:21Z,"i spent some time thinking about what the name of this option should be, and settled on `status` (now `torrent-status`) because i can't find any other terminology used elsewhere in the app that refers to the attribute of a torrent that distinguishes whether it's paused or not in the way that we need. in the add torrent dialog, there is a check box that reads ""start torrent"", but since we're overriding the default behavior with this command line option, a simple toggle isn't good enough. the user needs to specify one of three states: use default settings, pause torrent, start torrent. the `torrent-status` approach allows for all three. the actual setting in the preferences for specifying the default behavior is ""do not start the download automatically"" which doesn't really help for coming up with an intuitive command line option either. in the main window, whether a torrent is paused or running is indicated in the status column. so i eventually settled with `torrent-status`. i originally set it up so that there was an `--add-paused` and `--add-started` option but a while back suggested that was redundant and i'm inclined to agree. i think `torrent-status=paused|started` is the way to go.",0,0.9746224880218506
112738690,5532,briankendall,2017-04-21T17:29:13Z,good catch. i think `started` and `paused` had better remain consistent regardless of system language otherwise scripts that execute in one language will fail in another.,1,0.9724910855293274
112741386,5532,glassez,2017-04-21T17:42:40Z,but what not `--add-paused=true|false`?,0,0.9946509003639221
112742978,5532,briankendall,2017-04-21T17:50:36Z,"yes, that could work. i originally discounted that as booloption doesn't current allow a way to specify a value, and i don't think it should since it's implementing a specific common kind of command line option. instead i could continue using stringoption and checking its value, requiring it to be true or false. that would be the easiest and fastest change. alternatively, i could add a new option-derived class called something like tristatebooloption, that requires explicitly specifying a value. that would allow some flexibility in how the value is specified, i.e. true, false, 1, 0, on, and off could all be valid values.",0,0.9531722664833069
112743805,5532,briankendall,2017-04-21T17:54:20Z,"i'll simplify things so that there's just one function, `wraptext`.",0,0.9927737712860107
112745582,5532,zeule,2017-04-21T18:02:54Z,"i would model `booloption` after the same entity in `boost::program_options`, i.e. give it ability to parse supplied value and set an implicit one, which is taken when no explicit value is provided. if you, , do not want to do that or wait for such implementation, imo `stringoption` with a custom check would be fine. let's just avoid option name change in the future.",0,0.9875590205192566
112750483,5532,briankendall,2017-04-21T18:28:17Z,"i don't mind implementing this, as i do prefer doing things ""the right way"". that said i don't think doing something like `boost::program_options` like you describe will work here, as i need an unspecified option to have a value that explicitly means it was undefined rather than an implicit true / false value. so think it would be better to utilize the existing `tristatebool` class (which exists for exactly that purpose) and create a new kind of option based on that.",0,0.5275153517723083
112751675,5532,zeule,2017-04-21T18:34:26Z,", excuse me, don't understand yet why do you need the third value. why just absent parameter in the command line does not work? sure, you need the tri-state value further on, but why it is needed in the command line?",-1,0.5801188349723816
112754959,5532,briankendall,2017-04-21T18:51:48Z,"it's mainly because, without having an `option`-derived class that can return a tri-state bool, the mechanism where options can be specified using environment variables no longer works. when initializing a value in the constructor of `qbtcommandlineparameters` you need to use something like: `addpaused(paused_option.value(env))` with `booloption`, this will necessarily initialize the variable `addpaused` to either true or false. so if we don't get a value from the corresponding environment variable, `addpaused` is initialized to false rather than to undefined. and now we don't know whether the user actually specified false in the environment variable or didn't specify anything at all. using `tristatebooloption` fixes this. on top of that, and perhaps even more importantly, i think having a separate class called `tristatebooloption` is *conceptually* correct as it provides a different function (namely the ability to have an undefined state) in comparison to `booloption`. better to make that explicit in the definition of an option than to have its behavior not come from its definition but its implementation details. you don't want people to have to check the code carefully to know that `add-paused` behaves differently than every other `booloption`.",0,0.9887655973434448
112756920,5532,glassez,2017-04-21T19:03:11Z,"i agree with we need some way for ""use application default value for addpaused"". if user omit corresponding parameter this shouldn't mean ""false"".",0,0.9830495119094849
112763304,5532,zeule,2017-04-21T19:45:08Z,"it is still ""path"" here.",0,0.986616849899292
112763388,5532,zeule,2017-04-21T19:45:42Z,why this is still here?,0,0.9777555465698242
112763578,5532,zeule,2017-04-21T19:46:54Z,please use `qlatin1string`,0,0.9955138564109802
112763625,5532,zeule,2017-04-21T19:47:15Z,will this go into transifex?,0,0.9932845830917358
112763814,5532,zeule,2017-04-21T19:48:27Z,`qlatin1string`,0,0.9941482543945312
112763898,5532,zeule,2017-04-21T19:49:00Z,will this go into transifex?,0,0.9932845830917358
112764385,5532,zeule,2017-04-21T19:52:11Z,"i don't understand why `booloption` is ok here, but `tristatebooloption` is needed for 'add-paused'? don't they behave identically in terms of absent values? i.e. when value in command line is absent, program setting has to be used.",0,0.888731062412262
112764464,5532,zeule,2017-04-21T19:52:39Z,"""path""",0,0.9886302947998047
112764945,5532,zeule,2017-04-21T19:55:26Z,"so, continuing, my idea is: only `result.addpaused` has to be of type `tristatebool`. the option itself is a bool option which accepts value and can be omitted. the third case is here already, in this very test.",0,0.9918007254600525
112766304,5532,briankendall,2017-04-21T20:04:44Z,"because utilizing any of the command line options relating to adding a torrent prevents the ""add new torrent"" dialog from opening.",0,0.9838665127754211
112766403,5532,briankendall,2017-04-21T20:05:19Z,i haven't used transifex before so i'm not sure. but this is the officially supported way of adding comments to translatable strings according to qt's documentation. is there another method i should use?,0,0.936869204044342
112766574,5532,briankendall,2017-04-21T20:06:28Z,"there is no setting for ""download first and last piece first"" in the application-wide preferences. it always defaults to off so therefore there's no need for a tri-state bool.",0,0.994065523147583
112767115,5532,briankendall,2017-04-21T20:09:56Z,"you're forgetting about environment variables being used to specify options. it's definitely necessary to have `tristatebooloption` in order for that to work. not to mention there's my earlier comment about how using `tristatebooloption` unambiguously informs people reading the code that it behaves differently than the other bool options, which i think vastly improves comprehensibility.",0,0.9799889326095581
112769588,5532,zeule,2017-04-21T20:25:03Z,ok.,0,0.980760931968689
112769829,5532,zeule,2017-04-21T20:26:32Z,"you are right, option object with optional value (sorry) is certainly a cleaner solution then.",-1,0.7730871438980103
112769974,5532,zeule,2017-04-21T20:27:30Z,why this assignment is still present?,0,0.9907331466674805
112770311,5532,zeule,2017-04-21T20:29:46Z,will this go into transifex? why don't you use the second argument of `qobject::tr()`?,0,0.9944994449615479
112770341,5532,zeule,2017-04-21T20:29:55Z,same here.,0,0.9916109442710876
112771937,5532,briankendall,2017-04-21T20:38:46Z,because specifying a save path prevents the new torrent dialog from opening.,0,0.9905546307563782
112773087,5532,briankendall,2017-04-21T20:45:04Z,"the second argument of `qobject::tr()` is meant for disambiguation, like when you have two strings that are the same in english but might need to be translated differently in another language. you're supposed to use the `//:` comment notation for notes to the translator. see [a link]",0,0.9947695136070251
112774376,5532,zeule,2017-04-21T20:52:07Z,"can't agree with you. imo, it would be perfectly fine to supply a save path, a magnet uri and expect to see the dialog. and that is why i asked you to add the option to control it. it is perfectly fine to skip the dialog by default, but where is `skiptorrentdialog = false` then?",-1,0.6178811192512512
112775179,5532,zeule,2017-04-21T20:56:42Z,"does anybody know will this comment go into transifex? , maybe it is worth to write is simply as: [code block] ?",0,0.9924880266189575
112776017,5532,briankendall,2017-04-21T21:01:23Z,good idea,1,0.9905905723571777
112778952,5532,briankendall,2017-04-21T21:20:26Z,"i see what you're getting at. unfortunately the save dialog currently has no facility for passing in torrent options. meaning if i use command line arguments such as `--save-path`, `--category`, `--start-paused` and so on, those options are not reflected in the save dialog and end up having no effect. they only work when adding a torrent using `bittorrent::session::instance()->addtorrent()`. the thing is that these command line arguments are mainly intended to be used for automating qbittorrent. in those instances it's not desirable to have the save dialog open, hence why i set it up so that specifying any of them prevents it from opening. i thought adding a `--skip-dialog` option was useful, though, because someone might want to add a torrent, skip the dialog, and use the application settings without overriding anything, which wasn't possible previously. in order to accomplish what you're talking about, i'd have to make significant changes to `addnewtorrentdialog` so that it can accept an optional `bittorrent::addtorrentparams` parameter and properly pass those settings on when adding the torrent, even the ones that can't be specified by the dialog itself. i'm not very familiar with `addnewtorrentdialog` so it would take some work and have the potential for introducing new bugs. i'd prefer not to do that unless there's a compelling reason for it.",0,0.9605883955955505
112779490,5532,zeule,2017-04-21T21:23:55Z,ah! what a pity! could you leave a comment or todo marker somewhere then regarding this problem?,-1,0.9955173134803772
112781196,5532,briankendall,2017-04-21T21:35:20Z,sure.,0,0.9824982285499573
112781350,5532,zeule,2017-04-21T21:36:30Z,thank you!,1,0.9448403120040894
112783042,5532,briankendall,2017-04-21T21:48:13Z,"actually this may require some future proofing. if someone were to make the change we're discussing, it would change the behavior of these command line arguments from preventing the ""add new torrent"" dialog from opening to not preventing it. i think it's bad form to have a potential future version of the app change the behavior of command line arguments in that dramatic of a fashion. so how about this: i'll add the todo and change the `--skip-dialog` to be a tri-state bool. this already makes sense because there is actually an application-wide setting for whether the add torrent dialog should be opened, so being able to say `--skip-dialog=false` might be useful in some cases. for now i'll make a note in the command line usage text that using `--skip-dialog=false` in conjunction with the other command line arguments i've added is currently unsupported. but that way if in a future version someone follows up on the todo and changes `addnewtorrentdialog` so that you can override its settings with these command line arguments, we can start allowing using them in conjunction with `--skip-dialog=false` to allow someone to pop open the dialog, override its settings, all while not change the existing behavior of the other command line arguments. sound good?",-1,0.9284015893936157
112792464,5532,zeule,2017-04-21T23:20:30Z,"sorry, i don't understand your point. i thought that it would be sufficient just add the option and in case of `--skip-dialog=false` and any of the new options set just abort and show that this combination of options is not yet implemented.",-1,0.9819019436836243
112802403,5532,glassez,2017-04-22T04:23:14Z,"this param won't affect if we add magnet, isn't it?",0,0.9934705495834351
112802452,5532,glassez,2017-04-22T04:28:18Z,"use tristatebool for skipdialog is a really good idea. and, of course, we should implement overriding of addnewtorrentdialog initial values (imo, it should be done before these changes go to release).",1,0.9832000732421875
112803541,5532,briankendall,2017-04-22T05:54:44Z,well being that i have a hard time implementing features that aren't quite finished or don't quite do *the right thing* i went ahead and modified `addnewtorrentdialog` so that it works with my new command line options.,0,0.9644839763641357
112804166,5532,briankendall,2017-04-22T06:47:54Z,"you're right, it doesn't have an effect in that case. i'm not sure why, but the issue seems to be somewhere within `bittorrent::session::addtorrent()` and/or everything it calls into. i don't think i'm the right person to debug this one.",0,0.8418406844139099
112804181,5532,briankendall,2017-04-22T06:50:13Z,"it was for a redundant ""start torrent"" checkbox. it seemed to be the result of a copy/paste mistake someone made. it's not referenced anywhere in the code, and it obscured the real ""start torrent"" checkbox, causing bugs.",0,0.9568942785263062
112804892,5532,glassez,2017-04-22T07:45:32Z,it's not a bug. we can't prioritize something since we haven't any torrent metadata in case we add it using magnet link. we can do it deferred when metadata has to be loaded. please put todo comment near corresponding addtorrentparams member.,0,0.9906919598579407
112841007,5532,briankendall,2017-04-23T18:21:57Z,"ok. adding a magnet link / torrent url does work with the ""download in sequential order"" feature. i'll see if i can't figure out how to get it to work with ""first and last piece priority"" and failing that i'll add the todo.",0,0.9866231083869934
112863429,5532,glassez,2017-04-24T04:24:14Z,you forgot `const`.,0,0.986500084400177
112901575,5532,glassez,2017-04-24T09:29:50Z,this is not enough. you also need store it in torrent resume data as we do for addforced/addpaused (only if it is true). user can close qbittorrent when metadata isn't loaded.,0,0.9932534098625183
112903705,5532,glassez,2017-04-24T09:40:50Z,"imo, `m_hasfirstlastpiecepriority` is better name. user can change it at any time so you should change this field in `setfirstlastpiecepriority()` unconditionally (before return).",0,0.9914189577102661
112904089,5532,glassez,2017-04-24T09:42:48Z,"else ? i mean, if undefined",0,0.9882264733314514
112904212,5532,glassez,2017-04-24T09:43:21Z,duplicate line.,0,0.9133452773094177
112904293,5532,glassez,2017-04-24T09:43:45Z,`createsubfolder` is tristatebool now.,0,0.994903564453125
112904505,5532,glassez,2017-04-24T09:44:52Z,forward declare addtorrentparams instead of this line.,0,0.9942721128463745
112904645,5532,glassez,2017-04-24T09:45:33Z,`qwidget *parent = 0` like in next `show()`.,0,0.9941971302032471
112904844,5532,glassez,2017-04-24T09:46:36Z,we use `m_` prefix for all private fields.,0,0.9949860572814941
112905061,5532,glassez,2017-04-24T09:47:43Z,`tristatebool skiptorrentdialog;` is enough since undefined is default value for tristatebool.,0,0.9934886693954468
112906823,5532,glassez,2017-04-24T09:56:35Z,don't abuse with `continue`! replace it with `if - else if`.,0,0.9631568789482117
112908406,5532,glassez,2017-04-24T10:04:10Z,it's better to split lines according to subexpressions: [code block],0,0.9926620721817017
112908675,5532,glassez,2017-04-24T10:05:40Z,why it's here? it's unused at this file.,0,0.9892288446426392
112908821,5532,glassez,2017-04-24T10:06:33Z,`const` is static by default so you can omit `static` keyword in these lines.,0,0.993945300579071
112921920,5532,zeule,2017-04-24T11:26:12Z,"imo, it i much easier to read this kind of looping with `continue`. what's wrong with it from your point of view?",0,0.7983922362327576
112922223,5532,zeule,2017-04-24T11:28:06Z,there is an unnamed namespace right below. these constants would fit there perfectly.,0,0.9947813153266907
112922831,5532,zeule,2017-04-24T11:31:57Z,"`const bool`, please.",0,0.9872391819953918
112923124,5532,zeule,2017-04-24T11:33:43Z,why do you need the named variable?,0,0.9920032024383545
112923371,5532,zeule,2017-04-24T11:35:20Z,this can be moved after the `if` and you can remove lines 436-437 then: [code block],0,0.9960336089134216
112923997,5532,zeule,2017-04-24T11:39:29Z,"ah, you just borrowed this piece from the code below...",0,0.9933859705924988
112924431,5532,zeule,2017-04-24T11:42:09Z,"if there is a member, it has to be initialised in the constructor, but not in `show()` function.",0,0.9931344985961914
112924775,5532,zeule,2017-04-24T11:44:03Z,"and what if the category is absent? say, user mistype it in the command line? i would prefer a program that tells me about that. but here is a bad time to check that, although i did not find the check elsewhere.",0,0.5395345687866211
112925382,5532,zeule,2017-04-24T11:48:05Z,please no. unparented dialogue windows are showed on the first screen always in plasma and maybe in any x session regardless of the main window position.,0,0.8376917243003845
112927673,5532,glassez,2017-04-24T12:02:50Z,i suggested this to preserve signature similarity. then remove it from next `show()` too.,0,0.9951122403144836
112929331,5532,glassez,2017-04-24T12:12:49Z,"it's not only my point of view. the normal continuation/completion of the loop should be described in the appropriate place (as loop condition). `break` and `continue` instructions are for non-standard/emergency interruption of the loop (or loop iteration). or, in exceptional cases, to avoid too much code (when other methods do not help or are ineffective). i don't think that in the case of the use of `else if` this code will become less readable. besides, it will become three times shorter!",0,0.9267587661743164
112939216,5532,zeule,2017-04-24T13:02:41Z,"nonsense, `break` and `continue` are different in this sense: `continue` has nothing to do with loop condition.",0,0.9813162088394165
112942599,5532,glassez,2017-04-24T13:17:19Z,"of course. i just said that `break` breaks loop, and `continue` breaks current loop iteration. i don't insist on changing this.",0,0.9487444758415222
112944492,5532,zeule,2017-04-24T13:25:13Z,you are saying this as if everybody likes to read a loop body to the end to check whether there is anything after a sheet of `if`s.,0,0.910464346408844
112946990,5532,glassez,2017-04-24T13:35:42Z,"since it consists only of these same blocks, i do not insist on the change. in another case it could be otherwise...",0,0.9888153672218323
112952522,5532,briankendall,2017-04-24T13:58:41Z,"if it's `undefined` then we leave the checkbox as is, since we fall back on the application setting. so nothing to do in that case, hence no `else` clause.",0,0.99142986536026
112956146,5532,briankendall,2017-04-24T14:12:52Z,"i was trying to avoid using that flag as the canonical indicator as to whether a torrent has first/last piece priority set, since then we need to worry about it going out of sync with the actual state of the torrent. (note that the current implementation of `hasfirstlastpiecepriority()` doesn't use such a flag but instead checks if the first and last pieces actually have the correct priority set, so there's nothing to get out of sync.) however, if we need to store it in the resume data i do believe we'll need to use a flag that way. also, we need to be careful about setting the flag unconditionally, because we don't want the torrent to have first/last priority if it doesn't contain any media files that support it. so i'll maintain that behavior in how `m_hasfirstlastpiecepriority` is set.",0,0.9839322566986084
112956668,5532,glassez,2017-04-24T14:14:46Z,"you probably want to tell me: dude, look at another place where i set some value for this. i answer: it must be concentrated in one place.",0,0.9468042254447937
112957566,5532,glassez,2017-04-24T14:18:28Z,"you need to place all this logic here and modify constructor to accept addtorrentparams as parameter, then call this function from it.",0,0.9937940835952759
112977903,5532,briankendall,2017-04-24T15:27:42Z,"sequential download also needs to be saved with the resume data, so i'll fix that too.",0,0.9944709539413452
112979293,5532,briankendall,2017-04-24T15:32:23Z,i'll keep as is. i agree with in this case that it is more readable with `continue`.,0,0.982161819934845
112979672,5532,briankendall,2017-04-24T15:33:46Z,accidentally left it in from a previous (now squashed) commit,0,0.7835551500320435
112980912,5532,briankendall,2017-04-24T15:38:02Z,"i like being explicit in the intent of a line of code, and using the named variable makes it more clear what i'm doing in this version of `addnewtorrentdialog::show`. however i can see how it's being more explicit than is strictly necessary so i will remove the variable.",0,0.8760669231414795
112983465,5532,zeule,2017-04-24T15:47:54Z,i'm pretty sure in that case the current fragment would evolve into a function containing only this switch-like structure.,0,0.9736319184303284
112986245,5532,briankendall,2017-04-24T15:58:17Z,"i thought the reasonable behavior in this case is for it to create a new category. note that the user can type in any category they want into `categorycombobox` and if it doesn't exist, qbittorrent will create it. so the command line argument should behave the same way as providing a value for the combo box. this means it's the responsibility of the user to get the category name right, but that's always been the case.",0,0.9819029569625854
112988220,5532,briankendall,2017-04-24T16:05:47Z,not possible due to `addnewtorrentdialog` having a member variable of type `bittorrent::addtorrentparams`.,0,0.9896032214164734
112988495,5532,zeule,2017-04-24T16:06:56Z,"i don't think this relation is correct now. in the gui user actions are explicit, they know that the new category is created, but here this is done implicitly. to make these two cases equivalent, we should add to the command line help a note that category will be created if it does not exist.",0,0.9524039030075073
112989992,5532,zeule,2017-04-24T16:13:13Z,we should probably refactor `addtorrentparams` into its own file...,0,0.9936907291412354
113002220,5532,zeule,2017-04-24T17:06:12Z,torrents → files,0,0.9881114959716797
113024590,5532,glassez,2017-04-24T18:40:43Z,"or we can just get rid of this member. in fact we don't need it at all. we just use a parameter of this type to initialize the dialog, and then just create the object of this type for passing to the session. why we need to store it?",0,0.9903057813644409
113041666,5532,briankendall,2017-04-24T19:59:53Z,"well, we do need it, or something like it. not every option in `bittorrent::addtorrentparams` is represented by ui in `addnewtorrentdialog`. in particular, `firstlastpiecepriority` and `sequential`, both of which can be specified from the command line, do not have options in the dialog. but we still want them to be enabled if the user adds the torrent from the command line and specifies them using `--first-and-last` or `--sequential`, regardless of whether the dialog is invoked or not. i opted to have `bittorrent::addtorrentparams` be a member variable because that was the safest way to ensure every option it specifies gets used when the torrent is actually added when `bittorrent::session::instance()->addtorrent()` is called by `accept()`. this is particularly relevant in case someone adds more fields to `bittorrent::addtorrentparams`, because those will be respected too -- it gives us a degree of future proofing and is less error prone. that said, it is true that currently the only options we care about passing through the dialog *right now* that don't have a control in its ui are `firstlastpiecepriority` and `sequential`. in order to eliminate `m_torrentparams` we could add boolean member variables to `addnewtorrentdialog` that just store those values, and then construct a new `bittorrent::addtorrentparams` in the `accept()` method. however if the only reason to eliminate `m_torrentparams` is to remove an `#include` from the header file, i don't think it's a net win given that keeping it around has the benefits i listed above. but i'm not wedded to either approach. if you want me to eliminate `m_torrentparams` i'll do it.",0,0.9906800389289856
113131853,5532,glassez,2017-04-25T08:18:15Z,+1,0,0.9816582202911377
113132212,5532,glassez,2017-04-25T08:20:14Z,maybe later.,0,0.9619131684303284
113132786,5532,glassez,2017-04-25T08:23:24Z,why did you break it? please revert it. and don't change unrelated things (at least without announcing)!,0,0.9224497675895691
113141732,5532,glassez,2017-04-25T09:05:08Z,it has done in torrenthandle constructor.,0,0.9944820404052734
113141789,5532,glassez,2017-04-25T09:05:22Z,it has done in torrenthandle constructor.,0,0.9944820404052734
113145523,5532,glassez,2017-04-25T09:23:25Z,how about se,0,0.9900457262992859
113147117,5532,glassez,2017-04-25T09:30:26Z,"it becomes incorrect when the user changes the priorities in a different way. why did you change it, you're not going to do it? so you're never going to finish this pr.",0,0.7317288517951965
113147319,5532,glassez,2017-04-25T09:31:25Z,how about sequential here?,0,0.9927728772163391
113202796,5532,briankendall,2017-04-25T14:01:26Z,"what other way? the only way i'm aware of for these specific priorities to be set is to use the `setfirstlastpiecepriority` function. also, this was discussed earlier. i had originally introduced a member variable called `m_needstosetfirstlastpiecepriority` to handle when a torrent is added with the `firstlastpiecepriority` option before it has downloaded its metadata, but i was asked to change it to `m_hasfirstlastpiecepriority`. that means that new flag is the canonical indicator as to whether a torrent has this option set, and it's no longer valid to check the actual priority of the pieces because it could be set before the torrent's metadata is available. what would you suggest i do otherwise?",0,0.9880282878875732
113203003,5532,briankendall,2017-04-25T14:02:09Z,not necessary. we can set sequential downloading on a torrent before we have its metadata. not so for first / last piece priority.,0,0.9925518035888672
113203283,5532,briankendall,2017-04-25T14:03:07Z,"this is strange, and i'm not sure how i made that edit. sorry! i've corrected it.",-1,0.995970606803894
113206845,5532,zeule,2017-04-25T14:16:32Z,"any manipulation with file priorities resets first-last priority mode, afaik. that is why the mode is tracked via piece priorities but not via a flag.",0,0.9915022850036621
113206983,5532,briankendall,2017-04-25T14:17:09Z,"ah i see, the resume data sets it as well. i don't think it makes sense for us to have this flag. i think my earlier approach of using `m_needstosetfirstlastpiecepriority` was better.",0,0.9846383929252625
113211522,5532,zeule,2017-04-25T14:32:32Z,"oh, no, pardon me: my information is outdated.",-1,0.7663607597351074
113223003,5532,glassez,2017-04-25T15:10:32Z,then we really should place addtorrentparams in its own header.,0,0.9914074540138245
113225590,5532,glassez,2017-04-25T15:18:38Z,what do you mean? this isn't true?,0,0.9231420755386353
113226094,5532,glassez,2017-04-25T15:20:11Z,then don't store it in resume data.,0,0.9842430353164673
113227041,5532,zeule,2017-04-25T15:23:22Z,"you decoupled firs-last mode from sequential mode in 67e90d8d, but setting file priorities still reset piece priorities, right?",0,0.9889301657676697
113228456,5532,glassez,2017-04-25T15:27:47Z,"afaik, yes!",1,0.7780186533927917
113230129,5532,glassez,2017-04-25T15:33:28Z,"you was asked to change field name only. let it be. otherwise this changes will never be released. ? imo, we should omit changing internals here.",0,0.9267656207084656
113232980,5532,zeule,2017-04-25T15:43:24Z,"but how to resume this mode then? frankly speaking, i lost both of you in this discussion couple of iterations ago. imo, the implementation has to be simple: - add a member flag to `torrenthandle`: `bool m_needapplyfirstlastprioritymode;` - in `torrenthandle::setfirstlastpiecepriority()` if there are no metadata, set this flag, otherwise proceed as usual and reset the flag; - in `torrenthandle::handlemetadatareceivedalert()` check the flag: call `setfirstlastpiecepriority(true);` when it is set. - save the flag to resume data ~(probably only if it is set)~. update: the flag has to be serialised always, of course, otherwise we would read it as set from the resume file always.",0,0.9496181011199951
113236480,5532,zeule,2017-04-25T15:55:41Z,see my comment below: [a link],0,0.9950523972511292
113243335,5532,briankendall,2017-04-25T16:21:29Z,"i see that now. i'm very used to variable names being inextricably linked to their purpose. i do think that i need to reverse this change as it's introduced new bugs, and go back to the method outlined. sorry about that -- i swear i'm not trying to make extra work for all of you! i very much want to see this pr completed.",-1,0.9916911125183105
113244516,5532,zeule,2017-04-25T16:26:18Z,me too.,0,0.9760367274284363
113249465,5532,glassez,2017-04-25T16:46:13Z,i agree. this was done almost the same until the author decided to get into the inside. disagree. we should write this flag to resume data only if torrent hasn't metadata (as we do for addpaused/addforced).,0,0.9553515911102295
113253275,5532,briankendall,2017-04-25T17:01:53Z,"i discovered that, similar to first/last piece priority, if a magnet link is added with sequential download but qbittorrent quits before its metadata is retrieved, then `sequential` is not saved. so i added some code to save `sequential` in the resume data when a torrent's metadata isn't retrieved yet to fix the bug.",0,0.9912569522857666
113257289,5532,glassez,2017-04-25T17:19:28Z,ok. then we need appropriate comment. otherwise someone may break it.,0,0.9781315922737122
113268347,5532,zeule,2017-04-25T18:04:07Z,can not find where is it used.,0,0.8379366993904114
113270742,5532,zeule,2017-04-25T18:14:11Z,quite a strange replacement.,-1,0.8975322842597961
113271406,5532,zeule,2017-04-25T18:16:54Z,default value for parent does not make sense when the corresponding default gets removed from `show()`.,0,0.951263964176178
113273897,5532,briankendall,2017-04-25T18:27:21Z,an artifact of an older version of the function. will remove.,0,0.9845476746559143
113274622,5532,briankendall,2017-04-25T18:30:14Z,"not technically a replacement. the code for setting `ui->createsubfoldercheckbox` is higher up in the function now so that it is grouped with similarly structured code for setting `ui->starttorrentcheckbox`, and `ui->skipcheckingcheckbox` is an addition now that `bittorrent::addtorrentparams` is a parameter the constructor. i do agree with you that this would be much easier to follow if commits weren't being squashed. let me know if you don't want me to do that any longer.",0,0.9894752502441406
114047881,5532,Chocobo1,2017-04-29T07:18:43Z,no need of `qstring()` here.,0,0.9934404492378235
114047884,5532,Chocobo1,2017-04-29T07:18:49Z,no need of `qstring()` here.,0,0.9934404492378235
114048031,5532,Chocobo1,2017-04-29T07:22:19Z,"if it's not critical, please remove `inline`, i prefer to trust the compiler decision.",0,0.9862887859344482
114048040,5532,Chocobo1,2017-04-29T07:22:53Z,no need of `qstring()` here and below.,0,0.9942843317985535
114048136,5532,Chocobo1,2017-04-29T07:28:34Z,"minor thing, you can remove the curly braces here if you want.",0,0.985005795955658
114048369,5532,Chocobo1,2017-04-29T07:47:17Z,"this is causing some padding bytes in the struct. if you want to fix it (as this is not directly related to this pr), you can follow the style in `gui/advancedsettings.h`.",0,0.9942291975021362
114055917,5532,zeule,2017-04-29T15:42:31Z,now it does not make any sense since addtorrentparams class is in `base/bittorrent/addtorrentparams.h`,0,0.987184464931488
114055946,5532,zeule,2017-04-29T15:44:08Z,"if you don't mind to spare another couple of minutes, please change this now to [code block]",0,0.9938247203826904
114058951,5532,briankendall,2017-04-29T18:23:33Z,"i'll make this change in a little while when i'm free, but i'm curious: what's the advantage of using qlatin1string instead of a string literal? does it make any difference when you're just dealing with ascii characters?",0,0.9596213698387146
114059185,5532,zeule,2017-04-29T18:34:00Z,"thanks you! apart from indicating for a reader an untranslatable string literal, it also gives a hint to qstring that conversion to unicode 16 has to be done from latin-1 but not from utf-8, which is more efficient.",1,0.9881176352500916
114077463,5532,sledgehammer999,2017-04-30T15:06:41Z,typo. `there're` or `there are`,0,0.9930269122123718
114077537,5532,zeule,2017-04-30T15:11:20Z,: you forgot to add `qlatin1string` here.,0,0.9921472668647766
114077729,5532,briankendall,2017-04-30T15:19:54Z,got it,1,0.9044701457023621
114077767,5532,sledgehammer999,2017-04-30T15:21:04Z,"imo, initial comment is right. i don't understand why `--add-paused` and `--skip-dialog` need an explicit value. their verb indicates ""pause"" or ""skip"" in the absence of value.",0,0.9722598195075989
114079322,5532,sledgehammer999,2017-04-30T16:39:07Z,typos: 1. `quits` 2. `are retrieved`,0,0.9939858913421631
114079345,5532,sledgehammer999,2017-04-30T16:40:53Z,curly braces aren't needed in these 3 if-blocks,0,0.9882561564445496
114079448,5532,sledgehammer999,2017-04-30T16:46:53Z,curly braces aren't needed in these 3 if-blocks,0,0.9882561564445496
114079480,5532,sledgehammer999,2017-04-30T16:48:55Z,i think the check should be: [code block] it is more clear that way.,0,0.9838994741439819
114079866,5532,sledgehammer999,2017-04-30T17:11:29Z,does anyone know why we don't print this on windows? it seems like a mistake.,0,0.738113284111023
114080689,5532,sledgehammer999,2017-04-30T17:57:26Z,`metadata` should be treated the same as `data`. they are in plural. and i like my oldschool (and correct) english! 1. [a link] 2. [a link],1,0.9929377436637878
114080744,5532,briankendall,2017-04-30T18:00:32Z,i agree!,0,0.7651346325874329
114080809,5532,briankendall,2017-04-30T18:04:17Z,"i didn't write the original version of that line, so i don't know. from my perspective i don't see any reason not to include it in windows, though. if you'd like me to remove the `#ifndef q_os_win` i can do that.",0,0.974249541759491
114080850,5532,briankendall,2017-04-30T18:06:32Z,"i'm generally a descriptivist when it comes to language and i think at this point ""data"" and ""metadata"" can both be used as singular words as it's undeniably become a common usage. but regardless i'll make the change.",0,0.9118762612342834
114081051,5532,zeule,2017-04-30T18:17:11Z,a datum? is it not used nova days?,0,0.9888591766357422
114081080,5532,sledgehammer999,2017-04-30T18:19:05Z,"if it isn't too much trouble for you, please do.",0,0.793951690196991
114081095,5532,briankendall,2017-04-30T18:19:50Z,"what about cases where qbittorrent's application-wide settings are configured to a) add torrents paused by default or b) skip the dialog by default? there should be a way to override the application settings from the command line and force adding a torrent in a started state or force showing the ""add new torrent"" dialog, hence the ability to specify `--add-paused=false` or `--skip-dialog=false`. we eventually settled on having a tri-state bool command line option since it seemed like the best solution, especially since the options for whether a new torrent should be started or paused are mutually exclusive.",0,0.988544762134552
114081155,5532,sledgehammer999,2017-04-30T18:23:44Z,"maybe i have misunderstood the code or my comment was incomplete. why isn't it possible for user to use `--add-paused`, `--add-paused=true`, `--add-paused=false`? in this case the omission of a value should be equal to `true`. and if the user doesn't use the command switch the application wide setting should apply.",0,0.9311989545822144
114081231,5532,briankendall,2017-04-30T18:28:11Z,"oh, i see what you're getting at. you're correct, we could make it legal to omit a value, and have it default to what the option's name implies. i could implement that by adding an additional argument to the constructor of `tristatebooloption` that specifies what it defaults to without a value and then change it to not throw an error and use that value when no argument is specified.",0,0.966925323009491
114081326,5532,briankendall,2017-04-30T18:32:46Z,"that said, i don't think it's the end of the world to require a value, and i am keen to see this pr completed! changing `tristatebooloption` option to work that way isn't a trivial amount of work.",1,0.8991795778274536
114082208,5532,sledgehammer999,2017-04-30T19:23:54Z,"okay, i'll merge it then. i'll try to make the change myself today. if you see nothing by tomorrow, feel free to open a followup pr.",0,0.9818990230560303
111361333,6627,zeule,2017-04-13T10:51:05Z,"according to the destructor code below, the class owns `lockfile` object. why don't you say this in the signature? or make this constructor private.",0,0.9943199157714844
111362196,6627,zeule,2017-04-13T10:56:31Z,would swap this line and the next one.,0,0.989897608757019
111363296,6627,zeule,2017-04-13T11:04:45Z,and where is locking itself?,0,0.9894658327102661
111365172,6627,zeule,2017-04-13T11:17:29Z,"and if file operation fails later on, then what?",0,0.9769688248634338
111366129,6627,zeule,2017-04-13T11:24:05Z,why so many new files have underscore in names?,0,0.9736822843551636
111366416,6627,zeule,2017-04-13T11:25:55Z,registration function seems to be called more than once. is it needed?,0,0.9926522374153137
111366725,6627,zeule,2017-04-13T11:27:38Z,you schedule parsing job for the main thread? why?,0,0.9939378499984741
111368997,6627,zeule,2017-04-13T11:43:44Z,why not a constructor?,0,0.9852042198181152
111369573,6627,zeule,2017-04-13T11:47:44Z,"cosmetic: as of time of writing there are 27 log messages with ""could not"" and 17 with ""couldn't"". could we choose a single style?",0,0.9892452955245972
111370651,6627,zeule,2017-04-13T11:55:28Z,the following piece is partially shared with `autodownloader::setprocessingenabled(bool enabled)`. wouldn't it be nicer to refactor the common code into a function?,0,0.9927841424942017
111370888,6627,zeule,2017-04-13T11:57:03Z,`setrule()` does extend a collection? quite confusing!,-1,0.8874167799949646
111371264,6627,zeule,2017-04-13T11:59:14Z,would swap this line and the next one.,0,0.989897608757019
111371300,6627,zeule,2017-04-13T11:59:27Z,same here.,0,0.9916109442710876
111371452,6627,zeule,2017-04-13T12:00:26Z,wounded comment :),-1,0.9806380271911621
111372614,6627,zeule,2017-04-13T12:07:43Z,"consider iterators or `std::hash` to avoid unnecessary look-ups. or, better, forget already about q containers...",0,0.9930077791213989
111372655,6627,zeule,2017-04-13T12:08:00Z,?,0,0.9296892285346985
111372855,6627,zeule,2017-04-13T12:08:59Z,which -> that,0,0.9765888452529907
111373164,6627,zeule,2017-04-13T12:10:19Z,consider [code block],0,0.9918330907821655
111373628,6627,zeule,2017-04-13T12:13:07Z,"consider renaming `rulesfile` into `rulesfilename`, because now this line looks confusing.",0,0.8470986485481262
111373731,6627,zeule,2017-04-13T12:13:38Z,redundant call.,-1,0.906933605670929
111374452,6627,zeule,2017-04-13T12:18:01Z,such a strange lone change! where is the code that requires this include?,-1,0.9892160892486572
111374901,6627,zeule,2017-04-13T12:20:53Z,uhm... a simple short class depends on json object? are you sure?,0,0.989307701587677
111375207,6627,zeule,2017-04-13T12:22:35Z,"""undefined"" is not semantically equal to ""incorrect"" , but you seems to use ""undefined"" in this way. all in all, i'm against this operator because there is no real conversion between a json value and bool value and it is illogical to pretend the other way.",-1,0.8014312982559204
111375698,6627,zeule,2017-04-13T12:25:13Z,what was wrong with constants?,0,0.7998784184455872
111376090,6627,zeule,2017-04-13T12:27:49Z,the variable name matches nor its value nor usage. `isurlscheme`?,0,0.9949606657028198
111376942,6627,zeule,2017-04-13T12:32:32Z,"this is not a fdo correct icon name. the only one that can be use here and be consistent with fdo scheme is `application-rss+xml` afaik. so, suggest the following change: [code block]",0,0.9936593174934387
111395425,6627,Chocobo1,2017-04-13T13:56:42Z,please explain what about using `m_lockfile->setparent(this);`?,0,0.9955543875694275
111397992,6627,zeule,2017-04-13T14:07:40Z,"the standard way in c++ to say that a function takes ownership of an object, passed by pointer, is to take it as `std::unique_ptr `.",0,0.9928035140037537
111406488,6627,Chocobo1,2017-04-13T14:43:23Z,if you are concerned about performance you might want to use `qregularexpression` instead of making it `static`.,0,0.991515040397644
111411394,6627,Chocobo1,2017-04-13T15:03:17Z,"wanna ask, is this class serves the same purpose as `boost::optional `? ps. `boost::optional` is header only pps. c++17 has `std::optional`",0,0.9928194880485535
111413802,6627,Chocobo1,2017-04-13T15:12:46Z,just looked up `qstringliteral`. from [a link],0,0.9946377873420715
111414487,6627,Chocobo1,2017-04-13T15:15:44Z,would you want to use `qlockfile` ?,0,0.9941213726997375
111414568,6627,zeule,2017-04-13T15:16:03Z,or there is `experimental/optional`. don't know what compilers have this file.,0,0.9870703220367432
111415301,6627,Chocobo1,2017-04-13T15:19:20Z,"you mean using the counterparts in std lib right? is there a catch doing so? if none, i'm all for it.",0,0.8820751905441284
111415581,6627,thalieht,2017-04-13T15:20:31Z,one line up.,0,0.9759528040885925
111421609,6627,Chocobo1,2017-04-13T15:46:06Z,"not sure i understand thoroughly, i see `mutex.lock()` everywhere, why not: [code block] and no more locking after that.",0,0.7930670976638794
111425864,6627,thalieht,2017-04-13T16:04:27Z,something's wrong with the spacing.,-1,0.8927710652351379
111425995,6627,thalieht,2017-04-13T16:05:07Z,i don't think visibled is a word. maybe you meant visible.,0,0.9454405903816223
111426075,6627,thalieht,2017-04-13T16:05:32Z,in `parser::parserssarticle` you change `link` to `tmp` but not here.,0,0.9901367425918579
111434677,6627,glassez,2017-04-13T16:46:28Z,maybe i just chose the wrong name? this is not ipc lockfile. here i used the same approach as in bittorrent::session before. it's just a way to block certain folder from deletion while program run.,0,0.9407833814620972
111434927,6627,glassez,2017-04-13T16:47:39Z,see my comment below.,0,0.9938241243362427
111435540,6627,glassez,2017-04-13T16:50:37Z,it's private.,0,0.9843504428863525
111435903,6627,glassez,2017-04-13T16:52:20Z,"afaik, qfile isn't qobject.",0,0.9801850318908691
111445711,6627,Chocobo1,2017-04-13T17:40:39Z,but it is... [a link],0,0.9933239817619324
111445824,6627,zeule,2017-04-13T17:41:10Z,"indeed, pardon me. my next question: why do you need that `create()` function when you throw an exception if returned object is `nullptr`?",0,0.9404225945472717
111445873,6627,glassez,2017-04-13T17:41:24Z,"in addition to the asynchronous files write another optimization of this class is the following: when someone tries to write the same file (of course with amended contents) repeatedly in a time when a thread is busy (writing another file), only its latest version will be writte. in other words, if we add the job in the queue for file we already have an existing job, we replaced it. so your proposal is not appropriate here.",0,0.9921104311943054
111447318,6627,glassez,2017-04-13T17:48:29Z,oops... apparently i was too sleepy when i wrote these lines of code. but i think in this case it is not so important to do `m_lockfile->setparent(this);` or `delete m_lockfile`.,-1,0.9361011981964111
111447392,6627,zeule,2017-04-13T17:48:52Z,"aha, this makes better sense then. but it will not work in the unix world. you have to set immutable flag on the file. example: [a link]",1,0.8754490613937378
111448550,6627,glassez,2017-04-13T17:54:09Z,"i do it (break program run) at a higher level. it's too simple (utility) class to do this. it should have a wider scope (for example, somewhere we may need to select a different folder, if we can't ""block"" some one).",0,0.9759017825126648
111449845,6627,glassez,2017-04-13T17:59:50Z,"we can delete folder with opened for writing files on unix? damn, how to live with it? and what happens with this file from the point of view of the writing process?",-1,0.8399363160133362
111451174,6627,glassez,2017-04-13T18:06:12Z,fixed.,0,0.9905837774276733
111451445,6627,glassez,2017-04-13T18:07:30Z,asyncfilestorage emit `failed` signal.,0,0.9840113520622253
111451713,6627,zeule,2017-04-13T18:08:49Z,very conveniently. this is the same type of possibility as overwriting running executable. nothing. it continues to exist until closing.,0,0.9798212051391602
111452559,6627,glassez,2017-04-13T18:12:42Z,"to separate an additional prefix from the base name of the file (which usually matches the name of the class). should i remind you why we use these additional prefixes for files in subdirectories of the project? since we can have the same file names in different subfolders, it can lead to conflict when you build using qmake (because it builds everything in one folder).",0,0.9923203587532043
111453224,6627,glassez,2017-04-13T18:16:08Z,"i just didn't want to do it in some external class. admittedly, it's not the best solution. best to fix it. tell me please the best way. maybe some static initializer?",-1,0.7855227589607239
111454006,6627,glassez,2017-04-13T18:19:50Z,why for the main thread? queued slots are called in thread of its object. in case the parser is in another thread it will be called there. now we use parsers in another thread (`session::workingthread()`).,0,0.987786054611206
111454258,6627,glassez,2017-04-13T18:21:03Z,"we can't create a valid object, if we do not get access to the folder.",0,0.9864071011543274
111454555,6627,glassez,2017-04-13T18:22:25Z,a question of the project level. we mix it everywhere.,0,0.9793354868888855
111455108,6627,zeule,2017-04-13T18:25:11Z,"thanks, the reminder was needed.",1,0.6860799789428711
111455270,6627,zeule,2017-04-13T18:25:58Z,"yes, i would go with a static initialiser.",0,0.9920096397399902
111455320,6627,glassez,2017-04-13T18:26:12Z,ok. done.,0,0.9630922675132751
111455522,6627,zeule,2017-04-13T18:27:07Z,"ah, qt's thread magic... good.",1,0.9852628707885742
111455627,6627,zeule,2017-04-13T18:27:35Z,so `thow`then. why not?,0,0.9918022751808167
111456511,6627,zeule,2017-04-13T18:31:24Z,"but this is exactly the point why use exceptions! they pass error information to the level where it can be adequately processed, and if this processing is just logging or re-throwing.",0,0.9815762042999268
111457839,6627,zeule,2017-04-13T18:37:14Z,but i meant that you removed the object from `m_jobs`. and it was not serialised.,0,0.9930433034896851
111460947,6627,glassez,2017-04-13T18:50:28Z,"in the general case, yes. but how can you be here? to replace this with `addrule()` - `changerule()`? this will lead to a lot of checks (e.g., adding a rule with a used name, changing the rule, which is still missing).",0,0.9937030673027039
111532456,6627,glassez,2017-04-14T05:50:15Z,"maybe i'm behind the times (because i'm just hobbyist), but two equivalent approach existed previously: the use of exceptions or the function return codes/results. it was a matter of taste which to use. i never liked exceptions. if you have no objective arguments, then let it remain as it is.",0,0.5642920136451721
111532703,6627,glassez,2017-04-14T05:54:38Z,the write fails only in exceptional situations. i don't think we need this data after. the caller decides what to do in case of failure.,0,0.9884767532348633
111561064,6627,zeule,2017-04-14T11:01:46Z,"i, of course, disagree with you :) they are not equivalent and never were: exception handles... well, an exceptional case, clearly separating in the code a regular branch and the case of an error. i hope some time you agree with this vision. in any case, i do not insists on replacing this function with constructor + exception.",1,0.9805450439453125
111561290,6627,zeule,2017-04-14T11:04:55Z,"my question is as follows: it is very easy to provide here the strong guarantee, and why don't you do that? use cases might include network attached drives.",0,0.9889346957206726
111572451,6627,glassez,2017-04-14T13:20:36Z,"i dare say that you're probably wrong. once in the professional environment there is no consensus on this matter, it is impossible to objectively recognize one of these approaches is undoubtedly the best.",-1,0.5538353323936462
111577779,6627,glassez,2017-04-14T14:09:03Z,what do you mean exactly? should we re-add job into queue if it fails? how many times do we have to try to repeat it in case of failure?,0,0.9906858801841736
111578693,6627,glassez,2017-04-14T14:16:13Z,"what? if you confusing with commented lines here i do a some optimization (see below), but i leave old code commented here to undo my changes if it is not approved.",0,0.9825376868247986
111579397,6627,glassez,2017-04-14T14:21:39Z,"i'll just change it with `foreach` by value. please, no start holy war here!",-1,0.9903160929679871
111580114,6627,glassez,2017-04-14T14:26:25Z,"i forgot to remove it after some testing. by the way, if you're interested, i found one unpleasant thing in qsettings (apparently it refers to ini format).",0,0.5736042857170105
111580967,6627,glassez,2017-04-14T14:32:50Z,"we have constants now but in another way. the old approach had problems with comparison operators. what do you think, will it be better to use `boost::optional ` instead?",0,0.990156888961792
111581911,6627,glassez,2017-04-14T14:39:28Z,"i just made it to be `static const` since it is unchangeable inside method and between its calls. this is a simple change (like changing the case of characters in a variable name). i don't want to be distracted by outside things in this big pr. so if something is wrong with it, i'll just take it as it was.",0,0.8986990451812744
111582276,6627,glassez,2017-04-14T14:41:36Z,"we already have `application-rss+xml` icon, but it isn't i need. it has different color with other options dialog icons. what i can do in this case?",0,0.9758948683738708
111582697,6627,glassez,2017-04-14T14:44:25Z,ok. i'll turn them into static constants.,0,0.9927279949188232
111582886,6627,glassez,2017-04-14T14:45:38Z,reverted there.,0,0.9824735522270203
111618629,6627,glassez,2017-04-14T18:48:43Z,"i don't understand it now. i mean, i can write to a file which no longer exists on disk? okay, have to fill in the gaps in my knowledge of unix. in any case, i'm incompetent to do anything more advanced with this, so i'll leave it as is. maybe later someone will come up with a reliable way to solve this...",-1,0.9750531911849976
111620024,6627,glassez,2017-04-14T18:58:28Z,done.,0,0.9897913336753845
111620230,6627,glassez,2017-04-14T18:59:59Z,done.,0,0.9897913336753845
111620251,6627,glassez,2017-04-14T19:00:08Z,done.,0,0.9897913336753845
111620391,6627,glassez,2017-04-14T19:01:19Z,fixed.,0,0.9905837774276733
111621983,6627,glassez,2017-04-14T19:14:03Z,"no, will not work. after all, i need links to the rules... will use c++11 `for`.",0,0.9465551972389221
111622054,6627,glassez,2017-04-14T19:14:43Z,fixed.,0,0.9905837774276733
111622205,6627,glassez,2017-04-14T19:16:00Z,fixed.,0,0.9905837774276733
111622337,6627,glassez,2017-04-14T19:17:08Z,ok. removed.,0,0.9720274806022644
111622476,6627,glassez,2017-04-14T19:18:10Z,remove it here.,0,0.991508960723877
111622838,6627,glassez,2017-04-14T19:20:59Z,but i need to store tristatebool in json and i also need failsafe conversion from qjsonvalue. moved it from here to another place.,0,0.9947571754455566
111650276,6627,thalieht,2017-04-14T23:38:14Z,you forgot to change these names along the filename change. also i noticed you use `#pragma once` in half the header files but include guards in the other half.,0,0.9929929971694946
111658378,6627,glassez,2017-04-15T04:34:06Z,"will be fixed. almost all the files under *base/rss* have been heavily rewritten (or rather, they were created from scratch using the old code) and i decided to use `#pragma once` there. my goal was not to change it everywhere.",0,0.9719879627227783
111671321,6627,zeule,2017-04-15T19:02:57Z,"well... qt names this `insert()`, stl `insert_or_assign()`. imo, both names are fine.",0,0.9380794167518616
111671359,6627,zeule,2017-04-15T19:04:39Z,as you like.,0,0.9750556945800781
111671399,6627,zeule,2017-04-15T19:08:14Z,"strong guarantee means that state of the object does not change in case of error. thus, try write an object, `throw` or `emit` when it fails or remove the object from collection when writing succeeded. then, at the upper level, you may ask user shall we try again. because maybe he will put cable back in the socket and the problem is solved?",0,0.9888864159584045
111671463,6627,zeule,2017-04-15T19:12:38Z,"could you leave a comment in the source code, please?",0,0.9946234226226807
111671531,6627,zeule,2017-04-15T19:17:49Z,"sorry, i mistyped. the correct code: [code block] it will try to load icon ""rss-config"" from the current theme, this icon will not be found and it will try ""application-rss+xml"" (also from theme). this will be found. when system icon theme is disabled, the first one will be found.",-1,0.9777460098266602
111671752,6627,glassez,2017-04-15T19:32:35Z,"but this class was designed as non interactive. it's mostly for writing data with short lifetime. instructed and forgotten. write error in this case is just a coincidence (which is very unlikely), or serious problems with the hardware, the os (or brain) of the user. in the first case, it is sufficient to ignore this error and continue working (well, maybe to repeat the task if it has not yet been reset). in the second case, actually, the normal operation of the program impossible, but it is beyond the scope of this pr.",0,0.9219747185707092
111671823,6627,glassez,2017-04-15T19:36:55Z,the comment below isn't enough? or i should put it here instead?,0,0.9872638583183289
111672468,6627,zeule,2017-04-15T20:14:07Z,"i feel a strong temptation to copy this answer and use it next time i get a review like would you find that appropriate, sir?",0,0.5748836398124695
111672576,6627,zeule,2017-04-15T20:23:16Z,"i believe the comment would be placed better right where the question arises. although, in my code i usually use `#ifdef` in such cases: [code block]",0,0.9896954298019409
111674466,6627,mgziminsky,2017-04-15T22:30:36Z,"you should use `hasrule` here, and all the other places you are doing `m_rules.contains` you should use `rulebyname` for the else if below as well.",0,0.9955000281333923
111674532,6627,mgziminsky,2017-04-15T22:35:25Z,you can combine this `if` with its parent. [code block],0,0.9958047270774841
111674744,6627,mgziminsky,2017-04-15T22:46:20Z,"you can't set this here. it needs to be moved to either before the return below, or after this `if` block. setting it here means rules with `ignoredays` could be ignored forever. you should only be updating the last match if all match conditions, including `ignoredays`, match. i prefer you set it after the `if`, because i find it useful to know when a rule last matched, even when i'm not using ignored days.",0,0.9821310043334961
111674789,6627,mgziminsky,2017-04-15T22:50:06Z,there are a lot of places in your code where you nest `if` statements like this. i think you should merge them all into single statements and use `&&`,0,0.9782379865646362
111674952,6627,mgziminsky,2017-04-15T23:05:40Z,"why not give these a more human friendly name? maybe `m_url.replace(qregulareexpression(""\\w+""), ""_"")`",0,0.9915374517440796
111675128,6627,mgziminsky,2017-04-15T23:17:23Z,this should be using the same scheme as the feed url for the icon. this is an existing bug that i had fixed in one of my prs. [a link],0,0.9932960867881775
111675194,6627,mgziminsky,2017-04-15T23:24:19Z,answer: yes rss feeds should always be ordered by date,0,0.9932929277420044
111675284,6627,mgziminsky,2017-04-15T23:32:27Z,you should be using `item::pathseparator` here,0,0.9957129955291748
111675400,6627,mgziminsky,2017-04-15T23:40:06Z,"this seems a bit lenient. how about just restricting it to word characters (\w), dash (-), and dot (.)? also, should use `item::pathseparator` so: `qstring(r""(\a\w+(%1\w+)*\z)"").arg(item::pathseparator)`",0,0.9880544543266296
111677988,6627,glassez,2017-04-16T04:56:54Z,"well, it's a matter of taste... maybe i'll rework it in places where it will not break readability.",0,0.9201071858406067
111678164,6627,glassez,2017-04-16T05:16:08Z,what do you mean? did i break some coding style here?,0,0.9755837917327881
111678224,6627,glassez,2017-04-16T05:22:48Z,please re-read the code. you're wrong. ...as it was before. ok. i'll produce two compile time branches (as suggested) and use old behavior by default.,0,0.5356960296630859
111678266,6627,glassez,2017-04-16T05:28:37Z,why do you need human friendly name for these files? it's not for user editing (and even reading in most cases). are you sure you really want it?,0,0.9511629939079285
111678298,6627,glassez,2017-04-16T05:32:30Z,"i mean, the sorting is presentation layer job, isn't it? someone may need other sorting...",0,0.9859253764152527
111678361,6627,glassez,2017-04-16T05:36:06Z,"we should not limit this greatly. after all, we assume url as the last feed path item.",0,0.9906631708145142
111682764,6627,glassez,2017-04-16T11:33:25Z,or even otherwise. we can skip the immediate rules file overwrite if a rule does not use ignoredays. it will be updated later. what do you think?,0,0.9916192293167114
111684168,6627,zeule,2017-04-16T13:27:26Z,this universal answer caught my attention:,0,0.9548362493515015
111684170,6627,mgziminsky,2017-04-16T13:27:39Z,"i'm pretty certain i'm not. i'll walk you through what your code is doing now. say i have a rule that matches once per day, and `ignoredays = 2`. it should match every other day, but with yours, the following will happen. day 0 - should download: ` rule.lastmatch() = null` `rule.setlastmatch(0)` `if (null.isvalid())` is false. match success and download. **ok** day 1 - should ignore: `rule.lastmatch() = 0` `rule.setlastmatch(1)` `if (0.isvalid())` is true `if (1 < (0 + 2))` is true. skip. **ok** day 2 - should download: `rule.lastmatch() = 1` `rule.setlastmatch(2)` `if (1.isvalid())` is true `if (2 < (1 + 2))` is true. skip. **wrong**. this will continue forever",0,0.9298935532569885
111684306,6627,mgziminsky,2017-04-16T13:36:52Z,"actually, i also just noticed that you are using `currentdatetime` for the match date, which is also incorrect. you should be using the date from the article.",0,0.9900053143501282
111684934,6627,glassez,2017-04-16T14:14:25Z,"sorry, i wrote the last comment without seeing the code (i remember it was supposed to work, so i thought that this is the case). you're right. i fixed it. also i defer all kinds of optimization yet... this is legacy behavior. fixed now.",-1,0.9836524724960327
111695561,6627,mgziminsky,2017-04-17T00:46:50Z,"true, if you were to just do the sorting in the ui that would be fine also. how it is now though, the ui doesn't let you sort manually. i also noticed they are in the reverse order while i was testing. so either enable sorting in the current ui, with newest at the top being the default, or leave the sorting here and reverse the order.",0,0.9859998822212219
111695690,6627,mgziminsky,2017-04-17T00:53:07Z,"right, i forgot about that. in that case, you can still greatly simplify the regex to my suggestion, just replace both `\w` with `[^%1]`",0,0.9766815900802612
111695884,6627,mgziminsky,2017-04-17T00:59:58Z,"if you don't intend for a person to be able to read and modify them, don't store them in json. personally, there have been several times where i have wanted to view and edit this data, so i think you should store them as you are now, but make the filenames more friendly.",0,0.9767193794250488
111696338,6627,mgziminsky,2017-04-17T01:18:50Z,"i think you should use the `specialfolder::config` for this and make `conffolder = ""rss""` and `itemsfile = ""feeds.json""`. i also think you should place the download rules in the same location. only the articles should in the data folder. speaking of the config storage overall, i think you should change some of the folder names as well. here is what i think makes the most sense: `config_path/rss/feeds.json` `config_path/rss/download_rules.json` `data_path/rss/articles/normalized_feed_name.json`",0,0.9763180613517761
111702886,6627,glassez,2017-04-17T03:46:57Z,ok. i'll do it.,0,0.8793141841888428
111703250,6627,glassez,2017-04-17T03:56:12Z,"sorting is still here. or this comment so annoying to you that i should remove it? as for the order... you have several times accused me for things i didn't do. this is the existing logic. if you want me to fix something in passing, make a reservation to that effect, why should i do so (why the old logic is incorrect).",-1,0.9478344917297363
111703365,6627,glassez,2017-04-17T03:59:11Z,"my regex mean ""have no separator at start and at end and have no two or more separators together"". do your regex mean the same?",0,0.9945473670959473
111703806,6627,glassez,2017-04-17T04:08:57Z,"ok. this makes sense. the one thing i don't like (in general) download rules file contains not only configuration data but also some ""state"" data that, moreover, are updated frequently (i mean lastmatch field).",0,0.8504366874694824
111704592,6627,mgziminsky,2017-04-17T04:28:49Z,"first off, i apologize if my comments seemed accusatory, that wasn't my intention. i'm just trying to describe the expected behavior, and where i found that behavior doesn't align while testing. i'm aware that the sorting is still happening in the code below, i just wanted to describe why the sorting was desired. i agree with your response that performing the sorting during presentation would actually be preferred. that isn't currently what is happening though, so it is either necessary to leave the sorting below, or you could remove it from here and add it to the ui. because this diff shows everything as added code, it is extremely hard to tell which parts are new, and which parts are unchanged from before. that being said, the article list in the ui is definitely reversed in this version compared to the main version, so something must have changed somewhere.",-1,0.564703643321991
111704783,6627,mgziminsky,2017-04-17T04:33:46Z,"effectively, yes. mine is ""start with 1 or more non-separators, followed by 0 or more sets of 1 separator then 1 or more non-separators.""",0,0.9920110106468201
111705341,6627,mgziminsky,2017-04-17T04:47:25Z,"true, but why is that a problem? we already store various other state data in the main settings that are potentially changed frequently, such as ui dimensions. it's also potentially useful to treat the lastmatch as config data as well. for instance, it could be useful to be able to clear and/or modifying that value when also using ignore days to manipulate the next time a match will occur.",0,0.9841305613517761
111708166,6627,glassez,2017-04-17T05:46:36Z,"i always thought this is incorrect, and i have repeatedly offered to separate settings and states. but here you are right (i thought about this too), lastmatch can be considered as settings as well.",0,0.9392899870872498
111708425,6627,glassez,2017-04-17T05:51:17Z,"the old code had an inconsistent structure, and i may have misunderstood something. how it needs to be sorted from the user's point of view (in the ui)?",0,0.924492597579956
111708743,6627,glassez,2017-04-17T05:56:08Z,one more question: how articles are usually sorted in feed xml (retrieved from server)?,0,0.9920699000358582
111731259,6627,glassez,2017-04-17T11:13:36Z,", your memory is strange... don't forget that when you publish your own pr. in addition, the adherence of coding style is not something external, but an integral part of each coding job in the project. as for this place, i rewrote it (because it is faster than arguing here with you). , i leave it as static const. i don't see any reason why it shouldn't be static. what do you think?",-1,0.9816779494285583
111732321,6627,glassez,2017-04-17T11:29:18Z,"when it comes to collections, i agree `insert` is correct name. but autodownloader is not a collection of rules, it just contains a collection of rules, so `insert` here is incorrect to. but since i can't find a more appropriate name, i change it on `insertrule`, since it is more like you. although, maybe `userule` will be better?",0,0.9142346978187561
111736289,6627,glassez,2017-04-17T12:32:08Z,", if i change my mind and i decide to use exceptions here, how should i do this? do i need to create `asyncfilestorageerror` inherited from `std::runtime_error`?",0,0.9852509498596191
111740826,6627,Chocobo1,2017-04-17T13:23:31Z,"i'll let you decide, since i can't argue the slowness of `qregexp` is at construction or `qregexp.exactmatch()` (hence the suggestion above).",0,0.9882267117500305
111744860,6627,mgziminsky,2017-04-17T13:58:54Z,"the user expects to see the newest articles at the top, which is also typically the order they appear in the feed.",0,0.9850404262542725
111759228,6627,glassez,2017-04-17T15:31:58Z,"hell, one small typo can become a major headache. fixed it. thank you for testing!",1,0.9875990152359009
111762260,6627,Chocobo1,2017-04-17T15:51:04Z,2017.,0,0.9148968458175659
111765910,6627,zeule,2017-04-17T16:12:56Z,: exactly.,0,0.9828324913978577
111767259,6627,zeule,2017-04-17T16:20:47Z,"assuming your explanation, why signal serialisation error then? aren't you want to do this to let your client to do something about the error?",0,0.9900712966918945
111767669,6627,glassez,2017-04-17T16:23:04Z,fixed.,0,0.9905837774276733
111771118,6627,glassez,2017-04-17T16:44:03Z,"really, i don't know what to do in this situation. signal to display a message in the log, while this is the only way. all the rest of the application assumes that the data/configuration folders is ok, or just trying to create them every time they want to write the file. have you any ideas (not violating the desired behavior in this class)?",-1,0.9671657681465149
111806741,6627,zeule,2017-04-17T19:50:11Z,"i would forward the decision to the user (human). i.e. i would, as i wrote earlier, implement the strong guarantee, and then ask user whether to try again or not. and remove the key that leads to error in the latter case.",0,0.9935325384140015
111848348,6627,sledgehammer999,2017-04-18T00:10:54Z,don't you need `q_disable_copy(session)` too?,0,0.9950748085975647
111848518,6627,sledgehammer999,2017-04-18T00:12:34Z,isn't it a good idea to keep these things similar? all of our other singletons use the initinstance()/freeinstance()/instance() triplet. unless you want to solve a technical problem...,0,0.9871132969856262
111848672,6627,sledgehammer999,2017-04-18T00:14:20Z,why not keep the old names? does the data format change here? (same to the others),0,0.9919918179512024
111850069,6627,sledgehammer999,2017-04-18T00:28:38Z,should be initialized in the constructor,0,0.9950088262557983
111869235,6627,glassez,2017-04-18T04:33:20Z,it will be initialized in every constructor that does not initialize it explicitly. this new syntax ensures that the field will be initialized and we can not worry that we will forget to do it in some constructor. i would strongly not recommend to ignore this initializer form and/or to prohibit it.,0,0.9687141180038452
111870087,6627,glassez,2017-04-18T04:45:39Z,this is my new approach to make singletons initialization more clear. the first created object become global instance (similar approach is used in qapplication). since all our singletons must be initialized by application there is no problem. it allow to initialize singletons using its constructors. it will allow to clearly initialize inherited singletons (like guiiconprovider; we just call `new guiiconprovider`and then use `iconprovider::instance()` in base code).,0,0.9346427917480469
111872974,6627,glassez,2017-04-18T05:21:33Z,i had some conflicts with my new config options (because of some strange/specific/buggy qsettings behavior i found). i prefer rename old options to proper names instead of trying to fit the new names. this will break only rss gui settings and make it invisible again. but it would further indicate to the user that there is now a new (revised) rss subsystem.,-1,0.5416922569274902
111879918,6627,glassez,2017-04-18T06:33:26Z,"that's a very good theoretical idea ;) but from a practical point of view, it causes a lot of questions seem to require a separate task to solve them.",1,0.9948949217796326
111886263,6627,glassez,2017-04-18T07:24:33Z,"strong guarantee. perhaps the most simple in itself. if we leave the job in the queue in case of failure, we simply overwrite it as you normally would, if updated data become available. user interaction. we can't implement this for non-interactive component. we can only delegate it in the interactive layer, but how? now we do not have a suitable notifications subsystem so that it will require to spoil the interfaces of the affected classes by ugly inappropriate signals/methods. one more question. let's say we have the ability to communicate with the user. what can he do in this case? as i said, it's either some kind of temporary glitch that does not require any response, except, perhaps, fix this event in the log and attempts to repeat writing some time ago (agree, i have to implement it), or there is a serious malfunction of the whole system (what to do in this case?). in general, if you don't have a ready solution (not abstract advice), let's leave this for a separate topic. it doesn't break current application behavior.",0,0.81882244348526
111958102,6627,sledgehammer999,2017-04-18T13:51:05Z,i didn't notice that these are for gui settings. so it is ok to break them imo.,0,0.9593562483787537
111958598,6627,sledgehammer999,2017-04-18T13:52:44Z,"comment about consistency: iirc the rest of the settings(in settingstorage too) use ""enabled"" to denote the visibility of gui element. i am just mentioning it. do as you please here. it isn't a hard requirement for me.",0,0.9818075895309448
111959452,6627,sledgehammer999,2017-04-18T13:55:57Z,"so is this even better than doing it the initializer list? i think you have only one constructor here. just so you know, this design decision will result in recompilations of stuff that include this header in case we want to change the value of the variable. (i am talking about local testing. releasing requires clean builds anyway).",0,0.9894217848777771
111968471,6627,glassez,2017-04-18T14:29:13Z,"but this is only the default value! it does not change practically never. in any case, much less than the other members of the class.",0,0.9681370258331299
111978253,6627,sledgehammer999,2017-04-18T15:03:50Z,"ok leave as it is. i am not going to argue for this particular variable. under normal circumstances this value won't ever change, so further discussion is moot.",0,0.7410897016525269
112011015,6627,zeule,2017-04-18T17:12:27Z,"i don't like that this resource is created not in the constructor, but is freed in the destructor. afaik, local throw/catch in `asyncfilestorage::create()` but with all the invariant set up code in the constructor would be better.",-1,0.9537087678909302
112011098,6627,zeule,2017-04-18T17:12:52Z,"if you are not going to implement the lock for unix filesystems, please leave a `// todo:` comment or anything like that.",0,0.9923967719078064
112011996,6627,zeule,2017-04-18T17:16:42Z,"maybe an implementation via a critical section would be a cleaner one? just asking, did try to implement.",0,0.9839184284210205
112020867,6627,glassez,2017-04-18T17:53:23Z,ok. i'll redo it using constructor+exceptions.,0,0.993424654006958
112021204,6627,glassez,2017-04-18T17:54:46Z,ok. i'll do it. one question on the future. is there a portable way to do this is for all unix systems? or it depends on the file system?,0,0.6797322630882263
112023158,6627,glassez,2017-04-18T18:02:15Z,"so this ""concurrency"" code will be unneeded. think of it as a temporary solution. i'll change it, perhaps even along with this pr. either directly after it. as i wrote, i don't want to delay it, because the basic functionality is ready and it is required for other tasks that need to be on top of it (i mean so long-awaited web interface).",0,0.9354341626167297
112031761,6627,glassez,2017-04-18T18:38:08Z,fixed.,0,0.9905837774276733
112042192,6627,sledgehammer999,2017-04-18T19:26:42Z,"hmm, interesting. i didn't know that. so just a heads up: any solution applied here should be applied to the ""bt_backup"" lockfile too.",0,0.7050777673721313
112046431,6627,glassez,2017-04-18T19:46:27Z,of course.,0,0.9627540707588196
112095291,6627,mgziminsky,2017-04-19T00:38:27Z,shouldn't this be `path.isempty() || !re.match(path).hasmatch()` or do we actually want to allow empty paths?,0,0.9930248260498047
112096316,6627,mgziminsky,2017-04-19T00:50:17Z,"sorry, i just realized the regex i gave you is broken. the path separator needs escaped. the correct one is `r""(\a[^\%1]+(\%1[^\%1]+)*\z)""` it also wouldn't hurt to set `dontcaptureoption` and `optimizeonfirstusageoption`",-1,0.9833501577377319
61475406,5196,glassez,2016-04-28T18:11:16Z,why not `qstringlist`? and fix coding style for brace-enclosed initializer.,0,0.9934425354003906
61475829,5196,glassez,2016-04-28T18:13:49Z,"1. don't abuse **auto**. 2. imo, it will be easier using qdiriterator.",0,0.9641320109367371
61476509,5196,glassez,2016-04-28T18:17:24Z,please do not overuse the meaningless names. `torrentfile` (or just `file`) is better.,0,0.795396089553833
61476566,5196,glassez,2016-04-28T18:17:47Z,as above.,0,0.9881609678268433
61477371,5196,glassez,2016-04-28T18:22:39Z,"what we decided on the placement of state settings? which group to put them, `state` or `gui`?",0,0.9941028952598572
61477433,5196,glassez,2016-04-28T18:22:50Z,inline,0,0.833534836769104
61477674,5196,glassez,2016-04-28T18:24:14Z,move `?` to the start of next line,0,0.9943366646766663
61478081,5196,glassez,2016-04-28T18:26:34Z,branchpath,0,0.9788641333580017
61478294,5196,glassez,2016-04-28T18:27:43Z,is it used outside the class?,0,0.9928280711174011
61478882,5196,glassez,2016-04-28T18:31:14Z,"in this case, all these functions below are overkill. these one-line methods are only used inside the class and only once.",0,0.8634195327758789
61489863,5196,zeule,2016-04-28T19:39:38Z,"isn't the ""setting"" word in a configuration file superfluous? what else may be there?",0,0.982740581035614
61489986,5196,zeule,2016-04-28T19:40:39Z,don't believe in all-mighty compiler?,-1,0.6333237290382385
61490906,5196,zeule,2016-04-28T19:46:36Z,can't understand why do you convert path separators back and forth.,0,0.5827710628509521
61491022,5196,zeule,2016-04-28T19:47:19Z,same here (path separators).,0,0.9938210844993591
61491876,5196,zeule,2016-04-28T19:53:25Z,why don't you make a constant for the file extension?,0,0.9921771883964539
61492103,5196,zeule,2016-04-28T19:55:00Z,i would pass `qstring::skipemptyparts` here.,0,0.9933111667633057
61492232,5196,zeule,2016-04-28T19:55:51Z,and perhaps trim the comment.,0,0.9849596619606018
61511583,5196,Chocobo1,2016-04-28T22:15:40Z,fixed. but end up using qdiriterator instead...,0,0.9806650876998901
61513935,5196,Chocobo1,2016-04-28T22:37:57Z,"yes, funny that i forgot about it.",1,0.3749861419200897
61514677,5196,Chocobo1,2016-04-28T22:45:00Z,fixed.,0,0.9905837774276733
61514687,5196,Chocobo1,2016-04-28T22:45:04Z,fixed.,0,0.9905837774276733
61514933,5196,Chocobo1,2016-04-28T22:47:39Z,fixed.,0,0.9905837774276733
61515119,5196,Chocobo1,2016-04-28T22:49:38Z,fixed.,0,0.9905837774276733
61515239,5196,Chocobo1,2016-04-28T22:50:53Z,"nope, fixed.",0,0.9732856750488281
61515343,5196,Chocobo1,2016-04-28T22:52:17Z,"striped ""setting"" prefix.",0,0.9871292114257812
61515772,5196,Chocobo1,2016-04-28T22:57:22Z,apparently i didn't clean it up aggressively...,0,0.8809539079666138
61516120,5196,Chocobo1,2016-04-28T23:00:20Z,fixed.,0,0.9905837774276733
61516171,5196,Chocobo1,2016-04-28T23:00:57Z,"this should be a app-wide constant, but where should it be?",0,0.9894359111785889
61516641,5196,Chocobo1,2016-04-28T23:06:03Z,it appear to do some tricks at: [a link],0,0.9930402040481567
61516831,5196,Chocobo1,2016-04-28T23:08:22Z,"no, people might want to put ascii arts in it lol",1,0.9174683690071106
61524310,5196,Chocobo1,2016-04-29T00:46:15Z,i feel stupid when creating them... i add a new commit which add a template helper to avoid repeating the same boilerplate code.,-1,0.9952345490455627
61525083,5196,zeule,2016-04-29T00:58:50Z,~~can't understand how the default parameter value is supposed to work: can you call `qvariant::value ()` for an empty `qvariant`? what will it return?~~ did read the documentation for `qvariant`. but still: wouldn't it be better to rephrase it in the following way: [code block],0,0.8369280695915222
61525322,5196,zeule,2016-04-29T01:02:31Z,is it needed to keep utf-16 here? i would use `qlatin1string`.,0,0.9955000281333923
61525990,5196,Chocobo1,2016-04-29T01:13:35Z,"from qt doc: [a link] that's the worst case, so i think it will work fine. ## i think no, its probably better to try matching the `qvariant` ctor signature earlier rather than later, in case of an incompatible type results in incomprehensible compiler message.",0,0.9636433720588684
61526030,5196,Chocobo1,2016-04-29T01:14:18Z,~~fixed.~~,0,0.9451676607131958
61526088,5196,zeule,2016-04-29T01:15:37Z,"the next step is to rename the class into `storablevalue`, add `operator t` and `operator =(t)` and just read and write them lol",1,0.8327842354774475
61526151,5196,zeule,2016-04-29T01:17:09Z,i mean use them at the left and right sides of an assignment operator.,0,0.9891788959503174
61526291,5196,zeule,2016-04-29T01:19:37Z,"thank you for the reply. excuse me, i should have read the manual before typing.",1,0.9733443856239319
61526446,5196,zeule,2016-04-29T01:22:27Z,"`qlatin1string` here too, please. ~~replace or add a second constructor.~~ no, replace, please. since we state that the key is an ascii sequence, `qstring` should not be used here. albeit it might make sense to add the second constructor with a `const char*` parameter.",0,0.9738198518753052
61528205,5196,Chocobo1,2016-04-29T02:00:41Z,"changed, it looks better now. thanks.",1,0.988183319568634
61528338,5196,Chocobo1,2016-04-29T02:03:18Z,"i just can't get qlatin1string to work here, try it yourself. :\",-1,0.9959635734558105
61529164,5196,zeule,2016-04-29T02:23:30Z,"[code block] works here. but of course, it's dangerous because `qlatin1string` does not copy the data.",0,0.9213969707489014
61529409,5196,zeule,2016-04-29T02:29:01Z,maybe we should add one more template parameter? [code block],0,0.9939334988594055
61529957,5196,zeule,2016-04-29T02:43:09Z,and i would add [code block] anyway.,0,0.9947616457939148
61530129,5196,zeule,2016-04-29T02:46:52Z,"i like the result too, thank you for the idea!",1,0.9942664504051208
61536626,5196,glassez,2016-04-29T05:55:09Z,"imo, it's overkill.",-1,0.9693924784660339
61540919,5196,glassez,2016-04-29T07:08:33Z,"this class has an inconsistency. we set the value using using it as variable, but get the value using it as function: [code block] also you pass default value when get its value. but, imo, the default value is life-time constant for object of this class.",0,0.8811013102531433
61541239,5196,Chocobo1,2016-04-29T07:13:35Z,i think just use `qstring` to get the job done.,0,0.9874786138534546
61541421,5196,glassez,2016-04-29T07:16:40Z,i think we should have `base/global.h` for such cases.,0,0.9836909174919128
61551103,5196,Chocobo1,2016-04-29T09:08:16Z,"agree. how about like this: [code block] this will depend on its scope, for example, see `storedialogsize`. it's possible to expand the template like this: [code block]",0,0.9815486073493958
61551357,5196,Chocobo1,2016-04-29T09:10:34Z,how about `storageunit`? is it any better?,0,0.9943536520004272
61553959,5196,Chocobo1,2016-04-29T09:36:36Z,done. i'll update later.,0,0.9751899242401123
61559630,5196,glassez,2016-04-29T10:37:14Z,"this sounds like a bad design in general. but in this case you have another error. since we use this helper, we need to make these objects to be members of the class whose settings they handle. void set(const t &value) const t operator() (const qvariant &defaultvalue = qvariant()) const // get imo, it's better to use `operator=()` and `operator t()` so we can use it as variable: [code block]",-1,0.8245893120765686
61562877,5196,glassez,2016-04-29T11:17:14Z,`settingsstorage` -> `setting` (or `settingvalue`),0,0.9941595792770386
61569140,5196,Chocobo1,2016-04-29T12:30:07Z,done.,0,0.9897913336753845
61570794,5196,zeule,2016-04-29T12:44:08Z,"for me, overkill is the storing ascii text in utf-16, overkill is the usege of `qvariant` (two words) when in the overwhelming majority of cases the value is either `bool` or a number. a bit of additional work for compiler is not an overkill.",0,0.970343828201294
61572002,5196,zeule,2016-04-29T12:54:53Z,"besides, whould there be `t m_defaultvalue` we can add a bit of reflection and store enum identifiers.",0,0.9938262104988098
61572232,5196,zeule,2016-04-29T12:56:12Z,"the `const` here looks fun. btw, you can declare m_keyvalue as `const`.",1,0.9340115189552307
61573221,5196,Chocobo1,2016-04-29T13:05:24Z,how about i use [code block],0,0.9944108128547668
61573302,5196,Chocobo1,2016-04-29T13:06:00Z,what? what fun? why m_keyvalue as const?,1,0.6808905005455017
61573773,5196,zeule,2016-04-29T13:10:21Z,we write a value into an object (which we can read back) via a const-function. isn't it fun? why not? it does not change.,1,0.5597451329231262
61574386,5196,zeule,2016-04-29T13:15:34Z,"and maybe, the constructor has to have the following signature: [code block]",0,0.9928452372550964
61574428,5196,Chocobo1,2016-04-29T13:15:57Z,"oh, i see it now. i really don't write templates much :\",-1,0.9963173866271973
61577294,5196,Chocobo1,2016-04-29T13:27:38Z,"but that is not likely to happen... what about like this, is there going to be any problems? [code block]",0,0.9064761400222778
61577953,5196,zeule,2016-04-29T13:33:02Z,"looks good to me. `settingstorage::loadvalue(const char*,...)` and `settingstorage::storevalue(const char*, ...)` would be a valuable addition. [code block] would be nice to have too.",1,0.9860403537750244
61578612,5196,zeule,2016-04-29T13:38:21Z,"no, with `qvariantmap` inside this just does not make any sense.",0,0.8953683972358704
61579340,5196,zeule,2016-04-29T13:44:22Z,"oh, i forgot to close the template brackets. i meant: [code block]",0,0.9639567732810974
61580896,5196,zeule,2016-04-29T13:55:44Z,"i still don't understand your concerns about `qvariant` and `t` conversion. if the type is not registered, `qvariant` triggers a nice `static_assert`. could you explain, please, what is the advantage of your approach?",0,0.7288738489151001
61581289,5196,glassez,2016-04-29T13:57:49Z,"you know how to bring everything to the absurd! are you trying to save a few bytes in the string, but you're going to generate a bunch of classes (template instances).",-1,0.7619746327400208
61582125,5196,Chocobo1,2016-04-29T14:03:33Z,"don't know if this make sense: if i wrote `explicit storablevalue(const std::string &keyname, const t &defaultvalue = t())` then i'll have to worry about if `t()` exists or not.",0,0.555360734462738
61582378,5196,zeule,2016-04-29T14:05:26Z,aren't you relying on the same `t()` when you pass an empty `qvariant` to `qvariant::value()`?,0,0.9933404326438904
61582750,5196,zeule,2016-04-29T14:07:59Z,"but what is the overhead from a class in the application? this is not a library, we don't export rtti.",0,0.986968457698822
61583368,5196,Chocobo1,2016-04-29T14:12:13Z,"let me express it in another way: `settingsstorage::storevalue(const qstring &key, const qvariant &value);` it uses `qvariant` so i just forward it to here. so another dev won't have to track back to `settingsstorage` to find it only accept `qvariant` type.",0,0.9937631487846375
61686796,5196,glassez,2016-05-01T13:00:11Z,why didn't you change these variables to class members?,0,0.9880133867263794
61861124,5196,Chocobo1,2016-05-03T10:12:00Z,"if moving these to the header file, it could look like this [code block]",0,0.9940246939659119
61861757,5196,zeule,2016-05-03T10:19:36Z,a pimpl may be the solution you are looking for.,0,0.9908310770988464
61863208,5196,glassez,2016-05-03T10:38:25Z,"you love to complicate everything! you don't need to have `#define settings_key(name) ""torrentcreator/"" name` in the header! torrentcreatordlg.h: [code block] torrentcreatordlg.cpp: [code block]",1,0.8181745409965515
61865735,5196,zeule,2016-05-03T11:08:54Z,"no, it is not the case. nor the `storablevalue` instances nor `settingstorage.h` include are parts of the class interface.",0,0.9906612038612366
61871195,5196,glassez,2016-05-03T12:15:17Z,don't forget about forward declaration.,0,0.993058443069458
61874926,5196,glassez,2016-05-03T12:52:39Z,"oh, i'm sorry, we don't use pointers here (and it would be extremely inconvenient), so forward declaration is not suitable here. but in this case pimpl is overkill too.",-1,0.9862232804298401
62015345,5196,Chocobo1,2016-05-04T09:56:46Z,done. we can refactor this later if needed.,0,0.970527172088623
62016784,5196,glassez,2016-05-04T10:10:50Z,"don't forget about the coding style! we use `m_` prefix for private fields. i have used it in my examples, but you didn't see it... :(",-1,0.9963477253913879
62017254,5196,Chocobo1,2016-05-04T10:16:11Z,"i'm sorry, the style is fixed now.",-1,0.9930758476257324
62438540,5196,sledgehammer999,2016-05-08T21:12:48Z,we didn't decide under what name to put the state settings. my opinion is to put them under `state` and each class should use a generic name for their name. for example `state\torrentcreator\dimensions` and not `state\torrentcreatordlg\dimensions`,0,0.9868366718292236
62438686,5196,sledgehammer999,2016-05-08T21:22:38Z,you don't need the braces.,0,0.987515926361084
62438700,5196,sledgehammer999,2016-05-08T21:23:31Z,why this check? can't the user drop both kinds of files simultaneously?,0,0.9824715256690979
62448678,5196,Chocobo1,2016-05-09T04:06:11Z,"2 reasons that i can think of: 1. the user might be confused when he saw 2 different dialogs pop up at the same time, he might want to download or upload but not 2 at the same time, i doubt anyone will want to mix download/upload together. 2. the addnewtorrentdialog is a modal dialog which could be a problem (dialogs overlap and user cannot switch to another) when multiple dialogs pop up at the same time.",0,0.9670845866203308
62448764,5196,Chocobo1,2016-05-09T04:08:21Z,"fixed, i'll push later.",0,0.9931610822677612
64773952,5196,Chocobo1,2016-05-26T16:09:49Z,pr updated.,0,0.9877626895904541
64776464,5196,glassez,2016-05-26T16:24:45Z,remove space between `=` and `(`,0,0.990709662437439
64777808,5196,Chocobo1,2016-05-26T16:32:30Z,fixed,0,0.920660674571991
64863958,5196,glassez,2016-05-27T06:55:08Z,fix this method signature too. no spaces between name and start `(`. [code block],0,0.9955328702926636
64869956,5196,Chocobo1,2016-05-27T08:01:09Z,done.,0,0.9897913336753845
116289958,5196,zeule,2017-05-12T18:01:03Z,"since already added `cachedsettingvalue`, i think this pr has to use that class.",0,0.9934881925582886
116290693,5196,zeule,2017-05-12T18:04:49Z,"do not insist, but i would use `std::partition()` here without explicit loop and two additional containers.",0,0.9927645325660706
116291146,5196,zeule,2017-05-12T18:06:48Z,how does it differ from [code block],0,0.9943197965621948
116298545,5196,Chocobo1,2017-05-12T18:41:38Z,"iirc, the 2 classes are different in some ways... i don't wish to muddle into it again... :face_with_crossed-out_eyes:",-1,0.9811252355575562
116300031,5196,Chocobo1,2017-05-12T18:48:49Z,this is a stub that *might* (or not) expand later to create many torrents at once (if there is an option for it)...,0,0.9882621169090271
116301345,5196,Chocobo1,2017-05-12T18:55:50Z,it's not performance critical and the current ways are easier to read imo. i will keep the current code.,0,0.9618012309074402
116305672,5196,glassez,2017-05-12T19:17:24Z,but **cachedsettingvalue** is enough. why to create one more class?,0,0.9930939674377441
116310163,5196,zeule,2017-05-12T19:44:26Z,sure. but the readability is exactly what i meant here :),0,0.8817542791366577
116310258,5196,zeule,2017-05-12T19:45:06Z,"could you add a comment on this topic to the code then, please?",0,0.9950633645057678
116353879,5196,Chocobo1,2017-05-13T08:37:57Z,ok,0,0.9233372807502747
116354470,5196,Chocobo1,2017-05-13T09:17:28Z,"no, it's not, at least not in current form, see `m_storedialogsize` in this pr. i'll need to add: [code block] ~~**updated2**~~ **this won't work in this case**",0,0.9901189804077148
116355272,5196,glassez,2017-05-13T10:05:39Z,you're fixated on your current implementation. look at the world wider. why do you need setting a default value every time? why do you need storing the default value in the config file? just do the following in torrentcreatordlg constructor initializer list: [code block],0,0.9032639861106873
116355698,5196,Chocobo1,2017-05-13T10:34:46Z,"and you ignore/forget that the `size()` here gives not the preferred size specified in .ui files. here it returns {100, 30} which is too small. not i want that, only because the true `size` value is populated then. what default value? the `size()` below returns the dialog size *after* the user resizes!",0,0.5580068826675415
116357246,5196,Chocobo1,2017-05-13T12:18:23Z,or initialize it later... [code block],0,0.9958445429801941
116357719,5196,glassez,2017-05-13T12:48:39Z,"here it returns {100, 30} which is too small. oops... really, i forgot it. using pointer to **cachedsettingvalue** breaks its goals (we can't use `var = m_settingvalue` etc.). but you can use it the following way: [code block] in constructor and then: [code block]",0,0.7946048378944397
116358551,5196,Chocobo1,2017-05-13T13:36:33Z,"sorry, i was misleading in my previous code snippet, that doesn't work since `size().isvalid()` returns `true` in member initializer list. so this suggestion won't work too. you still can by dereferencing the pointer... it's a bit ugly but this (`m_storedialogsize`) is a special case , other class variables can use `cachedsettingvalue` with no modifications. imo using a cachedsettingvalue pointer is the easiest way now.",-1,0.989392876625061
116358864,5196,glassez,2017-05-13T13:56:16Z,"why? `m_storedialogsize(settings_key(""dimension""))` uses default constructed qsize which is invalid.",0,0.9821142554283142
116361033,5196,Chocobo1,2017-05-13T15:48:28Z,"you are right, i'll update it.",0,0.8610021471977234
116377062,5196,glassez,2017-05-14T09:59:18Z,how about constant from globals.h?,0,0.9927672147750854
116377182,5196,glassez,2017-05-14T10:05:55Z,ui -> m_ui,0,0.9712228178977966
116377219,5196,glassez,2017-05-14T10:07:52Z,can you also fix the names from ui?,0,0.9958362579345703
116377474,5196,glassez,2017-05-14T10:23:57Z,terminate() isn't working on some platforms.,0,0.9728485941886902
116379888,5196,Chocobo1,2017-05-14T12:39:25Z,"what do you mean? or what do you suggest? as you can see, here i meant to force stopping the torrent creating process.",0,0.9915663599967957
116386174,5196,zeule,2017-05-14T17:32:57Z,"if did not mean that there is no way to terminate another thread in general case, i would like to point this out. and if it is not joinable after calling `m_creatorthread->abortcreation()`, there is no much one can do with a hanged thread.",0,0.9894668459892273
116413922,5196,Chocobo1,2017-05-15T05:45:46Z,"i shall review the torrent creating thread, its termination is not working as i thought...",0,0.989849328994751
116421600,5196,Chocobo1,2017-05-15T07:00:47Z,done.,0,0.9897913336753845
116431823,5196,Chocobo1,2017-05-15T08:10:04Z,"added 1 new commit, i've removed `terminate()` as i thought it can force stop a busy operation but in reality, it cannot.",0,0.9913851022720337
116717883,5196,glassez,2017-05-16T11:29:17Z,"no, it still not done. or you misunderstood me. i mean the names inside ui::torrentcreatordlg class (i.e. inside .ui file).",0,0.9733632206916809
116998596,5196,Chocobo1,2017-05-17T13:24:38Z,i've only replaced the variables that appears in .cpp file.,0,0.9934821724891663
117005591,5196,glassez,2017-05-17T13:49:48Z,then the line above isn't needed too.,0,0.9895564913749695
117024432,5196,Chocobo1,2017-05-17T14:53:43Z,removed.,0,0.9612457156181335
99811018,5287,Chocobo1,2017-02-07T12:30:51Z,the `if()` looks redundant to me.,0,0.9713397026062012
99811073,5287,Chocobo1,2017-02-07T12:31:07Z,`const qstring &matchedepisode`?,0,0.9947991371154785
99811161,5287,Chocobo1,2017-02-07T12:31:36Z,coding style.,0,0.9877970814704895
99811265,5287,Chocobo1,2017-02-07T12:32:07Z,`return qstring();`,0,0.9917464256286621
99811882,5287,Chocobo1,2017-02-07T12:35:42Z,"not a merge blocker here, just too many indentation... is it possible to refactor it? something like `if (episodestr.isempty()) return false;` style...",0,0.9483658671379089
99812067,5287,Chocobo1,2017-02-07T12:36:36Z,`if (!m_smartfilter) return;`,0,0.9926328063011169
99812465,5287,Chocobo1,2017-02-07T12:39:01Z,should use `foreach()`,0,0.9946475625038147
99812533,5287,Chocobo1,2017-02-07T12:39:24Z,`foreach` here too,0,0.9936956763267517
99812616,5287,Chocobo1,2017-02-07T12:39:50Z,"`nullptr`, don't mind the old code.",0,0.8936598300933838
99812764,5287,Chocobo1,2017-02-07T12:40:42Z,add space: `qmessagebox::yes | qmessagebox::no`,0,0.9948727488517761
99813585,5287,Chocobo1,2017-02-07T12:45:39Z,strip out html headers,0,0.9945839047431946
99814846,5287,Chocobo1,2017-02-07T12:53:55Z,"and pardon for doing reviews at the last minute, i only noticed this pr and no dev commented on it.",-1,0.6138195395469666
99831896,5287,sledgehammer999,2017-02-07T14:21:41Z,also here is a better string with no grammatical or syntax errors. [code block],0,0.9928039908409119
99865110,5287,briankendall,2017-02-07T16:33:45Z,"i don't think changing this to a reference makes any real difference, as either way its initializing one `qstring` using the given c string. however i could see a point to making it `static const qstring` just to make sure it doesn't accidentally leak into any other file.",0,0.9797612428665161
99866301,5287,zeule,2017-02-07T16:38:16Z,or even `return {}`;,0,0.9932097792625427
99867001,5287,zeule,2017-02-07T16:40:43Z,of range-based `for`,0,0.9940434098243713
99868175,5287,zeule,2017-02-07T16:44:57Z,`// see` (whitespace),0,0.9950911998748779
99868227,5287,zeule,2017-02-07T16:45:12Z,whitespace,0,0.9755821228027344
99870010,5287,zeule,2017-02-07T16:51:39Z,"the code here would not differ significantly from checks in `downloadrule::matches()` then. probably, it has to be refactored into a function.",0,0.9879440069198608
99910502,5287,zeule,2017-02-07T19:43:00Z,this line and the next one have to be joined.,0,0.9816505908966064
99910730,5287,zeule,2017-02-07T19:43:57Z,whitespace,0,0.9755821228027344
99910847,5287,briankendall,2017-02-07T19:44:27Z,"though the `qregexp` that yields the value of `matchedepisode` is case insensitive, this test will still erroneously fail if the episode number in the article name is using lower case letters, e.g. `s01e01`.",0,0.9815402626991272
99911276,5287,briankendall,2017-02-07T19:46:17Z,this `qregexp` should also be case insensitive.,0,0.9926108717918396
99911525,5287,briankendall,2017-02-07T19:47:07Z,this `qregexp` should also also be case insensitive.,0,0.9930397272109985
99914351,5287,zeule,2017-02-07T19:58:40Z,"i don't use rss rules and have no idea about common episode naming rules, but here are my two cents: wouldn't it be easier to convert the article name to uppercase before matching and keep regexps simpler?",0,0.9234969615936279
99917394,5287,zeule,2017-02-07T20:11:55Z,"no, this is rubbish, because `qregexp` has case insensitivity option.",-1,0.8882122039794922
113849597,5287,glassez,2017-04-28T04:27:11Z,these two lines is redundant. this method is for import old rules settings (not containing your new fields).,0,0.9845074415206909
113849934,5287,glassez,2017-04-28T04:28:52Z,is the method above not enough?,0,0.9843213558197021
113855462,5287,glassez,2017-04-28T05:41:56Z,"why do you have it outside matches() method? at least, this method has inappropriate name, since it's unclear what we're doing at this point.",0,0.9398595094680786
113855605,5287,glassez,2017-04-28T05:44:31Z,"is ""mark as unread"" is useful from user point of view? when might we need it?",0,0.9912551641464233
113855689,5287,glassez,2017-04-28T05:45:32Z,"change to ""previouslymatchedepisodes"".",0,0.9933745265007019
113855747,5287,glassez,2017-04-28T05:46:20Z,"iirc, we use qregularexpression in new code.",0,0.9926069974899292
113984678,5287,elFarto,2017-04-28T17:50:00Z,"right, but i had old settings that needed importing, and anyone who's been using this patch will also have settings that they might like importing (since remembering what's been downloaded is the point of this patch), it would be nice if this can be kept.",0,0.8610863089561462
113984947,5287,elFarto,2017-04-28T17:51:30Z,"i wrote it to make testing easier, but it is the only way to undo an accidental mark all read.",0,0.9804731607437134
113985728,5287,elFarto,2017-04-28T17:55:27Z,"the code can't go in matches as that is called from many places, and we have to know when a match caused a download, so we need a way for the downloader to tell the rule it has matched an episode and it will be downloaded so the rule can add that article to the previously matched episodes. what's a more appropriate name, articlematched? rulematched?",0,0.9926581978797913
113993177,5287,glassez,2017-04-28T18:32:44Z,"why we need to undo it? it breaks the application logic, isn't it? , what do you say about it?",0,0.9415366053581238
113994578,5287,glassez,2017-04-28T18:39:32Z,"we shouldn't add this code to mainstream. this is nonsense to add backward compatibility with never existing things (from the point of view of mainstream code). those who were able to use your changes, will be able to import this in some way.",-1,0.9257479906082153
113996894,5287,briankendall,2017-04-28T18:51:18Z,"speaking as someone who's been using a build of qbt with an older version of this pr merged in, i don't mind if i have to set up smart filters again or if it loses track of which episodes have downloaded when this feature is part of an official build. i pretty much figured that would happen at least once when i started testing the feature out.",0,0.7081574201583862
113997290,5287,elFarto,2017-04-28T18:53:34Z,"ok, i'll remove it",0,0.9942445158958435
114008173,5287,mgziminsky,2017-04-28T19:57:02Z,"i actually think this is a useful feature. it is something i had been considering adding as well, so i don't mind it being added as part of this.",1,0.9824701547622681
114009913,5287,mgziminsky,2017-04-28T20:08:18Z,do we actually want to consider the previous matches for equality? i think we shouldn't.,0,0.980715274810791
114010283,5287,mgziminsky,2017-04-28T20:10:32Z,"also, make `episoderegex` an actual `qregularexpression` object, don't initialize it here every time. you should also set `extendedpatternsyntaxoption` and break your pattern onto multiple lines to make it easier to read.",0,0.9944847226142883
114023879,5287,mgziminsky,2017-04-28T21:33:24Z,i think you should rework the episoderegex to used named capture groups for the season and episode portions of each pattern. then you can get rid of this entire `if/else if` construct and extract the values directly from the match object. it would be something like: `(? s\d+)(? e\d+)|(? \d+)x(? \d+)|...` you should also set the `dontcaptureoption` in this case so you can use clarifying parens without them interfering with the captures,0,0.9825499057769775
114024010,5287,zeule,2017-04-28T21:34:19Z,"1. why is is const, could it be useful for a user to make a change to it? 2. suggest to use raw string literal here and with other regexes too.",0,0.993137001991272
114024258,5287,zeule,2017-04-28T21:36:09Z,"case insensitivity is quite a voluntaristic decision, isn't it?",-1,0.7328324317932129
114024994,5287,mgziminsky,2017-04-28T21:41:14Z,use `usesmartfilter()` instead of accessing `m_dataptr` directly. same everywhere else that is accessing values directly through `m_dataptr` instead of the getter.,0,0.9942722320556641
114025226,5287,mgziminsky,2017-04-28T21:42:55Z,"agreed. since this is done via full assignment, and not modified with add/remove, not much is gained by having an explicit clear method.",0,0.9923323392868042
114025877,5287,mgziminsky,2017-04-28T21:47:10Z,"if the article is being disconnected after being marked read, it would need to be reconnected here.",0,0.9915881752967834
114027138,5287,zeule,2017-04-28T21:56:46Z,now why this comparison is not case insensitive?,0,0.6863828897476196
114028135,5287,zeule,2017-04-28T22:04:11Z,redundant variable: [code block],0,0.9940947890281677
114029142,5287,zeule,2017-04-28T22:12:31Z,"the question is not strictly clear, as to me. i would add ""list"" to point out that there is a list of episodes and the list will be cleared, not episodes themselves.",0,0.9900013208389282
114029480,5287,zeule,2017-04-28T22:15:40Z,i can't find this icon in the qbt built-in theme.,0,0.9619752764701843
114030165,5287,zeule,2017-04-28T22:21:42Z,isn't this marker present already in `autodownloadrule::matches()`?,0,0.9950394034385681
114031843,5287,zeule,2017-04-28T22:37:44Z,disagree: those who do not use this feature shall not pay for it with their memory.,0,0.6803609728813171
114042659,5287,mgziminsky,2017-04-29T01:33:03Z,"i actually think it should be a `static const` defined inside the function. that would prevent it from using any memory for those that don't use it, and avoid the large overhead of constantly rebuilding and executing a complicated regex that hasn't been compiled.",0,0.9798076152801514
114046330,5287,glassez,2017-04-29T05:02:48Z,since this feature implemented incorrectly.,0,0.7965207695960999
114046350,5287,glassez,2017-04-29T05:04:46Z,"in any case, it is implemented incorrectly now. so if this is a really useful feature, we have two options: 1. i quickly implement it in compliance with the current design of rss subsystem 2. i'll leave it to the author of this pr (i'm not sure he'll do it correctly at once)",0,0.9024407267570496
114110622,5287,elFarto,2017-05-01T09:02:34Z,"i just tried doing this with named groups, but it seems that duplicate named groups are not allowed. this means i'd need to use 5 separate groups and a bunch of if/else if to extract the correct one. i remember having the issue with normal groups, hence how the code is written at the moment. i'll see if i can rewrite that method to be simpler.",0,0.9653111696243286
114232045,5287,mgziminsky,2017-05-02T00:57:47Z,"well that's unfortunate. that being the case, how about one of these options? 1. use captured groups for each component and identify the match by the `lastcapturedindex()`. since you are always capturing in pairs, episode should always be `lastcapturedindex()` and season `lastcapturedindex() - 1` 2. use an array of patterns using named captures and take the first that matches. this would likely be the cleanest in terms of code readability and maintenance , but has a high overhead.",-1,0.961452841758728
117911607,5287,glassez,2017-05-23T06:52:35Z,please don't produce such long lines. split this line into two.,-1,0.8634715676307678
117912063,5287,glassez,2017-05-23T06:56:15Z,wouldn't `clearselectedruledownloadedepisodes()` be more correct?,0,0.9924802780151367
117913612,5287,glassez,2017-05-23T07:06:56Z,please use another indentation. e.g.: [code block] you have too much empty space on the left.,0,0.9898338317871094
117913714,5287,glassez,2017-05-23T07:07:52Z,our coding style require split lines before operators.,0,0.9892039895057678
117914291,5287,glassez,2017-05-23T07:11:50Z,"although not mandatory, but it is better to omit the curly braces if there is only one line (exactly, one statement) inside. upd: this comment affects some other places in your code too.",0,0.9928532242774963
117914998,5287,glassez,2017-05-23T07:16:01Z,i don't see definition of this method.,0,0.9397700428962708
117918520,5287,glassez,2017-05-23T07:36:16Z,there is some incorrect logic. why is `computeepisodename()` called twice for the same article? here is my solution: 1. create `mutable` field in **autodownloadruledata** struct named *lastepisodename* 2. store last episode name inside `autodownloadrule::matches()` 3. create the following method (instead of your `autodownloadrule::matched()`): [code block] 4. call `rule.storelastmatch(job->articledate);` instead of `rule.setlastmatch(job->articledate); rule.matched(job->articletitle);` what do you say?,0,0.9078011512756348
117919099,5287,glassez,2017-05-23T07:37:57Z,move these fields to the other non-`mutable` fields.,0,0.9907451868057251
117919584,5287,glassez,2017-05-23T07:40:14Z,move these property getters/setters to the other getters/setters.,0,0.9947201013565063
118100016,5287,elFarto,2017-05-23T20:36:32Z,"that method seems like it would be very easy for lastepisodename to be leaked at some point. and it's a lot of effort to go to, just to avoid a duplicate call to computeepisodename(), which only happens when there is a match.",0,0.7365934252738953
118433983,5287,glassez,2017-05-25T07:35:37Z,"yes. this ""duplicate call"" is maybe not so bad in itself, but it indicates wrong logic in the code. agree. it was not a good example. i thought about it. then we just need to achieve a consistent interface and behavior. we just need to do some things explicitly: 1. keeping last matched episode name is correct behavior 2. get last matched episode name is correct interface (like in regular expressions, we can get some matched data) 3. having `appendpreviouslymatchedepisode()` is good idea (and correct interface) we get the following: [code block]",0,0.5429045557975769
118434989,5287,glassez,2017-05-25T07:44:11Z,"another thing i don't like are ""previously matched episode"" word combination in interface method names (as well as currently used ""last match""). one gets the impression that we fit in class internals. it would be nice to use a more appropriate concept. i'm not forcing you to do it here - it's just my thoughts. maybe something like ""exclude episode name""...",-1,0.6644396781921387
119472957,5287,elFarto,2017-05-31T21:01:46Z,"i've just been trying to implement this, but i came across the fact the matches method is const, and can't have side effects. that makes saving the computed episode name impossible. i think the correct solution is to have the matches method return an instance of a new object if it does match (which is what the regular expression class does), but i'm not sure changing the interface for the matches method is worth it for just the episode name.",0,0.8721959590911865
119579640,5287,glassez,2017-06-01T10:27:55Z,"if you don't pay attention, i offered to create `mutable` field which can be modified by const methods. having something like autodownloadrulematch is another way.",0,0.9848264455795288
119985540,5287,thalieht,2017-06-03T12:12:49Z,"this is just preference, i'm just saying it in case you didn't know. you can use `\\w` which is equivalent to `[^a-za-z0-9_]` (if you don't want the underscore ( _ )). also you can use `+` in place of `{1,}` i don't know if format 3 is a standard but would there be any chance that it might say e.g `2015.3.15` (omit leading zeros)? also could it use slashes or minus/dash instead of dots?",0,0.9866361021995544
119991334,5287,briankendall,2017-06-03T18:00:40Z,"as much as i don't want to suggest delaying this pr as i very much want it to be merged, i have to agree with about format 3. there is no standard at all with torrents, so i'd expect at some point this would fail to match something in someone's feed. a better regex is probably: `(\d{4}[_.\-x]\d{1,2}[_.\-x]\d{1,2}|\d{1,2}[_.\-x]\d{1,2}[_.\-x]\d{4})` or `(\\d{4}[_.\\-x]\\d{1,2}[_.\\-x]\\d{1,2}|\\d{1,2}[_.\\-x]\\d{1,2}[_.\\-x]\\d{4})` if it's escaped properly. that will match things like `2014.05.03`, `5.3.2014`, `2014_05_03`, `3-5-2014`, `2014x05x03` and so on. i think that's a good balance between being lenient enough to be unlikely to miss something and not so lenient as to match someone erroneously.",0,0.9430721402168274
119991881,5287,elFarto,2017-06-03T18:27:02Z,"while using the + is probably better, using \w probably isn't, as i just want to make sure the season/episode number isn't matching within something else, and fields might be separated by '_'s. as for adding more date formats, i'm not sure making the regex that lenient without at least some requirement to be dubious at best. and it also raises the question, should we interpret/reformat the date when we store it (like we do the episode numbers) so that we can continue to match if the format changes?",0,0.9583128690719604
119992121,5287,briankendall,2017-06-03T18:40:38Z,"i don't think that regex is too lenient. it's really unlikely to match anything other than date, especially since either the first or last group of numbers has to be four digits long. if you wanted you could modify it to exclude `_` and perhaps `x` as a separator character. i think it's likely that there will be dates separated with hyphens since that's standard in a lot of parts of the world. as for reformatting it... the correct:trade_mark: solution probably **is** to reformat the date into a canonical format. eventually there will be two torrents with the same date in two different formats for someone. but that's a pretty unlikely edge case, and on top of that, there's cases where it's ambiguous what the date actually is. (e.g. does 01.02.2017 mean january 2 or february 1?) so i don't think this is actually necessary.",0,0.8556599617004395
120590403,5287,glassez,2017-06-07T10:36:12Z,", you still didn't answer on this question.",-1,0.890121579170227
120614910,5287,Chocobo1,2017-06-07T12:48:58Z,add spaces: `lastcapturedindex - 1`,0,0.994666337966919
120616461,5287,Chocobo1,2017-06-07T12:56:01Z,"i would leave `static` out, `qregularexpression` isn't very expensive to construct.",0,0.987305223941803
120617648,5287,Chocobo1,2017-06-07T13:01:32Z,add curly braces: [code block],0,0.9949982166290283
120619759,5287,Chocobo1,2017-06-07T13:10:58Z,i would add a '\n' if possible. [code block],0,0.9942935109138489
120620377,5287,glassez,2017-06-07T13:13:28Z,have you any strong reason to construct the same object each time the method called?,0,0.9929702877998352
120623297,5287,Chocobo1,2017-06-07T13:24:43Z,"actually no, but if there is no performance bottleneck, i would like to keep the code simple (and avoid premature optimization), i'm talking about personal preference here.",0,0.9702960252761841
120641309,5287,glassez,2017-06-07T14:29:12Z,"then **if** branch must be enclosed with curly braces too. p.s. personally i like curent form, but if it doesn't follow qbittorrent coding style it should be fixed.",0,0.9802026748657227
120981611,5287,elFarto,2017-06-08T19:47:25Z,"hmm, that's odd. i entered \n into qt creator, and i that's what it wrote to the .ui file. i tried forcing \n in the file and it doesn't work, the tooltip shows a literal '\n'. i tried using instead, but that starts wrapping the text on multiple lines. it seems you either have to use an actual newline in the .ui, or some weird nonsense.",-1,0.8879015445709229
121060534,5287,Chocobo1,2017-06-09T07:02:46Z,just use the following: [code block] seems qtcreator converts '\n' to a real newline and it is alright.,0,0.993834376335144
164360858,5287,glassez,2018-01-29T08:33:30Z,"can you explain this regex, please.",0,0.9887998104095459
164363208,5287,glassez,2018-01-29T08:44:42Z,don't you know exactly what index you need?,0,0.9880067110061646
164363532,5287,glassez,2018-01-29T08:46:21Z,please explain what this function produces for different episode format.,0,0.9921699166297913
164511490,5287,elFarto,2018-01-29T17:57:03Z,"this regex combines all of the smart episode filters the user enters in the settings, and searches for them between non-alphanumeric characters, or the start/end of the article title.",0,0.9941841959953308
164513172,5287,elFarto,2018-01-29T18:03:10Z,"usually this function will join all the matching groups of the above regular expression with the 'x' character. this means for a regular expression that matches s01e02, it will produce the string '1x2'.",0,0.9939643740653992
164514339,5287,elFarto,2018-01-29T18:07:24Z,"no, i won't know the index. due to the way the regular expression matching occurs, every capturing group in the regex has a corresponding group index even when that group wasn't matched. so the regex: ""([0-9]+)|([a-z]+) has 2 groups at index 1 and 2 respectively, even though only one of them will ever be populated at once. with the move to user supplied regexs for episode filtering, i don't know how many groups there will be at compile time. i have to iterate through all the groups, check to see if they're populated, and append it to the episode name.",0,0.9682379364967346
164647087,5287,glassez,2018-01-30T05:56:35Z,i asked because i doubted that this regex is exactly what you want... and i was right. it searches between non-(latin lower-case letters or numbers) characters only. i don't think this behavior is consistent with the public use of this feature. what about `\b(?:%1)\b`?,0,0.9608074426651001
164668152,5287,elFarto,2018-01-30T08:25:48Z,"one small point, the regex is created as case-insensitive, so it does get upper case as well, but yes your point stands, it matches latin characters only. \b isn't a good choice, and is something i looked at early on, since it includes the '_' character which is something i would want to be a boundary. also, \b is just boundaries between [a-za-z0-9_], which is only one character different to what i've got. if i had examples of non-latin based articles i could make a better choice, but i feel this is fine for a first attempt.",0,0.9172196984291077
164677509,5287,glassez,2018-01-30T09:08:25Z,"unfortunately, i don't understand this. \b is boundary between any ""word"" character (i.e. \w) and non-""word"" character (including start/end of line). when you enable unicode support in qregularexpression \w includes also non-latin alphanumeric characters.",-1,0.8454474210739136
164695025,5287,glassez,2018-01-30T10:14:00Z,"the main disadvantage is \w includes underscore so it will not match, e.g., ""some_series_name_s01e03"". `(?<=^|[\w_])s(\d+)e(\d+)(?=[\w_]|$)` should match.",0,0.9586531519889832
164778638,5287,briankendall,2018-01-30T15:32:29Z,i'd like to suggest: `(?:^|[\w_])(?:%1)(?:[\w_]|$)` that should match the pattern between any word boundary characters as well as underscore. be sure to include `qregularexpression::useunicodepropertiesoption` when constructing the `qregularexpression` so that `\w` will properly match unicode word boundaries.,0,0.9925629496574402
164783876,5287,glassez,2018-01-30T15:47:01Z,", your suggestion is almost the same as mine above (except i have example only for some particular format).",0,0.9813592433929443
164789768,5287,briankendall,2018-01-30T16:02:49Z,"i thought `\b` matches a backspace character? edit: nevermind, it depends on regex implementation, at for qt it does probably match a word boundary. using `[\b_]` and `[\w_]` are probably equivalent. the most important bit is including the underscore, though.",0,0.986331582069397
164838640,5287,elFarto,2018-01-30T18:39:55Z,"there was meant to be an underscore between the quotes, but i had forgotten that was a markdown character. i've played around with it a bit, and settled on `(?:[_]|\b)`, with unicode support enabled. `\b` isn't a character class so you can't place it inside [ ].",0,0.9887758493423462
164840582,5287,glassez,2018-01-30T18:47:05Z,"my last example i talk about isn't contain `\b`: `(?<=^|[\w_])s(\d+)e(\d+)(?=[\w_]|$)` iirc, `\b` doesn't work in this case (at least, as you expect).",0,0.9912398457527161
164842524,5287,glassez,2018-01-30T18:53:47Z,"`(?<=^|[\w_])(?:%1)(?=[\w_]|$)` is what you need. do try it on [a link] (don't forget to select pcre as regex engine). p.s. `[_]` is a perversion, you don't need `[]` for a single character.",0,0.9918069243431091
165289404,5287,glassez,2018-02-01T08:49:23Z,"this is c++ so you don't need use `this` everywhere, just in case of name conflicts.",0,0.9935917258262634
165289471,5287,glassez,2018-02-01T08:49:44Z,const,0,0.8837863802909851
165289665,5287,glassez,2018-02-01T08:50:45Z,const,0,0.8837863802909851
165289833,5287,glassez,2018-02-01T08:51:51Z,and so on... in every place you don't have to modify variable.,0,0.9784613251686096
165290414,5287,glassez,2018-02-01T08:54:47Z,"you can set all options once you create regex object (in autodownloader constructor) and update only pattern here, isn't it?",0,0.9944829344749451
165290623,5287,glassez,2018-02-01T08:55:57Z,"we don't use ""get"" prefix.",0,0.9889655113220215
165290933,5287,glassez,2018-02-01T08:57:17Z,wrong order of headers. see coding guidelines.,0,0.658299446105957
165291102,5287,glassez,2018-02-01T08:58:07Z,curly brace in wrong place.,-1,0.5690831542015076
165291683,5287,glassez,2018-02-01T09:01:02Z,you have many unrelated changes in .ui files (probably created by qtcreator). please undo it.,0,0.9933905601501465
165296195,5287,glassez,2018-02-01T09:21:18Z,"it's not so obvious for user to add outer non-capturing group (as well as to have any captures here). it can type just, e.g., ""sn\d+ep\d+"" and wonder why it not works properly. actually, the user should understand how it works to set valid regex.",0,0.9891548752784729
165297005,5287,glassez,2018-02-01T09:24:39Z,"iirc, it allows to download many proper/repack copies of the same episode.",0,0.9905919432640076
165453864,5287,elFarto,2018-02-01T18:57:50Z,"no, the regex also needs to be updated if the smart episode filter option is changed in the options dialog.",0,0.9924295544624329
165460307,5287,elFarto,2018-02-01T19:21:32Z,i've tweaked the regex creation to insert a non-capturing group around each item. i was meaning to do that anyway. i've also modified these rules to not include a redundant non-capturing group.,0,0.9935024380683899
165463414,5287,elFarto,2018-02-01T19:31:55Z,"i'm not quite sure what you mean. i suppose we could keep track of the repacks aswell, but you usually want to always download these.",0,0.8480986952781677
165592587,5287,glassez,2018-02-02T09:15:39Z,you do not understand what i mean? just do: [code block] once `smartepisoderegex ` created (e.g. in autodownloader constructor). then just do here the following: [code block],0,0.9931665062904358
165614775,5287,glassez,2018-02-02T10:52:29Z,"let's imagine the following articles sequence: 1. some title s01e03 2. some title s01e03 3. some title s01e03 repack 4. some title s01e03 repack 5. some title s01e03 repack it downloads 1st torrent, skips the 2nd (as expected), and download 3, 4 and 5th torrents. is this behavior expected?",0,0.9881017208099365
165615906,5287,glassez,2018-02-02T10:57:46Z,", why this breaking coding style change? revert it back!",-1,0.9468149542808533
165617147,5287,glassez,2018-02-02T11:03:25Z,it's still here.,0,0.9754859805107117
165693593,5287,briankendall,2018-02-02T16:34:10Z,"i can pitch in and say yes, that is expected. the convention is that torrents labeled repack include some kind of fix that means it supersedes the previous torrent, and should always be downloaded.",0,0.9889923334121704
165719383,5287,glassez,2018-02-02T18:18:34Z,even other repacks?,0,0.9908507466316223
165735015,5287,elFarto,2018-02-02T19:18:42Z,"yes, i've just been testing with one where this has happened.",0,0.9914402961730957
165808797,5287,glassez,2018-02-03T08:30:17Z,i didn't understand what do you mean. i was just asking is it normal (expected) that it downloads all repack/proper episode variants?,0,0.884016752243042
165809021,5287,glassez,2018-02-03T08:43:03Z,"is header inclusion order (from qbittorrent coding guidelines) too difficult? why do you constantly produce such ""invalid"" changes?",0,0.9129236340522766
165810457,5287,elFarto,2018-02-03T09:56:13Z,"yes, it is expected behaviour.",0,0.9913211464881897
165814979,5287,glassez,2018-02-03T13:45:47Z,"why? , the main problem of this pr is your reluctance (or inability) to provide a detailed description (in some example) of the incident, processed by this feature, to not involved people could clearly understand the meaning of this process. why duplicate episodes typically occur? why, in contrast to the ""normal"" episodes, we don't have to skip repeated ""repack/proper"" episodes? now this feature is more like a ""personal use"" than the ""public use"".",0,0.6948771476745605
165816685,5287,glassez,2018-02-03T14:56:27Z,", forgive my boredom in this issue, i just don't want to answer such questions of users (when we release this feature), not realizing why it works this way and not otherwise.",-1,0.9677128195762634
165818463,5287,briankendall,2018-02-03T16:21:16Z,"i'll chime in again and try to help explain it in detail. hopefully you'll find this satisfactory: the labels ""repack"" and ""proper"" are common conventions used among release groups providing episodes of tv shows, as well as other media. these conventions are used among pretty much every bittorrent tracker that distributes these files. [a link], but in summary, ""repack"" means a rerelease of a previous episode, likely by the same group, meant to correct an error in the first copy. ""proper"" can mean the same thing, or more specifically a release by another group meant to correct an error from the first group. these specific meanings may not be consistent among releases, but you always want to download torrents labeled proper or repack because they, quite consistently, only appear when the episode you've *already downloaded* contains an error. for example, the few times it's happened since i've been using this pr by , the original file that was downloaded was broken to the point of being unplayable. but i didn't need to do anything or worry about it because the proper / repack version was also automatically downloaded. and as has said, sometimes there's more than one because it takes the release groups a few tries to fix an error. it's also worth mentioning that other torrent clients or rss downloaders with a ""smart episode"" feature do this exact same thing. if you're concerned about users nagging you for support requests, then this will save you many questions from people asking for this exact feature.",1,0.815544843673706
165821973,5287,glassez,2018-02-03T18:45:00Z,"well, i got the following picture: 1. there are several releasers (release groups) on some tracker. 2. they release the same episodes independently so there are duplicates can appear (otherwise this issue can't exist). 3. there is no acceptable (or reliable) way to separate the episodes of the various relisers (using download rules), or we don't want (unable) to do so for some other reason. 4. when some error is detected in the release the releaser publish fixed release (marked as repack or proper). there also can be some proper/repack release fixing error in previous proper/repack release (isn't it?). 5. since we can't distinguish releases from different releasers (because of the same reasons as in item 3) we have only to download them all. what i am mistaken?",0,0.9766851663589478
165822488,5287,briankendall,2018-02-03T19:04:41Z,"that's mostly correct, but the whole picture is a little different than that. 1. release groups are usually not associated with any particular tracker. it's the tracker's users that obtain the release and make it available on the tracker. 2. this is correct. additionally, sometimes the users of a tracker make their own rip of an episode and make it available, alongside the scene releases. 3. this completely depends on the tracker in question. some of them are very, very tightly organized and you can easily distinguish different releases from the rss post's title. other times this is not the case at all. in the end it is still the responsibility of the qbittorrent user to create a good rule definition in the rss downloader so that it only considers torrents they want, even when using the smart episode filter. 4. this is correct. additionally, a tracker's users can also create their own fixed version of a torrent. either way, the torrent's title should have proper or repack in its title, as per convention. 5. again, this depends on the tracker and how well organized it is, but generally the best way to make sure a good version of an episode is downloaded is first use the user's rule definition in the rss downloader to figure out which episodes are candidates for downloading, then extract out the season/episode number from the rss post and ensure it only downloads one copy. the exception of course is when proper or repack appears. it is technically possible that too many copies of the episode could be downloaded, but in practice this almost never happens and the feature works correctly. i've been using this smart episode feature for over a year now, granted the version of the pr i merged in and compiled doesn't include the option to change or add regex's. however it has been working flawlessly, including when proper or repack torrents are downloaded.",0,0.9184117913246155
165822979,5287,strigona,2018-02-03T19:26:08Z,"i'm going to chime in and say that - as a user, this is exactly what i'd want & expect. i came from utorrent and that's how their smart episode filter works (granted they don't have the options for custom regex).",0,0.8962141275405884
166017318,5287,Chocobo1,2018-02-05T16:00:23Z,initialize it: [code block],0,0.9960163235664368
166017728,5287,Chocobo1,2018-02-05T16:01:31Z,up one line,0,0.9858560562133789
166018050,5287,Chocobo1,2018-02-05T16:02:25Z,`++i`,0,0.974772572517395
166018537,5287,Chocobo1,2018-02-05T16:03:43Z,`if (cap.isempty()) continue;`,0,0.9926826357841492
166018605,5287,Chocobo1,2018-02-05T16:03:57Z,`bool isint = false;`,0,0.9938068389892578
166018767,5287,Chocobo1,2018-02-05T16:04:24Z,use `?:` operator,0,0.9924386143684387
166019361,5287,Chocobo1,2018-02-05T16:06:20Z,if possible use c++11 range-based `for()`,0,0.9953224062919617
166020656,5287,Chocobo1,2018-02-05T16:10:24Z,this property block is redundant.,0,0.9672425389289856
166020979,5287,Chocobo1,2018-02-05T16:11:21Z,add `const`,0,0.9946578145027161
533058890,13885,glassez,2020-12-01T04:02:34Z,"inappropriate parameter name, don't you think?",-1,0.7439342141151428
533059416,13885,glassez,2020-12-01T04:04:36Z,"i would rename all these to `isxxxdisabled()`, `setxxxdisabled()`",0,0.9948110580444336
533060557,13885,glassez,2020-12-01T04:09:16Z,please don't mix initialisation styles: [code block] also the following looks more familiar for me: [code block],0,0.9684320688247681
533209656,13885,thalieht,2020-12-01T09:24:50Z,ok,0,0.9233372807502747
533209810,13885,thalieht,2020-12-01T09:24:56Z,ok,0,0.9233372807502747
533209939,13885,thalieht,2020-12-01T09:25:01Z,indeed :),0,0.9532529711723328
533319144,13885,Chocobo1,2020-12-01T10:56:17Z,"i don't think this line has any useful effect now, try removing it.",0,0.838612973690033
533328004,13885,glassez,2020-12-01T11:11:36Z,is this member variable really needed?,0,0.9928734302520752
533332070,13885,glassez,2020-12-01T11:18:46Z,"i would move these two lines in constructor and keep only limit-related assignments here. otherwise, i don't understand based on what concept you extracted this code from the constructor.",0,0.9893425703048706
533335790,13885,glassez,2020-12-01T11:25:16Z,as i suggested before you can extract all speed limits related code into separate widget class and use it in your dialogs (there are at least 3 places where the same widget can be used) and in options dialog too.,0,0.9949100613594055
533352755,13885,glassez,2020-12-01T11:55:20Z,or maybe leave it for a separate pr (if it can cause difficulties for you)?,0,0.983435332775116
533364098,13885,glassez,2020-12-01T12:15:19Z,braces required.,0,0.9859155416488647
533370066,13885,glassez,2020-12-01T12:26:08Z,final,0,0.9173561930656433
533372773,13885,glassez,2020-12-01T12:31:05Z,it's a bad idea to store torrenthandle pointers. some of them can be deleted while the dialog is being shown. you should either store torrent hashes and query torrents in `accept()` (and other places after dialog is constructed) or handle torrent deletion events to adjust this list accordingly.,-1,0.6280025243759155
533374508,13885,glassez,2020-12-01T12:34:14Z,"critical message is too much, imo.",-1,0.8891412019729614
533375432,13885,glassez,2020-12-01T12:35:54Z,also i would just disable ok button if control values have inconsistent states.,0,0.9922963976860046
533421513,13885,thalieht,2020-12-01T13:51:45Z,"i thought so but, from this comment, i guess there is no problem using session::instance() where needed.",0,0.988067626953125
533494595,13885,thalieht,2020-12-01T15:19:45Z,don't know how and it sounds like too much trouble. i won't do it.,-1,0.9731224179267883
533495348,13885,thalieht,2020-12-01T15:20:39Z,can't see why it matters but sure.,0,0.9195324778556824
533510205,13885,glassez,2020-12-01T15:39:27Z,you can declare local variable if you need to access it several times per function.,0,0.994443953037262
533513901,13885,glassez,2020-12-01T15:44:03Z,"you have some initialization code in the constructor directly and some other is separated into this method. i'm sorry, but i didn't see any pattern on which it is based (maybe i just didn't understand it). but then what's the point? why not put all the code in the constructor? or vice versa, in this method?",-1,0.981864333152771
533547330,13885,thalieht,2020-12-01T16:26:19Z,no particular reason. it was this way initially in this dialog and i just continued it. want me to move everything in the constructor? it will have to be a new commit though because i'm not wasting my time resolving conflicts between existing commits or trying to figure out what goes where.,-1,0.6420192718505859
533552828,13885,thalieht,2020-12-01T16:33:42Z,"note that i just moved this here. about critical: which of the other options convey ""you can't proceed until...""? if it was right after performing an invalid action i'd agree but here it's because an extra action is needed.",0,0.9887979626655579
533554586,13885,glassez,2020-12-01T16:36:08Z,"it contradicts our rules. we do not merge prs that have a dirty history. you will have to apply any required changes to the corresponding commits. or just squash all your commits into one in the end (even now, it doesn't look like all of them are independent enough).",-1,0.6584031581878662
533578062,13885,thalieht,2020-12-01T17:08:04Z,"thank god. i'll squash the last 3 for ""torrent options"" at least and we'll see from there. well?",1,0.9663123488426208
533675151,13885,thalieht,2020-12-01T19:43:06Z,i hope i did it right (fixup commit).,1,0.9555404186248779
533675182,13885,thalieht,2020-12-01T19:43:10Z,"indeed, removed.",0,0.9734717011451721
534011713,13885,glassez,2020-12-02T09:20:58Z,"i want this to be a logical separation, if necessary (for example, you can extract the initialization code for control values from the current session property values, and leave everything else in the constructor). or you can extract the code that is called from several places (but this is not the case here). if in doubt, just put everything in the constructor, because the current split is only confusing.",0,0.9920179843902588
534012892,13885,glassez,2020-12-02T09:22:42Z,"well, i guess you're right. don't stop there.",0,0.9438057541847229
534016244,13885,glassez,2020-12-02T09:27:26Z,override,0,0.9805362224578857
534017996,13885,glassez,2020-12-02T09:29:50Z,"m_torrenthashes or m_infohashes ""selected"" is irrelevant in this context (because there are no other torrents for this class).",0,0.9917306303977966
534447639,13885,thalieht,2020-12-02T20:05:27Z,i moved everything.,0,0.8986597061157227
535194733,13885,glassez,2020-12-03T12:40:24Z,not very. i told you: but you can (as before) get them as an input parameter. this will save you from unnecessary lookups in the constructor. then you can store their hashes.,0,0.9871063232421875
535487382,13885,thalieht,2020-12-03T18:40:23Z,done.,0,0.9897913336753845
535501450,13885,glassez,2020-12-03T19:00:41Z,you still don't understand me. you shouldn't check it here (they are valid unless caller side has bugs). and you shouldn't unnecessarily lookup for torrents in constructor. you should store hashes only to use them later (since some torrent can be deleted while dialog is shown).,-1,0.5802918076515198
535526058,13885,thalieht,2020-12-03T19:33:41Z,i don't understand what the problem is. i thought that's what i'm doing.,-1,0.9337452054023743
535543343,13885,glassez,2020-12-03T19:56:54Z,the problem is that you lookup for each torrent by its hash next in this constructor which is unnecessary since you already have valid torrent handles here.,0,0.729053258895874
535547880,13885,thalieht,2020-12-03T20:04:03Z,dang! i'm so...,-1,0.9701035022735596
536018299,13885,glassez,2020-12-04T11:03:44Z,why not add this line to the loop below?,0,0.9927841424942017
536021588,13885,glassez,2020-12-04T11:09:31Z,disablepex,0,0.9849109649658203
536114974,13885,glassez,2020-12-04T13:53:52Z,i would put many of trivial slots like this one directly in `connect()` invocation as lambdas.,0,0.9891083240509033
536147292,13885,thalieht,2020-12-04T14:41:51Z,done.,0,0.9897913336753845
536148298,13885,thalieht,2020-12-04T14:43:13Z,"i forgot that's possible thanks. /off topic do ""fixup"" commits help reviewing or nah?",1,0.9419854283332825
536180027,13885,glassez,2020-12-04T15:27:39Z,"do ""fixup"" commits help reviewing or nah? i do not care. i'm looking at pr changes in its entirety, so do as you like. if i need any changes to be made in a separate commit, i will ask for it explicitly.",0,0.7706760764122009
536187928,13885,glassez,2020-12-04T15:39:04Z,shouldn't they be checked+disabled for private torrents?,0,0.9925852417945862
536189636,13885,glassez,2020-12-04T15:41:33Z,shouldn't you have they enabled only if all torrents aren't private? otherwise what happens if user uncheck some of them having some private torrents selected?,0,0.9924543499946594
536191697,13885,glassez,2020-12-04T15:44:28Z,is this a valid copyright now?,0,0.9952027797698975
536210940,13885,thalieht,2020-12-04T16:12:13Z,nothing [code block] why shouldn't users be allowed to change these settings if even 1 public torrent is selected? private ones won't be affected.,0,0.9837915897369385
536211112,13885,thalieht,2020-12-04T16:12:28Z,"and provide the illusion that these settings are applied to private torrents? but on the other hand, checked will be more intuitive for users i guess. will change.",0,0.986801266670227
536211160,13885,thalieht,2020-12-04T16:12:35Z,sure i don't care.,-1,0.5370154976844788
536339813,13885,zywo,2020-12-04T19:46:26Z,why not simply [code block] for the setters?,0,0.9915164709091187
536357408,13885,thalieht,2020-12-04T20:20:31Z,i guess set... is easier to search for. assuming all setters start with it (i didn't look).,0,0.9824995994567871
536364267,13885,zywo,2020-12-04T20:34:33Z,"yes, you're right.",0,0.9611955285072327
536530829,13885,glassez,2020-12-05T06:56:03Z,"maybe add notification ""private torrents won't be affected by these settings""?",0,0.9922884106636047
536587939,13885,thalieht,2020-12-05T09:13:14Z,uhh sure.,0,0.9384394288063049
537052496,13885,jagannatharjun,2020-12-06T14:43:05Z,[code block] or maybe a better way is to have the icon in the group box text rather,0,0.9914963245391846
538301304,13885,thalieht,2020-12-08T12:16:43Z,i'll change it when i fix that dialog.,0,0.9921172261238098
539328091,13885,jagannatharjun,2020-12-09T13:59:14Z,"imho, ""torrent options"" doesn't seem right here, the dialog that follows doesn't actually include a majority of torrent options.",0,0.8803040385246277
539340631,13885,glassez,2020-12-09T14:15:13Z,any suggestions?,0,0.9799030423164368
539342020,13885,glassez,2020-12-09T14:17:02Z,"anyway menu item that shows dialog should have name with ""..."" in the end.",0,0.9896826148033142
539346869,13885,jagannatharjun,2020-12-09T14:22:49Z,"""torrent speed management"" or ""share options"", idk i'm not good with naming.",-1,0.6601957678794861
539373673,13885,glassez,2020-12-09T14:54:50Z,"but there may be different types of options. maybe something less specific, like ""other options... "" or ""more options...""?",0,0.9883114695549011
539403702,13885,ArcticGems,2020-12-09T15:29:15Z,"i think we should keep the current name. if you really want to change the name, what about ""torrent **health** options""??",0,0.9796767830848694
539415648,13885,glassez,2020-12-09T15:43:09Z,because of the same reason as in [a link] there may be options of different kind.,0,0.9870852828025818
539489814,13885,ArcticGems,2020-12-09T17:11:45Z,"to me those titles are for minor/miscellaneous options and i personally don't consider current options (speed,share & dht/pex/lsd) as minor for a torrent. maybe we should keep the current title??",0,0.9706517457962036
539974552,13885,Chocobo1,2020-12-10T08:37:21Z,"wrong order, move it one line up.",0,0.6801255345344543
539975841,13885,Chocobo1,2020-12-10T08:39:34Z,looks like this is `const` now: `void capspeed() const;`,0,0.9929036498069763
539977423,13885,Chocobo1,2020-12-10T08:42:01Z,try `void settorrentoptions() const;`,0,0.9941522479057312
539978718,13885,Chocobo1,2020-12-10T08:43:57Z,try `void on_actionsetglobalspeedlimits_triggered() const;`,0,0.9941144585609436
539984226,13885,Chocobo1,2020-12-10T08:52:16Z,wrong order.,-1,0.7645806670188904
539984658,13885,Chocobo1,2020-12-10T08:52:52Z,`const qvector &torrents`,0,0.9942032694816589
539985608,13885,Chocobo1,2020-12-10T08:54:28Z,i would give the default values here instead of in .cpp file.,0,0.9906399250030518
539986473,13885,Chocobo1,2020-12-10T08:55:48Z,"you can also consider using `{}` to initialize values, for example: `qdialog {parent}`",0,0.9940406680107117
540067520,13885,thalieht,2020-12-10T10:49:29Z,"can't, `parent` argument for torrentoptionsdialog would have to be const and then i can't init `qdialog` with it...",0,0.9843937754631042
540087878,13885,thalieht,2020-12-10T11:20:50Z,all of them or just here?,0,0.986102819442749
540102555,13885,Chocobo1,2020-12-10T11:45:01Z,all of them of course.,0,0.9764198064804077
540130946,13885,thalieht,2020-12-10T12:31:06Z,"just to be clear, ""just here"" i mean the initialization list.",0,0.9888851642608643
540349087,13885,thalieht,2020-12-10T17:15:18Z,same as [a link],0,0.9953129291534424
540349363,13885,thalieht,2020-12-10T17:15:42Z,same as [a link],0,0.9953129291534424
540349714,13885,thalieht,2020-12-10T17:16:11Z,done.,0,0.9897913336753845
540351701,13885,thalieht,2020-12-10T17:18:54Z,"i only did it to the list for now. personally i find `{}` less readable but hey, you're the one looking at the code base most, so if you want me to change everything i'll do it.",0,0.9565920233726501
540907486,13885,Chocobo1,2020-12-11T12:18:31Z,please also change to: `class speedlimitdialog final : public qdialog`,0,0.995661199092865
540910849,13885,Chocobo1,2020-12-11T12:25:02Z,personally i would like to do it this way: [code block],0,0.9908545017242432
540913363,13885,Chocobo1,2020-12-11T12:29:37Z,i would suggest we use a helper function here: [code block],0,0.9950050711631775
540915288,13885,Chocobo1,2020-12-11T12:33:23Z,ok and that is exactly what i meant.,0,0.9873385429382324
541074961,13885,thalieht,2020-12-11T16:36:04Z,done thanks.,0,0.7158834934234619
541075609,13885,thalieht,2020-12-11T16:37:02Z,done. i'm not sure why you commented on this line though.,0,0.9790781140327454
541512780,13885,Chocobo1,2020-12-12T06:12:49Z,github doesn't allow me to place comment there... also `final` will benefit functions that has `override`.,0,0.9858981370925903
541513347,13885,Chocobo1,2020-12-12T06:16:36Z,i meant applying the changes to `speedlimitdialog::accept()` too.,0,0.9916239380836487
543967511,13885,Chocobo1,2020-12-16T05:16:31Z,please add `m_torrenthashes.reserve(torrents.size());` before the for loop.,0,0.9955748319625854
543971458,13885,Chocobo1,2020-12-16T05:21:14Z,those update functions has the same pattern so it would be recommended to abstract it: [code block],0,0.9953586459159851
543981370,13885,Chocobo1,2020-12-16T05:34:21Z,can you drop the decimal point?,0,0.9934874773025513
543983570,13885,Chocobo1,2020-12-16T05:37:14Z,you can drop this curly braces to make the code more concise.,0,0.9939796924591064
543984462,13885,Chocobo1,2020-12-16T05:38:22Z,`const bool isaltlimitenabled = session->isaltglobalspeedlimitenabled();`,0,0.9934276342391968
543984999,13885,Chocobo1,2020-12-16T05:39:06Z,please move this up to the group of `bool` vars.,0,0.9958462119102478
543985847,13885,Chocobo1,2020-12-16T05:40:06Z,i think you should handle the case when `torrents` is empty.,0,0.987147331237793
543989075,13885,Chocobo1,2020-12-16T05:44:42Z,seems possible to rewrite: [code block],0,0.9941827654838562
543989720,13885,Chocobo1,2020-12-16T05:45:48Z,curly braces can be removed.,0,0.9863281846046448
543990859,13885,Chocobo1,2020-12-16T05:47:16Z,`for (const bittorrent::infohash &hash : asconst(m_torrenthashes()`,0,0.9923785924911499
543993124,13885,Chocobo1,2020-12-16T05:50:05Z,please move this down to near `m_ui`. also you should rewrite it: [code block],0,0.9956919550895691
543994691,13885,Chocobo1,2020-12-16T05:52:12Z,"if the order isn't important, i would rearrange them (to be more efficient in memory layout): [code block]",0,0.9935883283615112
544517309,13885,thalieht,2020-12-16T18:14:19Z,sorry what am i supposed to do? also [a link] (that was in constructor),-1,0.9928650856018066
544519566,13885,thalieht,2020-12-16T18:17:41Z,but it's supposed to be a `qreal`. e.g. [a link] maybe you meant this for `getseedingtime()`? it slipped by me. removed from there.,0,0.9899485111236572
544621895,13885,thalieht,2020-12-16T21:04:38Z,done.,0,0.9897913336753845
544622121,13885,thalieht,2020-12-16T21:04:58Z,"i chose the first, thanks.",1,0.7254252433776855
544622252,13885,thalieht,2020-12-16T21:05:13Z,done.,0,0.9897913336753845
544622346,13885,thalieht,2020-12-16T21:05:23Z,sure done.,0,0.9776996374130249
544622473,13885,thalieht,2020-12-16T21:05:32Z,"forgot about that, thanks.",1,0.6391840577125549
544622530,13885,thalieht,2020-12-16T21:05:38Z,done.,0,0.9897913336753845
544622588,13885,thalieht,2020-12-16T21:05:43Z,done.,0,0.9897913336753845
544623781,13885,thalieht,2020-12-16T21:07:51Z,i check for emptiness in caller side.,0,0.9921407699584961
544754493,13885,Chocobo1,2020-12-17T01:59:42Z,"i get it, but unless the compiler complains i would still prefer not having it (decimal point) in this case. coercion from `int` to floating point types shouldn't produce any warnings iirc.",0,0.9053726196289062
544758649,13885,Chocobo1,2020-12-17T02:11:43Z,i think adding `q_assert(!torrents.empty());` above `session` variable declaration should suffice. seems not related to me. sure. by having `q_assert()` here shows we expect this (unusual) condition to hold.,0,0.9857563376426697
545002037,13885,thalieht,2020-12-17T11:03:49Z,done.,0,0.9897913336753845
546193570,13885,Chocobo1,2020-12-19T05:14:44Z,is it worth to change this behavior? why not use the default behavior from qt? we can have less code then.,0,0.9848513007164001
546194063,13885,Chocobo1,2020-12-19T05:19:30Z,"i think it is better to place a vertical spacer above the `qdialogbuttonbox`, like in torrentoptionsdialog.ui.",0,0.9874014258384705
546194527,13885,Chocobo1,2020-12-19T05:25:29Z,please simplify the grid as done in this picture: ![a link],0,0.7077894806861877
546228361,13885,thalieht,2020-12-19T11:37:26Z,"i don't follow. if i don't do this, `partiallychecked` will be available to users when toggling the checkbox, if that's the checkbox's startup state. or you're saying there's an easier way to do this?",0,0.9874818325042725
546228798,13885,thalieht,2020-12-19T11:43:18Z,"thanks, i didn't know about it.",1,0.8283975720405579
546228813,13885,thalieht,2020-12-19T11:43:23Z,done.,0,0.9897913336753845
546316634,13885,Chocobo1,2020-12-20T03:47:43Z,"yes, is there a reason to avoid this behavior? if a user misclicked a checkbox, at least he will have the chance to revert it instead of close/reopen the dialog.",0,0.9906892776489258
546363968,13885,thalieht,2020-12-20T11:33:29Z,i didn't imagine someone would want this but i guess you're right. changed it back to default.,0,0.9563016295433044
548017618,13885,glassez,2020-12-23T15:37:50Z,why not print `disabled for this torrent` in case of **private** torrents? i would rearrange conditions in the following way: [code block] or if it's important to see that dht is disabled for this particular torrent even when it is globally disabled: [code block],0,0.9930452704429626
548021958,13885,glassez,2020-12-23T15:47:21Z,do you really need all these `updatexxxvalue()` methods? why don't use `m_ui->xxx->setvalue()` directly?,0,0.9876136779785156
548023335,13885,glassez,2020-12-23T15:50:20Z,the same question is about all these `getxxxspeedlimit()` methods...,0,0.992327868938446
548026601,13885,glassez,2020-12-23T15:57:28Z,redundant space after &&,0,0.9887223243713379
548028481,13885,glassez,2020-12-23T16:01:44Z,`else` is redundant after `return`,0,0.9925722479820251
548029142,13885,glassez,2020-12-23T16:03:14Z,`else` is redundant after `return`,0,0.9925722479820251
548182454,13885,thalieht,2020-12-23T19:51:08Z,no reason. i just hope people won't be confused when they see it and think they can enable dht etc for private torrents. but then again the same can be said about the global setting. changed. it is important because the global setting is irrelevant if it's disabled for the torrent.,0,0.6271717548370361
548182484,13885,thalieht,2020-12-23T19:51:11Z,"fine, fine. i inlined all one-liners except for [code block]",0,0.9287130236625671
548388600,13885,glassez,2020-12-24T05:29:38Z,is it intended to have negative values?,0,0.9277760982513428
548534955,13885,thalieht,2020-12-24T13:47:05Z,"intended? no, hence the qmax. it is -1 when torrents limits are different but it won't reach the call sites (anymore). removed qmax and inlined them.",0,0.9939397573471069
548862191,13885,glassez,2020-12-25T11:51:02Z,in this case (and several cases below) using lambda is redundant: [code block],0,0.9912638664245605
548863226,13885,glassez,2020-12-25T11:59:37Z,you can connect `qslider::valuechanged` with `qspinbox::setvalue` directly.,0,0.9953222870826721
548864031,13885,glassez,2020-12-25T12:06:56Z,you can connect `qcheckbox::toggled` with `qspinbox::setenabled` directly.,0,0.9955782294273376
548864296,13885,glassez,2020-12-25T12:09:33Z,please add blank line above.,0,0.9948902130126953
548864312,13885,glassez,2020-12-25T12:09:45Z,please add blank line above.,0,0.9948902130126953
548864822,13885,glassez,2020-12-25T12:15:02Z,i would declare constant mixed_ratios to indicate it instead of using numbers directly.,0,0.9856062531471252
548864985,13885,glassez,2020-12-25T12:16:15Z,please add blank line above.,0,0.9948902130126953
548865089,13885,glassez,2020-12-25T12:16:57Z,please add blank line above.,0,0.9948902130126953
548900896,13885,thalieht,2020-12-25T18:39:20Z,"thanks, changed all of these.",1,0.8887906670570374
548901018,13885,thalieht,2020-12-25T18:41:19Z,i declared mixed_share_limits that is used for both ratio and seeding time. i can change it to 2 constants if that's confusing.,0,0.9920327663421631
552936718,13885,sledgehammer999,2021-01-06T20:05:45Z,wtf? why was the **deletion** of other people's copyright years allowed? was the file rewritten so much that their code isn't here anymore?,-1,0.991411566734314
552948489,13885,glassez,2021-01-06T20:34:36Z,"seems git incorrectly show this file as rewritten `updownratiodialog.h`. looking at its diff and diffs of the accompanying .`cpp`/`.ui` files, it is clear that this is something created from scratch (am i wrong?). the question is why the author did not want to indicate himself in the copyright, but indicated christophe dumez. we did not focus on this... to be honest, i do not understand the intricacies of copyright, and we do not have any declared policy about it to be guided by it.",0,0.7042107582092285
884455202,16840,Chocobo1,2022-05-30T06:18:31Z,might be faster to use a loop directly. currently it needs to construct a qset first and then throw it away after use.,0,0.9794393181800842
884460444,16840,Chocobo1,2022-05-30T06:27:10Z,"based on [a link] `m_loadedresumedata.clear()` might be faster than `m_loadedresumedata = {};`, and the latter might change memory location (which is undesired imo) if i understand correctly.",0,0.9855319857597351
884461601,16840,Chocobo1,2022-05-30T06:29:06Z,[code block] since we don't mutate it in its lifetime.,0,0.9894406199455261
884465942,16840,Chocobo1,2022-05-30T06:36:09Z,off topic what is rule for deciding which form to use now? i can't see a pattern here.,0,0.9724037051200867
884467192,16840,Chocobo1,2022-05-30T06:38:11Z,if i read correctly: [code block] or just inline the call into the next line.,0,0.9925853610038757
884469461,16840,Chocobo1,2022-05-30T06:41:46Z,it would be nice to break it into smaller parts: [code block],0,0.9809531569480896
884471990,16840,Chocobo1,2022-05-30T06:45:49Z,is it possible to have a less generic name?,0,0.9911245703697205
884474272,16840,Chocobo1,2022-05-30T06:49:15Z,"currently we haven't dropped qt5, should we still prefer `qvector`?",0,0.9919374585151672
884650961,16840,glassez,2022-05-30T09:58:55Z,"what, for example? it's a private name, so i didn't care much. besides, i really can't think of anything more suitable for storing parameters.",0,0.8730553984642029
884653416,16840,glassez,2022-05-30T10:01:33Z,"it was a list before that, so i don't see the point in changing it on the threshold of qt6. we don't even know its size to reserve.",0,0.9778715968132019
884658143,16840,glassez,2022-05-30T10:06:48Z,"when i studied programming, loops without a condition like `while (true)` were considered as something like `goto`.",0,0.9725750088691711
884664465,16840,glassez,2022-05-30T10:13:43Z,currently everything is moved. without `std::exchange` it will copy at least once.,0,0.992946207523346
884720700,16840,glassez,2022-05-30T11:21:37Z,"when we discussed this last time, we agreed that in the case of a constructor call, curly braces should be used only in extreme cases, namely, either when it is necessary to eliminate ambiguity, or when the list of parameters follows directly after the variable name: [code block]",0,0.9934229254722595
884767163,16840,glassez,2022-05-30T12:14:32Z,changed.,0,0.9680466055870056
884767753,16840,glassez,2022-05-30T12:15:20Z,fixed.,0,0.9905837774276733
884768864,16840,glassez,2022-05-30T12:16:37Z,done.,0,0.9897913336753845
884937546,16840,Chocobo1,2022-05-30T15:28:48Z,i don't think so. [code block] test case 1: [code block] test case 2: [code block],0,0.976477861404419
884948582,16840,Chocobo1,2022-05-30T15:43:53Z,"i wouldn't take it as a dogma. [a link] imo `while (true)` is the form that has the most freedom to express any idea. i usually start with it and refactor into other forms whenever possible (without bending the statements too much), otherwise it would just stay in the `while (true)` form. anyway, decide it yourself.",0,0.9620099067687988
884966449,16840,Chocobo1,2022-05-30T16:11:17Z,"to name a few: `programparameters`, `appparameters`, `cmdlineparameters`, `torrentstartupparams`...",0,0.9913349747657776
884967684,16840,Chocobo1,2022-05-30T16:13:26Z,seems this can be moved out of class.,0,0.989798903465271
884973785,16840,Chocobo1,2022-05-30T16:24:21Z,i would add `#ifdef qt_debug` around it or remove it entirely.,0,0.9925895929336548
884974665,16840,Chocobo1,2022-05-30T16:26:02Z,i would try to make `50` a named constant.,0,0.9796301126480103
884975754,16840,Chocobo1,2022-05-30T16:28:16Z,this while loop is big! would it be possible to break it into smaller pieces with lambda functions? i don't insist it be done in this pr but it would be great if you can do it..,1,0.9436306953430176
884976664,16840,Chocobo1,2022-05-30T16:29:57Z,it should have a `reserve()`.,0,0.9950173497200012
885222393,16840,glassez,2022-05-31T05:44:40Z,it is not so correct. you forgot to add `qvector b = std::move(a);`. otherwize the result is the same as when use `std::exchange()` but the code takes 3 lines instead of just 1.,0,0.98146653175354
885228278,16840,glassez,2022-05-31T05:56:29Z,then i need either make application::params public (but it is intended for private use only) or make the function friend. i dislike both of them.,-1,0.9817681312561035
885244906,16840,glassez,2022-05-31T06:25:31Z,what size should i reserve? should i traverse alerts one more time to count add_torrent_alert?,0,0.9936275482177734
885245094,16840,glassez,2022-05-31T06:25:49Z,done.,0,0.9897913336753845
885271172,16840,glassez,2022-05-31T07:02:31Z,"it is already `application::params` so `program`, `app` etc. are redundant. imo, `startup` part is confusing. maybe `application::addtorrentparams`?",0,0.934025764465332
885285862,16840,Chocobo1,2022-05-31T07:20:25Z,"not sure that is relevant. the point is: with `m_loadedresumedata.clear()`, `m_loadedresumedata` still uses the same memory address. while `m_loadedresumedata = {};` or `std::exchange(m_loadedresumedata , {});` it will have the bad effect.",0,0.868464469909668
885286918,16840,Chocobo1,2022-05-31T07:21:41Z,ok.,0,0.980760931968689
885289637,16840,Chocobo1,2022-05-31T07:24:38Z,an approximated value is better than nothing. i would choose `1024` or even `alerts.size()`...,0,0.9809901714324951
885292657,16840,glassez,2022-05-31T07:27:56Z,"it doesn't using both `std::move` and `std::exchange`. only copy could preserve it but it is bad alternative, imo.",-1,0.9665650129318237
885302159,16840,glassez,2022-05-31T07:38:25Z,"and, btw, i don't see any particular point in ""use the same memory address"" (of course, if we can't trivially avoid it).",0,0.9897005558013916
885304047,16840,glassez,2022-05-31T07:40:31Z,seems it can be the same as max_processing_resumedata_count.,0,0.9911613464355469
885317073,16840,Chocobo1,2022-05-31T07:54:36Z,"ok, i saw my error. another thing, can `m_loadedresumedata` have a `reserve()`? probably with an estimated value. if `reserve()` is added then `std::exchange` will reset the capacity and you'll need to reserve it again. if you used `clear()`, since qvector is implicitly shared there should be no copy but a detachment, and detachment don't reset the capacity. of course if `m_loadedresumedata` is small then this issue can be neglected but i'm not sure about it.",0,0.9745308756828308
885518810,16840,glassez,2022-05-31T11:25:26Z,"done. ok, changed to copy+clear. qvector turned out to be smart enough to copy nothing when detaching due to `clear()`. it still changes the memory address but preserves original capacity.",0,0.9687520265579224
885661028,16840,glassez,2022-05-31T13:46:38Z,refactored into several methods.,0,0.9832065105438232
886344996,16840,Chocobo1,2022-06-01T06:01:22Z,maybe [code block],0,0.990217387676239
886359844,16840,Chocobo1,2022-06-01T06:28:20Z,is this rescheduling itself? won't it keep reschedule forever?,0,0.9808374047279358
886374240,16840,glassez,2022-06-01T06:50:49Z,it is inside conditional statement. it reschedules itself until all the resume data are loaded and startup process is finished.,0,0.9949098229408264
886403452,16840,glassez,2022-06-01T07:29:03Z,done,0,0.8682363629341125
889059075,16840,glassez,2022-06-03T15:36:59Z,"well, redundant scheduling still turned out to be possible under certain conditions (not the ones i originally thought of). so now i'm really tracking whether it was already scheduled.",0,0.9832134246826172
901059694,16840,Chocobo1,2022-06-19T07:16:02Z,seems not in use?,0,0.9862132668495178
901060593,16840,Chocobo1,2022-06-19T07:24:13Z,"this is quite bad usability, maybe just disable `m_ui->checkstartseeding` checkbox in the constructor if session isn't ready and add a tooltip about why it isn't available. then there is no need for this message.",-1,0.9450074434280396
901061108,16840,Chocobo1,2022-06-19T07:28:11Z,those disabled entries should have a tooltip telling why.,0,0.9830557107925415
901061537,16840,Chocobo1,2022-06-19T07:31:57Z,the title should say the current action (downloading torrents) failed. this applies to other similar messages.,0,0.994413435459137
901061738,16840,Chocobo1,2022-06-19T07:33:10Z,"it should mention when it is possible, i.e. ""adding new torrents is prohibited until session is restored."" this applies to other similar messages.",0,0.9929330348968506
901062054,16840,Chocobo1,2022-06-19T07:36:15Z,"(globally) would it be possible to just disable the gui widgets/elements instead of needing this message? i think it is too intrusive... the message doesn't closely related to the action performed and the failing is unexpected for users. imo this is quite a big change... now is adding/enforcing a new *step* (restoring torrents) when starting up and when processing this step all session related operations are halted. maybe instead of enable/disable widgets here and there maybe present a new modal dialog on top of mainwindow which shows the restore progress (a progressbar with cancel button?), since the gui doesn't have much functionality without session ready anyway... also what about webapi/webui users? how would they know when the session is ready?",-1,0.91727215051651
901082546,16840,glassez,2022-06-19T10:25:10Z,"it's only about adding torrents. most of the other operations are still available. and i highly doubt that earlier you would have been able to successfully add a torrent before resuming the session, given that the application was almost completely unresponsive during this period. i really don't want to redo everything for now. in addition, i believe that we will not understand how it would be better until it gets into production and we begin to receive real feedbacks. please, just don't make me get into web ui. poking around there is beyond my strength. honestly, it's easier for me to give it all up...",-1,0.9810836911201477
901082897,16840,glassez,2022-06-19T10:27:52Z,"maybe just silently ignore ""double click"" until the session is restored?",0,0.9786045551300049
901091851,16840,glassez,2022-06-19T11:38:51Z,done.,0,0.9897913336753845
901303571,16840,Chocobo1,2022-06-20T06:41:09Z,"i don't insist on webui. as for webapi, i'm not saying it is a hard requirement for this pr but it is something to think about (as to avoid redesigning the internals). i don't think users would like that. (just providing ideas) on top of the transferlist there could be a modal dialog like this (without the close button): ![a link] the transferlist won't be populated when this dialog is running. to be honest, i don't really like disabling menu items/widgets due to session not ready so i'm finding alternative ways.",-1,0.49538514018058777
902162858,16840,glassez,2022-06-21T04:58:35Z,"yes, it looks quite cumbersome and poorly scalable. so a modal dialog would be a better alternative. but i am not sure that this will work correctly in the case of starting hidden in the tray (without displaying the main window). i must try... other alternatives i'm thinking of: 1. don't create any regular content of main window until session is restored and just display startup progress, 2. don't create main window until session is restored and display startup progress in its own window.",-1,0.9059234261512756
902213764,16840,Chocobo1,2022-06-21T06:37:21Z,i'm would prefer this (show the mainwindow but leave the transferlist empty or disabled) and this way would be simpler to implement i presume?,0,0.9900598526000977
902228240,16840,glassez,2022-06-21T06:58:46Z,"you don't seem to understand this option of mine that you commented on. i mean to create main window that doesn't contain any regular controls, toolbox, menus etc. but only temporary controls needed to display startup progress. after session is restored the main window will expose its regular layout. otherwise we need either disable all regular controls or show modal dialog to make them unavailable.",0,0.7932602167129517
902264742,16840,Chocobo1,2022-06-21T07:42:02Z,"then the mainwindow will have different layouts depending on the state of session, which is more coding work. to clarify what i said before. i meant on startup, the mainwindow is shown entirely (all menus, widgets) but the transferlist is empty. next the session restore modal dialog is shown automatically (and closed automatically when done). note that this dialog is modal so users cannot interact with mainwindow to do other things. while the session restore procedure runs, the transferlist remains empty (maybe make it in disabled state?), only when the procedure is finished/canceled then the transferlist will populate the contents. would this be possible? will there be downsides? i imagine this way would be easier than other options.",0,0.988043487071991
902274581,16840,Chocobo1,2022-06-21T07:52:21Z,"(on windows) currently dialogs (about, options, etc.) remains on screen when mainwindow is minimized to tray, so maybe just show the modal dialog anyway (at least for this first version, we can tweak it later).",0,0.9921521544456482
902277563,16840,oorzkws,2022-06-21T07:54:57Z,"i'm against windows showing when minimized to tray, as qt sometimes crashes on monitor disconnect if it's drawing *any* windows (so i always make sure qbit is minimized to tray before i turn my screen off for the night)",0,0.8308470845222473
902331540,16840,glassez,2022-06-21T08:38:35Z,i wouldn't consider it as acceptable solution. if users select to start qbittorrent minimized to tray they clearly don't want to see anything on the screen. not very much. the creation of a regular layout could simply be placed in a separate method called when the session is restored.,0,0.858348548412323
50686029,4681,glassez,2016-01-25T12:09:21Z,extra blank line.,0,0.9852682948112488
50690961,4681,glassez,2016-01-25T13:10:06Z,this subsystem (file logger) is not part of base. it's part of app which uses base service logger (like loglistwidget executionlog is part of gui and it also uses logger).,0,0.9931024312973022
50691483,4681,glassez,2016-01-25T13:16:17Z,isn't that a little wasteful? maybe it's better to save one value and interpret it as a set of flags?,0,0.5894978046417236
50691919,4681,glassez,2016-01-25T13:21:01Z,what about default values for constructor params?,0,0.9934515953063965
50692813,4681,glassez,2016-01-25T13:29:44Z,"please use the same rule for names as in c++ files. `menulog`, `actionexecutionlogs`, etc. existing names in mainwindow i fixed in one of my last prs.",0,0.9948768019676208
50693280,4681,glassez,2016-01-25T13:35:01Z,"by and large, this class should not contain any logic associated with handling log messages (and only the initialization/configuration of interface elements). this should be moved to the appropriate widget code.",0,0.9912857413291931
50693556,4681,glassez,2016-01-25T13:37:38Z,to call widget classes in the form of ` widget` (eg. executionlogwidget) is a good thing.,0,0.7995208501815796
50802792,4681,glassez,2016-01-26T07:45:10Z,"forget it if you want. actually, i understand why you're using this proxy code. you just want to have a simple widget (loglistwidget) that would operate only with some abstract string messages and their categories. i just somewhat confused by the fact that categories aren't used to working with peers... nothing. just do the default values for constructor parameters.",0,0.5228375196456909
50809688,4681,sledgehammer999,2016-01-26T09:14:19Z,"ok, i'll move it. i generally had in my mind base == non-gui and had forgotten about the other places.",0,0.9856011271476746
50809905,4681,sledgehammer999,2016-01-26T09:16:29Z,sure. can you recommend a type? i am thinking `char` and setting its first 4bits to on/off. (needs extra code though),0,0.9798067808151245
50810254,4681,sledgehammer999,2016-01-26T09:20:12Z,"exactly. the only ""optimization"" i could do is move the 2 formatting functions from `executionlog` into the `loglistwidget` class as slots. then in `executionlog` connect the correct instance to the correct signal/slot. so it is a tradeoff: a simple `executionlog` or a simple `loglistwidget`. i don't really care which.",0,0.9180166721343994
50810331,4681,sledgehammer999,2016-01-26T09:21:04Z,sure. that name was auto generated by qtdesigner...,0,0.9891945123672485
50815490,4681,glassez,2016-01-26T10:08:59Z,maybe you should try qflags?,0,0.9865922331809998
50817762,4681,sledgehammer999,2016-01-26T10:30:07Z,good idea but qvariant doesn't have a constructor for that. i am thinking of a qbitarray.,1,0.524145245552063
50819244,4681,glassez,2016-01-26T10:45:19Z,qvariant has generic fromvalue(). qflags is better since it allows to use something like log::normal | log::warning.,0,0.9899511933326721
51356190,4681,Chocobo1,2016-01-31T06:44:11Z,"take this diff as you please. besides moving to the same line, some changes: - i removed the translatable property for `...` string. - use `qtoolbutton` in place of `qpushbutton` [code block]",0,0.9916623830795288
51617011,4681,glassez,2016-02-02T19:02:16Z,move up. before `logger::freeinstance();` since filelogger uses logger.,0,0.9930550456047058
51617135,4681,glassez,2016-02-02T19:03:01Z,`m_filelogenabled` is redundant variable.,0,0.9935590624809265
51617736,4681,glassez,2016-02-02T19:07:14Z,here you open/write/close log file several times in a row. i think that is wasteful.,-1,0.8141965866088867
51618084,4681,glassez,2016-02-02T19:09:25Z,maybe it would be better to use string array indexed by message type?,0,0.9831928014755249
51618516,4681,glassez,2016-02-02T19:12:29Z,isn't `q_declare_operators_for_flags` supposed to be placed outside the `log` namespace?,0,0.993646502494812
51619354,4681,glassez,2016-02-02T19:17:38Z,"it is better to divide the system and local includes. use `""` with local.",0,0.9942165613174438
51619461,4681,glassez,2016-02-02T19:18:23Z,coding style!,0,0.9765297174453735
51619698,4681,glassez,2016-02-02T19:20:00Z,camel case,0,0.9894331097602844
51619841,4681,glassez,2016-02-02T19:20:53Z,this variable is redundant.,0,0.9752285480499268
51620634,4681,glassez,2016-02-02T19:25:47Z,maybe add `all = -1` here and use it later?,0,0.9920110106468201
51621525,4681,sledgehammer999,2016-02-02T19:31:32Z,"yes, but it never accesses logger directly, only in construction to setup the signal/slots. my intention was to leave it last in order to catch all messages to file. do you still want to move it?",0,0.9938329458236694
51621693,4681,sledgehammer999,2016-02-02T19:32:39Z,true. i'll remove.,0,0.9909254312515259
51621989,4681,glassez,2016-02-02T19:34:59Z,i don't think you can lose some messages here. better change it.,0,0.8435271978378296
51622006,4681,sledgehammer999,2016-02-02T19:35:06Z,i was thinking this when i was implementing it. i was going to discuss about this but i forgot. my other thought was: have the file as member var and keep it open for eg 5secs of inactivity(timer). then close it again. or keep it open indefinitely and close on object destruction?,0,0.9516881704330444
51622243,4681,sledgehammer999,2016-02-02T19:36:41Z,like we did recently with the sigterm etc signals? that is a good thought.,0,0.9300144910812378
51622490,4681,sledgehammer999,2016-02-02T19:37:58Z,i have no idea... the docs aren't very detailed there. plus it seems to work on the other places where i use bitwise operations. but i can move it if you want.,0,0.8401851058006287
51622620,4681,sledgehammer999,2016-02-02T19:38:42Z,sorry. my mistake.,-1,0.9935818910598755
51622636,4681,glassez,2016-02-02T19:38:48Z,yes. and do flush() from time to time.,0,0.9927668571472168
51623114,4681,glassez,2016-02-02T19:41:53Z,i can't read docs at this time but i think it is clear about this.,0,0.9839144945144653
51623976,4681,sledgehammer999,2016-02-02T19:46:53Z,i feel ashamed.,-1,0.9922683835029602
51624061,4681,sledgehammer999,2016-02-02T19:47:35Z,:+1:,0,0.9328674077987671
51624161,4681,sledgehammer999,2016-02-02T19:48:18Z,not my code but ok.,0,0.9656809568405151
51624477,4681,sledgehammer999,2016-02-02T19:50:46Z,ok. should i put it first or last?,0,0.9899915456771851
51624627,4681,sledgehammer999,2016-02-02T19:51:38Z,ok,0,0.9233372807502747
51625049,4681,sledgehammer999,2016-02-02T19:54:12Z,ok another timer... what timeout do you suggest?,0,0.9928297400474548
51628278,4681,glassez,2016-02-02T20:17:10Z,maybe just to use 0 timeout? do you understand what i mean? if timer isn't active we call single shot with 0 timeout in addlogmessage and store that timer is active.,0,0.9895016551017761
51628494,4681,glassez,2016-02-02T20:18:46Z,no matter.,0,0.9556376338005066
51636521,4681,sledgehammer999,2016-02-02T21:17:38Z,"so if the control doesn't return to mainloop we continue to output stuff to the file. but when control returns to mainloop it means that it is unlikely to have other stuff to write immediately, the slot is called and the file is closed. nice idea, but imo we will have almost the same problem with the warning messages about the trackers.(when retrieving favicons that don't exist)",1,0.5097248554229736
51677674,4681,glassez,2016-02-03T04:32:43Z,what's the problem you're talking about?,0,0.922997772693634
51975231,4681,glassez,2016-02-05T04:13:56Z,shouldn't we start from new file here?,0,0.9938114285469055
52033116,4681,sledgehammer999,2016-02-05T15:56:55Z,when application is started it tries to download the favicons for the torrents' trackers. there are quite a few trackers that don't return a favicon and we output warning messages to the log. just check your log to see the orange text. these messages are being logged one after the other at the first few seconds(or minute) of startup. so if i have timer with a 0 timeout to close the filelog file: the file will be opened again after the next mainloop iteration. then closed again and then open agian etc. so we are back to the original problem.,0,0.946487307548523
52033396,4681,sledgehammer999,2016-02-05T15:58:47Z,i don't follow. what do you mean?,0,0.7809547185897827
52038627,4681,glassez,2016-02-05T16:32:05Z,"no. i think it's a problem of different level. here you are trying to do this in a loop (with delays in a few micro or even nano seconds). and in another case the delay is much more. besides the messages about favicons not so much (theoretically, their may not be). i also suggest not to open/close the file and keep it open and periodically do flush().",0,0.9526128768920898
52039771,4681,glassez,2016-02-05T16:40:14Z,"imagine this situation: when we run the program, we have some log file (almost complete), remaining after the previous session. we adding some number of messages, it fills up, we remove it and start writing to a new file. we may lose some interesting messages, for example, torrents resuming, ports allocation, etc.",0,0.9536330103874207
52043184,4681,sledgehammer999,2016-02-05T17:04:22Z,i forgot this. i had in my mind close(). then i am ok.,1,0.6420896053314209
52043885,4681,sledgehammer999,2016-02-05T17:10:08Z,"to be honest, i have seen the gui options other apps have that allow delete/backup for x size. but i have never used them to actually know how they handle that situation(your use case). do you have any proposal here? and isn't it a bit dangerous anyway to select ""delete after x size""? i mean the user probably accepts the risk. ps: i thought of an idea: 1. allow to only backup after x size and 2. allow to delete **backup** logs that are x days old?",0,0.7768752574920654
52048809,4681,glassez,2016-02-05T17:51:08Z,at least start writing to new file when we start qbittorrent. and let the rest up to the user.,0,0.9934601783752441
52048941,4681,glassez,2016-02-05T17:52:11Z,it's good idea. in addition to corresponding option.,1,0.9896385669708252
52051468,4681,sledgehammer999,2016-02-05T18:13:11Z,no. that will fill up the log folder with too much small log files in a matter of days.,0,0.7878337502479553
52053069,4681,glassez,2016-02-05T18:25:51Z,i mean case when we delete files. we just delete the old file and starts writing to new one.,0,0.9842813611030579
52055534,4681,sledgehammer999,2016-02-05T18:44:30Z,"well there are a lot of bugs reported where older log entries would have helped in faster debugging. anyway, i'll implement the delete after x days and be done with it.",0,0.9801249504089355
55310887,4681,zeule,2016-03-08T03:05:22Z,"why not `qscoopedpointer`? the `application` object owns the `m_filelogger` object, doesn't it?",0,0.9920924305915833
55311320,4681,zeule,2016-03-08T03:13:44Z,"since you've put file size check after writing the current message, a `str.flush()` call would be logical in between.",0,0.9921361207962036
55311992,4681,zeule,2016-03-08T03:24:59Z,"i would move the tests and the file manipulation towards the beginning of the function, before the place where the current message is written. then the call to `flush()`, mentioned above is not needed, of course.",0,0.9927632212638855
55312508,4681,zeule,2016-03-08T03:36:17Z,and `mkpath()` will again check does the path exist.,0,0.9947258830070496
55312612,4681,zeule,2016-03-08T03:38:18Z,i would write here [code block] and remove `endswith()` check above.,0,0.9944337010383606
55312724,4681,zeule,2016-03-08T03:40:11Z,`time` is redundant variable unless you want to debug the `qdatetime::frommsecssinceepoch()` call.,0,0.9919096827507019
55312794,4681,zeule,2016-03-08T03:41:50Z,perhaps it is possible to write into the log window a note about this fiasco?,0,0.681552529335022
55313303,4681,zeule,2016-03-08T03:51:51Z,"you better read its source code ;) it has to be placed inside of the namespace for c++ overload rules to work as expected. and `log::` can be omitted, i guess.",1,0.9865806102752686
55313727,4681,zeule,2016-03-08T03:59:57Z,`else` is redundant,0,0.9904913306236267
55313865,4681,zeule,2016-03-08T04:03:20Z,[code block] is more explicit,0,0.9947330951690674
55314023,4681,zeule,2016-03-08T04:07:31Z,"questionable, but... [code block] or [code block]",0,0.9441961646080017
55314387,4681,Chocobo1,2016-03-08T04:15:05Z,"or just use `min()` & `max()` to clamp its value, just a matter of preference...",0,0.9940955638885498
55324835,4681,glassez,2016-03-08T07:31:46Z,and get an infinite loop here?,0,0.9857984781265259
55325246,4681,glassez,2016-03-08T07:39:14Z,"but we have to add a message to the file, and only then check whether it has exceeded the limit, and decide what to do with it.",0,0.9916219711303711
55325456,4681,glassez,2016-03-08T07:42:15Z,qt example: [code block],0,0.9945873022079468
55325761,4681,glassez,2016-03-08T07:46:59Z,q_declare_flags is inside namespace. q_declare_operators_for_flags is outside namespace (but it uses full qualified type name).,0,0.9947303533554077
55325868,4681,glassez,2016-03-08T07:48:47Z,and how are you going to return a value between 1 and 1000?,0,0.9862047433853149
55325972,4681,glassez,2016-03-08T07:50:41Z,[code block] it's unreadable. [code block] it's better.,0,0.9089020490646362
55326114,4681,glassez,2016-03-08T07:52:33Z,recall that **preferences** is deprecated in new code.,0,0.9927311539649963
55349442,4681,zeule,2016-03-08T11:55:05Z,"that is why i wrote ""perhaps""",0,0.9928723573684692
55349607,4681,zeule,2016-03-08T11:57:04Z,so what can be wrong if we chech that before the next write?,0,0.9862918257713318
55349693,4681,zeule,2016-03-08T11:58:04Z,"fine, but where is a namespace?",0,0.9884489178657532
55349787,4681,zeule,2016-03-08T11:59:10Z,see below.,0,0.9944506883621216
55350354,4681,glassez,2016-03-08T12:05:42Z,hmm... maybe you're right.,0,0.8971707820892334
55350902,4681,glassez,2016-03-08T12:11:24Z,you disappoint me... what a class is different from the namespace in this context?,-1,0.9939418435096741
55351167,4681,zeule,2016-03-08T12:13:52Z,"i mean that only the keyword `else` is redundant, but not the `else` clause.",0,0.9877135753631592
55351614,4681,glassez,2016-03-08T12:19:22Z,i don't understand what do you mean. we have three cases: val <= 1: we should return 1 1 < val <= 1000: we should return val itself val > 1000: we should return 1000 and we have three branches in code which corresponds to three cases above. what is redundant?,0,0.5462266206741333
55351972,4681,zeule,2016-03-08T12:23:34Z,"[code block] you don't put `break` after `return` in `switch`, right? the same is here.",0,0.9930689334869385
55352488,4681,zeule,2016-03-08T12:29:37Z,for operators the lookup mechanism checks for an user-provided version in the namespaces where its arguments are declared. therefore there is no need to pollute the global namespace.,0,0.9932852983474731
55352504,4681,glassez,2016-03-08T12:29:45Z,you should be more specific. then other explanations need not.,0,0.9915043711662292
55353178,4681,zeule,2016-03-08T12:36:47Z,"so, i would add a flag to the `filelogger` class, say `m_ignoremessages`, set it here, fire a log message and in the very beginning of the function i'll check: [code block] and reset the flag in `filelogger::configure()` after everything is set up. as a bonus `filelogger` will become almost ready for multi-thread usage.",0,0.9915328621864319
55354549,4681,glassez,2016-03-08T12:52:29Z,"are you going again across the universe... who (or what) will set this flag? filelogger is a logger client, do not forget about it. but something to do is still possible... for example, the filelogger can ignore messages on any (hardcoded) attribute.",0,0.980238676071167
55354557,4681,glassez,2016-03-08T12:52:39Z,"ah, now i see. i'm sorry, i didn't know about it (apparently, qt developers too). for followers: [a link]",-1,0.9914717078208923
55355158,4681,zeule,2016-03-08T13:00:02Z,"this function can set it directly here: [code block] also, if `utils::fs::forceremove()` call below fails, we can do the similar things.",0,0.9949100613594055
55357762,4681,glassez,2016-03-08T13:26:59Z,"it makes sense (we can safely assume that if we are unable to open the file once, we will not be able to do it next). although it is better to name the flag something more suitable (`m_invalid` or something similar).",0,0.9891414642333984
55357865,4681,glassez,2016-03-08T13:28:01Z,but better to release it first without this feature.,0,0.990513801574707
55362682,4681,glassez,2016-03-08T14:10:17Z,"besides, there will be no problem, if you leave it as is. says it's too loud. this won't hurt it.",0,0.9416379332542419
55404376,4681,zeule,2016-03-08T18:33:51Z,"since there is a default value for the log file name, i would like to see here a call to `qfile::setpermissions(qfile::readowner|qfile::writeowner)`",0,0.9949506521224976
55938801,4681,sledgehammer999,2016-03-13T15:38:00Z,we do cleanup in application::cleanup() instead of destructor. the reason is we need to control the shutdown process on windows otherwise windows kills us aka unclean exit.,0,0.991014301776886
55940699,4681,zeule,2016-03-13T17:42:34Z,"i see. thank you for the reply. on 13 march 2016 at 16:38, sledgehammer999 notifications.com wrote:",1,0.9857110381126404
56590764,4681,zeule,2016-03-17T22:49:31Z,"the variable may be removed, perhaps. `str << ""(i) ""` does not look worse than `type = ""(i) ""`",0,0.9818558096885681
56591131,4681,zeule,2016-03-17T22:53:10Z,shouldn't one call `str.flush()` here or delete the `str` object?,0,0.9941400289535522
56591246,4681,zeule,2016-03-17T22:54:18Z,"'filelog'? a typo, perhaps?",0,0.9773721098899841
56593180,4681,zeule,2016-03-17T23:14:31Z,why i'm not allowed to indent with tabs in this project? i like them so much!,1,0.8173901438713074
56596867,4681,sledgehammer999,2016-03-17T23:57:53Z,"hmm, you're probably right. i'll fix it.",0,0.8127914071083069
56596935,4681,sledgehammer999,2016-03-17T23:58:40Z,no. i want to indicate the file on disk. do you have a better word?,0,0.9916443228721619
56596980,4681,sledgehammer999,2016-03-17T23:59:20Z,because we have decided a long ago in 4-spaces indentation.,0,0.9915419816970825
56639489,4681,zeule,2016-03-18T10:49:16Z,"yes, i know, of course. was joking after i've seen tab indentation in your code.",0,0.7098096013069153
56740252,4681,sledgehammer999,2016-03-19T00:56:06Z,nope. that's 2 more spaces to make it 4 spaces in total.,0,0.9655485153198242
56749151,4681,zeule,2016-03-19T13:32:25Z,"oh, i was wrong. excuse me my stupid joke, please.",-1,0.9945684671401978
56749253,4681,zeule,2016-03-19T13:43:36Z,"agree with , ""log file"" is perfectly fine.",0,0.7467979788780212
56767950,4681,sledgehammer999,2016-03-20T17:17:17Z,according to docs `endl` flushes the stream too.,0,0.9931004047393799
56769315,4681,Chocobo1,2016-03-20T18:38:45Z,maybe just pass-by-value? (for simple/primitive types),0,0.9877201914787292
56769517,4681,glassez,2016-03-20T18:52:38Z,this always surprises me too.,-1,0.7726171016693115
56771230,4681,sledgehammer999,2016-03-20T20:22:34Z,i can fix this. is this the only thing about the pr?,0,0.9917399883270264
56781110,4681,glassez,2016-03-21T04:11:21Z,i haven't reviewed it after your last changes. i'll do it asap.,0,0.9924310445785522
56781272,4681,zeule,2016-03-21T04:17:08Z,what if `value == true` but `m_filelogger != nullptr`?,0,0.9908690452575684
56782151,4681,zeule,2016-03-21T04:44:12Z,what this black magic is all about? why not just: [code block] ?,0,0.8114631772041321
56783458,4681,glassez,2016-03-21T05:24:17Z,why do you use non-qt naming? just `executionlogmsgtypes` as we usually did. this affects all this pr.,0,0.9926272034645081
56783635,4681,glassez,2016-03-21T05:29:10Z,+1 but `newpath` in first and second statements.,0,0.9798920750617981
56783747,4681,glassez,2016-03-21T05:32:38Z,+1 `else if (!value)`,0,0.984889566898346
56789229,4681,glassez,2016-03-21T07:57:28Z,it is not necessary to put constants in an anonymous namespace.,0,0.9936908483505249
56789320,4681,glassez,2016-03-21T07:59:00Z,just `utils::fs::qdesktopservicesdatalocation() + log_folder` isn't enough here?,0,0.993488073348999
56789696,4681,glassez,2016-03-21T08:05:11Z,"can you try `{ ""qbittorrent.log.bak*"" }` instead of `qstringlist() << ""qbittorrent.log.bak*""`?",0,0.994128942489624
56790125,4681,glassez,2016-03-21T08:13:01Z,"wouldn't it be easier if you put the file creation here, and deleting in `closelogfile()`? i know that in one place it will lead to we create it immediately after removal. for me, it's a small problem.",0,0.9554018378257751
56790265,4681,glassez,2016-03-21T08:15:26Z,`log::error` is defined by libtorrent?,0,0.992319643497467
56790375,4681,glassez,2016-03-21T08:17:06Z,why not in one line? it isn't so long.,0,0.9679257869720459
56790467,4681,glassez,2016-03-21T08:18:52Z,explicit isn't needed. i'm sorry. mobile github is not working lately. all my comments are added in the wrong place.,-1,0.9933183193206787
56790626,4681,glassez,2016-03-21T08:21:15Z,log::all?,0,0.9927778840065002
56816431,4681,zeule,2016-03-21T12:51:17Z,but it saves one from typing 'static' in each line.,0,0.9936356544494629
56821092,4681,zeule,2016-03-21T13:30:39Z,": thank you, i'll fix the comment above.",1,0.9406765103340149
56822742,4681,glassez,2016-03-21T13:42:08Z,it is not necessary to prepend constants with `static`. constants use internal linkage by default.,0,0.9939477443695068
56856676,4681,sledgehammer999,2016-03-21T16:52:59Z,"i think it is cleaner this way, so i am leaving it.",0,0.9403434991836548
56857036,4681,sledgehammer999,2016-03-21T16:55:07Z,but since i am creating `inline settingsstorage *settings()` i opted to put everything here too to reduce visual clutter. i am leaving it as is.,0,0.9931880235671997
56857131,4681,sledgehammer999,2016-03-21T16:55:33Z,oops. i am going to fix it.,-1,0.984240710735321
56857312,4681,zeule,2016-03-21T16:56:42Z,: thank you!,1,0.991865336894989
56858445,4681,sledgehammer999,2016-03-21T17:02:49Z,"i am not sure what you guys are talking about. there is an agreed rule to use internally paths with ""/"" instead of ""\"" even if the called functions understand both(like qdir). or are you talking about something else entirely?",0,0.6873064041137695
56858691,4681,sledgehammer999,2016-03-21T17:04:28Z,+1 i think i just blindly copied it from something else in preferences.,0,0.8718289136886597
56859066,4681,zeule,2016-03-21T17:06:39Z,i'm talking about lines 66 – 71 (6 in total). they can be replaced with 3 lines. and i do not understand what is is reason behind lines 67 and 68.,0,0.7511934041976929
56859184,4681,sledgehammer999,2016-03-21T17:07:22Z,i changed it to: [code block] but i get:,0,0.9934999346733093
56859308,4681,sledgehammer999,2016-03-21T17:07:55Z,"i ignored this, but ok i'll do it.",0,0.8805469274520874
56860089,4681,sledgehammer999,2016-03-21T17:19:23Z,i thought you were right and this was a leftover from my initial implementation. but after changing it i get these cryptic messages from msvc: [code block],0,0.9489506483078003
56860208,4681,sledgehammer999,2016-03-21T17:20:11Z,ok. it was something else before. i am changing it.,0,0.9866316914558411
56860428,4681,sledgehammer999,2016-03-21T17:21:49Z,i think i had a dirty build dir before. now a clean build give me this error: [code block],0,0.859306275844574
56860559,4681,sledgehammer999,2016-03-21T17:22:39Z,"ok, i'll remove it.",0,0.9938441514968872
56860857,4681,sledgehammer999,2016-03-21T17:24:26Z,"oops. that was before i added the log::all. ps: i should remove the `explicit` keyowrd too, right?",-1,0.9227957129478455
56860969,4681,sledgehammer999,2016-03-21T17:24:59Z,ok,0,0.9233372807502747
56861558,4681,glassez,2016-03-21T17:28:08Z,"no. not here, because we have the ability to call the constructor with one parameter.",0,0.9883404970169067
56861980,4681,sledgehammer999,2016-03-21T17:30:24Z,"!?!?! if you guys think it is better, i can leave them out of the namespace...",-1,0.9909606575965881
56862042,4681,glassez,2016-03-21T17:30:48Z,"apparently, the constant from libtorrent still interferes here.",0,0.9410527348518372
56862621,4681,sledgehammer999,2016-03-21T17:33:48Z,"line 66 makes the path look as ""c:/test"" instead of ""c:\test"". the user might have edited the ini file and put the path with ""\"" characters. so i am enforcing here the rule i talked about previously. lines 67-68 append missing ""/"" because at line 71 we append the filename.",0,0.9937886595726013
56862882,4681,glassez,2016-03-21T17:35:26Z,"weird. what does `qstringbuilder `? `operator+(const qstring &, const qstring &)` must return `const qstring()` according to the documentation.",-1,0.967673659324646
56863659,4681,sledgehammer999,2016-03-21T17:39:39Z,i don't know :s,1,0.9917023777961731
56864018,4681,glassez,2016-03-21T17:41:49Z,"weird... then you can leave it as is or make it slightly shorter: `qstringlist(""qbittorrent.log.bak*"")`.",-1,0.9289016723632812
56864566,4681,zeule,2016-03-21T17:44:58Z,"thank you, but why to do that manually with two lines of code, if you can invoke `qdir::absolutefilepath()`?",1,0.6014460921287537
56865146,4681,glassez,2016-03-21T17:48:12Z,"we share with the missing knowledge :) apparently, it's for this.",1,0.990011990070343
56865837,4681,zeule,2016-03-21T17:52:26Z,yes,0,0.9686408638954163
56866366,4681,sledgehammer999,2016-03-21T17:55:12Z,"ok, i'll drop the if block and use qdir::absolutefilepath() instead.",0,0.9939004182815552
56866574,4681,sledgehammer999,2016-03-21T17:56:21Z,so is it ok to leave all these inside the namespace for visual clarity?,0,0.9928454756736755
56866973,4681,zeule,2016-03-21T17:58:24Z,", i don't think that without namespace the code will be better. i, personally, like anonymous namespace because they make intents exceptionally clear. one will not think whether there are any `extern` declarations, declarations in a header file, or so.",0,0.9048799276351929
56868075,4681,sledgehammer999,2016-03-21T18:04:13Z,ok. i think we're wasting time talking more about this.,-1,0.9749040603637695
56882587,4681,glassez,2016-03-21T19:34:00Z,"yes. but `#define` looks ugly here. anyway, it caught my eyes initially.",-1,0.9723300337791443
64984317,5310,Chocobo1,2016-05-28T05:21:18Z,1. maybe faster & more bulletproof [code block] 2. for consistency use `++i`,0,0.9812428951263428
64984478,5310,Chocobo1,2016-05-28T05:39:03Z,"~~or use `qstringref` instead of `qstring` when manipulating.~~ bad idea, hard to use.",-1,0.9783775210380554
64984546,5310,Chocobo1,2016-05-28T05:49:35Z,"~~minor thing~~ ah... forget it, you seem to use `_ip` all over the place. [code block]",-1,0.6533862352371216
65273520,5310,zeule,2016-05-31T22:19:44Z,"might be faster to put the parser outside of this function, which most likely will be inlined.",0,0.9826343655586243
65273815,5310,zeule,2016-05-31T22:21:50Z,parser version which returns bool didn't suit?,0,0.988569438457489
65274119,5310,zeule,2016-05-31T22:24:32Z,"you check for `start < data.size()`, but access `start + 1`th element. added: for these kinds of tasks it is better to allocate buffer of size n+1 (and to put 0 in the last element) when you are going to read n elements, instead of complicating checks. just one more argument to read by fixed size chunks.",0,0.9943293929100037
65275195,5310,sledgehammer999,2016-05-31T22:34:30Z,"i have tested it, but it actually is slower (about 50-60 ms)!",0,0.9763982892036438
65275278,5310,sledgehammer999,2016-05-31T22:35:09Z,i just had the older version lying around.,0,0.9560225009918213
65275349,5310,zeule,2016-05-31T22:35:50Z,"the implementation of `parseipaddress()` above does not need trimmed from end string to parse the address. anyway, since the buffer is writable, you can just put zeroes in place of delimiters instead of copying the string.",0,0.9944021105766296
65275375,5310,zeule,2016-05-31T22:36:05Z,`strsep()`,0,0.9928551316261292
65275383,5310,sledgehammer999,2016-05-31T22:36:11Z,+1. i was sure i would be missing some checks.,0,0.8029245734214783
65275529,5310,zeule,2016-05-31T22:37:38Z,"can't understand: you check for `delimindices.size() > 0`, but access `delimindices[1]`",0,0.9676562547683716
65275797,5310,zeule,2016-05-31T22:40:18Z,your compiler does not inline `parseipaddress()`?,0,0.9951299428939819
65279292,5310,zeule,2016-05-31T23:17:00Z,on the second though this does not matter. creating datipv4parser is as simple as incrementing the stack pointer. it is not surprising therefore that the code with local variable performs better.,0,0.988801121711731
112802768,5310,Chocobo1,2017-04-22T04:55:21Z,redundant empty line?,0,0.7751052379608154
112802984,5310,glassez,2017-04-22T05:13:25Z,fix coding style.,0,0.9817914962768555
112802988,5310,glassez,2017-04-22T05:13:45Z,fix coding style.,0,0.9817914962768555
112803002,5310,glassez,2017-04-22T05:14:56Z,fix coding style (spaces around `<=` operator).,0,0.9931846261024475
112803013,5310,glassez,2017-04-22T05:15:40Z,fix coding style.,0,0.9817914962768555
112803076,5310,glassez,2017-04-22T05:19:19Z,i would move this empty line one line up (to separate break statement from the rest).,0,0.9908286333084106
112803093,5310,glassez,2017-04-22T05:20:37Z,too long line.,-1,0.8303176760673523
112803099,5310,glassez,2017-04-22T05:21:09Z,too long line.,-1,0.8303176760673523
112803102,5310,glassez,2017-04-22T05:21:49Z,split this line.,0,0.984650194644928
112803104,5310,glassez,2017-04-22T05:22:04Z,split this line.,0,0.984650194644928
112803114,5310,glassez,2017-04-22T05:23:07Z,add space after `catch`.,0,0.9947636127471924
112803120,5310,glassez,2017-04-22T05:23:25Z,too long line. isn't it?,-1,0.8909478187561035
112803129,5310,glassez,2017-04-22T05:24:12Z,split this line too.,0,0.9921499490737915
112803142,5310,glassez,2017-04-22T05:25:04Z,most of these lines (logger messages) are too long.,0,0.5961750745773315
112803156,5310,glassez,2017-04-22T05:26:17Z,"too long line. unlike one line above, that can be joined with previous one.",0,0.5786672830581665
112803162,5310,glassez,2017-04-22T05:26:49Z,same here.,0,0.9916109442710876
112803174,5310,glassez,2017-04-22T05:28:07Z,please add space after `catch`.,0,0.9959533214569092
112803260,5310,glassez,2017-04-22T05:34:42Z,too long line.,-1,0.8303176760673523
112803296,5310,glassez,2017-04-22T05:37:19Z,"although i've done it several times before, but now i doubt it. , is there any sense to forward declare templates?",0,0.924504816532135
112803321,5310,glassez,2017-04-22T05:38:40Z,is it needed somewhere?,0,0.9935606718063354
112804082,5310,Chocobo1,2017-04-22T06:39:47Z,imo the `static` is redundant here.,0,0.9815106987953186
112804169,5310,Chocobo1,2017-04-22T06:48:07Z,still need this?,0,0.9906415343284607
112804202,5310,Chocobo1,2017-04-22T06:51:50Z,~~can you put a upper limit for this?~~ not relevant anymore.,0,0.9784353971481323
112810799,5310,zeule,2017-04-22T14:26:27Z,"for readability improvement this variable should be renamed, probably. what about `numberindex`?",0,0.9935492873191833
112810809,5310,zeule,2017-04-22T14:27:01Z,and might want to check `errno` here as well.,0,0.9928291440010071
112810888,5310,zeule,2017-04-22T14:31:24Z,"with `qbytearray` type of argument, you are copying the memory, right? does it make sense to use the read buffer then?",0,0.9936618804931641
112810904,5310,zeule,2017-04-22T14:32:10Z,"smart pointer, please.",0,0.9710822105407715
112810914,5310,zeule,2017-04-22T14:32:43Z,why this is needed?,0,0.9896224737167358
112814474,5310,zeule,2017-04-22T17:34:01Z,aren't you loosing here buffer[0:offset-1] part?,0,0.9909762740135193
112818012,5310,zeule,2017-04-22T20:24:55Z,why don't we log the exception message too?,0,0.9912360906600952
112833219,5310,zeule,2017-04-23T12:56:56Z,i could write code without memory allocations. but just for fun and thus later.,0,0.9665803909301758
112849622,5310,sledgehammer999,2017-04-24T00:41:23Z,i don't want to re-initialize the variable each time we parse the filter.,0,0.9094346761703491
112849654,5310,sledgehammer999,2017-04-24T00:42:45Z,in this case `errno` is only set if the value goes out of range. both limits are handled with the existing checks.,0,0.9941293001174927
112849719,5310,sledgehammer999,2017-04-24T00:44:37Z,i couldn't figure out a way to make strtol (and address_v6::from_string) to look only in a portion of the buffer.,0,0.8843093514442444
112849738,5310,sledgehammer999,2017-04-24T00:45:20Z,shared_ptr doesn't seem to work with arrays out of the box. and i think i have covered all cases here for deleting the pointer.,0,0.9911919236183167
112849813,5310,sledgehammer999,2017-04-24T00:47:19Z,i can't remember the exact reason because this is part of my previous old attempt. i think i do just to make sure there aren't garbage data after our move of the remaining data to the front of the buffer. (in case the parsing goes past the end of the read data). i could remove it if you think this is superfluous.,0,0.9779098033905029
112849870,5310,sledgehammer999,2017-04-24T00:48:49Z,"please explain in more detail. i can't understand what you mean by `buffer[0:offset-1]` keep in mind that i check the return value of ""file.read()"" which is `0` on file end and `-1` on error.",0,0.9888948202133179
112849919,5310,sledgehammer999,2017-04-24T00:50:24Z,i am not what you mean exactly... the only memory allocations i see for this function is the std::vector and the ints that hold the indices.,0,0.9582038521766663
112850021,5310,sledgehammer999,2017-04-24T00:53:42Z,yes. without it i get: in the console during runtime.,0,0.9936478734016418
112861848,5310,glassez,2017-04-24T04:02:03Z,exactly. you use logger from another thread.,0,0.992668628692627
112862319,5310,glassez,2017-04-24T04:11:14Z,"offtopic i would add `log()` function to ""logger.h"" and use logger::instance() there. and in the client code just do `log(message, type);`.",0,0.9927510023117065
112864086,5310,Chocobo1,2017-04-24T04:36:34Z,"with `static` or without, the variable is deemed to be optimized out by the compiler [a link] (case 1) [a link]",0,0.9956088662147522
112892246,5310,zeule,2017-04-24T08:42:40Z,"right, that is why i again suggest you to use `strsep()` first instead of collecting delimiter positions.",0,0.9894318580627441
112892948,5310,zeule,2017-04-24T08:46:27Z,[code block] which might be replaced with [code block],0,0.9949749708175659
112893893,5310,zeule,2017-04-24T08:51:19Z,"the line was making me think that there is something which i don't understand, because this part of the buffer will be overwritten below. i would ask for a note there, please, if you decide to keep this just in case.",0,0.9579994082450867
112896207,5310,zeule,2017-04-24T09:02:29Z,"i think the following may happen: consider a file where the last line is not terminated with '\n'. then this line will go into this spillover, `qfile::read()` returns 0 and we ignore it. that is why i prefer to replace newline characters with '\0' as well. [a link] is an example. extracted from a component that reads and parses ascii tables of much larger size, however.",0,0.9882341623306274
112896375,5310,zeule,2017-04-24T09:03:22Z,aren't you copy strings into `qbytearray`s?,0,0.9947612881660461
112896621,5310,zeule,2017-04-24T09:04:25Z,"i'm very late with this, of course, but wouldn't `log(type, message)` be a better signature?",-1,0.5006611943244934
113093017,5310,sledgehammer999,2017-04-25T01:49:48Z,after i do the .p2p refactoring i'll transfer this inside the anonymous namespace so it can be accessed by both parsing functions.,0,0.9930412769317627
113093115,5310,sledgehammer999,2017-04-25T01:51:14Z,"having the type parameter last allows to have a default value, like logger::addmessage() does.",0,0.9932575225830078
113093270,5310,sledgehammer999,2017-04-25T01:53:19Z,"this is a worst case scenario and will trigger only one reallocation during each parsing of the ""faulty"" file at the end of the file. i don't consider this scenario to be prevalent. do you have any other suggestion?",0,0.9586493968963623
113102068,5310,Chocobo1,2017-04-25T03:49:57Z,ok,0,0.9233372807502747
113146629,5310,zeule,2017-04-25T09:28:27Z,this loop can be shortened into (not insisting): [code block],0,0.9944604635238647
113147832,5310,zeule,2017-04-25T09:33:43Z,get it out of the loop (cleanliness and performance),0,0.9897080659866333
113148119,5310,zeule,2017-04-25T09:35:07Z,"read buffer.size() -1 characters, make buffer[buffer.size() -1] = 0 from the very beginning.",0,0.99403977394104
363149053,11833,sledgehammer999,2020-01-06T03:41:07Z,`files.size() < 11` this is a random constraint i put here.,0,0.9935895204544067
363156038,11833,Chocobo1,2020-01-06T04:37:25Z,this shouldn't be static anyway. a static variable is going to reside in memory for the whole program lifetime.,0,0.9681345224380493
363156352,11833,Chocobo1,2020-01-06T04:40:04Z,the constructor seems redundant to me or use qstring::fromutf8.,0,0.973628044128418
363156695,11833,Chocobo1,2020-01-06T04:42:59Z,"maybe just me, i would rather not mix qt types with std types, i.e. just write `unsigned char` here.",0,0.9586019515991211
363156758,11833,Chocobo1,2020-01-06T04:43:35Z,perhaps it is better to use `unsigned char` for this variable?,0,0.9881467223167419
363156789,11833,Chocobo1,2020-01-06T04:43:49Z,redundant empty line here.,0,0.662513256072998
363157165,11833,Chocobo1,2020-01-06T04:47:37Z,you should make use of sizeof().,0,0.994688868522644
363157750,11833,Chocobo1,2020-01-06T04:51:45Z,"seeing checks for nullptr in every method is a bit annoying, can't you just throw exception in the constructor instead?",-1,0.9769930839538574
363158388,11833,Chocobo1,2020-01-06T04:56:52Z,this should be `int`. [a link],0,0.9951609969139099
363158484,11833,Chocobo1,2020-01-06T04:57:48Z,here is the bad sign: need to cast unsigned int to signed int.,-1,0.9232641458511353
363158888,11833,Chocobo1,2020-01-06T05:01:13Z,"on a second thought, maybe you should use qbytearray as the building block and not a char pointer. a qbytearray should be safer and have many convenience functions.",0,0.9870088696479797
363159092,11833,Chocobo1,2020-01-06T05:02:42Z,would be simpler if you just assigned `*ok = false;` at the top of this function.,0,0.9899746775627136
363159127,11833,glassez,2020-01-06T05:02:56Z,do you really need to store it between function calls?,0,0.9888217449188232
363159397,11833,glassez,2020-01-06T05:05:03Z,either put entire declaration into one line or split these braces too.,0,0.9920971393585205
363160131,11833,glassez,2020-01-06T05:10:35Z,"many memory access operations use `char`, unless i'm wrong...",0,0.9901695847511292
363183273,11833,glassez,2020-01-06T07:28:01Z,never like these ugly c++ multiword type names.,-1,0.9937136769294739
363238761,11833,sledgehammer999,2020-01-06T10:31:50Z,"the purpose was to be efficient in initializing/allocating memory. this is what is alluded here: [a link] if the above doesn't really matter, then should i do this? [code block]",0,0.9937605261802673
363239169,11833,sledgehammer999,2020-01-06T10:33:08Z,see my rationale [a link],0,0.9941303133964539
363240345,11833,sledgehammer999,2020-01-06T10:36:39Z,"i don't want a unnecessary memory copies. if i had ""buffer view"" equivalent of std::string_view then i would use it.",0,0.9623147249221802
363241196,11833,sledgehammer999,2020-01-06T10:39:08Z,edited previous comment.,0,0.9841453433036804
363255075,11833,sledgehammer999,2020-01-06T11:23:15Z,i like the shorthand too. plus i changed to signed int to the other place. should i change this to (signed) char? or should i go full (signed) int here too?,1,0.7725504636764526
363255463,11833,glassez,2020-01-06T11:24:48Z,`qbytearray:fromrawdata()` doesn't copy anything.,0,0.9924301505088806
363258986,11833,glassez,2020-01-06T11:35:57Z,i would use int.,0,0.9933308959007263
363260512,11833,sledgehammer999,2020-01-06T11:41:36Z,"hmm, correct. but as i see it, the only useful ""convenience"" function is `qbytearray::mid()`. should i proceed with qbytearray?",0,0.978008508682251
363263621,11833,glassez,2020-01-06T11:51:44Z,"imo, it's not so good idea to copy some memory just to check for buffer end. why not perform integer calculations instead?",0,0.9382261633872986
363264302,11833,glassez,2020-01-06T11:54:01Z,"`qbytearray::size()` is very useful, isn't it? imo, yes.",1,0.8318970799446106
363267251,11833,sledgehammer999,2020-01-06T12:04:47Z,"the other way i see it, is just loop in the buffer and check each byte for zero. but the so answers say that his might not be optimal/efficient. if there is another way, please give an example.",0,0.9888527393341064
363274482,11833,glassez,2020-01-06T12:30:49Z,oops... it's `memcmp`! forget my previous comment.,-1,0.985601007938385
363279302,11833,sledgehammer999,2020-01-06T12:47:16Z,"on another tought, what do you say about using `libtorrent::string_view` here? added benefit, it indicates to the caller ""dude keep the buffer alive"" and ensures no accidental memory copy. `libtorrent::string_view` basically uses boost's implementation.",0,0.991634726524353
363290143,11833,Chocobo1,2020-01-06T13:22:01Z,we have `utils::bytearray::midview()`,0,0.9946192502975464
363300045,11833,Chocobo1,2020-01-06T13:49:54Z,"yeah. if using qbytearray you can use this constructor qbytearray::qbytearray(int size, char ch) and compare them with qbytearray::startswith(const qbytearray &ba) or `==`.",0,0.9809432625770569
363302310,11833,Chocobo1,2020-01-06T13:55:45Z,"seem yes, based on ""typeflag field"" definition on [a link] and wikipedia. weird that they used `char` as the type there.",-1,0.9851030707359314
363304695,11833,Chocobo1,2020-01-06T14:01:44Z,"off-topic: imo string_view is more suitable for... well ""strings"" (ascii or utf-x variants). it is not the case here. here you operate on bytes which (i think) std::span in c++20 is the better matching counterpart.",0,0.9814980030059814
363318867,11833,sledgehammer999,2020-01-06T14:37:15Z,"imo, it's fine if you use it as generic container (no string specific methods called) then, i could use `libtorrent::span`",0,0.9884288907051086
363380220,11833,glassez,2020-01-06T16:49:49Z,"imo, libtorrent utils (including the types meantioned above) can't be considered as stable enough from lifetime perspective. but if `libtorrent::span` has interface similar to c++20 one then we can use it so we can easily switch to c++20 in future just by changing `lt::` to `std::`. or we can even declare alias in our own namespace (e.g. `utils::span`) currently for libtorrent span and then change it to std span.",0,0.9856603145599365
363390607,11833,sledgehammer999,2020-01-06T17:13:17Z,"i don't know if i understood you correctly, but libtorrent::span is public api and is used in other public api as a type. exactly and it does have similar interface. i was just ready to jump on using lt::span and then i realized we also support rc_1_1 :disappointed: (it isn't available there)",-1,0.9945271611213684
363393598,11833,glassez,2020-01-06T17:20:42Z,(it isn't available there) we can either drop rc_1_1 support or incorporate libtorrent span sources into qbittorrent sources for some time.,0,0.9922324419021606
363393807,11833,sledgehammer999,2020-01-06T17:21:14Z,"i think i have a better alternative to test for eof (and possibly gracefully handle garbage archives/data): as mentioned, a tar archive looks like this `header+filedata+header+filedata+...+empty header+empty header` each time we are finished with a file we are expecting either a normal header or at least 2 empty ones. and the first field on a valid header is the filename field. so why not check if the 1st byte in the header is null, and if yes treat it as eof?",0,0.9457418322563171
363393877,11833,glassez,2020-01-06T17:21:24Z,or just use qbytearray.,0,0.9930148124694824
363395181,11833,glassez,2020-01-06T17:24:36Z,other types can be used in further versions of libtorrent so it stops to provide its own ones.,0,0.9934108853340149
363398180,11833,glassez,2020-01-06T17:32:15Z,"very strange way of indicating the end of the file. it is clear that the ""real"" end of the file could not be used, because it was designed for streaming media, but why two empty headers and not one? and what really about not empty header but just invalid?",-1,0.9566881656646729
363399962,11833,glassez,2020-01-06T17:37:01Z,at least we can use simplified algorithm. 1. if next byte is not null try to load header and so on... 2. if next byte is null stop processing (but check whether there's valid eof to distinguish between correct/broken files).,0,0.9688319563865662
363403430,11833,sledgehammer999,2020-01-06T17:46:23Z,"even if next byte is not null, we can't really extract a filename from that. there isn't supposed to be padding* between filedata and the next header. *padding exists at the end of filedata to pad to full 512bytes block. hmm, this check needs to done inside `tarfile::filedata()`. but a variation of it. not detect null bytes but actually test that there is enough space left in the buffer for the filesize indicated by the header.",0,0.9899396300315857
363404337,11833,sledgehammer999,2020-01-06T17:48:41Z,"yeah i am leaning with qbytearray too. btw, there are 3rd party span implementations that are header only. this is only for fyi. i am not advocating in including them just for this.",0,0.95256507396698
363412961,11833,glassez,2020-01-06T18:10:43Z,"i mean first byte of (possible) next header. e.g.: 1. try to load header. 2. if there isn't enough data - error. 3. perform the ""optimize"" check for null in first byte of header. 4. if it is null, check for correct eof at this position. if there's no valid eof - error. 5. if it isn't null try to parse header and perform other checks on it. if header is invalid - error. 6. try to load file. 7. if there isn't enough data - error. 8. perform some checks on file data (e.g. checksum comparison). if it fails - error. 9. try to shift to next header (i.e. skip padding). if there's no enough data - error. 10. start from beginning. have i missed something? i didn't read full format specs.",0,0.9860926270484924
364037825,11833,sledgehammer999,2020-01-08T02:13:10Z,should i construct the qbytearray here using fromrawdata() for extra efficiency?,0,0.9944603443145752
364039847,11833,sledgehammer999,2020-01-08T02:23:06Z,note to self: must check that there are `filesize` bytes in the buffer.,0,0.9921790361404419
364074319,11833,glassez,2020-01-08T05:58:41Z,tar isn't compressor...,0,0.9718815684318542
364074616,11833,glassez,2020-01-08T06:00:23Z,redundant empty line.,-1,0.7013556957244873
364075133,11833,glassez,2020-01-08T06:03:30Z,i would use integral constant here instead: [code block],0,0.9944992065429688
364075300,11833,glassez,2020-01-08T06:04:23Z,explicit,0,0.9793804287910461
364076258,11833,glassez,2020-01-08T06:09:21Z,"i would prefer to see null character as 0 (unless you need to have it in some string literal alongside with regular characters, e.g. ""some text\0"").",0,0.9873721599578857
364076746,11833,glassez,2020-01-08T06:12:12Z,"`m_header.startswith(0)` looks better, imo.",0,0.8387128710746765
364078293,11833,glassez,2020-01-08T06:20:24Z,"it's a bad practice to mix different kind of error handling in the same class. you should use either exceptions (i.e. don't allow to create invalid class at all) or ""valid"" property (but then you shouldn't throw in constructor).",-1,0.5449486374855042
364079937,11833,glassez,2020-01-08T06:29:03Z,"isn't ""checksum"" field null in null header?",0,0.9939905405044556
364087813,11833,glassez,2020-01-08T07:07:03Z,redundant empty line.,-1,0.7013556957244873
364089114,11833,glassez,2020-01-08T07:12:22Z,it's wrong. here you just unpacking some tar archive (it's abstract utility function). you should perform any logging at the application level.,0,0.6807925701141357
364089615,11833,glassez,2020-01-08T07:14:25Z,it's weird to see such limitation in abstract utility function... does tar format limit it in this way?,-1,0.9933192729949951
364091591,11833,glassez,2020-01-08T07:22:37Z,"maybe declare it as `utils::bytearray::strlen()`? anyway i dislike ""custom"" prefix here.",0,0.9416413307189941
364092345,11833,glassez,2020-01-08T07:25:45Z,"it's better to use exceptions instead of ""ok"". then you can provide more error info to the caller side.",0,0.9916747212409973
364093739,11833,glassez,2020-01-08T07:31:15Z,you can't (shouldn't) do it! then returned data is valid only until input data isn't disposed.,-1,0.9173599481582642
364122513,11833,glassez,2020-01-08T08:59:02Z,when you split conditions operator should appear in next line,0,0.9939455389976501
364125060,11833,glassez,2020-01-08T09:05:11Z,"imo, log message in wrong place (under wrong condition). when user doesn't provide license key we shouldn't even trigger database update. the only valid error case is when user enables ""resolve peer country"" feature but there are no license key or db file provided.",0,0.9030458927154541
364125378,11833,glassez,2020-01-08T09:06:00Z,please enclose subexpressions.,0,0.9940687417984009
364539040,11833,LordNyriox,2020-01-09T02:51:53Z,: according to 's comment on an earlier version of this code: **source:** [ ],0,0.9915939569473267
364546320,11833,glassez,2020-01-09T03:34:07Z,", sorry, what do you want to say me? i saw that comment.",-1,0.9929049611091614
364842125,11833,glassez,2020-01-09T16:38:08Z,"i'm sorry, i can't understand what you're trying to explain to me... i understand the meaning of word ""random"" (and even what it means *in this context*), as well as what and why wants to do here. i'm just pointing out the fact that it was done in the wrong place (at the wrong level of logic). that's all.",-1,0.9920631051063538
364843499,11833,glassez,2020-01-09T16:40:39Z,also please read [a link],0,0.9942493438720703
364935655,11833,sledgehammer999,2020-01-09T20:04:30Z,renamed to `untar()`,0,0.9918072819709778
364936431,11833,sledgehammer999,2020-01-09T20:06:26Z,"other functions require passing the `'\0'` literal because of the compiler. it doesn't know which overload to call (eg for startswith()). furthermore, in the spec these are treated as ascii values, so for keeping things uniform, i will leave it as ascii nul.",0,0.9931468367576599
364936679,11833,sledgehammer999,2020-01-09T20:07:00Z,compiler considers it an ambiguous call.,0,0.9362891912460327
364937415,11833,sledgehammer999,2020-01-09T20:08:49Z,"i took another approach. please take a look. we need to differentiate between fully null entry and an malformed one. if you can come up with another way, let me hear it.",0,0.9665888547897339
364938905,11833,sledgehammer999,2020-01-09T20:12:30Z,something that you might not know: when checksum is calculated the bytes belonging to the `checksum` header are considered to have each the value 32 (ascii space). so in a fully null header the `calculatedchecksum` variable will have the value (8 * 32) and the stored checksum in the checksum field (from `checksum` variable) will have the value 0.,0,0.9898359179496765
364939193,11833,sledgehammer999,2020-01-09T20:13:16Z,"i removed this ""security"" constraint in the new code.",0,0.9917646050453186
364939401,11833,sledgehammer999,2020-01-09T20:13:51Z,i took another approach. have a look.,0,0.9726871848106384
365057034,11833,Chocobo1,2020-01-10T03:12:51Z,"this is copying the data, you should avoid it. generally speaking, no-copy is the key for building fast applications and a requirement for modern apps imo.",0,0.9693692326545715
365057779,11833,Chocobo1,2020-01-10T03:17:11Z,i know this was discussed before. however i would still like the returned values to be qbytearray views. adding a comment about this function is returning a view (that the input `data` is required to be alive in client code in order for the returned value to be meaningful) would suffice for me. and then the return type will be expected to become `qhash `,0,0.9912903308868408
365058137,11833,Chocobo1,2020-01-10T03:19:19Z,this can be extracted to anonymous namespace. and `int strlen(const qbytearray &str)` too.,0,0.9955242872238159
365058298,11833,Chocobo1,2020-01-10T03:20:29Z,imo better differentiate the name with std::strlen() to avoid confusion. you can use full name `firststringlength()` or whatever something like that.,0,0.990347146987915
365059054,11833,Chocobo1,2020-01-10T03:24:44Z,"regarding `m_null`, `m_valid`, `m_verified`. does these status intersect? i mean is it possible to have any two of them to be true at the same time? if not it is better to tie them together into a separate type.",0,0.9924660921096802
365137172,11833,glassez,2020-01-10T09:18:27Z,"it also provides many opportunities for errors to occur. it is especially dangerous to return such ""references"" to the internal data of the class (this is generally unacceptable and is a design error, imo). one exception is when class instance operates on some outer data (so caller side owns this data and cares about its lifetime and lifetime of ""references"" into it). so if you really want to implement ""no-copy"" optimization you need to think a hundred times about all the details of the implementation, in order to protect the caller as much as possible.",0,0.7904084324836731
365138147,11833,glassez,2020-01-10T09:20:59Z,i would make tarstreamreader public instead of (or in addition to) this wrapper.,0,0.9922050833702087
365140730,11833,glassez,2020-01-10T09:26:56Z,tarentryheader is better name.,0,0.9845269918441772
365171623,11833,glassez,2020-01-10T10:37:01Z,"these two method names are ambiguous. they should be ""filetype"" and ""filesize"".",0,0.9167703986167908
365174840,11833,glassez,2020-01-10T10:44:27Z,this class has inconsistent internal behavior. why do you parse header partially when create instance and then parse the rest on demand? i see no point in this.,0,0.6649764180183411
365185241,11833,Chocobo1,2020-01-10T11:11:14Z,"yes and i would hope/expect there will be nicely designed class interface to avoid that. offtopic i think is worth sharing, here is a library (in rust lang) that implements a tar reader: [a link] (ignore the `unwrap()` for easier reading) you can see a `file` object is passed to `tar::archive` constructor and thus (normally) the tar reader won't outlive the `file` lifetime. (more offtopic) and another nice thing that library has: from [a link]",0,0.806505560874939
365204571,11833,sledgehammer999,2020-01-10T12:07:19Z,in case it wasn't clear: the buffer with the tarred data is given by the caller of `utils::tar::untar()`.,0,0.9945911169052124
365205211,11833,sledgehammer999,2020-01-10T12:09:19Z,"what do i do partially? you mean the chechsum check and null check? if i parse the rest on ctor, that means i would have to have extra member variables to hold a copy of the data.",0,0.9902427792549133
365206378,11833,sledgehammer999,2020-01-10T12:13:05Z,maybe i could merge `m_valid` and `m_verified`. now `m_valid == true` only when the first byte isn't null. and `m_verified == true` when the checksum is correct. this allows to have more specific error output. but i could merge those 2 so `m_valid == true` only when 1st byte != null and checksum is correct. `m_null == true` when all bytes are null. it is used a special marker for eof. i don't think i can combine it with the other 2 bools.,0,0.979262113571167
365282671,11833,glassez,2020-01-10T15:17:38Z,"header can be either invalid, null or regular so you just need enum with 3 values.",0,0.991579532623291
365286070,11833,glassez,2020-01-10T15:24:33Z,what's the problem with it? if header is invalid (or null) they will be empty. if header is valid you still copy this data when access it from caller side (since it's pointless to create this object and then never access its fields).,0,0.9345173239707947
365338042,11833,glassez,2020-01-10T17:09:02Z,there is no way to avoid that. you can only warn about the danger (in code comments) and hope that caller can correctly handle it.,0,0.7320195436477661
365339494,11833,glassez,2020-01-10T17:12:11Z,file stream reading is different thing so let's not consider it here.,0,0.9819028377532959
365400113,11833,sledgehammer999,2020-01-10T19:41:27Z,increased class size. i want to stay with the parse-on-demand approach and not have unnecessary copies of data laying around. something akin to `bedecode_token/bedecode_node` (somewhat inspired by [a link] usually the user of the class will call only once each method and store the result. so why make the class also store a copy?,0,0.9862843751907349
365470599,11833,sledgehammer999,2020-01-10T23:31:36Z,"i may be wrong, but in addition to leaving a code comment we could do this: [code block] this will ensure that the caller will have a non-temporary buffer. it will fail only if he does weird things in the calling site and its buffer goes out of scope before the return value. eg something like this: [code block]",0,0.8582635521888733
365492628,11833,Chocobo1,2020-01-11T02:34:24Z,"that is just one instance of the `read` trait. imo the library is still valuable as a reference when designing class interface (more or less) as the essence isn't all that different. there is always ways to shoot oneself in the foot in c++ but a good interface will make it hard to do so. yeah, that will help a bit. although there are still easy ways to go wrong: [code block]",0,0.7115281224250793
365501411,11833,glassez,2020-01-11T05:31:10Z,"no problem (unless you need to call some of them twice). but in this case the class itself becomes redundant (now it is like a ""thing in itself"" that only takes care of its own invariant in each method). you can easily apply any parsing function on header data separately.",0,0.9826085567474365
365531126,11833,glassez,2020-01-11T16:54:55Z,"i would still insist on making this parser as more generic as possible (as long as it does not require excessive effort). just return ""type"" as is (maybe just expanding it to `int` as discussed earlier). let upper level decide whether it should care about some file type or not.",0,0.9854309558868408
365531624,11833,glassez,2020-01-11T17:05:42Z,"looks suspicious. imo, you provide some kind of undefined behaviour. you should fail on really invalid characters. if spaces at beginning are acceptable (i.e. "" 354"" is valid octal number) you should skip spaces explicitly. but, e.g., ""gdi754"" is invalid octal number and it should cause an exception.",-1,0.901640772819519
366191508,11833,sledgehammer999,2020-01-14T07:52:41Z,sorry for the lack of activity. i'll probably push something the next days based on the various comments. on this particular one: iirc the specs calls that the field is an octal number padded with leading zeroes (all ascii chars). so i am going to interpret it this ways: [code block],-1,0.9863786697387695
366264262,11833,glassez,2020-01-14T10:36:43Z,"if it's true, then your current algorithm is correct, but it can be used only internally by tar parser (so we should never make it shareable). or you can split it into two functions: first (can be shareable util) parses valid octal notation (and breaks at any invalid character), second (private) skips leading invalid characters and apply the first one on the rest.",0,0.9930421113967896
366268379,11833,glassez,2020-01-14T10:45:26Z,"your examples are too deliberate to make a mistake in this way (if someone has read the appropriate warning). there is a more plausible situation when you save the obtained data somewhere (especially implicitly, e.g. create some dynamically allocated object and pass it there via constructor or some setter) and then the function that owns the source buffer returns.",0,0.991269588470459
366273079,11833,glassez,2020-01-14T10:55:23Z,"the problem is there are no differences at the class interface between qbytearray that owns the data and that doesn't. so if some class need accepts qbytearray to store it internally there is no way to prevent error case from this class. imo, the better design is when we have different classes for data and references to its parts (e.g. qstring and qstringref). so if caller side has qstringref and calling side accepts qstring we should convert it explicitly (making deep copy of referenced data). unfortunately we can't use qstring for raw data.",-1,0.539284348487854
366704009,11833,glassez,2020-01-15T05:44:50Z,"there is `uint qstrnlen(const char *str, uint maxlen)` that you can use instead (or at least as underlying one).",0,0.9942123293876648
370465082,11833,glassez,2020-01-24T03:56:51Z,"it's good practice to call such types using singular form. also we use camelcase names for member of ""enum class"".",0,0.9844717383384705
370465496,11833,glassez,2020-01-24T03:59:47Z,camelcase,0,0.9723753333091736
370465875,11833,glassez,2020-01-24T04:02:31Z,seems this class is private helper. please move it out of here.,0,0.9904797673225403
370466633,11833,glassez,2020-01-24T04:07:05Z,why don't you go the common way? just return the status of successful reading as a bool. other information is meaningless at this point.,0,0.9870933890342712
370467004,11833,glassez,2020-01-24T04:09:41Z,leftover,0,0.9850702285766602
370992855,11833,glassez,2020-01-26T11:51:33Z,this one is neither satisfied nor even answered.,-1,0.527898907661438
370993317,11833,glassez,2020-01-26T11:59:28Z,"if you can't make a generic tar parser for some reason, just move it in ""geoipmanager.cpp"" and make it a ""private"" parser that can parse only particular subset of .tar files corresponding to geoip database distro.",0,0.9940453767776489
373807090,11833,NotTsunami,2020-02-01T22:55:38Z,"slightly unrelated to this pr but there are instances in geoipmanager where you can omit the null check here, [a link]. if you want to keep that seperate i'm more than happy to address that in a seperate pr.",0,0.738741934299469
373808602,11833,NotTsunami,2020-02-01T23:34:37Z,"disregard the previous comment, addressed in #11961",0,0.9875699877738953
374056565,11833,glassez,2020-02-03T11:40:51Z,"it should be ""filetype"".",0,0.9907017946243286
374057282,11833,glassez,2020-02-03T11:42:33Z,"what ""reg"" prefix means? is it really needed (there are no types without it here)?",0,0.991233766078949
374058150,11833,glassez,2020-02-03T11:44:37Z,you are the one that forbid such implementations in headers.,0,0.978425920009613
374067144,11833,glassez,2020-02-03T12:08:01Z,how about this one?,0,0.9879279732704163
374067506,11833,glassez,2020-02-03T12:08:57Z,add space between type name and `{`.,0,0.9942546486854553
374068308,11833,glassez,2020-02-03T12:10:59Z,shouldn't you break the loop after you've found database file?,0,0.9938410520553589
374070649,11833,glassez,2020-02-03T12:17:04Z,"i wouldn't use legacy configuration structure for new settings (it was bound to the options dialog layout). imo, it's better to have something like ""geoip/licensekey"".",0,0.9765149354934692
374075713,11833,sledgehammer999,2020-02-03T12:29:55Z,"the type of the header can point to other things than files (eg symlink, directory, etc)",0,0.9913923740386963
374076171,11833,sledgehammer999,2020-02-03T12:31:06Z,regular file. this can be denoted by 2 separate values. either null or ascii zero. should i write it out fully? eg `regularfilenull`,0,0.9884046316146851
374076690,11833,sledgehammer999,2020-02-03T12:32:29Z,and iirc you were the one that advocated that such simple instructions can be implemented in headers. and i think there is actually used in some headers now. am i wrong?,0,0.9842352867126465
374076702,11833,glassez,2020-02-03T12:32:30Z,"but it's still not ""type of stream reader""... so maybe ""entrytype""?",0,0.9911808967590332
374077926,11833,glassez,2020-02-03T12:35:47Z,"are there any other (non regular) files so you can't omit ""regular"" keyword? if there's one please use ""regular"" instead of ""reg"".",0,0.9946669340133667
374079404,11833,glassez,2020-02-03T12:39:38Z,yes. and i still didn't change my mind. but i don't use it since it's forbidden by qbittorrent coding guidelines. maybe it's time to reconsider it?,0,0.7964123487472534
374368773,11833,sledgehammer999,2020-02-03T22:07:30Z,"sorry. i had the wrong idea in my head. apparently we only do member variable initializations in the header. i don't know if this is constrained to only structs and very simple classes. i don't know. i don't even remember my exact reasoning for being against this. the only thought i have for being against it now: consistency in a class. when you're looking at a .cpp you probably want to see all member function implementations there and not go hunting them down in the header. i admit this isn't a strong case, and personally i don't have a strong position on this.",-1,0.9820104241371155
374371211,11833,sledgehammer999,2020-02-03T22:12:58Z,"hmm, i am not sure i agree with you. `managedatabaseupdate()` ""manages"" the db update. should calling code do the error checking for it? my position is that the error checking must be done by `managedatabaseupdate()` itself.",0,0.6969400644302368
374468322,11833,Chocobo1,2020-02-04T04:23:46Z,also it is easier to read the function signatures (in header) if the function bodies are left out.,0,0.9930822849273682
374471588,11833,glassez,2020-02-04T04:41:53Z,"my comment is more about ""what we should consider as an error"" than ""what place in the code we should handle this error"".",0,0.9771590828895569
374473040,11833,glassez,2020-02-04T04:49:40Z,"possible algorithm (when ""resolve peer country"" is enabled): 1. if license key is set by user try to update database and log errors if they are. otherwise just skip database update step. 2. if database isn't loaded by previous step try to load it from file and log errors if they are.",0,0.9934375882148743
374480398,11833,glassez,2020-02-04T05:27:45Z,"okay, whatever you want... i'm used to it.",0,0.7011935710906982
374999276,11833,sledgehammer999,2020-02-05T00:25:08Z,now i understand your objection better. i pushed an update and hopefully manages things more fully and clearer. ps: the logic is to first load any existing db and then perform db update if possible and necessary.,0,0.8695328831672668
375063936,11833,glassez,2020-02-05T05:21:00Z,"""else"" is redundant.",0,0.9298587441444397
375172012,11833,glassez,2020-02-05T10:24:03Z,"i would declare entrytype under ""utils::tar"".",0,0.9946647882461548
375283225,11833,glassez,2020-02-05T14:22:45Z,"""else"" is redundant.",0,0.9298587441444397
375284185,11833,glassez,2020-02-05T14:24:18Z,"you should either keep all expressions in one line or enclose ""if"" body with braces.",0,0.9928715825080872
375285593,11833,glassez,2020-02-05T14:26:34Z,"move ""?"" to the next line.",0,0.9884231686592102
375286507,11833,glassez,2020-02-05T14:27:58Z,"imo, ""fullname"" is better.",0,0.9790209531784058
375287792,11833,glassez,2020-02-05T14:29:55Z,multiline condition requires body to be enclosed in braces.,0,0.9680547714233398
375289791,11833,glassez,2020-02-05T14:33:01Z,"multiline ""if"" body requires to be enclosed in braces.",0,0.9893045425415039
375292045,11833,glassez,2020-02-05T14:36:33Z,"""("" shouldn't be cut from function name.",-1,0.939845085144043
375294302,11833,glassez,2020-02-05T14:40:20Z,"is it possible when ""atend"" is false? it's inconsistent, imo.",0,0.9705913066864014
375313480,11833,glassez,2020-02-05T15:10:40Z,seems weird...,-1,0.9834582805633545
375314207,11833,glassez,2020-02-05T15:11:46Z,"""("" position issues.",0,0.9043042063713074
375750215,11833,glassez,2020-02-06T10:20:59Z,"when readnext returns false it should be either error or end-of-file case, isn't it?",0,0.9862307906150818
375751493,11833,glassez,2020-02-06T10:23:30Z,"""("" position issue.",0,0.9757835268974304
375752770,11833,glassez,2020-02-06T10:25:59Z,"""("" position issue.",0,0.9757835268974304
375767670,11833,glassez,2020-02-06T10:56:18Z,"this logic confuses me. current position should point to the point of stream from where you will read next data. so you should increase it just after you have read entry. currently your logic is inconsistent. you have the same ""pos"" both before first reading and after it. the need for m_hasparsingstarted field is also indicates the problem. it isn't needed if ""pos"" behaves correctly.",-1,0.771733283996582
376216995,11833,glassez,2020-02-07T05:10:26Z,"these conditions seem to be redundant. due to conditions in ""if"" above it was either disabled before (so m_geoipdatabase was nullptr) or it had different database url.",0,0.9929484128952026
377382565,11833,sledgehammer999,2020-02-10T23:41:19Z,i didn't get into the specifics because the deleted check included `!m_geoipdatabase` already. of the top of my head i can't find a flow where it results that it was disabled but with non-nullptr pointer (m_geoipdatabase). maybe it was put there as an extra precaution? should i try to remove it? (and from the else if below it?),0,0.9824288487434387
377383613,11833,sledgehammer999,2020-02-10T23:44:52Z,i know. it was either this `bool` or an `int` to hold the start position of the filedata. i chose bool in an effort to minimize class size in memory. but now i see that my last bool simply introduces padding at the end of the class. so instead of padding i'll use the `int` which should fit nicely there.,0,0.9618163108825684
377383810,11833,sledgehammer999,2020-02-10T23:45:35Z,how so? do you mean the formatting or what the code does?,0,0.9901034832000732
377384396,11833,sledgehammer999,2020-02-10T23:47:38Z,your comment helped me realize another solution. i dropped the `bool m_end` member variable. when the parser encounters the empty header (marker for eof) it sets `m_pos` to `m_data.size()`. and `atend()` tests for that.,0,0.7038382291793823
377384818,11833,sledgehammer999,2020-02-10T23:49:02Z,i would like to keep it this way. if i use a naked `if` then i'll have to introduce an empty line between the 2 tests for readability.,0,0.9805788397789001
377384870,11833,sledgehammer999,2020-02-10T23:49:12Z,same,0,0.9850570559501648
377476345,11833,glassez,2020-02-11T07:33:16Z,is it a problem?,0,0.9760956764221191
377487480,11833,glassez,2020-02-11T08:11:53Z,yes.,0,0.9851860404014587
377488129,11833,glassez,2020-02-11T08:13:47Z,it's invalid reason to make logic inconsistent.,-1,0.7221221327781677
377491477,11833,glassez,2020-02-11T08:22:59Z,it can be written as: [code block] without any other conditions. maybe... anyway we shouldn't handle it as regular case (unless we really want to keep database loaded after feature is disabled).,0,0.9888124465942383
280431630,10527,glassez,2019-05-02T13:59:41Z,"api looks inconsistent. i would have the following set: [code block] with some ""extra"" value for ""tags"" parameter that could mean ""all tags"" (empty string or skipped parameter would be good idea). besides, you don't have method to get a list of tags. having this info in sync api isn't enough since some client (e.g.) doesn't want use sync api.",0,0.8209168910980225
280661362,10527,Chocobo1,2019-05-03T04:31:13Z,pls use range-based for loop here and other places. `for (const auto &tag : asconst(session->tags()))`,0,0.9933176040649414
280661446,10527,Chocobo1,2019-05-03T04:32:10Z,and omit curly braces for single line `for` body statements such as this one and at other places too.,0,0.9942008852958679
280661605,10527,Chocobo1,2019-05-03T04:34:27Z,"`${version}` is renamed, see 49b57904f98f6cfd06f04daf49c46c714a71621a",0,0.9942658543586731
280661748,10527,Chocobo1,2019-05-03T04:36:22Z,"you should use `const` or `let` whenever possible in place of `var`, this applies to everywhere else too.",0,0.9927674531936646
281260083,10527,glassez,2019-05-06T16:32:18Z,"although i approve ""hashes"" as param name since the rest of the methods historically use this name, but i would personally prefer to call it ""torrents"".",0,0.9893948435783386
281261507,10527,glassez,2019-05-06T16:36:28Z,maybe check tag name once before applying it to torrents?,0,0.9915137887001038
281263304,10527,glassez,2019-05-06T16:42:08Z,"there's something odd about it... if a torrent has a tag, what can prevent you from deleting it? at least incorrect tag name isn't valid reason.",-1,0.6906450986862183
281264351,10527,glassez,2019-05-06T16:45:04Z,"isn't empty string just ""incorrect tag name"" like below?",0,0.9826986789703369
281265888,10527,glassez,2019-05-06T16:49:26Z,i don't see any strong reason to keep it inconsistent with the method above. either createtag/deletetag or createtags/deletetags.,0,0.9642118215560913
281268827,10527,glassez,2019-05-06T16:57:22Z,"just a note for other contributors. perhaps we should reconsider the indication of errors in the base classes. just ""return a bool"" is extremely uncomfortable. error codes or exceptions can greatly simplify their use.",-1,0.9659476280212402
283188981,10527,fusioneer-GitHub,2019-05-13T05:09:56Z,it's to be in line with categories implementation.,0,0.9930650591850281
283190631,10527,fusioneer-GitHub,2019-05-13T05:23:33Z,"for removal purposes, valid tag is any, that exists on current torrent.",0,0.9935048818588257
283190796,10527,fusioneer-GitHub,2019-05-13T05:25:05Z,it's checked in `torrenthandle::addtag` anyway.,0,0.9945043325424194
283285672,10527,glassez,2019-05-13T10:39:58Z,"didn't you understand me? if torrent has a tag then this tag has correct name. so at ""incorrect tag name"" isn't valid reason of possible error here. so you only allow the removal of a set of tags that exist in each of these torrents? it looks uncomfortable to me.",-1,0.9552809000015259
283374594,10527,fusioneer-GitHub,2019-05-13T14:29:54Z,this whole check is redundant and there should be plain `torrent->removetag(tag);`. do i understand you correctly?,0,0.9806979894638062
287023829,10527,Chocobo1,2019-05-23T16:11:03Z,`asconst()` is redundant here as `tags` is already `const`. please remove it and at other places too.,0,0.9942278861999512
287023957,10527,Chocobo1,2019-05-23T16:11:23Z,please replace `auto` with `qstring` and at other places too.,0,0.9949361085891724
287024600,10527,Chocobo1,2019-05-23T16:13:01Z,`&tag`? and at other similar places.,0,0.9901576638221741
287024995,10527,Chocobo1,2019-05-23T16:14:04Z,maybe append the offending tag name in exception?,0,0.9883785843849182
287026359,10527,Chocobo1,2019-05-23T16:17:31Z,please make it like: [code block],0,0.9955495595932007
287027836,10527,Chocobo1,2019-05-23T16:21:21Z,i would omit this variable and inline it. this also applies to other similar instances.,0,0.9940277338027954
287030010,10527,Chocobo1,2019-05-23T16:27:03Z,don't you need to trim the `tag`?,0,0.9925593137741089
287031459,10527,Chocobo1,2019-05-23T16:30:33Z,please remove redundant curly brackets for if-else.,0,0.9936631917953491
287033421,10527,Chocobo1,2019-05-23T16:35:49Z,add parentheses to each predicate.,0,0.9935854077339172
287033868,10527,Chocobo1,2019-05-23T16:37:04Z,`const tagexists` or some non-vague name.,0,0.9678586721420288
287034354,10527,Chocobo1,2019-05-23T16:38:21Z,wrong coding style.,-1,0.8037903904914856
287034962,10527,Chocobo1,2019-05-23T16:39:54Z,`!==` ?,0,0.9595745205879211
287035116,10527,Chocobo1,2019-05-23T16:40:20Z,add parentheses.,0,0.9929538369178772
287035276,10527,Chocobo1,2019-05-23T16:40:45Z,i would add an empty line below.,0,0.9892376661300659
287037768,10527,Chocobo1,2019-05-23T16:47:15Z,i would add an empty line below.,0,0.9892376661300659
287039629,10527,Chocobo1,2019-05-23T16:52:19Z,is it possible to replace `object.each()` with `for (let key in object)`?,0,0.9944443106651306
287041609,10527,Chocobo1,2019-05-23T16:57:37Z,changes like these don't match the commit message. you should separate it out.,0,0.9837397933006287
288243250,10527,fusioneer-GitHub,2019-05-28T18:29:24Z,"actually i should remove this exception, because it's a dead code due to `split` with `skipemptyparts`",0,0.9907019138336182
288268872,10527,fusioneer-GitHub,2019-05-28T19:37:01Z,"it is. but why bother with keys, when we need values?",0,0.9857538938522339
288370878,10527,Chocobo1,2019-05-29T02:26:24Z,if i understand correctly `object.each()` comes from mootools which is considered [a link]. so i would like new code to stay away from it.,0,0.9893151521682739
288371345,10527,fusioneer-GitHub,2019-05-29T02:29:26Z,"is it ok to use native `object.values()`, or we have to support legacy browsers?",0,0.993787944316864
288372032,10527,Chocobo1,2019-05-29T02:34:10Z,"check out src\webui\www\readme.md, there are requirements in there.",0,0.9948941469192505
288373780,10527,fusioneer-GitHub,2019-05-29T02:46:00Z,"ok, will do `for in`. omg, internet explorer...",-1,0.989452600479126
288942968,10527,glassez,2019-05-30T10:44:05Z,why is this unrelated change?,0,0.9864495396614075
289002157,10527,Chocobo1,2019-05-30T14:00:29Z,"-github you (probably) misunderstood of my [a link], i meant you should only remove it in the code you modified/added not the whole .cpp file.",0,0.9377846121788025
289592288,10527,Chocobo1,2019-06-01T04:46:45Z,`asconst(session->tags())`,0,0.9939655661582947
289592404,10527,Chocobo1,2019-06-01T04:50:50Z,i would omit this curly bracket.,0,0.9901114106178284
289592421,10527,Chocobo1,2019-06-01T04:51:36Z,`asconst(bittorrent::session::instance()->tags())`,0,0.9939058423042297
289592531,10527,Chocobo1,2019-06-01T04:55:54Z,add an empty line above please.,0,0.9925680160522461
289592620,10527,Chocobo1,2019-06-01T05:00:08Z,use camel case for all variables.,0,0.9927266836166382
289592634,10527,Chocobo1,2019-06-01T05:01:01Z,same here.,0,0.9916109442710876
289592670,10527,Chocobo1,2019-06-01T05:02:20Z,same here. we only use underscores for constants in uppercase.,0,0.9924464821815491
289592687,10527,Chocobo1,2019-06-01T05:03:05Z,give it a better name.,0,0.9787742495536804
289592746,10527,Chocobo1,2019-06-01T05:05:29Z,empty line below.,0,0.9767862558364868
289592791,10527,Chocobo1,2019-06-01T05:06:54Z,personally i would write [code block],0,0.9925750494003296
289593013,10527,Chocobo1,2019-06-01T05:16:43Z,is using `hasownproperty()` really necessary?,0,0.9929221868515015
289593173,10527,Chocobo1,2019-06-01T05:24:09Z,where is `empty()` defined? and what does it do?,0,0.994579553604126
289596330,10527,fusioneer-GitHub,2019-06-01T07:37:09Z,"yep, it's mootools. fixed.",0,0.8984962701797485
289702409,10527,Chocobo1,2019-06-03T06:33:09Z,"there are a few `hasownproperty()` around, i presume you are sure that they are really required?",0,0.9948434829711914
289703017,10527,Chocobo1,2019-06-03T06:36:17Z,"nitpick, i would strip the curly bracket here.",0,0.9911920428276062
289703040,10527,Chocobo1,2019-06-03T06:36:25Z,and here.,0,0.9887459874153137
290330959,10527,Chocobo1,2019-06-04T14:37:16Z,`if (i === 0)`,0,0.9934549927711487
290338139,10527,glassez,2019-06-04T14:50:21Z,please don't produce such long lines. split them all.,-1,0.8595768809318542
290339368,10527,glassez,2019-06-04T14:52:21Z,it's a bad idea to trim it in each iteration.,-1,0.9806528091430664
290339877,10527,glassez,2019-06-04T14:53:20Z,the same as above.,0,0.9920604228973389
290342138,10527,glassez,2019-06-04T14:57:21Z,what does const mean in javascript? it is modified in code below...,0,0.9939994812011719
290475479,10527,fusioneer-GitHub,2019-06-04T20:09:16Z,should i use concatenation or newline escaping to construct multiline literals?,0,0.9885531663894653
290498054,10527,fusioneer-GitHub,2019-06-04T21:08:10Z,"it means we can't change variable's value, the reference to array object instance. but we are free to call any of its methods or change its properties. there is no notion of const methods in js.",0,0.9934513568878174
290855664,10527,glassez,2019-06-05T17:39:16Z,i would use concatenation. ?,0,0.990532398223877
290860805,10527,glassez,2019-06-05T17:51:40Z,"this is favorite way of - to produce additional (const) variables. i would just make `tag` changeable: [code block] however, i do not want to discuss this topic, so that it does not become an unnecessary obstacle here. another question (also not for this pr) is that i do not think ""trimming"" (frequently used in this api) is correct. for example: 1. if a tag with spaces at the edges is considered correct, why do we trim it? 2. otherwise, if a tag with spaces at the edges is considered incorrect, why we don't reject this ""bad request""?",0,0.9531688094139099
290877347,10527,Chocobo1,2019-06-05T18:31:31Z,"not so precise, because it is clear what are the critical values in a piece of code. you don't even need to make it mutable! such as: [code block]",1,0.5087727308273315
290878207,10527,Chocobo1,2019-06-05T18:33:27Z,if using `\` doesn't break the indention so much... i'm fine with both way.,0,0.9397321343421936
290881525,10527,glassez,2019-06-05T18:42:14Z,"yeah, let's go back to the beginning. [a link]",0,0.9909364581108093
291838277,10527,Chocobo1,2019-06-09T14:15:20Z,-github please change this to: [code block],0,0.9928344488143921
291838284,10527,Chocobo1,2019-06-09T14:15:30Z,here too.,0,0.9698454141616821
291838327,10527,Chocobo1,2019-06-09T14:17:14Z,i was reviewing these code recently and i think we should use `value()` method instead of `operator[]`. [code block],0,0.9864830374717712
291838345,10527,Chocobo1,2019-06-09T14:17:57Z,~~and here.~~,0,0.9218276143074036
291838348,10527,Chocobo1,2019-06-09T14:18:05Z,~~here too.~~,0,0.9197946190834045
291838354,10527,Chocobo1,2019-06-09T14:18:16Z,~~also here.~~,0,0.9824192523956299
291838415,10527,Chocobo1,2019-06-09T14:20:24Z,~~could you be more clear about it? should we not trim or trim it in other places?~~,0,0.9875352382659912
291839094,10527,Chocobo1,2019-06-09T14:45:48Z,"sorry about my previous note, you are free not making this change, i'm having second thought.",-1,0.9909840822219849
291840924,10527,glassez,2019-06-09T15:46:36Z,", why do you suggest to trim it for each iteration instead of making it only once?",0,0.9893894791603088
291841869,10527,Chocobo1,2019-06-09T16:29:02Z,"i have no idea what or how. please give your direct suggestion to -github about what to do. what do you mean by ""making it only once""?",-1,0.9053186178207397
291842433,10527,glassez,2019-06-09T16:52:19Z,", don't you follow this thread carefully? [a link] either leave it as is currently or change it to not produce extra variable (as suggested in [a link]",0,0.9920944571495056
291842838,10527,Chocobo1,2019-06-09T17:06:24Z,"~~i'm not sure what is the point here? what are we aiming to achieve? the trim happens only once for each items in `tags`, no?~~ ~~imo [a link] is even better than [a link] because there is one less variable, isn't?~~",0,0.6059797406196594
291842901,10527,Chocobo1,2019-06-09T17:08:44Z,"i understand it now, just leave it as-is.",0,0.9146764874458313
291901908,10527,Piccirello,2019-06-10T07:11:34Z,"why save this function to the global context, rather than using `const`? i believe it's only called in this file.",0,0.987470805644989
291901979,10527,Piccirello,2019-06-10T07:11:58Z,same question here regarding `this` vs `const`.,0,0.9896543025970459
291902829,10527,Piccirello,2019-06-10T07:15:38Z,same `this` question for all of these. (documenting instances in case we decide to change it),0,0.9945835471153259
291903392,10527,Piccirello,2019-06-10T07:18:00Z,same `this` question for all instances of `this.current_hash`.,0,0.9942303895950317
291905384,10527,Piccirello,2019-06-10T07:26:36Z,"all new api methods should have some sort of error handling (e.g. 404 if hash not found, 400 if tag doesn't exist). and ideally with some sort of error message (`invalid torrent`) per #10747. check `torrentscontroller::createcategoryaction` for an example of this.",0,0.9946203231811523
291907162,10527,Piccirello,2019-06-10T07:33:56Z,i think we should check all tags and return a `409` if any already exist. only then should we create a tag.,0,0.9870361685752869
291907437,10527,Piccirello,2019-06-10T07:35:01Z,we should check the return value of this function and throw an error if `false`. otherwise a tag could silently fail the `session::isvalidtag()` check.,0,0.9939619898796082
291908703,10527,Piccirello,2019-06-10T07:40:11Z,"we should also check the return value of this function and handle appropriately. maybe we throw an error immediately, or maybe we return a 200 if at least one `removetag` succeeded. then we can return the number of failures in the response body. i think we currently do the former in some cases, but i'm not sure it's the right approach. maybe it is- i'm not sure.",0,0.9514999389648438
291910106,10527,Piccirello,2019-06-10T07:45:45Z,we can replace iteration with built-in functions: [code block],0,0.9947801828384399
291913792,10527,Piccirello,2019-06-10T08:00:19Z,"despite this check i'm able to submit tags with a comma without getting an error alert (e.g. `testtag,`). but then again, multiple tags are allowed when separated by a comma. so this check confuses me a bit.",-1,0.7542291283607483
291914892,10527,Piccirello,2019-06-10T08:04:25Z,what's the difference between this `typeof` check versus checking against `undefined` directly?,0,0.9912257790565491
291915182,10527,Piccirello,2019-06-10T08:05:23Z,"same question here about checking `undefined` directly, and any other uses.",0,0.9884317517280579
291915751,10527,Piccirello,2019-06-10T08:07:18Z,"not sure about including the space in the split string. it seems more common to split just on `,` and then trim the tag. but don't feel super strongly about this.",0,0.5981071591377258
291916171,10527,Piccirello,2019-06-10T08:08:50Z,is `combine` a mootools function? i'm not familiar with it.,0,0.954094409942627
291916677,10527,Piccirello,2019-06-10T08:10:36Z,"can you make this check more explicit? directly compare to undefined/null or whatever it would be in a failure case (i can't immediately tell, hence wanting the explicitness). same with while loop below.",0,0.9934957027435303
291917034,10527,Piccirello,2019-06-10T08:11:48Z,can this be a triple equals `===`?,0,0.9909669756889343
291917580,10527,Piccirello,2019-06-10T08:13:36Z,can this be `const`?,0,0.994022786617279
291917689,10527,Piccirello,2019-06-10T08:13:59Z,can this be `const`?,0,0.994022786617279
291917759,10527,Piccirello,2019-06-10T08:14:11Z,can this be `const`?,0,0.994022786617279
291917857,10527,Piccirello,2019-06-10T08:14:31Z,can this be `const`?,0,0.994022786617279
291918099,10527,Piccirello,2019-06-10T08:15:23Z,can this be `const`?,0,0.994022786617279
291918462,10527,Piccirello,2019-06-10T08:16:35Z,can this check be moved outside the for loop? seems we can call it if `sortedtags.length > 0`.,0,0.9949022531509399
291918538,10527,Piccirello,2019-06-10T08:16:48Z,use triple equals `===`,0,0.9908663630485535
291918994,10527,Piccirello,2019-06-10T08:18:20Z,the double negative confuses my brain. can this be stored in a variable for clarity? like `const isnumber`?,-1,0.8596880435943604
291919129,10527,Piccirello,2019-06-10T08:18:47Z,nitpick: remove the space after `function`,0,0.9941306710243225
291919928,10527,Piccirello,2019-06-10T08:21:25Z,"nitpick, but can we make this `const` using a ternary operator? `const tagname = ((taghash === 0) ? '' : taglist[taghash].name);` note that i've switched from double equals to triple equals, but please confirm this is valid.",0,0.993270218372345
291922507,10527,Piccirello,2019-06-10T08:30:12Z,"how do i evoke this case from the webui? it seems set just calls `api/v2/torrents/addtags` or `api/v2/torrents/removetags` directly from `mocha-init.js`, rather than opening this dialog.",0,0.9936568140983582
291923899,10527,Piccirello,2019-06-10T08:34:43Z,(the line above it),0,0.9903584122657776
291935160,10527,glassez,2019-06-10T09:09:55Z,", we discussed error handlng in the early comments, please read them first. in a nutshell: since client-server interconnection is asynchronous, not all conflicts should cause an error, some can be safely ignored.",0,0.9773255586624146
291966613,10527,fusioneer-GitHub,2019-06-10T10:56:52Z,`,0,0.7881692051887512
291970468,10527,fusioneer-GitHub,2019-06-10T11:11:29Z,"panels work mostly like popup windows above. the alternative is to declare `current_hash` only in client.js as it is really a global state variable, declared in multiple panels.",0,0.9942409992218018
292068150,10527,fusioneer-GitHub,2019-06-10T15:44:15Z,then we'll have to do even more work to find first tag element once more.,0,0.9682775735855103
292081614,10527,fusioneer-GitHub,2019-06-10T16:17:53Z,you can do this via torrent context menu -> tags -> add...,0,0.9958577752113342
292098709,10527,fusioneer-GitHub,2019-06-10T17:01:46Z,this case evoked via left panel tag list context menu. only single tag is allowed there. it closely follows desktop version behavior.,0,0.9939742684364319
292115450,10527,Piccirello,2019-06-10T17:45:31Z,"i couldn’t find any substantive conversation about this above. the client processes api responses asynchronously, but that doesn’t mean our api should swallow errors. we should report the errors and allow the client to decide how to handle them. to me, that means 409 if all fail, 200 if all pass, and 200 with more info if some pass and some fail.",0,0.9619816541671753
292116438,10527,Piccirello,2019-06-10T17:48:00Z,"that seems reasonable. this is all pretty ugly, but that was the case well before your pr.",-1,0.9619156718254089
292117592,10527,Piccirello,2019-06-10T17:50:47Z,let’s go with your current approach and we can refactor the current_hash logic in a future pr.,0,0.9931341409683228
292284924,10527,Piccirello,2019-06-11T05:43:44Z,that did it :thumbs_up: thanks. i wrote the original code for this with add categories and it *still* confuses me. probably not a sign of good code (on my part).,1,0.9931727051734924
292284978,10527,Piccirello,2019-06-11T05:44:02Z,was able to confirm this. thanks.,1,0.9783905148506165
292285221,10527,Piccirello,2019-06-11T05:45:28Z,"you're right, i overlooked the part where we create the element in the line directly above. you can ignore this.",0,0.9895017743110657
297257502,10527,Piccirello,2019-06-25T15:41:15Z,"we should capture this function’s return value. if it’s false and the tag doesn’t exist (we should check), we should count that as an error. we should finish processing all other tags before reporting the error.",0,0.993388295173645
297259061,10527,Piccirello,2019-06-25T15:44:25Z,"capture the return value of this function, report back an error if add fails and torrent doesn’t contain the tag. don’t report the error until all hashes and tags are processed.",0,0.9944635033607483
297259763,10527,Piccirello,2019-06-25T15:45:49Z,"capture the return value of this function, report back an error if remove fails and torrent (still) contains the tag. trying to remove a nonexistent tag will return success. don’t report the error until all hashes and tags are processed.",0,0.9943760633468628
297260893,10527,Piccirello,2019-06-25T15:48:04Z,"capture the return value of this function, report back an error if add fails and tag doesn’t exist. don’t report the error until all tags are processed.",0,0.994281530380249
297261274,10527,Piccirello,2019-06-25T15:48:44Z,"capture the return value of this function, report back an error if remove fails and tag (still) exists. trying to remove a nonexistent tag will return success. don’t report the error until all tags are processed.",0,0.9943027496337891
300825463,10527,glassez,2019-07-06T09:05:56Z,"you don't need to call it ""errormessage"", since it's field of ""error"" object. just ""message"".",0,0.9939832091331482
300825583,10527,glassez,2019-07-06T09:11:05Z,"there is incorrect place to handle this error. really we are handle error that is raised due to incorrect tag, isn't it? i would check each tag before applying it. otherwise you will get multiple error messages because of the same invalid tag.",0,0.9273537993431091
300825627,10527,glassez,2019-07-06T09:12:43Z,the same as above. just check tag before trying to remove it.,0,0.9949533343315125
300825694,10527,glassez,2019-07-06T09:15:39Z,the previous action should not fail. why do you make this redundant checking and error handling?,0,0.980865478515625
300825886,10527,glassez,2019-07-06T09:22:40Z,"i would change the order of conditionals. since c++ performs ""short circuit evaluation"" you will not try to create tag if it already exists. applied in all similar cases.",0,0.9924964904785156
300844136,10527,fusioneer-GitHub,2019-07-06T22:41:43Z,"if we follow this line of reasoning, then we don't need error checking at `removetag` and `removealltags` altogether. they are supposed to succeed when tag is valid and exists, do nothing for absent tags, and invalid tags should not be added in the first place. i believe what wants is a form of defensive programming, in case internal tags api would change in the future in a way, that would allow these operations to fail. if we won't put any checks and error reporting, web api would fail silently.",0,0.9544086456298828
300850958,10527,glassez,2019-07-07T05:56:55Z,"it's good idea in common case. but you have to have some common sense not to make it absurd. `removealltags` isn't supposed to fail by its meaning. it doesn't even have any error reporting. you're trying to make something up. as for `removetag` and others like it, you can insist on ""paranoid"" error handling like ""if a function may report an error, then we have to handle it anyway"". but it does not untie your hands to produce stupid logic, trying to perform obviously unsuccessful actions and reporting the same error many times (i mean you should check tag before trying to add/remove it).",-1,0.9719991087913513
302384638,10527,glassez,2019-07-11T06:43:15Z,"imo, these methods are incorrect. result of api method can contain not only ""errors"" field. you should build result object inside the method and call `setresult()` at the end. otherwise some other dev can be confused when it call `seterrors()` and its result will be overwritten. [code block]",0,0.9676980972290039
302390680,10527,glassez,2019-07-11T07:03:28Z,"i'm fine with this format but prefer early returns (imo, not always justified) so he can insist on reformatting it: [code block]",0,0.9596302509307861
305712810,10527,Piccirello,2019-07-22T07:50:57Z,"that's exactly what i was aiming for in this pr. `torrenthandle::removealltags()` swallows the `false` return from `torrenthandle::removetag()`, repeatedly. by checking if the tags list is empty, we can catch this error. the `torrenthandle` api is pretty lax on error handling.",0,0.982975423336029
305714587,10527,Piccirello,2019-07-22T07:55:41Z,i do agree that we should return early. i'm not sure what the point of this comment was.,0,0.9210295081138611
305715784,10527,Piccirello,2019-07-22T07:59:01Z,"i think we should merge this pr as it was previously, with less error handling. we can solve the larger web api error handling problem for all apis in a separate issue/pr. we shouldn't jam up feature development because of it.",0,0.9578441977500916
305724193,10527,glassez,2019-07-22T08:22:14Z,":+1: we can merge it without the last commit for now. since error handling in entire web api is problem itself it should be discussed and solved separately (to not produce yet another inconsistencies). , what do you say?",0,0.534960925579071
306133677,10527,Piccirello,2019-07-23T05:26:49Z,"[code block] because this variable is now scoped properly, you must redeclare `i` in the for loop just below.",0,0.9949212670326233
306135401,10527,Piccirello,2019-07-23T05:36:41Z,`syntaxerror: redeclaration of const updatebypasssauthsettings` these may need to remain on `var` since they remain in the global scope after the preferences window is closed. reopening the preferences window triggers the above error.,0,0.9933093786239624
306649959,10527,glassez,2019-07-24T06:46:36Z,", can you confirm that it's fixed now?",0,0.9857827425003052
306682740,10527,Piccirello,2019-07-24T08:17:29Z,"i'm having some issues with my dev box, i'll need to test tomorrow.",-1,0.772999107837677
306719253,10527,Piccirello,2019-07-24T09:39:14Z,"ok, was able to test again. all is working well for me.",1,0.7745832204818726
41863828,3810,glassez,2015-10-13T13:19:35Z,**dbus** only is not enough here?,0,0.9803588390350342
41870864,3810,zeule,2015-10-13T14:18:57Z,"i'm not sure. dbus can be installed on mac, but desktop notifications will not work, afaik.",0,0.735419511795044
41881294,3810,glassez,2015-10-13T15:25:12Z,"well. in this case, the following would be correct: [code block] also note that there is no need for extra line breaks.",0,0.9928317070007324
41881657,3810,glassez,2015-10-13T15:27:20Z,stick it to the rest of headers/sources sections above.,0,0.9945019483566284
41882044,3810,glassez,2015-10-13T15:29:41Z,space after **if** (coding style). optional: drop redundant braces (coding style).,0,0.9859787821769714
41882788,3810,glassez,2015-10-13T15:34:32Z,static variables (const) inside anonymous namespace is overkill. get rid of either namespace or static (preferable use static in this case).,0,0.9214610457420349
41882857,3810,glassez,2015-10-13T15:34:58Z,we don't use module name in qt includes.,0,0.9922905564308167
41883425,3810,zeule,2015-10-13T15:38:34Z,"oh, yes. i forgot that now the code is in c++11 mode...",0,0.9231808185577393
41884508,3810,glassez,2015-10-13T15:45:57Z,"although using braces in such cases (single statement in block) is not forbidden, try to avoid this (if it does not matter for you).",0,0.989426851272583
41884622,3810,glassez,2015-10-13T15:46:40Z,and insert space after **if** of course.,0,0.9915766716003418
41884737,3810,glassez,2015-10-13T15:47:32Z,space,0,0.7991176247596741
41884871,3810,glassez,2015-10-13T15:48:27Z,line break before **else** (coding style).,0,0.9900321960449219
41884948,3810,glassez,2015-10-13T15:49:03Z,space,0,0.7991176247596741
41884992,3810,glassez,2015-10-13T15:49:18Z,line break,0,0.987718939781189
41885069,3810,glassez,2015-10-13T15:49:52Z,space,0,0.7991176247596741
41885142,3810,glassez,2015-10-13T15:50:19Z,space,0,0.7991176247596741
41885442,3810,glassez,2015-10-13T15:52:36Z,line break,0,0.987718939781189
41885614,3810,glassez,2015-10-13T15:53:43Z,line break before brace,0,0.991179883480072
41885685,3810,glassez,2015-10-13T15:54:13Z,4 spaces as indent,0,0.9912058711051941
41885906,3810,glassez,2015-10-13T15:55:28Z,line break before brace,0,0.991179883480072
41886060,3810,glassez,2015-10-13T15:56:32Z,line break at end of file,0,0.991077184677124
41886171,3810,glassez,2015-10-13T15:57:19Z,line break,0,0.987718939781189
41886276,3810,glassez,2015-10-13T15:58:09Z,why this file? delete it.,0,0.9685766696929932
41886393,3810,glassez,2015-10-13T15:58:55Z,we don't use indentation for preprocessor directives.,0,0.9866194725036621
41886863,3810,glassez,2015-10-13T16:02:12Z,move this to .cpp and use forward declaration here.,0,0.9953805208206177
41887865,3810,glassez,2015-10-13T16:09:27Z,"wow, i'm tired. i will no longer show violations, like already mentioned. i hope you find them yourself and fix it. follow the rules of coding_guidelines.md and my comments above.",-1,0.9926168322563171
41888351,3810,glassez,2015-10-13T16:13:09Z,before it was different? it's one and the same for variables.,0,0.9791204929351807
41892567,3810,zeule,2015-10-13T16:47:22Z,"in c++ 03 unnamed namespace did not mean internal linkage for symbols, while in c++11 it does.",0,0.9900988936424255
41893274,3810,glassez,2015-10-13T16:53:30Z,"in this case, what it's used for in c++03?",0,0.9927149415016174
41894995,3810,zeule,2015-10-13T17:08:04Z,"in c++03, as i understand, [code block] is by definition equal to [code block] but symbols from it still can be used where external linkage is needed. here are more details: [a link]",0,0.9939398765563965
42931224,3810,glassez,2015-10-24T06:48:30Z,"why you need this function? in place of calling this function, there is always torrent (h != 0).",0,0.9896572232246399
42931247,3810,glassez,2015-10-24T06:53:20Z,rename all member variables in form of `m_variablename`.,0,0.9947821497917175
42931493,3810,glassez,2015-10-24T07:31:46Z,"this struct is redundant. its **widget** field is always equal to mainwindow where it makes sense, so you can use dbusnotifier::mainwindow directly. and **torrent** can be used alone, not including in any structure. also unnecessary are all **widget** function parameters. offtopic: `0l` is an incorrect value for a null pointer, although not cause any compilation errors (as i said earlier). use either `0` or `nullptr`.",0,0.9162219166755676
42931594,3810,glassez,2015-10-24T07:42:32Z,don't store torrenthandle pointer for future using. it's dangerous as torrenthandle object can be deleted before you will use it and you will not be able to check it out. either store qpointer or store torrent hash and then call session::findtorrent().,0,0.53242027759552
42931645,3810,glassez,2015-10-24T07:48:45Z,"this function does not make sense, because `qsystemtrayicon *systrayicon` not used by dbusnotifier constructor. just use the appropriate constructor in place of its call.",0,0.992336094379425
42931664,3810,glassez,2015-10-24T07:51:15Z,"although qt_begin_namespace/qt_end_namespace are used in some previous code, it doesn't make sense, so don't use it.",0,0.9859923720359802
42935845,3810,zeule,2015-10-24T16:58:15Z,why? do you force users to compile qt without the namespace?,0,0.981607973575592
42935935,3810,zeule,2015-10-24T17:06:23Z,"no, ""search finished"" notification uses the search widget. if it is active, notification is not needed.",0,0.9917729496955872
42935967,3810,zeule,2015-10-24T17:11:34Z,disagree. dbus notifications may be used without gui (from qbittorrent-nox). let's make this next step easier.,0,0.9468140006065369
42936005,3810,zeule,2015-10-24T17:15:59Z,"well, if you say so. i wanted to be on the safe side.",0,0.9728379845619202
42936039,3810,glassez,2015-10-24T17:21:04Z,no. but qt_begin_namespace/qt_end_namespace are not enough to support qt namespace.,0,0.9908450245857239
42936133,3810,glassez,2015-10-24T17:31:46Z,where in the code it is used?,0,0.9939479827880859
42936182,3810,glassez,2015-10-24T17:36:15Z,it will not make the next step easier. it simply won't compile in this form for qbittorrent-nox. this will require a deeper rework.,0,0.933350682258606
42936357,3810,zeule,2015-10-24T17:50:50Z,ok.,0,0.980760931968689
42936617,3810,zeule,2015-10-24T18:16:29Z,"in dbusnotifier::actioninvoked(). when a notification is clicked, the corresponding widget should be activated.",0,0.9939956068992615
42936624,3810,zeule,2015-10-24T18:16:59Z,"oh yes, thank you. but, actually, the problem persists with qpointer (and hash), since the handle can be deleted just between checking the qpointer (getting a handle from the session object) and accessing it. this is just one more example for my criticism of the new torrenthandle class. it is simply not a handle, because it does not have the owning and copying semantics.",1,0.7692899107933044
42936697,3810,zeule,2015-10-24T18:24:10Z,i understand that it will not compile. the idea behind this is that main window and parent are different objects.,0,0.9848849773406982
42936719,3810,zeule,2015-10-24T18:26:52Z,the purpose of the function is to move all #ifdef-logic out of mainwindow.cpp,0,0.9942852854728699
42936885,3810,glassez,2015-10-24T18:40:05Z,do activatewindow() change current tab to search tab?,0,0.9950370192527771
42937005,3810,glassez,2015-10-24T18:53:49Z,"you did not understand the current model. your premise is incorrect. torrenthandle object is always relevant during the processing of single event. if you got a non-null pointer from the session, you can feel free to use it in current function and in all nested functions. you can call it just torrent if **handle** has a special meaning for you. torrenthandle is conventional name.",0,0.9087604880332947
42937087,3810,glassez,2015-10-24T19:00:36Z,what's the point? `#ifdef`s tell you something disturbing?,-1,0.9510851502418518
42937116,3810,zeule,2015-10-24T19:03:02Z,"and ""if"" too. the more they are localised and the smaller are in number the better i feel myself.",0,0.9077165722846985
42937153,3810,glassez,2015-10-24T19:06:28Z,"this is not idea but just current implementation. if that's the idea, then answer the question - why can't it be the same object? for some imaginary universality? but we do not develop the library here.",0,0.9892953038215637
42937164,3810,zeule,2015-10-24T19:07:29Z,if the main search tab is active,0,0.9928601384162903
42937242,3810,zeule,2015-10-24T19:13:09Z,"ok, i don't care anymore. on 24 october 2015 at 21:06, vladimir golovnev notifications.com wrote:",-1,0.5856848359107971
42937305,3810,glassez,2015-10-24T19:18:57Z,you're doing **objectively** wrong implementation to **subjectively** feel better. every thing should make sense. why to create dbusnotifier object you pass to function the system tray object? make you feel better?,-1,0.7435125708580017
42937362,3810,zeule,2015-10-24T19:23:35Z,"could you explain yourself, please? what is wrong? unused parameter in one of the if branches?",0,0.9437366724014282
42937453,3810,glassez,2015-10-24T19:31:41Z,"but you still pass it to a function! in case of dbusnotifier: [code block] this is quite normal, if we don't know how will be implemented the function in the place of invocation (e.g. when using signal/slot or event processing). but in this case it is not.",0,0.9708859324455261
42937505,3810,zeule,2015-10-24T19:37:30Z,"sorry, but can not understand you still. consider the following example: [code block] is there anything wrong with it? if no, what is the critical difference between ""if"" anf ""#if"" inside of this function for mainwindow?",-1,0.9894974231719971
42937551,3810,zeule,2015-10-24T19:43:09Z,"yes, this is exactly what i was talking about from the very beginning: this is a class without ownership semantic. the handle for me, i guess, has common meaning: it is something that allow me to access an object while i own the handle. and the idea that handle may become invalid (and crash the program, actually) without my actions is kind of surprising, don't you agree? if we consider a remote resource, then any operation on its handle may fail, naturally. but this has to be stated in the operation semantic (say, throw a specified exception). however, there is no any error reporting in the torrenthandle semantic. that is why torrenthandle is not even a classical handle, not a classical smart pointer. what is it? can't it become better by gaining the proper ownership semantic? on 24 october 2015 at 20:53, vladimir golovnev notifications.com wrote:",0,0.7550085783004761
42940101,3810,glassez,2015-10-25T01:59:50Z,"look, you really don't understand the difference between if and #if? then i don't even know how to continue our discussion...",-1,0.9649695754051208
42941784,3810,glassez,2015-10-25T06:44:33Z,"do you really think that only ""classical"" handle or ""classical"" smart pointer are the right patterns? okay, i am forced to spend my time and explain everything from the beginning... that is torrent handle in libtorrent. i don't agree with this. this is one reason why i decided to abandon this architecture and to hide all interaction with libtorrent::torrent_handle inside our torrenthandle. libtorrent::torrent_handle may become invalid at any time even directly between calling is_valid() (returning true) and next method. the second reason we need to store any additional data in torrenthandle class. any libtorrent::torrent_handle method can throw an exception. if we promote a similar architecture to the upper levels of the application, the qbittorrent code will grow at the expense of having to use try-catch blocks everywhere. in this case, these blocks will not incur any benefit, in addition to suppression of exceptions (if you look, in which case torrent_handle may become invalid). so in current qbittorrent... session creates torrenthandle instances (one for each torrent) and **owns** them. the others can only obtain a pointer to one of these objects. no need of smart pointers here. the state of torrenthandle objects is updated ""discretely"", i.e. we assume that for some period of time the object remains unchanged. this greatly simplifies the interaction with the application bittorrent engine. more info can try to understand it yourself (read the code or ask some specific questions). if you're against using the name torrenthandle, you can create a relevant issue on this bugtracker.",-1,0.908402144908905
42943221,3810,glassez,2015-10-25T10:04:13Z,"and yet (so you didn't pointed it out to me)... some details of session/torrenthandle classes implementation still need to be improved, but it should in no way affect its interface used by other application components, so i put it off for a while (i plan to finish it soon).",0,0.981706440448761
42944749,3810,zeule,2015-10-25T13:21:40Z,i know that you know that i know the difference. encapsulation concept does not get any worse if it is a compile-time but not a run-time one.,0,0.9384505748748779
42945505,3810,glassez,2015-10-25T14:39:28Z,"ok. sorry. by the way, i do not think that your run-time example is correct in this case. i would agree with your arguments if we were talking about the problem, the correct solution of which would be so complex and ugly that we could allow some minor violations in favor of ease of implementation. but in this case the correct decision is no less simple than this. look yourself! your: [code block] correct (in mainwindow.cpp): [code block] the incorrectness of your implementation, you can prove by applying a semblance method of mathematical induction. suppose we have implemented another notifier (someothernotifier), which requires an instance of some widget (somewidget) and doesn't require mainwindow instance. then we get the following: your: [code block] correct (in mainwindow.cpp): [code block] and so on...",-1,0.990853488445282
42945808,3810,zeule,2015-10-25T15:07:46Z,"i would absolutely agree with you, but i had in mind notifications for gui-less qbittorrent. in that case this notifier creation code would be duplicated somewhere else, which is worse for me than non-strict interface of the creation function (which will change anyway for the gui-less version). also, we can apply such induction to the number of notifiers and inspect the train of #ifdefs and #includes in the mainwindows.cpp, which you omit in your example. do they make already huge file any better? when submitting this pr i decided to not stress the intention to make it work in no-gui mode, but to submit a code, suitable for such modification. instead, we can work on that right now and merge more changes at once.",0,0.8605501651763916
42945893,3810,zeule,2015-10-25T15:14:09Z,"thank you for the explanation! and i'm sorry that you night sleep was disturbed by me. i think it is time for me to point out that my intention is to make qbittorent better, as well as your. i already read the code, of course. you already pointed out the big difference between the handle in libtorrent and the torrenthandle class: libtorrent signals by throwing an exception if an operation was not completed, while torrenthandle does not. beginning with safe_call, which eats exceptions and ending with objects which can be deleted. i do not argue that the solution to the libtorrent handles (session + torrent objects with qt-ised interface) is bad, no! i'm arguing that there may be a better solution for the ownership problem. for instance, i would prefer non-copyable handle classes, given to clients by reference. on 25 october 2015 at 07:44, vladimir golovnev notifications.com wrote:",-1,0.8521100282669067
42946246,3810,glassez,2015-10-25T15:50:30Z,and what about this?,0,0.9742120504379272
42946338,3810,zeule,2015-10-25T15:58:28Z,"this, frankly speaking, i do not understand. what is the problem? why does it need a special attention? if one needs to cache some data, associated with the torrent, why not? on 25 october 2015 at 16:50, vladimir golovnev notifications.com wrote:",-1,0.923875629901886
42946435,3810,glassez,2015-10-25T16:08:07Z,"gui-less version will still require notifier creation in another place. gui-less version will still require more complex code rewriting so you shouldn't worry about it now. and yet... i'm more inclined to believe the conclusion that it would be better to use instances of different classes in different qbittorrent build variants. perhaps you should leave a common base class for them with some (really) common functionality in it (but only to prevent duplication of code), but use these objects through interfaces of subclasses (although it would require the use of ifdefs in the code). i don't think this pr for immediate merge. so you should think about non-gui code. perhaps this will put some things in their places.",0,0.9217658042907715
42946588,3810,glassez,2015-10-25T16:20:29Z,"by the way, what would be the fundamental difference from the current implementation? imo, it will bring many intractable problems. i don't think qt containers can work with references, for example.",0,0.8621883392333984
42946613,3810,zeule,2015-10-25T16:23:08Z,"exactly! no one would be able to store the handle and wait until it gets invalid. on 25 october 2015 at 17:20, vladimir golovnev notifications.com wrote:",0,0.9634904265403748
42946763,3810,glassez,2015-10-25T16:34:51Z,"but it required to store them in some places! it's not such a problem as you imagine. as i said, we can wrap the pointer in a qpointer if this really necessary. or just listen to the appropriate signal from the session (as it now is).",0,0.9548090696334839
42946824,3810,zeule,2015-10-25T16:38:28Z,​> ​but it required to store them in some places why store handles but not hashes as you suggested to me?,0,0.991194486618042
42947692,3810,glassez,2015-10-25T17:49:27Z,just to eliminate the need search torrent by hash (this is much slower than using an existing pointer).,0,0.9898215532302856
45620453,3810,glassez,2015-11-23T16:01:18Z,"this implementation is not good enough! (i didn't watch the rest), the core must not in any way depend on a gui (just don't tell me some of the remnants of such a code, i haven't cleaned it all).",-1,0.9439957737922668
60371305,3810,glassez,2016-04-20T08:49:17Z,why not just **manager**? then full name is **notifications**::**manager**,0,0.9933057427406311
66014951,3810,glassez,2016-06-07T06:13:48Z,don't use such common names for files. qmake compiles it in one directory so if we have `subfolder1/name.cpp` and `subfolder2/name.cpp` there is a conflict during compilation.,0,0.9857814908027649
66015113,3810,glassez,2016-06-07T06:15:43Z,please rearder includes according to coding guidelines.,0,0.9943819642066956
66015186,3810,glassez,2016-06-07T06:16:32Z,q_assert,0,0.9939908385276794
66015551,3810,glassez,2016-06-07T06:19:51Z,as i said earlier if some file has implementation of namespace classes it's better to have `using namespace namespacename;` there.,0,0.9945095181465149
66015695,3810,glassez,2016-06-07T06:21:36Z,redundant empty line,0,0.6371645927429199
66015812,3810,glassez,2016-06-07T06:23:08Z,don't forget about naming style. we use camelcase.,0,0.9889763593673706
66015900,3810,glassez,2016-06-07T06:24:16Z,did you forget to run uncrustify?,0,0.9808502793312073
66016128,3810,glassez,2016-06-07T06:27:29Z,? you definitely forgot to run uncrustify. then i won't pay attention to this until you do it.,0,0.5300731658935547
66016314,3810,glassez,2016-06-07T06:30:01Z,salt is salty... [code block],-1,0.9747267961502075
66016826,3810,glassez,2016-06-07T06:36:04Z,"imo, bad interface (i mean mixing different string types here). you should have really important reason to have it.",-1,0.9918256998062134
66018280,3810,glassez,2016-06-07T06:52:37Z,qobject::connect result is not of type bool.,0,0.9921954870223999
66018460,3810,glassez,2016-06-07T06:55:02Z,generally it's bad idea to have protected fields.,-1,0.8960824608802795
66024181,3810,glassez,2016-06-07T07:52:33Z,what does it mean?,0,0.9900947213172913
66024207,3810,glassez,2016-06-07T07:52:47Z,and this too?,0,0.994128942489624
66237714,3810,zeule,2016-06-08T11:21:49Z,"oh, qmake is so primitive...",-1,0.9838061332702637
66242117,3810,zeule,2016-06-08T12:01:57Z,why?,0,0.9622438549995422
66242323,3810,zeule,2016-06-08T12:03:41Z,"these parameters are indeed of different types: `id` is a sequence of characters, while `name` is a string, which is translatable and visible to a user.",0,0.9922037124633789
66242560,3810,zeule,2016-06-08T12:05:33Z,can understand your point. i need a check that connection succeeds. the check works.,0,0.9629710912704468
66246756,3810,zeule,2016-06-08T12:38:37Z,"the notifier object may need to store notification request, and hence move semantic may be of use.",0,0.9917663931846619
66270351,3810,glassez,2016-06-08T14:49:55Z,"qbytearray? std::string and qstring are from ""different worlds"".",0,0.9747200012207031
66271377,3810,glassez,2016-06-08T14:54:08Z,"oh, that's right. **qmetaobject**::**connection** class has `operator bool()`.",0,0.9797461628913879
66272046,3810,glassez,2016-06-08T14:57:25Z,can you please explain this notation. not everyone here knows all the newfangled features.,0,0.9684904217720032
66274435,3810,glassez,2016-06-08T15:09:13Z,"it's just the ""principle of relative names"". it is typically used for short. or do you like such long ugly signatures? it's like that you call your family members by full name (in your home).",-1,0.5247137546539307
66277083,3810,glassez,2016-06-08T15:22:56Z,"can not reach the hands to fix it... in fact, mainwindow and systemtrayicon are sibling components.",0,0.8108728528022766
66278750,3810,glassez,2016-06-08T15:31:21Z,i believe `notifier` param is redundant. manager creates its notifier. guimanager creates its notifier. why it can't use its own `createnotifier()` directly? (of course `createnotifier()` should be `static` in this case).,0,0.9740890860557556
66280633,3810,zeule,2016-06-08T15:40:28Z,and it needs a way to pass that notifier object to its base class.,0,0.9917137622833252
66281856,3810,zeule,2016-06-08T15:45:56Z,"your wording is fragile. if you do not want to read the `notifications::` prefix because it is too long, consider the following: [code block]",0,0.7473601698875427
66282672,3810,zeule,2016-06-08T15:50:22Z,or [code block],0,0.9949644804000854
66283275,3810,zeule,2016-06-08T15:53:27Z,"not what i want because there is `qstring::qstring(const qbytearray &ba)`, which is not explicit. with `-dqt_no_cast_from_ascii` i would agree to use it.",0,0.9306616187095642
66286034,3810,zeule,2016-06-08T16:07:23Z,do you request a source code comment?,0,0.9946840405464172
66295616,3810,glassez,2016-06-08T17:01:42Z,no. i don't want to read notifications:: prefix in this file because it's redundant here.,0,0.948117196559906
66296236,3810,glassez,2016-06-08T17:05:30Z,oops... reorder.,-1,0.9588680267333984
66296989,3810,glassez,2016-06-08T17:10:13Z,no. just explain it here. or give me documentation link.,0,0.988966166973114
66368037,3810,zeule,2016-06-09T01:01:56Z,then my answer is the same: your approach is fragile and i would rather not do that.,0,0.8233726024627686
66388096,3810,glassez,2016-06-09T06:18:32Z,"please do not throw ""empty"" words. i always try to motivate my offers (even if it's just my opinion). and i want reasoned objections in response.",0,0.670444130897522
66388727,3810,glassez,2016-06-09T06:26:01Z,ok. thanks. but according to this doc it makes no sense in your code (since in any case the same underlying code will be executed).,1,0.8469987511634827
66390005,3810,glassez,2016-06-09T06:40:40Z,another explanation from me. the best option here is to write this: [code block] but this notation eats some space due to the indentation used (especially with nested namespaces). instead of doing this i propose just to do: [code block] to save the space.,0,0.9895652532577515
66423442,3810,zeule,2016-06-09T11:22:00Z,why? `notifications::request::exec() &&` calls `notifier::shownotification(request&&)`,0,0.9925572872161865
66426899,3810,glassez,2016-06-09T11:54:37Z,from [a link] so it doesn't call `notifier::shownotification(request&&)`,0,0.9942976832389832
66436290,3810,zeule,2016-06-09T13:06:52Z,oh! thanks! i have to add `std::move` here.,1,0.9959679841995239
66481912,3810,zeule,2016-06-09T17:11:48Z,"i mean the obvious fact that namespaces are open, and thus one can change declaration file, compile an implementation file with a using directive and find a lot of unresolved symbols at the end of the build. with class members it is not that likely, but with common names like ""manager"" and ""request"" a conflict is more likely.",0,0.9827932119369507
66489145,3810,glassez,2016-06-09T17:53:45Z,"imo, you're fighting windmills. what prevents someone to do incorrect changes in your code?",-1,0.6843953728675842
66498170,3810,zeule,2016-06-09T18:41:39Z,do i? i do nothing except of using fully-qualified names and can not understand why should i change that for no profit and the potential problem?,-1,0.8226361870765686
66503824,3810,glassez,2016-06-09T19:14:53Z,profit is the readability of the code. but apparently you see it differently...,0,0.9468878507614136
66504529,3810,zeule,2016-06-09T19:18:20Z,absolutely. for me the situation with readability is just the opposite.,0,0.9283446669578552
66597996,3810,glassez,2016-06-10T11:18:50Z,why do you like this overkill? why don't use `notifications::request` directly?,0,0.8263885974884033
66599083,3810,glassez,2016-06-10T11:30:08Z,using singleton this way is incorrect. the singleton is how some feature used in application. but the feature itself must not depends on how it's used.,0,0.9774162173271179
66600756,3810,zeule,2016-06-10T11:46:49Z,pardon?,0,0.9331162571907043
66601315,3810,zeule,2016-06-10T11:51:56Z,automatic generation of the stubs. i'll clean it.,0,0.9910043478012085
66605302,3810,glassez,2016-06-10T12:32:24Z,some feature implementation (i mean either some single class or some class and its satellites) shouldn't depend on how it is used. it may have many instances or be a singleton. in your case request is internally purposed class (implementation detail of notifications feature). it should be initialized with some manager instance at creation time.,0,0.9906994700431824
66605735,3810,glassez,2016-06-10T12:36:13Z,or have `manager*` param in its `exec()` method.,0,0.9950849413871765
66607194,3810,zeule,2016-06-10T12:48:59Z,the only thing i think i managed to understand is that you want each time instead of [code block] write [code block] is it correct? update: or [code block],0,0.9899965524673462
66611204,3810,glassez,2016-06-10T13:20:05Z,yes.,0,0.9851860404014587
66612850,3810,zeule,2016-06-10T13:32:11Z,"'request` is the api of the notifications subsystem. why would we force referencing the manager object each time? please note, that the class is used not only inside of the managers. what about the following: [code block] but, honestly, i'm thinking about moving the event handlers out of the manager classes.",0,0.9752042889595032
66642002,3810,glassez,2016-06-10T16:25:32Z,if we going to use some class as non-singleton (earlier used as singleton) we can just create its instance and it must work properly. if it's false then this class implemented incorrectly (it depends on some particular use case).,0,0.9871899485588074
66648307,3810,zeule,2016-06-10T17:11:34Z,"please use more precise wording. what you've said on itself seems like a nonsense to me and, secondly, is barely applicable to the given use-case. i suspect that you are mixing the manager object and the notifier (for which it might make sense to have several of them). am i wrong? if you indeed are talking about possible several manager objects, i believe that the message routing has to be implemented inside of the manager object, but not creating more than one of the managers.",0,0.605008602142334
66667901,3810,glassez,2016-06-10T19:23:09Z,okay... probably have to leave this discussion unfinished. it resembles a conversation between the deaf and the blind...,-1,0.6375612616539001
66669942,3810,zeule,2016-06-10T19:39:44Z,it seems i was wrong. it is sad that you decided to abort the discussion.,-1,0.9898208379745483
66703957,3810,glassez,2016-06-11T09:51:14Z,"i agree. but you can do it in another way (not using singleton). imagine that we want to opt out of this ""controversial"" pattern. for example, we can access to application components through the application class properties. don't know how to explain it so you understand... now your code has the following sequence: the manager creates a request, invokes its method `exec()`, where the request refers to the some manager instance via `manager::instance()`, that in the general case can be another instance (not the one created this request).",0,0.9510003924369812
66708667,3810,zeule,2016-06-11T17:01:01Z,"i still can't understand you. no matter what could be a way to get the manager instance, whether via explicit singleton pattern implementation, or via an implicit one, the `request` class can get an access to it. the only significant difference arises if we want to select a notification ""sink"" while creating notification request. but it would be better to use a sink id (or name) but not address the sink object directly. and this id → object instance mapping should then take place inside of the `request` class. as such, i see no reason to change its api. should we add different sinks, for sure there will be the default one, and thus `request(). ... .exec()` suits that use-case. it is likely that this will change. what is important that the an api has to map on the subject area. do you think that `request` api (with above mentioned remarks) does not represent the notifications workflow?",0,0.9139263033866882
67292463,3810,glassez,2016-06-16T06:23:16Z,"don't forget ""code reusing"". use `arenotificationsenabled()` here.",0,0.994371771812439
67303231,3810,glassez,2016-06-16T08:10:57Z,"oh, that's great!.. mainwindow owns searchengine. moreover, it still creates searchengine instance regardless of whether you need it or not. it is really a good design decision! you love optimisation so much. somehow i don't see it here. p.s. sorry for my sarcasm.",1,0.9935141801834106
67313304,3810,glassez,2016-06-16T09:22:28Z,"to immediately prevent unnecessary questions and objections, i'll tell you that i even understand why you did it: you need to connect to its (searchengine) signals. there are (generally) two options: have a permanent instance (as you did) or to track its creation in any way (this is not possible in the current design). but the problem here is different. when the current design has weaknesses preventing implement some feature correctly, we can choose one of two things: either fix the design or further degrade it. unfortunately, you chose the latter.",0,0.5998772382736206
67324337,3810,zeule,2016-06-16T10:49:44Z,this frustrates me too. but i think that mentioned earlier intent ti get notification handlers out of the manager classes will solve this problem.,-1,0.9865482449531555
67331733,3810,glassez,2016-06-16T12:00:19Z,"finally i checked the entire pr. and i found the cause of my discontent. here is the place! but i still thought, why are you doing these cross-dependencies between the manager and request? why is this method needed? (i mean `request::exec()`) here you made a mistake of not implementing all this using the ""observer"" pattern (as we decided before). but why? probably for the same reason you did another degradation i've noticed (i mean, searchengine in mainwindow). this leads me to believe that we have to solve such problems in a different way. and in this case it's easier than you may think about. mainwindow owns the searchwidget and this is normal relationship. to follow observer pattern notificationsmanager should recognize when the searchwidget is created and connect to its signals (and to searchengine signals too; searchwidget can own searchengine as it was before and it can have `searchwidget::searchengine()` property). how to do this? it's very simple. you just have to emit `mainwindow::searchwidgetcreated()` signal.",-1,0.7221997380256653
67338409,3810,glassez,2016-06-16T12:54:19Z,i forgot to add that there should also be some signal connected to the notifications manager here.,0,0.8133398294448853
67362428,3810,zeule,2016-06-16T15:07:41Z,"the invocation of the notification here is direct because this notification has to be shown unconditionally. as you may see, all notifications, supplied via `notifications::manager::supportednotifications()` may be disabled by user. i did not want to complicate that code by adding an option to suppress disabling the notification.",0,0.9918228983879089
67367589,3810,glassez,2016-06-16T15:32:32Z,"unfortunately, we will not be able to have a productive dialogue while you're not going to be critical to your code.",-1,0.963556706905365
67382752,3810,glassez,2016-06-16T16:55:39Z,"we have both conditionally and unconditionally showed notifications in subject domain so model must reflect this circumstance but not to hide it by using some backdoors and breaking selected design pattern. your code is complicated now. but you don't want to see this, considering it excellent. if your model will fit the subject domain and you won't ""break"" the use of a single pattern in its implementation you will get rid of many unnecessary things and dependencies.",0,0.55406254529953
67388312,3810,zeule,2016-06-16T17:29:17Z,:d how could you know?,0,0.7241644859313965
67391230,3810,glassez,2016-06-16T17:45:15Z,"elementary, my dear watson! ;)",1,0.9958414435386658
406103025,12458,glassez,2020-04-09T10:15:41Z,fix coding style.,0,0.9817914962768555
406103193,12458,glassez,2020-04-09T10:16:02Z,fix coding style.,0,0.9817914962768555
406104182,12458,glassez,2020-04-09T10:17:59Z,"please use ""message"" instead of ""msg"" whenever possible.",0,0.9881960153579712
406106587,12458,glassez,2020-04-09T10:22:34Z,seems you don't need fields for views.,0,0.9870771169662476
406115287,12458,jagannatharjun,2020-04-09T10:39:27Z,"if i understand it correctly, by that logic i don't need to store logmessagemodel and logpeermodel as well, so i removed them as well",0,0.9901633858680725
406116456,12458,jagannatharjun,2020-04-09T10:41:49Z,i think i need to put the braces in the new line. done.,0,0.9889940619468689
406116502,12458,jagannatharjun,2020-04-09T10:41:55Z,i think i need to put the braces in the new line. done.,0,0.9889940619468689
406117368,12458,jagannatharjun,2020-04-09T10:43:37Z,"changed the member function of `executionlogwidget`, do i need to change the member function of `mainwindow` as well (`mainwindow::setexecutionlogmsgtypes` and `mainwindow::executionlogmsgtypes` )",0,0.9948282837867737
406136030,12458,jagannatharjun,2020-04-09T11:23:01Z,adding 1 otherwise selected item's text will be too close to focus rect [a link],0,0.9886793494224548
406139504,12458,glassez,2020-04-09T11:30:05Z,i don't insist that you change anything except the ones you touch anyway.,0,0.8867067098617554
406159527,12458,Chocobo1,2020-04-09T12:11:35Z,you already included this header in executionlogwidget.h so you don't need it here.,0,0.9951130747795105
406159891,12458,Chocobo1,2020-04-09T12:12:14Z,"it would be nice to also switch the parameters order: `executionlogwidget(log::msgtypes types, qwidget *parent);`",0,0.9909653663635254
406162845,12458,Chocobo1,2020-04-09T12:17:48Z,`static` is now redundant.,0,0.990932822227478
406164561,12458,Chocobo1,2020-04-09T12:21:18Z,"nitpick, please trim the whitespaces before the comment mark a bit..",0,0.9930455088615417
406165156,12458,Chocobo1,2020-04-09T12:22:28Z,this function can be `private` isn't?,0,0.9931303858757019
406165601,12458,Chocobo1,2020-04-09T12:23:19Z,i would extract the qstring into a variable to avoid this line becoming too long.,0,0.991068959236145
406168895,12458,Chocobo1,2020-04-09T12:29:15Z,"this is not good enough, you should use circular buffer (same one from logger) as suggested before.",0,0.9644894003868103
406172242,12458,Chocobo1,2020-04-09T12:35:30Z,use signed integer here.,0,0.9940589666366577
406173834,12458,Chocobo1,2020-04-09T12:38:33Z,"i think you should omit using move semantics to keep the code base consistent, qt data types use qt implicit sharing anyway.",0,0.9837708473205566
406174363,12458,Chocobo1,2020-04-09T12:39:30Z,and the parameter will become a const reference.,0,0.9956045150756836
406176387,12458,Chocobo1,2020-04-09T12:43:16Z,you should use the proper type for each field instead.,0,0.9950500130653381
406183695,12458,jagannatharjun,2020-04-09T12:56:36Z,doesn't that'll cause too much conversion in `baselogmodel::data` function,0,0.9873844385147095
406190049,12458,Chocobo1,2020-04-09T13:07:41Z,maybe we can stick to qt data types that are easily convertible to qvariant? [code block],0,0.9916182160377502
406216681,12458,jagannatharjun,2020-04-09T13:47:44Z,"boost::circular_buffer causing crash ![a link] can't seem to understand why, this happens at end i.e closing the main window, std::deque works fine.",-1,0.7690388560295105
406224584,12458,glassez,2020-04-09T13:58:55Z,you should at least trace it to realize what code point couses the crash.,0,0.9876074194908142
406227183,12458,jagannatharjun,2020-04-09T14:02:47Z,"i think qvariant does dynamic memory allocation and make copies, breaking implicit sharing for original data, i call it many times during painting and for sizehint as well, but i don't have any problem in changing if you insist.",0,0.9674674868583679
406229989,12458,jagannatharjun,2020-04-09T14:06:46Z,"removed seems like `base/global.h` was not needed too, removed as well.",0,0.9923950433731079
406230074,12458,jagannatharjun,2020-04-09T14:06:54Z,done.,0,0.9897913336753845
406230138,12458,jagannatharjun,2020-04-09T14:07:00Z,removed,0,0.9591778516769409
406230233,12458,jagannatharjun,2020-04-09T14:07:10Z,done?,0,0.9878233671188354
406230585,12458,jagannatharjun,2020-04-09T14:07:38Z,"made private, turns out both paint and sizehint can be private.",0,0.9910236597061157
406232306,12458,jagannatharjun,2020-04-09T14:09:57Z,"done,",0,0.9896152019500732
406234411,12458,jagannatharjun,2020-04-09T14:12:56Z,"i did trace it, it was here [a link] i spent an hour on this, only after that i posted here.",0,0.9927099943161011
406235153,12458,glassez,2020-04-09T14:14:01Z,"please don't answer on each comment unless you really have to say something more meaningful than ""done"", ""removed"", ""fixed"" etc... you're clogging up this thread and our mailboxes.",-1,0.9525494575500488
406238260,12458,jagannatharjun,2020-04-09T14:18:17Z,"sorry, will not do anymore. :smiling_face_with_smiling_eyes:",-1,0.9580711126327515
406238690,12458,glassez,2020-04-09T14:18:53Z,"also, please do not push the slightest changes to the github. when you do this every few minutes, travisci goes crazy! this also clogs our mailboxes with useless notifications.",-1,0.983995258808136
406242831,12458,glassez,2020-04-09T14:24:57Z,i suppose it's due to incorrect order of class destructions. first views should be destroyed and then models they use.,0,0.9542750120162964
406250220,12458,glassez,2020-04-09T14:34:59Z,"aren't you able to achieve more depth? try setting breakpoints in your class destructors and see what happens, in what order they are removed, and how they interact with each other.",0,0.9824480414390564
406251347,12458,jagannatharjun,2020-04-09T14:36:34Z,hmm changing peer model and peer view initialization order seems to fixed it thanks.,1,0.6801019310951233
406265984,12458,jagannatharjun,2020-04-09T14:56:09Z,"i've pushed changes with buffer implementation, i tested with setting max_log_messages=20 and other small values.",0,0.9942067861557007
406279908,12458,jagannatharjun,2020-04-09T15:16:20Z,"actually the real reason of crash was that i left some std::move calls, sorry for troubling you guys.",-1,0.9871679544448853
406380152,12458,glassez,2020-04-09T18:00:15Z,sep**a**rator,0,0.9857844710350037
406382560,12458,glassez,2020-04-09T18:04:38Z,shouldn't you save pen just before this line?,0,0.9919929504394531
406388282,12458,glassez,2020-04-09T18:14:59Z,is it intentional behavior? what reason it does for?,0,0.9844520092010498
406393426,12458,glassez,2020-04-09T18:23:59Z,i would have separator inside format string to avoid yet another argument insertion. ?,0,0.9891531467437744
406395430,12458,glassez,2020-04-09T18:27:28Z,how about having less message count to be displayed and not follow logger limit? ?,0,0.9879156351089478
406395909,12458,glassez,2020-04-09T18:28:13Z,messageindex,0,0.9860208630561829
406397828,12458,glassez,2020-04-09T18:31:34Z,"index cannot be greater or equal to messages count due to expression above, isn't it?",0,0.9905933737754822
406399989,12458,glassez,2020-04-09T18:35:22Z,why do you use queuedconnection?,0,0.9935923218727112
406401599,12458,glassez,2020-04-09T18:38:02Z,format string looks ugly.,-1,0.9920963048934937
406403357,12458,glassez,2020-04-09T18:41:21Z,explicit and i would preserve default value for parameter as qobject has it.,0,0.9892577528953552
406404625,12458,glassez,2020-04-09T18:43:37Z,"do you really need it to be declared as slot? if no, you even can omit q_object.",0,0.9941007494926453
406405830,12458,glassez,2020-04-09T18:45:51Z,i don't see any strong reason to store it differently. qvariant is good choice for its job.,1,0.9272281527519226
406406701,12458,glassez,2020-04-09T18:47:27Z,broken coding style (ampersand position).,0,0.9939631819725037
406407672,12458,glassez,2020-04-09T18:49:05Z,don't forget to add q_disable_copy to all qobject subclasses.,0,0.9938783049583435
406410850,12458,glassez,2020-04-09T18:55:02Z,"seems you can extract ""build display text"" logic into function to avoid code duplication.",0,0.99033522605896
406412086,12458,jagannatharjun,2020-04-09T18:57:17Z,"for the peer model we paint with default font color, i already changed the pen to `originalpen` for the painting of separator so when this condition fails the following message will be painted with the default font color. i think i should change it to // peermodel **will** give invalid foreground role",0,0.9903744459152222
406414024,12458,jagannatharjun,2020-04-09T19:00:55Z,"the `newlogmessage` is emitted from `addmessage` which can be called from different threads, so i guess this way we don't need any synchronization.",0,0.9929903745651245
406417265,12458,jagannatharjun,2020-04-09T19:07:14Z,i was told to do this way [a link],0,0.9930041432380676
406420574,12458,glassez,2020-04-09T19:13:53Z,unfortunately the link above doesn't work for me...,-1,0.9408833980560303
406423156,12458,jagannatharjun,2020-04-09T19:18:52Z,"it works, anyway ![a link]",1,0.9908955693244934
406426236,12458,jagannatharjun,2020-04-09T19:25:21Z,ok it seems originally we paint peer messages with red color will change it accordingly,0,0.9894844889640808
406477772,12458,jagannatharjun,2020-04-09T21:07:09Z,![a link],1,0.5592244863510132
406607563,12458,Chocobo1,2020-04-10T05:23:49Z,it would be nice to add some comment in code.,0,0.9714881777763367
406607826,12458,Chocobo1,2020-04-10T05:24:57Z,why this again?,0,0.5195562243461609
406608717,12458,Chocobo1,2020-04-10T05:29:26Z,i don't insist to store in non-qvariant types in this struct. however i think it is important to specify what types do we intend to store in qvariant. i think maybe add some comment in code about the types or even use `q_assert(qvariant::type() == some_type)` to check the correctness.,0,0.9871451258659363
406609121,12458,Chocobo1,2020-04-10T05:31:09Z,wrong order.,-1,0.7645806670188904
406609294,12458,Chocobo1,2020-04-10T05:31:56Z,some of those can be `private` right?,0,0.9909760355949402
406609809,12458,jagannatharjun,2020-04-10T05:34:12Z,"i think this was done to support html formatting else where (in loglistwidget, which is removed in this pr), this is not needed anymore, if not removed here, had to do unescape in model or delegate, what do we prefer?",0,0.9913833141326904
406610014,12458,Chocobo1,2020-04-10T05:34:51Z,gui widgets should have its own display limit. also i would prefer larger (around 50000) if it doesn't drag the performance.,0,0.9832952618598938
406610246,12458,Chocobo1,2020-04-10T05:36:07Z,coding style.,0,0.9877970814704895
406610820,12458,Chocobo1,2020-04-10T05:38:59Z,maybe change `const qpen originalpen` to `qpen coloredpen` and you can reuse it.,0,0.9885077476501465
406611238,12458,Chocobo1,2020-04-10T05:40:51Z,"now i think `qstyleditemdelegate::paint` should preserve the `painter` state (adhere to their own spec), so maybe we can swap it: [code block]",0,0.991329550743103
406611707,12458,Chocobo1,2020-04-10T05:43:12Z,"seems this doesn't need to be in class, it should be moved to anonymous namespace.",0,0.9899765849113464
406612012,12458,Chocobo1,2020-04-10T05:44:32Z,seems you don't really need to capture `this` into lambda.,0,0.9873806238174438
406612100,12458,Chocobo1,2020-04-10T05:45:02Z,same here.,0,0.9916109442710876
406612462,12458,Chocobo1,2020-04-10T05:46:56Z,i *suspect* this isn't needed...,0,0.9825786352157593
406613134,12458,jagannatharjun,2020-04-10T05:49:53Z,we need originalpen to paint separator,0,0.9934076070785522
406613369,12458,Chocobo1,2020-04-10T05:51:11Z,"it was made to avoid some attacks. iirc calling `tohtmlescaped()` here would mess up the saved log.txt right? if so, it is not preferable, we should not do that ~~and escape it at model.~~",0,0.9878249168395996
406614185,12458,jagannatharjun,2020-04-10T05:54:34Z,"this internally calls tr, and i was once asked to only call tr of concerned class not qobject::tr directly, otherwise my first thought was to make it free function as well.",0,0.9922730326652527
406617749,12458,glassez,2020-04-10T06:10:07Z,qobject::tr in free functuon is bad since it doesn't produce any meaningful context.,-1,0.9620282053947449
406618002,12458,glassez,2020-04-10T06:11:16Z,isn't it supposed to be accessed from outside of the class?,0,0.9849902987480164
406618302,12458,Chocobo1,2020-04-10T06:12:33Z,"ok, forget it.",0,0.9293199777603149
406618477,12458,glassez,2020-04-10T06:13:17Z,"sorry, i can't clearly understand what you're talking about... imo, it's incorrect to escape here.",-1,0.992354154586792
406619390,12458,glassez,2020-04-10T06:17:25Z,maybe it would be better to make it configurable? anyway the good first step is just declare another const for gui stuff (even if it has the same value initially).,0,0.9826636910438538
406619812,12458,glassez,2020-04-10T06:18:56Z,if you don't need to store original/default pen then maybe you don't need any additional variable?,0,0.9920143485069275
406620549,12458,glassez,2020-04-10T06:22:03Z,"i would make it to be ""read only"" class that accept specific types in its constructor and store them as qvariant (getters are also of type qvariant).",0,0.9925898313522339
406621679,12458,glassez,2020-04-10T06:26:21Z,at least you can try to test it without this line.,0,0.9839814305305481
406621737,12458,Chocobo1,2020-04-10T06:26:39Z,maybe in a later pr to avoid delaying this one... agreed.,0,0.9726601243019104
406622113,12458,glassez,2020-04-10T06:28:00Z,but theoretically it should be here. otherwise rowcount() still returns incorrect value after you notify about removed row.,0,0.9877726435661316
406623430,12458,jagannatharjun,2020-04-10T06:33:16Z,where should i have to add assert? one thing is that delegate assume the type of role provided by baselogmodel so maybe baselogmodel should be responsible as well. thus we need asserts in 'baselogmodel::addnewmessage',0,0.993198037147522
406625622,12458,glassez,2020-04-10T06:41:34Z,"use my proposal is more reliable, imo. you'll get something like ""aggregate variant"". it will perform type checking at compile time.",0,0.9806296229362488
406631129,12458,jagannatharjun,2020-04-10T07:01:08Z,i need originalpen to paint separator,0,0.9919542670249939
406631149,12458,Chocobo1,2020-04-10T07:01:13Z,"i just noticed the comment above, never mind here.",0,0.9122900366783142
406632332,12458,jagannatharjun,2020-04-10T07:05:27Z,what should be the const name? can't think of one. max_gui_log_messages?,0,0.9846047759056091
406637088,12458,Chocobo1,2020-04-10T07:20:33Z,disregard my comment.,-1,0.7266855239868164
406642384,12458,jagannatharjun,2020-04-10T07:37:08Z,"i changed it to what it was originally in `executionlogwidget`, but don't know what to do further.",0,0.7011159658432007
406642945,12458,jagannatharjun,2020-04-10T07:38:40Z,should i remove these changes and unescape at model or leave the changes?,0,0.9915810227394104
406651086,12458,Chocobo1,2020-04-10T08:02:25Z,keep the the current changes. no need to make further changes.,0,0.9915786981582642
406652474,12458,glassez,2020-04-10T08:06:37Z,max_visible_messages? also seems logger constant should be private.,0,0.9928731918334961
406652989,12458,glassez,2020-04-10T08:08:12Z,you should keep your changes here.,0,0.9942818880081177
406654623,12458,glassez,2020-04-10T08:12:51Z,why not store messages in the same order as they're displayed?,0,0.9856025576591492
406656969,12458,glassez,2020-04-10T08:19:48Z,"why not move it to anonymous namespace? ""private const"" seems to be useless unless it's initialized in class constructor. ""static private const"" seems to be useless completely. or am i wrong?",0,0.9833874702453613
406657970,12458,glassez,2020-04-10T08:22:45Z,it means that fields should be private and have public getters to be sure they're still assigned using constructor.,0,0.9927718043327332
406675763,12458,Chocobo1,2020-04-10T09:12:32Z,"i would only use `constexpr` when you really need something complex to eval it at compile time, here `const` would be enough. and it should not be related to `max_log_messages`. give it a number.",0,0.9920297861099243
406676279,12458,Chocobo1,2020-04-10T09:13:55Z,it should not have any default values.,0,0.984950065612793
406676697,12458,Chocobo1,2020-04-10T09:15:09Z,seems every one of them can be `const`,0,0.9874945282936096
406676857,12458,Chocobo1,2020-04-10T09:15:37Z,"all of the parameters should take const references except the last one, last one should be the original type instead of qvariant.",0,0.9952050447463989
406680157,12458,jagannatharjun,2020-04-10T09:25:04Z,"i tried, circular buffer needs operator=",0,0.9943517446517944
406681993,12458,Chocobo1,2020-04-10T09:30:17Z,"thanks, never mind then.",1,0.778529703617096
406684421,12458,Chocobo1,2020-04-10T09:37:27Z,suspicious...,-1,0.9173591136932373
406734821,12458,glassez,2020-04-10T12:25:15Z,"why didn't you make a specific name for this one (and all its stuff)? why not ""messagetyperole""?",0,0.9671101570129395
406735209,12458,glassez,2020-04-10T12:26:36Z,"also the class members have inconsistent names. some of them have ""role"" suffix and the rest has no one.",0,0.8968300819396973
406735617,12458,glassez,2020-04-10T12:27:52Z,please reformat this comment. the first line is too long while the secnd one is short.,0,0.9617681503295898
406737859,12458,glassez,2020-04-10T12:34:50Z,really signal receiver should know nothing about emitter internals! you should use `qt::queuedconnection` directly only in case you want `queuedconnection` explicitly for some reason. in this case you can safetely use default `qt::autoconnection`. doc says about it: anyway you should remove the comment above because it creates the false impression that we have an incorrect application design.,-1,0.8682576417922974
406738194,12458,Chocobo1,2020-04-10T12:35:54Z,seems it isn't in use.,0,0.9466372728347778
406738816,12458,glassez,2020-04-10T12:37:54Z,"""log"" is incorrect name for this parameter. i would call it ""message"" and rename the next one to ""messagetext"".",0,0.9709678888320923
406739455,12458,glassez,2020-04-10T12:39:40Z,"format should be either ""%1 was blocked due to %2"" or ""%1 was blocked. reason: %2"".",0,0.9912242889404297
406744910,12458,jagannatharjun,2020-04-10T12:55:23Z,`asconst` is used in constructors of logmessagemodel and logpeermodel.,0,0.9941381216049194
406767323,12458,jagannatharjun,2020-04-10T13:53:23Z,"i removed suffixes from message class, this should make the class independent from ""role"" handling, i replaced ""datarole"" with ""messagetyperole"", which includes different values for type and foreground in addition to message and time. i included the foreground role in the enum as well since qstyleditemdelegate::paint shouldn't paint anything related to the foreground. typerole enum constant provides better information about the type of data as compared to the previously used value of qt::userrole, one side effect of that was that had to include `logmodel.h` in `logfiltermodel.cpp`, but that shouldn't be a problem since there is a clear dependency between these two classes.",0,0.987673819065094
406787735,12458,glassez,2020-04-10T14:40:31Z,"oops... unfortunately, i didn't pay enough attention to this earlier. as a result, we got an incorrect dependency here. the model should not depend on any particular view/delegate. it must always return view-independent data at least for mandatory qdisplayrole (so that any view can display its data at least in simplified text format). you can, of course, object that we will never use this model with any other views, but this is an incorrect reason. there is also no point in using a custom foreground role. ""i included the foreground role in the enum as well since qstyleditemdelegate::paint shouldn't paint anything related to the foreground"" is an incorrect judgment. if you don't return qt::foregroundrole it just uses default value. if you want to prevent qstyleditemdelegate::paint from painting text you should clear text in passed parameters.",-1,0.9728543758392334
406792581,12458,glassez,2020-04-10T14:51:40Z,"by the way, we could give the user the option to select a simplified log view (just not using a custom delegate). this might improve performance a bit, right?",0,0.9871428608894348
406793863,12458,jagannatharjun,2020-04-10T14:54:23Z,"that's the reason i'm not using displayrole, even returning for qt::foregroundrole will not do anything since displayrole is null and the foreground role we return does only make sense with our message. i can't return valid value for displayrole, since then qstyleditemdelegate will paint it with foreground, i want `qstyleditemdelegate` to only paint background since painting those myself was a headache and you guys would really not accept that code. if we were to return a full string with displayrole(time + message), it will be a useless effort to separate them. i don't understand this logic. probably i'm inexperience, but you yourself said, that ""model should prepare data and delegate should do the painting accordingly"" the whole purpose of the model is to store and provide data in ""convenience form"", i think you're trying to remove the dependency between model and delegate, but i don't think it is possible, they are made and build for each other(xd)",-1,0.7334527969360352
406798490,12458,jagannatharjun,2020-04-10T15:04:51Z,"i don't see any performance improvement with that, the only extra work we do is to paint part of a string separately, that doesn't involve any performance heavy calculation or something on that line.",0,0.9624047875404358
406801251,12458,glassez,2020-04-10T15:11:23Z,"i think you're trying to remove the dependency between model and delegate well, it seems we have a misunderstanding of how qt model/view is supposed to work (ideally). it's time to make it clear (for me as well). i will try to do this when i find myself near something more convenient to comment on than my smartphone.",0,0.8504552245140076
406810713,12458,jagannatharjun,2020-04-10T15:32:33Z,"imho, i think you want to have model return valid values for foregroundrole and displayrole, but this will just create unnecessary work, first, we will need to separate message and time. second, i want to use `qstyleitemdelegate::paint` but can't find a way to modify or create a new qmodelindex that fit our needs that is one without displayrole and foregroundrole, the second one is the biggest blocker and if we had to not use qstyleitemdelegate::paint, that'll just create unnecessary code which may or may not work everywhere. for the record, i tried `qstyle::ce_itemviewitem` it doesn't paint selection rectangle for items under the mouse and also paint selected item, wth too dark color opinions?",0,0.5446119904518127
406819979,12458,glassez,2020-04-10T15:53:48Z,"guys, relax, so as not to imitate you, i will not insist on further improving the model/view architecture in this pr. in reality, we don't have a completely perfect implementation anywhere in the code. and it seems that this is not even always possible.",0,0.6699821352958679
407019717,12458,glassez,2020-04-11T05:16:04Z,"well, so why not save original pen immediately before you change it?",0,0.9912257790565491
407030817,12458,jagannatharjun,2020-04-11T07:34:42Z,afaik this automatic detection will only work when we use `qthread`,0,0.991357684135437
407317665,12458,Chocobo1,2020-04-13T04:52:38Z,"seems this is not the same gray, could you preserve the old value? it was `grey` before.",0,0.9910492897033691
407324826,12458,Chocobo1,2020-04-13T05:28:17Z,please try `qt::darkgray`.,0,0.9943576455116272
407330729,12458,Chocobo1,2020-04-13T05:54:50Z,omit `qsize` here: `return {...};`,0,0.9935585856437683
407330832,12458,Chocobo1,2020-04-13T05:55:18Z,too long.. use a variable for it. and add parentheses at proper places.,0,0.9821502566337585
408589969,12458,Chocobo1,2020-04-15T05:31:24Z,"`qsize(4, 4)` where does it come from? please add comment to code.",0,0.9951533079147339
408590304,12458,Chocobo1,2020-04-15T05:32:46Z,"`const qsize margins = (defaultsize - fontsize).expandedto({0, 0});`",0,0.991248607635498
408591867,12458,Chocobo1,2020-04-15T05:38:13Z,"this sounds better to me: ""... else painter ..."" -> ""... otherwise painter ...""",0,0.9494887590408325
408593803,12458,Chocobo1,2020-04-15T05:44:02Z,"this should be equivalent `painter->setfont(option.font);`, could you please test it again?",0,0.9955400824546814
408595926,12458,Chocobo1,2020-04-15T05:51:07Z,"seems the variable is badly named, i would use `separatorwidth`",0,0.6651043891906738
408595950,12458,Chocobo1,2020-04-15T05:51:13Z,same here.,0,0.9916109442710876
408598074,12458,jagannatharjun,2020-04-15T05:58:05Z,"it is ""separatorleft"", and following one is ""messageleft""",0,0.9951280355453491
408599330,12458,Chocobo1,2020-04-15T06:02:04Z,"hmm... i see what you mean. but ""left"" isn't a meaningful thing, it is actually a coordinate.",0,0.9399963021278381
408599556,12458,Chocobo1,2020-04-15T06:02:47Z,maybe `separatorcoordinatex`?,0,0.9938927888870239
408614581,12458,jagannatharjun,2020-04-15T06:44:15Z,"![a link] 175% scaling, as you can see the font size is not set correctly here if we were to use `painter->setfont(option.font);` , i can't find the reason though.",0,0.9071469902992249
408819891,12458,Chocobo1,2020-04-15T12:56:40Z,why the `static`? it can be removed imo.,0,0.9905880689620972
408964013,12458,glassez,2020-04-15T16:11:54Z,or declare it in anonymous namespace above...,0,0.9960145950317383
409263110,12458,glassez,2020-04-16T03:42:54Z,"it still seems weird... if copy constructor doesn't produce the same ""value"" there is bug in it.",-1,0.9848403334617615
409266927,12458,jagannatharjun,2020-04-16T03:58:15Z,"i couldn't get if i was doing something fishy, everything is const, so i don't think i can do anything here then i tried checking qt sources for qfont but they are using private impl so i didn't try to further delve into it.",0,0.9793162941932678
409278995,12458,jagannatharjun,2020-04-16T04:46:53Z,"i tried sanitizer, both master and this branch seems to be throwing same warnings (there were quite a number of warnings especially with thread sanitizer)",0,0.9853631258010864
409548871,12458,glassez,2020-04-16T13:19:11Z,i wonder how qstyleditemdelegate draws the text?,0,0.9760595560073853
409551968,12458,glassez,2020-04-16T13:23:42Z,but it's most likely a problem with qfont since an action that shouldn't have any effect still has it. just for fun... can you test the following? [code block],0,0.9825145602226257
409574322,12458,jagannatharjun,2020-04-16T13:53:48Z,hmm it works scalling 150% ![a link] `q_assert(font.pointsize() != option.font.pointsize());` fails,0,0.9450305104255676
58292381,4994,glassez,2016-04-02T12:05:11Z,qvariantlist?,0,0.9926846027374268
58292391,4994,glassez,2016-04-02T12:06:20Z,use camelcase since you fixing coding style.,0,0.9938679337501526
58292425,4994,glassez,2016-04-02T12:10:14Z,fix coding style! method definitions aren't allowed in header files.,1,0.5539246797561646
58292468,4994,glassez,2016-04-02T12:15:23Z,fix these two enums. split into several lines.,0,0.9920456409454346
58292480,4994,glassez,2016-04-02T12:15:48Z,fix coding style.,0,0.9817914962768555
58292489,4994,glassez,2016-04-02T12:16:21Z,dont forget to insert spaces around `=`.,0,0.9906936287879944
58292495,4994,glassez,2016-04-02T12:16:42Z,fix coding style!,0,0.9650169610977173
58292501,4994,glassez,2016-04-02T12:17:27Z,fix coding style!,0,0.9650169610977173
58292519,4994,glassez,2016-04-02T12:19:14Z,fix coding style!,0,0.9650169610977173
58292541,4994,glassez,2016-04-02T12:19:26Z,fix coding style!,0,0.9650169610977173
58292552,4994,glassez,2016-04-02T12:20:29Z,fix coding style!,0,0.9650169610977173
58292561,4994,glassez,2016-04-02T12:21:18Z,fix coding style!,0,0.9650169610977173
58292574,4994,glassez,2016-04-02T12:22:09Z,fix coding style! and in method body too.,1,0.8544946312904358
58292582,4994,glassez,2016-04-02T12:22:42Z,add spaces around `<`.,0,0.9925965070724487
58292590,4994,glassez,2016-04-02T12:23:02Z,fix coding style!,0,0.9650169610977173
58292606,4994,glassez,2016-04-02T12:23:50Z,fix coding style!,0,0.9650169610977173
58292609,4994,glassez,2016-04-02T12:23:58Z,fix coding style!,0,0.9650169610977173
58292612,4994,glassez,2016-04-02T12:24:20Z,fix coding style!,0,0.9650169610977173
58292618,4994,glassez,2016-04-02T12:24:56Z,fix coding style!,0,0.9650169610977173
58292625,4994,glassez,2016-04-02T12:25:24Z,fix coding style!,0,0.9650169610977173
58292635,4994,zeule,2016-04-02T12:27:02Z,"do you mean parameter names? please note, that this not my code.",0,0.990888237953186
58292645,4994,glassez,2016-04-02T12:27:44Z,fix coding style! add space before `}`.,0,0.9924121499061584
58292646,4994,zeule,2016-04-02T12:27:47Z,this code is not mine.,0,0.9356917142868042
58292648,4994,zeule,2016-04-02T12:27:54Z,this code is not mine.,0,0.9356917142868042
58292651,4994,zeule,2016-04-02T12:28:01Z,this code is not mine.,0,0.9356917142868042
58292652,4994,zeule,2016-04-02T12:28:12Z,this code is not mine.,0,0.9356917142868042
58292655,4994,zeule,2016-04-02T12:28:30Z,this code is not mine.,0,0.9356917142868042
58292657,4994,zeule,2016-04-02T12:28:40Z,this code is not mine.,0,0.9356917142868042
58292660,4994,zeule,2016-04-02T12:28:53Z,this code is not mine.,0,0.9356917142868042
58292672,4994,zeule,2016-04-02T12:30:04Z,ok,0,0.9233372807502747
58292675,4994,zeule,2016-04-02T12:30:13Z,this code is not mine.,0,0.9356917142868042
58292676,4994,zeule,2016-04-02T12:30:21Z,this code is not mine.,0,0.9356917142868042
58292685,4994,zeule,2016-04-02T12:31:00Z,this code is not mine.,0,0.9356917142868042
58292687,4994,zeule,2016-04-02T12:31:11Z,this code is not mine.,0,0.9356917142868042
58292688,4994,zeule,2016-04-02T12:31:25Z,this code is not mine.,0,0.9356917142868042
58292697,4994,glassez,2016-04-02T12:32:15Z,fix coding style! next getters affected too.,0,0.8420019745826721
58292725,4994,glassez,2016-04-02T12:35:41Z,"although i didn't see the implementation, but only that component itself takes care of how it is used, speaks of a bad design.",-1,0.9561449885368347
58292739,4994,glassez,2016-04-02T12:36:58Z,fix coding style!,0,0.9650169610977173
58292744,4994,glassez,2016-04-02T12:37:35Z,fix coding style!,0,0.9650169610977173
58292745,4994,zeule,2016-04-02T12:37:45Z,"i don't want to be an author from the git point of view for the whole files which i touch. git can ignore whitespace changes and thus i fixed indentation, but not more. what is the point in changing code which is not related to a functional changes of a given commit? this just spoils git history and makes history navigation a nightmare.",-1,0.9930197596549988
58292747,4994,glassez,2016-04-02T12:38:00Z,fix coding style!,0,0.9650169610977173
58292749,4994,zeule,2016-04-02T12:38:09Z,this code is not mine.,0,0.9356917142868042
58292752,4994,glassez,2016-04-02T12:38:31Z,fix coding style!,0,0.9650169610977173
58292757,4994,glassez,2016-04-02T12:38:50Z,fix coding style!,0,0.9650169610977173
58292761,4994,glassez,2016-04-02T12:38:59Z,fix coding style!,0,0.9650169610977173
58292766,4994,zeule,2016-04-02T12:39:32Z,"no, i don't do what you call a ""fixing the coding style"". see my comment above.",0,0.9798449277877808
58292771,4994,zeule,2016-04-02T12:39:46Z,this code is not mine.,0,0.9356917142868042
58292789,4994,glassez,2016-04-02T12:40:53Z,"if you do ""follow project coding style"", you must do it completely.",0,0.9833834767341614
58292824,4994,glassez,2016-04-02T12:42:54Z,fix coding style!,0,0.9650169610977173
58292831,4994,glassez,2016-04-02T12:43:22Z,fix coding style! use camelcase.,0,0.9666010737419128
58292834,4994,glassez,2016-04-02T12:43:42Z,fix coding style!,0,0.9650169610977173
58292853,4994,glassez,2016-04-02T12:45:34Z,fix coding style! brace enclosed initializers are allowed in list or aggregate contexts only. not for copy constructors.,1,0.8674013614654541
58292865,4994,glassez,2016-04-02T12:47:05Z,fix coding style! and below too.,0,0.8635098338127136
58292882,4994,glassez,2016-04-02T12:47:54Z,fix coding style!,0,0.9650169610977173
58292918,4994,zeule,2016-04-02T12:49:33Z,this code is not mine.,0,0.9356917142868042
58292942,4994,glassez,2016-04-02T12:51:52Z,fix coding style! move private declarations after public.,0,0.865591824054718
58292958,4994,glassez,2016-04-02T12:53:31Z,fix coding style! use camelcase. all method affected.,0,0.8338396549224854
58292963,4994,glassez,2016-04-02T12:54:27Z,static_cast,0,0.9938228130340576
58292974,4994,zeule,2016-04-02T12:55:33Z,what's wrong here?,-1,0.6395795941352844
58292975,4994,glassez,2016-04-02T12:55:43Z,add space before comment,0,0.9927113056182861
58292979,4994,zeule,2016-04-02T12:56:04Z,this code is not mine.,0,0.9356917142868042
58292981,4994,glassez,2016-04-02T12:56:13Z,static_cast,0,0.9938228130340576
58293009,4994,glassez,2016-04-02T12:59:30Z,fix coding style! we require extra parenthesis in constructor initialization list. and also fix spaces in `{}`: [code block],0,0.9111224412918091
58293013,4994,zeule,2016-04-02T13:00:16Z,"ok, i'll replace the commit title with ""fix indentation""",0,0.994949221611023
58293037,4994,glassez,2016-04-02T13:01:36Z,please separate module includes from system/qt includes and from app includes using blank lines.,0,0.9935018420219421
58293051,4994,glassez,2016-04-02T13:02:41Z,add spaces around `<`.,0,0.9925965070724487
58293066,4994,glassez,2016-04-02T13:04:44Z,get rid of these **auto**s. we make only limited use of **auto** keyword. see coding_guidelines.md,0,0.9935265779495239
58293070,4994,glassez,2016-04-02T13:05:09Z,fix coding style.,0,0.9817914962768555
58293074,4994,glassez,2016-04-02T13:06:02Z,fix coding style.,0,0.9817914962768555
58293094,4994,glassez,2016-04-02T13:07:55Z,fix coding style. no braces with copy constructor.,0,0.9930857419967651
58293097,4994,glassez,2016-04-02T13:08:32Z,fix coding style. blank line before access specifier.,0,0.9932501316070557
58293107,4994,glassez,2016-04-02T13:09:40Z,fix coding style. add spaces around arithmetic operators.,0,0.9922762513160706
58293115,4994,glassez,2016-04-02T13:10:24Z,no **auto** here!,0,0.981474757194519
58293122,4994,glassez,2016-04-02T13:10:48Z,fix coding style.,0,0.9817914962768555
58293146,4994,glassez,2016-04-02T13:12:01Z,don't use **auto** here.,0,0.9813477993011475
58293229,4994,glassez,2016-04-02T13:18:44Z,i hope that you read my previous response and i don't have to write it for each such your excuses. if you do something - do it completely.,1,0.553165078163147
58293293,4994,glassez,2016-04-02T13:25:09Z,really? and i think that is what your code! i didn't see this earlier (in deleted lines).,0,0.8987613320350647
58293354,4994,glassez,2016-04-02T13:30:21Z,"then don't touch it at all! let me repeat: if you produce ""follow coding style"" commit, you should completely fix coding style and not just indentation.",0,0.7341549396514893
58293421,4994,glassez,2016-04-02T13:35:18Z,see coding_guidelines.md. we just limit the use of brace enclosed initializers.,0,0.9950231313705444
58293465,4994,glassez,2016-04-02T13:39:16Z,better not produce such commits at all. this greatly complicates the inspection of your code.,0,0.7797635197639465
58293594,4994,zeule,2016-04-02T13:51:05Z,what do you want then? to spoil the git history (forever) for the sake of a review (one time job)?,0,0.7506838440895081
58293615,4994,zeule,2016-04-02T13:53:17Z,i'm not allowed to use the strict type checking?,0,0.9399515390396118
58293702,4994,zeule,2016-04-02T13:58:48Z,"i suppose you mean the `local` parameter. i agree that this is not the best idea, but otherwise i can imagine only solution with two virtual functions, which is overkill as to me. the parameter is used to compose the tooltip text and to replace "".unwanted"" parts in the file names (i don't know whether the latter is still needed). see [a link] and [a link]. can you suggest a better solution?",0,0.9683791995048523
58293708,4994,glassez,2016-04-02T13:59:07Z,"what do you mean? just do `pieceindextoimagepos transform(m_torrent, m_image);`",0,0.995278000831604
58293774,4994,glassez,2016-04-02T14:03:42Z,"fix the coding style is not to spoil the story. this is the same change as any other (for example, as adding a new feature or bugfix). so either do it or don't do it at all.",0,0.9698662757873535
58293804,4994,zeule,2016-04-02T14:05:33Z,i mean that curly braces gives better type checking. for what reason do you ban it?,0,0.9844937920570374
58293966,4994,glassez,2016-04-02T14:17:40Z,"better type checking? what do you mean? if you're going to start telling me about the templates and stuff, you can not do this. nobody forbids to use something where it is really needed. but in a simple code, it only spoils the readability.",0,0.8556167483329773
58294736,4994,zeule,2016-04-02T15:21:55Z,"speak for yourself, please. `{}` style initialisation does not allow. for instance, narrowing conversions.",0,0.9741746187210083
58295485,4994,glassez,2016-04-02T16:09:41Z,"i'm talking about the project coding style. when i asked you to discuss this rule, you arrogantly refused. and how it can help you here and in all similar code? didn't you read my comments above? it can be applied where it is really needed.",-1,0.954319417476654
58296117,4994,glassez,2016-04-02T16:53:30Z,"as for `filepath.replace(qlatin1string(""/.unwanted""), qstring());` - it can be done unconditionally. as for the second case - this logic belongs to subclasses actually. bad design is more wrong than your subjective fear of virtual functions here.",-1,0.6772434115409851
58296255,4994,glassez,2016-04-02T17:03:14Z,you just need to make one abstract method `tooltiptext()` (and implement it in subclasses) and call it from `showtooltip()`.,0,0.9942556023597717
58296710,4994,zeule,2016-04-02T17:29:33Z,"ok, i'll make the virtual functions.",0,0.993775486946106
58297831,4994,zeule,2016-04-02T18:42:43Z,"look, i just asked do you ban this particular feature or not. it helps when used systematically without thinking/decision. in the same way as you switch on a blinker before any turn and before even looking into a mirror, which helps you only when you make a mistake and overlook somebody in the mirror. i don't care about coding style of a particular project i'm contributing too as far as the project provides a tool (or a tool config) to ensure/enforce that style. whatever the style is, the main difficulties in understanding the another person code is not the number of spaces or position of braces, but, provided the code is well-written, different way of thinking of its authors. and this is unavoidable in oss projects. as for the banning particular language features, i don't understand this entirely. if one thinks that a language feature is not needed, then, perhaps, there are languages which suit better? i'm sorry that my refusal can be interpreted as a haughtiness, but in fact it was quite the opposite: i feel that i can do nothing on this subject. starting from the fact that i'm in ultra-right tabs party, so will not like the qbt code style without changing it completely.",0,0.8676431179046631
58297975,4994,glassez,2016-04-02T18:53:07Z,"i am familiar with the oss projects, the source code which can be read like a book. and that's what we should be!",1,0.8285697102546692
58298398,4994,glassez,2016-04-02T19:29:00Z,i think it's like wearing a condom all day or live in a bunker (maybe it will save you once but this will cause trouble constantly). everything has its time and place!,0,0.4937101900577545
58298419,4994,glassez,2016-04-02T19:31:03Z,this helps completely forget how to think!,0,0.951220691204071
58303203,4994,zeule,2016-04-03T02:22:44Z,ok. the code was written before you pushed those rules.,0,0.991432785987854
58377799,4994,zeule,2016-04-04T13:50:22Z,you are welcome: issue #5075,1,0.6078633069992065
58475531,4994,zeule,2016-04-05T01:29:50Z,done,0,0.8682363629341125
58491163,4994,glassez,2016-04-05T06:13:12Z,`qpair `,0,0.9926880598068237
115416405,4994,Chocobo1,2017-05-09T06:36:23Z,i would write [code block],0,0.9939483404159546
115416593,4994,Chocobo1,2017-05-09T06:38:03Z,`return (m_size > 0) ? m_availability : 0;`,0,0.9934584498405457
115416673,4994,Chocobo1,2017-05-09T06:38:52Z,you can remove curly brackets,0,0.9947459697723389
115416824,4994,Chocobo1,2017-05-09T06:39:41Z,"if you want: `{filescount, -1.}`",0,0.991450846195221
115416918,4994,Chocobo1,2017-05-09T06:40:29Z,curly brackets...,0,0.984375536441803
115417124,4994,Chocobo1,2017-05-09T06:42:07Z,won't hurt to add `qvector::reserve(filescount)`,0,0.9896833896636963
115417478,4994,Chocobo1,2017-05-09T06:44:57Z,this line isn't needed now.,0,0.9832157492637634
115417540,4994,Chocobo1,2017-05-09T06:45:32Z,add `const`,0,0.9946578145027161
115443807,4994,glassez,2017-05-09T09:21:00Z,"as i recall, this file has `using namespace bittorrent`.",0,0.9946640729904175
115444423,4994,glassez,2017-05-09T09:24:20Z,"imo, this may confuse the readers since it looks like list of two items.",0,0.6634138226509094
115444993,4994,glassez,2017-05-09T09:27:07Z,"please separate ""earlier return"" part from the rest by blank line.",0,0.9915298223495483
115445542,4994,glassez,2017-05-09T09:29:38Z,"imo, `int + bool` is bad practice.",-1,0.9613556861877441
115447189,4994,glassez,2017-05-09T09:37:44Z,qt5 qstring constructor accepts utf8 data so ::fromutf8 waste space only.,0,0.9871949553489685
115447652,4994,glassez,2017-05-09T09:40:06Z,&fa,0,0.9876322746276855
115448206,4994,glassez,2017-05-09T09:42:56Z,it looks like 2 spaces before `public`,0,0.99297696352005
115448433,4994,glassez,2017-05-09T09:44:08Z,*m_rootitem,0,0.9930635094642639
115448771,4994,glassez,2017-05-09T09:45:48Z,oh please... if it pleases you.,0,0.6035362482070923
115448986,4994,glassez,2017-05-09T09:46:44Z,there is appropriate constant in some file.,0,0.9941054582595825
115449083,4994,glassez,2017-05-09T09:47:18Z,please...,0,0.6299152374267578
115449376,4994,glassez,2017-05-09T09:48:30Z,"of course, if you use some advanced editor/ide and this action is not so hard for you.",0,0.98591148853302
115449776,4994,glassez,2017-05-09T09:50:30Z,move definition to cpp.,0,0.9950946569442749
115450200,4994,glassez,2017-05-09T09:52:43Z,here are exactly your changes break coding style.,0,0.9936961531639099
115450327,4994,glassez,2017-05-09T09:53:27Z,please...,0,0.6299152374267578
115450428,4994,glassez,2017-05-09T09:54:00Z,please do it.,0,0.9513534903526306
115450652,4994,glassez,2017-05-09T09:55:16Z,please fix it.,0,0.9141096472740173
115450880,4994,glassez,2017-05-09T09:56:28Z,please don't forget to do it here.,0,0.9700947403907776
115451049,4994,glassez,2017-05-09T09:57:22Z,please move definition in cpp.,0,0.9916125535964966
115451180,4994,glassez,2017-05-09T09:58:03Z,please do it here too.,0,0.9947158694267273
115451261,4994,zeule,2017-05-09T09:58:27Z,"it would create a vector of two elements, don't it?",0,0.991651713848114
115451336,4994,glassez,2017-05-09T09:58:50Z,please.,0,0.8863160014152527
115451658,4994,glassez,2017-05-09T10:00:40Z,"fixing style in cases like this is easier than typing ""this code is not mine."" :)",1,0.9910104274749756
115451724,4994,glassez,2017-05-09T10:01:00Z,please...,0,0.6299152374267578
115454705,4994,Chocobo1,2017-05-09T10:17:32Z,"ah yes, got mixed up with something else.",0,0.84565669298172
115491478,4994,zeule,2017-05-09T13:40:35Z,and it is *not* used in 11 places. i would better do a separate pr eliminating all of those.,0,0.982597291469574
115493587,4994,zeule,2017-05-09T13:48:49Z,"i would prefer to leave brackets here in place: with long lines they increase readability, imo.",0,0.9715462327003479
115514206,4994,glassez,2017-05-09T15:06:10Z,ok.,0,0.980760931968689
115532342,4994,glassez,2017-05-09T16:12:36Z,missing redundant space between two ),0,0.9899061322212219
115532811,4994,glassez,2017-05-09T16:14:30Z,redundant space between ( and tsize,0,0.9815966486930847
115532943,4994,glassez,2017-05-09T16:15:09Z,i mean you forget removing it.,0,0.9829135537147522
115534424,4994,zeule,2017-05-09T16:21:17Z,done,0,0.8682363629341125
115534450,4994,zeule,2017-05-09T16:21:23Z,done.,0,0.9897913336753845
115538039,4994,Chocobo1,2017-05-09T16:36:47Z,ok,0,0.9233372807502747
116256143,4994,zeule,2017-05-12T15:18:38Z,submitted pr with this refactoring long time ago (#6330).,0,0.9931615591049194
706821644,15453,glassez,2021-09-12T11:20:49Z,you shouldn't change icon names since it breaks existing custom themes.,0,0.9531717300415039
706826357,15453,Mazino-Urek,2021-09-12T11:57:51Z,"i had to as ""view-refresh"" icon is used for both force recheck and force reannounce icon. they server different purposes and thus, another icon was created with a new name. can you kindly make a patch in your theme bundle if changes were accepted?",0,0.9922316074371338
706839219,15453,Mazino-Urek,2021-09-12T13:35:34Z,from this: ![a link] to this: ![a link],1,0.8406193852424622
706847861,15453,xavier2k6,2021-09-12T14:40:11Z,what is the purpose of this??,0,0.8175134062767029
706850117,15453,Mazino-Urek,2021-09-12T14:57:50Z,"linking, a useful tool for future reference. i am not going to do it. i have chosen colors that work both light and dark theme, but not perfectly. for that, two icon packs is needed. [a link] is a brilliant tool for that. i can remove it if you want, but someone might implement the feature in the future. it will definitely help.",1,0.9934026598930359
706850917,15453,Mazino-Urek,2021-09-12T15:04:11Z,or i can mention this under color that i have used this tool to find colors that work for both light and dark theme.,0,0.9931871891021729
706853617,15453,xavier2k6,2021-09-12T15:24:52Z,"this would be better, imo imo i don't think that is totally necessary but i don't want to get into too much of a debate on that.",0,0.9083712697029114
706854866,15453,Mazino-Urek,2021-09-12T15:34:33Z,done.,0,0.9897913336753845
707587979,15453,glassez,2021-09-13T18:38:14Z,"on the other hand, if it enriches the ui appearance, then we can allow such breaking changes. in addition, i would return to the issue of making custom themes ""unpacked"" in order to solve the compatibility problem between different qt versions. , are you ready to do this now in order to make all the breaking changes related to the custom themes in the same release?",0,0.987835705280304
707595066,15453,jagannatharjun,2021-09-13T18:49:09Z,"have exams, will see if i get time, next month for sure :thumbs_up:",1,0.9940225481987
707685505,15453,thalieht,2021-09-13T21:13:42Z,it's too dark: ![a link],-1,0.9950835704803467
707732583,15453,xavier2k6,2021-09-13T22:01:39Z,"on the stalled color text icon issues: rgb 44, 44, 44 (#2c2c2c) is not `gray` as comments suggest it is known as `night rider` ref.: [a link] suggestion: `dimgray` rgb 105, 105, 105 hex (#696969) ref.: [a link] i would probably also change line below to reflect where you got your colors from: [a link] i personally use: [a link] or when picking a variant/web safe color [a link] please amend all color comments accordingly where necessary.",0,0.9904592037200928
707877112,15453,Mazino-Urek,2021-09-14T03:18:41Z,i have mainly taken inspiration from the icon of google and microsoft. i have used [a link] resource to pick neutral color.,0,0.9783227443695068
729206030,15453,FranciscoPombal,2021-10-14T17:40:50Z,"to be fair, we don't promise any sort of ""api"" stability regarding icon names iirc, so we are free to change them at our own pace without worrying with what others are doing with them. of course it is not desirable to change icon names very frequently, but they haven't changed in a long time and i don't expect them to change again for a long time after such a comprehensive redesign such as this one is merged.",0,0.9449530243873596
729260481,15453,glassez,2021-10-14T18:59:46Z,"anyway, icon names are currently part of ""ui theme support interface"", and it is a general rule for all interfaces that they should be as stable as possible. but as i mentioned above, we can allow such breaking changes from time to time.",0,0.9898932576179504
729263016,15453,glassez,2021-10-14T19:03:33Z,"btw, `uithememanager::geticon()` allows you to set fallback icon so you can use it to provide backward compatibility with existing themes.",0,0.989891529083252
730056539,15453,FranciscoPombal,2021-10-15T19:05:09Z,"i think we are generally in agreement here, but i think this point you make, in particular, is quite conservative. we never made any documented promise about a versioned, let alone stable ""ui theme support interface"". we could do so _after_ this pr), but we are not bound by such a promise _right now_. this is in contrast with the webapi, for example, which has a versioned and documented ""contract"" that we cannot break once set. still, even for an undocumented api such as this one, i generally agree with an ""as stable as possible"" policy, because we know 3rd-parties are using it despite any lack of proper api ""contract"". we don't want to disturb the peace for no reason. i just don't think it should come at the price of delaying this pr even further (i.e., this is a ""not possible"" situation).",0,0.7162413597106934
730273912,15453,Chocobo1,2021-10-16T14:59:45Z,wrong order,-1,0.5811174511909485
730274592,15453,Chocobo1,2021-10-16T15:06:10Z,"also the commit messages isn't up to the standard (mostly it is about the first commit), please revise it before you un-draft the pr. [a link]",0,0.9953605532646179
730276595,15453,Mazino-Urek,2021-10-16T15:23:38Z,"i plan on merging the second commit only. first one will just serve as future reference. or, i can create a clean pr when it is done.",0,0.9868059158325195
110527293,6156,thalieht,2017-04-08T21:00:00Z,`override`'s instead of `virtual`? no class seems to inherit from this one.,0,0.9853979349136353
110528087,6156,zeule,2017-04-08T21:46:49Z,"i just reformatted the code, that was written before c++11.",0,0.9910247325897217
110528250,6156,thalieht,2017-04-08T21:58:37Z,"yea, was just wondering if you want to change it.",0,0.9688184857368469
110528261,6156,zeule,2017-04-08T21:59:36Z,"nope, sorry. not in this pr.",-1,0.9880667924880981
112502272,6156,glassez,2017-04-20T16:44:03Z,"preferences is deprecated, did you forget it?",0,0.9811567664146423
112502776,6156,glassez,2017-04-20T16:46:17Z,please use the same naming scheme as in c++ files: usefileiconscheckbox.,0,0.994304358959198
114285231,6156,glassez,2017-05-02T09:58:39Z,"please, describe this method logic in comments",0,0.9943462014198303
114285308,6156,glassez,2017-05-02T09:59:04Z,move brace to next line.,0,0.9930818676948547
114285409,6156,glassez,2017-05-02T09:59:34Z,move brace to next line.,0,0.9930818676948547
114285557,6156,glassez,2017-05-02T10:00:34Z,redundant blank lines.,0,0.5417125821113586
114286631,6156,zeule,2017-05-02T10:07:43Z,your suggestion?,0,0.9876183271408081
114287730,6156,glassez,2017-05-02T10:15:25Z,"since you're still not keeping track of its changes, maybe just use settingsstorage directly? or create appropriate application property (since we have no separate gui component class).",0,0.9910609126091003
114296659,6156,zeule,2017-05-02T11:19:36Z,"frankly speaking, `preferences` deprecation seems to be a bit premature. i think we should either at least teach ""advanced"" settings page to accept settings from outside or agree on an interface for configurable components. because right now i have to uncover an implementation detail just to make it accessible for options dialog. imo, our current approach is best suited for applications that use context menus for configurations, but not the central options dialog. i will make the requested changes, through.",0,0.7093120217323303
114301731,6156,glassez,2017-05-02T11:58:24Z,"agree. the current (still not used everywhere) approach was not as good as i wanted it. the same old approach were bad. apparently, i moved it from one extreme to the other. i often ponder how to make it better.",-1,0.674057126045227
114304382,6156,zeule,2017-05-02T12:16:17Z,disagree: all the other members use this name style.,0,0.789884626865387
114305404,6156,zeule,2017-05-02T12:22:23Z,"done with the changes, but don't feel satisfied with the code :(",-1,0.9954960346221924
114355535,6156,glassez,2017-05-02T16:00:57Z,"ok, leave it as is since we didn't still make refactoring of this ui file.",0,0.9913694262504578
114356871,6156,zeule,2017-05-02T16:06:23Z,"not sure whether i need to use `qdir::tonativeseparators()` here. can anybody from windows world tell, please, does `qfileinfo::absolutefilepath()` always uses native directory separators?",0,0.9216873049736023
118666634,6156,glassez,2017-05-26T09:31:47Z,cachedsettingsvalue will help you avoid having this function and one extra variable.,0,0.9910262227058411
118682299,6156,zeule,2017-05-26T11:22:10Z,thanks!,1,0.8631753921508789
118683091,6156,zeule,2017-05-26T11:27:56Z,done.,0,0.9897913336753845
118820933,6156,glassez,2017-05-27T13:35:29Z,since we don't support ansi winapi we shouldn't use compatibility layer. please use shgetfileinfow and lpcwstr directly. also your code wrong. you cast 8-bit char array to wchar_t array.,0,0.9395702481269836
118821024,6156,zeule,2017-05-27T13:41:13Z,`qchar` is 8-bit wide?,0,0.9941995143890381
118827552,6156,glassez,2017-05-27T19:33:11Z,why didn't you use naming scheme for getter/setter (in case of bool it should be isusesystemfileicon/setusesystemfileicon)?,0,0.991777777671814
118827566,6156,glassez,2017-05-27T19:34:00Z,usually we place methods before fields.,0,0.9926180243492126
118830122,6156,zeule,2017-05-27T22:28:31Z,"""is use""? is it just me or this does not make sense?",0,0.9555923342704773
118833823,6156,glassez,2017-05-28T06:20:00Z,it just has `is ` syntax. maybe `issystemfileiconsused/setsystemfileiconsused` will sound better?,0,0.9910140633583069
118837712,6156,zeule,2017-05-28T10:07:41Z,done.,0,0.9897913336753845
118837721,6156,zeule,2017-05-28T10:08:14Z,`aresystemfileiconsused()` and `setsystemfileiconsareused(bool)`,0,0.9944860339164734
118837882,6156,glassez,2017-05-28T10:19:33Z,no. property name part of setter/getter must be the same. in this case `systemfileiconsused` is property name so `issystemfileiconsused()` and `setsystemfileiconsused(bool)` are proper setter/getter names. also `is` prefix used since it relates to property itself (i.e. is property set).,0,0.994293749332428
118838079,6156,zeule,2017-05-28T10:32:23Z,"fine, i understand your point. but that is grammatically incorrect. i don't know how to keep it correct and satisfy that rule simultaneously. i see only one way out: [code block]",0,0.5549623370170593
118838237,6156,glassez,2017-05-28T10:41:01Z,"agree. but we write not english but c++ :) there is some difference. we can't have a proper english phrases everywhere. it's just qt naming convention which we use too: setter name is `set `, getter name is ` ` (or `is `/`has ` in case of bool type). i think it's too much. besides, where did the third value?",1,0.9653321504592896
118840021,6156,zeule,2017-05-28T12:23:35Z,"can't agree that this might be a reason to convert meaningful word sequences into something unclear, that can be only memorised but not written again basing on its meaning. why? i'm pretty sure there will be people who want no icons at all. the second value is the current behaviour, and the third one is what this pr offers.",0,0.7481414079666138
118840924,6156,glassez,2017-05-28T13:11:49Z,"but your suggestions are not so clear as you think about. first, setfileiconsmode should expect param of type named fileiconsmode. second, the values of enum should have more meaningful names for ""file icons mode"". in my opinion, you are again trying to counter your subjective opinion against the current rules.",0,0.7757577896118164
118841540,6156,glassez,2017-05-28T13:47:35Z,"really, the naming of boolean getters is not so easy as of other. [code block] so according to above `systemfileiconsused()` and `setsystemfileiconsused(bool)` is better names.",0,0.9788945913314819
118916081,6156,zeule,2017-05-29T11:15:06Z,`showsystemfileicons()` + `setshowsystemfileicons(bool show)` ?,0,0.9945117235183716
118917364,6156,glassez,2017-05-29T11:24:49Z,ok.,0,0.980760931968689
118918217,6156,glassez,2017-05-29T11:31:22Z,show,0,0.8451502323150635
118918280,6156,glassez,2017-05-29T11:31:48Z,please reorder includes.,0,0.993996262550354
118924675,6156,zeule,2017-05-29T12:16:53Z,"ah! thanks, done.",1,0.9932302236557007
118931210,6156,Chocobo1,2017-05-29T12:58:05Z,"we didn't strict defined this in coding guidelines, but maybe it's better to layout like this: [code block] idea is separating out the common headers and the ones that are wrapped in conditions.",0,0.9880786538124084
118932409,6156,Chocobo1,2017-05-29T13:04:58Z,i would remove the curly braces (for single `if`) here and below.,0,0.9929050803184509
118934035,6156,Chocobo1,2017-05-29T13:14:42Z,would testing on more primitive file types better? e.g. `txt` & `bmp`. what happens if the file exist? or it doesn't matter?,0,0.9875538349151611
118934616,6156,Chocobo1,2017-05-29T13:18:45Z,i would do [code block],0,0.9939618706703186
118935631,6156,Chocobo1,2017-05-29T13:24:47Z,from [a link],0,0.9944632649421692
118936099,6156,zeule,2017-05-29T13:27:52Z,ok.,0,0.980760931968689
118936874,6156,zeule,2017-05-29T13:32:20Z,"if files exist the test logic fails, because we need it to work with non-existent files. i cab generate random filenames here, if that is your point.",0,0.989397406578064
118936926,6156,zeule,2017-05-29T13:32:44Z,"as far as i know, qt initialises com for the main thread.",0,0.9919686913490295
118939617,6156,glassez,2017-05-29T13:47:35Z,and also test for it existence.,0,0.9940999150276184
118939622,6156,zeule,2017-05-29T13:47:37Z,"searching qt sources proves that i'm wrong. but this code works on windows, i.e. com is initialised somewhere. maybe we should do this initialization in qbt globally, in the application class?",0,0.9884776473045349
118939922,6156,glassez,2017-05-29T13:49:16Z,"as i recall, we do it at application startup for some other purposes.",0,0.9909294247627258
118940402,6156,zeule,2017-05-29T13:51:54Z,"i can see only one call to coinitializeex() in base/utils/misc.cpp, and that is not program-wide.",0,0.9897869825363159
118943613,6156,glassez,2017-05-29T14:09:57Z,in what place did you find it? maybe this code run near the program startup and we have its side effect?,0,0.9923353791236877
118944241,6156,zeule,2017-05-29T14:13:36Z,"[a link] but it calls counitializes() too, so no side effect is possible.",0,0.995226263999939
118947859,6156,glassez,2017-05-29T14:34:13Z,can you test your code with counitialize just before shgetfileinfo?,0,0.9951450228691101
118948109,6156,Chocobo1,2017-05-29T14:35:43Z,i doubt it since: it's thread local.,0,0.9420953989028931
118951141,6156,Chocobo1,2017-05-29T14:54:35Z,choosing a (long) unique name might be enough? there should be no gain for messing up this detection. and what about this? will the result depends on desktop manager or installed de icons?,0,0.9878063797950745
118954503,6156,glassez,2017-05-29T15:16:04Z,"it initializes com for main thread. what's the problem? if we need it in some other thread, we can do it there also.",0,0.992428719997406
118956363,6156,zeule,2017-05-29T15:29:40Z,"so, i can add coinitializeex() call to winshellfileiconprovider constructor, or put it around application::application(). what should i choose?",0,0.9946021437644958
118956774,6156,zeule,2017-05-29T15:33:03Z,"something like /tmp/1a2cfb92-ecef-4c08-a1e2-0f3d6b8a1119.png? well, it depends on installed icon set, of course. but if the set does not contain icons for pdf and png, i doubt it contains anything useful, so it is not important then whether the qfileiconprovider::icon() method works or not.",0,0.9911852478981018
118958077,6156,Chocobo1,2017-05-29T15:42:13Z,"yeah, maybe something like: `/tmp/qbt_doesqfileiconproviderwork_ .png?` you're right, ok.",0,0.9759469032287598
118958115,6156,glassez,2017-05-29T15:42:30Z,"i just debugged it. i think we found another bug here. `::coinitializeex(nullptr, coinit_multithreaded)` in misc.cpp returns rpc_e_changed_mode. it means the following: 1. coinitializeex was called before 2. coinitializeex was called with another thread mode",0,0.959801971912384
118959054,6156,zeule,2017-05-29T15:48:49Z,"oh, good point! will use it.",1,0.9961307048797607
118959199,6156,zeule,2017-05-29T15:50:01Z,can't you put a breakpoint to coinitializeex() (or is it imp_coinitializeex()?) and trace who does the initialisation?,0,0.9935238361358643
119024619,6156,glassez,2017-05-30T07:08:01Z,ok. i done it. qwindowscontextprivate calls oleinitialize which calls cominitialize. so we don't need to do it for main thread. and we should remove this function call from misc.cpp.,0,0.9765102863311768
119028282,6156,Chocobo1,2017-05-30T07:31:56Z,"and add a comment about the ""qwindowscontextprivate calls oleinitialize"" (in misc.cpp and here).",0,0.9956015348434448
119068879,6156,zeule,2017-05-30T11:00:04Z,'} else {' is used everywhere else.,0,0.9858385920524597
119068959,6156,zeule,2017-05-30T11:00:28Z,done.,0,0.9897913336753845
119068986,6156,zeule,2017-05-30T11:00:38Z,done.,0,0.9897913336753845
119069008,6156,zeule,2017-05-30T11:00:46Z,done.,0,0.9897913336753845
119069464,6156,zeule,2017-05-30T11:03:37Z,are there only two places where com initialisation is needed? will we append such comments everywhere? isn't an overkill?,0,0.9895713329315186
119084380,6156,glassez,2017-05-30T12:27:13Z,"of course, it would be better to have this information in one place, but i don't know where it should be.",0,0.9324129819869995
119332125,6156,glassez,2017-05-31T11:19:55Z,"you shouldn't use both `:` and `{}`. the first is for single line statements, the second one is for multiline.",0,0.9834955334663391
119332803,6156,zeule,2017-05-31T11:24:06Z,corrected.,0,0.9540433287620544
125192409,6156,zeule,2017-07-02T20:57:11Z,does it take the correct branch?,0,0.9939026832580566
125279534,6156,sledgehammer999,2017-07-03T12:39:47Z,is this a leftover?,0,0.9889707565307617
125279705,6156,sledgehammer999,2017-07-03T12:40:45Z,i think this is a leftover too.,0,0.9812208414077759
125281938,6156,sledgehammer999,2017-07-03T12:52:56Z,leftover,0,0.9850702285766602
125282285,6156,sledgehammer999,2017-07-03T12:54:49Z,maybe this belongs to the previous commit?,0,0.9852557182312012
125284155,6156,sledgehammer999,2017-07-03T13:04:12Z,"typo: ""ask""",0,0.9953704476356506
125290467,6156,sledgehammer999,2017-07-03T13:34:27Z,i think both of us missed this.,0,0.7013155221939087
125306557,6156,zeule,2017-07-03T14:50:16Z,done.,0,0.9897913336753845
225180003,9704,glassez,2018-10-15T14:10:45Z,i suppose 11 should be here.,0,0.9824025630950928
225226078,9704,glassez,2018-10-15T16:08:30Z,isn't it be implemented in compatible way? i mean replace code but not create separate branch.,0,0.9911507368087769
225227928,9704,glassez,2018-10-15T16:13:49Z,somehow i don't like `boost::lexical_cast`... this code does not indicate at all what kind of string we will get as a result (in contrast with `to_hex()`).,-1,0.9576974511146545
225228196,9704,glassez,2018-10-15T16:14:37Z,the same question about having one compatible branch.,0,0.9827505350112915
225228498,9704,glassez,2018-10-15T16:15:29Z,is this boost version required now (by libtorrent 1.2)?,0,0.995318591594696
225232195,9704,glassez,2018-10-15T16:26:57Z,or libtorrent 1.2 uses only string_view?,0,0.9940894842147827
225235050,9704,zeule,2018-10-15T16:35:56Z,"now probably `string_view` only. i'll change the condition, thanks.",1,0.6103676557540894
225235218,9704,glassez,2018-10-15T16:36:35Z,please use static_cast.,0,0.9947591423988342
225237034,9704,glassez,2018-10-15T16:42:44Z,`template <>`,0,0.9442448616027832
225237354,9704,zeule,2018-10-15T16:43:38Z,"no, it is for the try_lexical_cast, but come on, 1.55 was released 5 (five) years ago.",0,0.8770933151245117
225237521,9704,glassez,2018-10-15T16:44:00Z,we use `#pragma once` now.,0,0.9935833811759949
225238047,9704,glassez,2018-10-15T16:45:48Z,constexpr? and functions below.,0,0.9949624538421631
225240791,9704,glassez,2018-10-15T16:54:47Z,why is it?,0,0.9662171006202698
225241583,9704,glassez,2018-10-15T16:57:17Z,personally i agree with increasing boost version (even much more).,0,0.9775375127792358
225247331,9704,glassez,2018-10-15T17:13:54Z,let's keep `class` for class declarations and use `typename` for templates.,0,0.9930411577224731
225248031,9704,glassez,2018-10-15T17:16:27Z,please reformat pointers and references.,0,0.9916975498199463
225414106,9704,glassez,2018-10-16T06:43:45Z,we only need to do this a few times. why not just have two code branches in respective alert handlers? then it will be easier for us to get rid of the libtorrent-1.1 support when the time comes.,0,0.9924282431602478
225414681,9704,glassez,2018-10-16T06:46:10Z,is counters type changed in libtorrent-1.2? why is `boost::numeric_cast ` needed? are you afraid it might not fit in `quint64`?,0,0.9900842905044556
225415023,9704,glassez,2018-10-16T06:47:45Z,i would name it `fromlibtorrentstring()`,0,0.9951075315475464
225416025,9704,glassez,2018-10-16T06:52:14Z,couldn't `{}` fit in both cases? [code block],0,0.9927088022232056
225457427,9704,arvidn,2018-10-16T09:10:30Z,"in this specific case though, the issue is that `to_hex()` was removed from the libtorrent api. it was never really meant to be exposed. you should be able to use `lexical_cast` in both cases. `lexical_cast` is just shorthand for `std::stringstream s; s << m_nativehash; s.str()`. there are plenty of alternative ways to convert a binary blob to hex. like (untested): [code block]",0,0.9906094670295715
225460333,9704,arvidn,2018-10-16T09:18:50Z,"i imagine you could have a `from_hex` function that looks like this (again, untested): [code block]",0,0.9894413948059082
225461118,9704,arvidn,2018-10-16T09:21:09Z,"i think `static_cast<>` is reasonable here. one thing to keep in mind is that an if-condition is a boolean context, which won't require the cast. so you could do this: `return (m_nativeinfo.source & libt::peer_info::dht) ? true : false` or just `return bool(m_nativeinfo.source & libt::peer_info::dht);`",0,0.9670519232749939
225461590,9704,arvidn,2018-10-16T09:22:29Z,i think it would be reasonable to write this as: `return lt::file_index_t{index}`;,0,0.990222692489624
225462265,9704,zeule,2018-10-16T09:24:21Z,can not be used as the right side of the '?' operator.,0,0.9862724542617798
225465375,9704,arvidn,2018-10-16T09:33:04Z,i don't think there's a good reason to take the `string_view` by const ref here. it's already a reference type,0,0.9745836853981018
225466004,9704,arvidn,2018-10-16T09:34:55Z,"perhaps i misremember, but the `0` in the top version is also the flags, and passing different flags will give you different behaviours in the different versions",0,0.8590672612190247
225467657,9704,arvidn,2018-10-16T09:39:06Z,"if you just want a duration of 0 minutes, you can also say `0min` (as long as you `using namespace std::chrono_literals`).",0,0.9940987825393677
225467945,9704,arvidn,2018-10-16T09:39:56Z,"putting ""inminutes"" in the variable name here smells a bit like hungarian notation now. it's already encoded in the type",0,0.8916627764701843
225468990,9704,arvidn,2018-10-16T09:42:55Z,"instead of `status_flags_t(0)`, i'm pretty sure you can just say `{}`, (in fact, that might work in both libtorrent 1.1.x and 1.2.x). however, keep in mind that a call to `status()` is quite expensive, since it's a round-trip to the libtorrent thread.",0,0.9839212894439697
225469920,9704,zeule,2018-10-16T09:45:41Z,"these changes were long living as an unofficial patch in my fork. i did want to change as less as possible to simplify merging for me, and did not change the function name. that is why this pr is full of similar inappropriate for the mainline decisions. i hope to sort that out before merging.",0,0.8755428194999695
225470750,9704,glassez,2018-10-16T09:48:16Z,qbittorrent coding style prohibits using function-style cast and implicit casting numbers to boolean.,0,0.9803375005722046
225470910,9704,zeule,2018-10-16T09:48:46Z,"we still support c++11, there are no chrono literals there.",0,0.9928852915763855
225472318,9704,arvidn,2018-10-16T09:52:43Z,"with c++11 you should be able to just say: `{a->address, a->port}`",0,0.9930288195610046
225474743,9704,arvidn,2018-10-16T09:59:52Z,"counters returns a `span `, so you don't really need to take it by reference",0,0.992049515247345
225475155,9704,arvidn,2018-10-16T10:01:07Z,"i imagine there may be a conversion warning here, because the libtorrent counters are signed.",0,0.9757948517799377
225475330,9704,arvidn,2018-10-16T10:01:40Z,(which i think your counters should be too),0,0.9919769167900085
225476088,9704,arvidn,2018-10-16T10:04:03Z,i added this header in late versions of 1.1.x as well actually,0,0.9915667176246643
225477144,9704,arvidn,2018-10-16T10:07:22Z,"technically, indices into arrays are `std::ptrdiff_t`, but i think standard containers got this wrong a long time ago. heh, in fact, i got this wrong in my `span<>` as well. i will try to fix that.",0,0.8630200028419495
225489373,9704,glassez,2018-10-16T10:48:48Z,we try to use it only when it is impossible to use cached values.,0,0.9908314347267151
225490347,9704,arvidn,2018-10-16T10:52:17Z,"i don't think this is a duration, is it? it looks like it would be a `time_point`",0,0.9789733290672302
225490679,9704,arvidn,2018-10-16T10:53:29Z,"i think you can use this line for both version, right? `makepieceindex()` already provides the abstraction",0,0.9916492700576782
225490688,9704,glassez,2018-10-16T10:53:31Z,if all supported libtorrent versions have the counters of signed type we should use qint64.,0,0.9946770668029785
225491435,9704,arvidn,2018-10-16T10:56:14Z,unfortunately 1.1.x uses `std::uint64_t`,0,0.5786661505699158
225491542,9704,zeule,2018-10-16T10:56:40Z,the standard containers are not arrays.,0,0.9916014075279236
225531465,9704,arvidn,2018-10-16T13:10:24Z,"the change to support multiple mappings per port seems orthogonal to the 1.2 update, no?",0,0.9913329482078552
225532206,9704,arvidn,2018-10-16T13:12:33Z,"you're not actually allowed to put things in the `std` namespace. i think a better way to do this is to put this template in your namespace and when building with c++17, just pull it in from `std` with `using` instead.",0,0.9900779724121094
225532997,9704,arvidn,2018-10-16T13:14:34Z,"these literals are from c++14, in case you wanted to still be compatible with c++11",0,0.9926478862762451
225533501,9704,arvidn,2018-10-16T13:15:55Z,"duration has `operator%` which may be simpler, or at least more straight forward",0,0.991460919380188
225534606,9704,arvidn,2018-10-16T13:18:09Z,"i think it would be a lot nicer if `getmaxseedingminutes()` would return a duration instead. then it wouldn't even need to have `minutes` in its name. same thing goes for `setglobalmaxseeding`, since it takes a proper type now, it doesn't need `minutes` either",0,0.931648313999176
225535259,9704,arvidn,2018-10-16T13:19:45Z,i think a slightly safer way of doing this is to explicitly cast the duration to `minutes` before getting `count()`. otherwise you rely on the function to specifically return minutes. you can use `duration_cast ()`,0,0.9841085076332092
225535423,9704,arvidn,2018-10-16T13:20:10Z,"if literals are allowed, i think ` >= 0s` is nicer than calling `count()` (and below too)",0,0.9623538851737976
225536329,9704,arvidn,2018-10-16T13:22:32Z,"are you sure you know what unit `count()` returns? i thought `friendlyunit` would take any `duration`, in which case you don'y need to call `count()`. in fact, calling `count()` should be avoided generally, that's when you lose type safety. typically it's only required when interfacing with other apis (like qt)",0,0.9914934635162354
225536442,9704,arvidn,2018-10-16T13:22:49Z,same thing goes for the change above,0,0.9907357096672058
225537690,9704,arvidn,2018-10-16T13:26:01Z,are you sure `max_eta` is the same unit as `etal` and `etar`? just calling count seems a bit dangerous,0,0.5330861806869507
225537934,9704,arvidn,2018-10-16T13:26:40Z,i think a better approach would be to turn `etal` and `etar` into proper duration types. i.e. tell the reader what unit `left.data()` and `right.data()` returns.,0,0.9840880632400513
225538469,9704,zeule,2018-10-16T13:28:05Z,", i will change the code with chrono types, of course. as i wrote you earlier, i'm porting these changes from a fork where i did want to change as little as possible. p.s. could you tell me, please, will you drop autoools from the 1.2 release?",0,0.9623924493789673
225875563,9704,zeule,2018-10-17T10:55:00Z,notice `libtorrent::sha1_hash::size` became a function,0,0.9945610165596008
225876855,9704,zeule,2018-10-17T10:59:18Z,"seems like we do not use negative durations, thus `duration_cast` is enough, there is no need tor `floor`.",0,0.9897593259811401
225878851,9704,zeule,2018-10-17T11:06:01Z,but `std::chrono::days` is from c++20. or did i interpret the suggestion incorrectly?,0,0.9913175106048584
226007051,9704,glassez,2018-10-17T16:34:55Z,", please don't introduce any non required changes in this pr.",0,0.9827141165733337
226064552,9704,zeule,2018-10-17T19:26:06Z,"the values come from ""marshaling"" via `qvariant` and type information is lost. what is worse, `qvariant` interface does not signal type mismatch when demarshaling, simply returning default value `t()`. thus i see no difference between using `count()` here or in would be cast from `qvariant` earlier.",0,0.9367190003395081
226065459,9704,zeule,2018-10-17T19:29:28Z,"i remember i was making only compilation fixes in the commits used as sources for this pr, but let me check.",0,0.9922518134117126
226107724,9704,arvidn,2018-10-17T21:53:18Z,"i'm suggesting you make `etar` and `etal` of type `std::duration`. that way, `operator>=` will do the right thing, regardless of the `max_eta` unit. right now, you rely on `max_eta` specifically being `std::minutes`, if you change the value of this constant to be specified in seconds, it breaks.",0,0.9883516430854797
226112823,9704,zeule,2018-10-17T22:15:51Z,"but then i have to ensure that when i pack the duration into `qvariant` and unpack here, i use the same type. otherwise things break in a similar way. or i can put a rule that `qvariant` always contains seconds, which doe not differ significantly from what i have now, except that i can check in an ide that `max_eta` is indeed seconds.",0,0.9825222492218018
226116189,9704,arvidn,2018-10-17T22:31:58Z,"i'm not familiar with `qvariant`, but right now it contains a raw integral, which the reader of this code needs to know the unit of. i'm suggesting that you ""unpack"" this integral into a chrono type. this will serve two purposes, it will increase the coverage of using proper types and improve type safety. it will also make it *explicit* that you are treating this raw integral as seconds or minutes (i forget which one it is), so it becomes easier for a reader to understand the intention or spot a bug if it's wrong. fundamentally though, it would probably be better to store a `chrono::duration` type in the variant too",0,0.9431257247924805
226116318,9704,arvidn,2018-10-17T22:32:39Z,"you're right that as long as the variant is a raw integral, you can still make a mistake of treating it as the wrong unit, but as the code is now, you have more opportunities to make that mistake",0,0.9818145632743835
226212904,9704,glassez,2018-10-18T08:30:32Z,i mean use new code with both libtorrent versions: [code block],0,0.9939494132995605
226226716,9704,glassez,2018-10-18T09:08:47Z,blank line above is redundant.,0,0.93453449010849
226228911,9704,glassez,2018-10-18T09:14:35Z,how about join these two: [code block] and the second two: [code block],0,0.9954524636268616
226229817,9704,glassez,2018-10-18T09:16:55Z,please reformat all pointer and references: [code block],0,0.9943795800209045
226230252,9704,glassez,2018-10-18T09:18:18Z,", please comment on it.",0,0.9868630170822144
226230629,9704,glassez,2018-10-18T09:19:26Z,maybe comment it in the code why?,0,0.9935751557350159
226236606,9704,glassez,2018-10-18T09:37:49Z,it's weird that you don't use universal initialization...,-1,0.9945293068885803
226237218,9704,glassez,2018-10-18T09:39:51Z,what type of `libt::session::global_peer_class_id` in libtorrent-1.2?,0,0.9947939515113831
226238176,9704,glassez,2018-10-18T09:42:35Z,i wouldn't duplicate `std::chrono::minutes` and just use `auto` at left side.,0,0.9891477823257446
226238375,9704,glassez,2018-10-18T09:43:15Z,why do you use `duration_cast` above and don't do it here?,0,0.9892925024032593
226239222,9704,glassez,2018-10-18T09:45:31Z,can we define literals of the same name and use them in c++11 mode?,0,0.9952374696731567
226277021,9704,glassez,2018-10-18T12:04:12Z,please don't remove blank line above.,0,0.9237785935401917
226316908,9704,glassez,2018-10-18T14:01:54Z,is we indent `case` satatements?,0,0.9943538904190063
226317404,9704,glassez,2018-10-18T14:03:09Z,i would use `alertsockettype(p)` in `switch` directly.,0,0.9950742125511169
226318451,9704,glassez,2018-10-18T14:05:41Z,"either create variable or define separate helpers (one for extracting address, and the second one for port).",0,0.9941137433052063
226369530,9704,glassez,2018-10-18T16:07:44Z,"how about create ""bittorrent/private/libtorrentfwd.h""?",0,0.9950300455093384
226372318,9704,glassez,2018-10-18T16:15:25Z,using `std::chrono` types outside libtorrent abstraction layer seems inconvenient to me. it only leads to numerous conversions between these types and the types we use elsewhere in the qbittorrent code.,-1,0.634568452835083
226372985,9704,glassez,2018-10-18T16:17:18Z,"just ""private/index.h""",0,0.9953511953353882
226376438,9704,glassez,2018-10-18T16:27:04Z,"now i still came to the conclusion that ""std::chrono"" does not bring us any convenience. i only see the complexity of code and multiple type conversions. apparently, we should convert it immediately after we get it from libtorrent and before we pass it to libtorrent.",0,0.9526589512825012
226378845,9704,glassez,2018-10-18T16:32:39Z,static_cast is redundant here.,0,0.9823243618011475
226379774,9704,glassez,2018-10-18T16:35:29Z,why don't you cast to int?,0,0.9929147958755493
226380395,9704,glassez,2018-10-18T16:37:26Z,seems wrong. it constantly returns false. i would use some helper template: [code block] or just test them one by one: ```c++ return (m_nativestatus.flags & libt::torrent_flags::paused) && (m_nativestatus.flags & libt::torrent_flags::auto_managed);,-1,0.8211185336112976
226384611,9704,glassez,2018-10-18T16:51:13Z,resume_data can be null,0,0.9909393787384033
226549007,9704,arvidn,2018-10-19T06:58:27Z,"i don't see these typedefs used anywhere. the comment mentions c++11, did you mean libtorrent-1.1.x?",0,0.988743782043457
226549427,9704,arvidn,2018-10-19T07:00:50Z,"it would be slightly longer names to use a template. however, instead of these functions, you could just construct `libt_file_index_t` objects directly (and in 1.1.x it would just construct an `int`)",0,0.9929149150848389
226549646,9704,arvidn,2018-10-19T07:02:00Z,"oh, c-style formatting. is the convention to also do: `std::vector ` (with the space)?",0,0.9912830591201782
226550119,9704,arvidn,2018-10-19T07:04:41Z,there's a `peer_class_t`. using it in an ip filter is a bit of a wart unfortunately. i've been considering adding some utility functions to smoothen this out.,-1,0.5437753796577454
226550435,9704,arvidn,2018-10-19T07:06:17Z,"sort of. user defined literals has to start with an underscore, so you could have `_s` and `_min` for seconds and minutes",0,0.9745404124259949
226550996,9704,arvidn,2018-10-19T07:09:07Z,"in fact, i would suggest not using the `minutes` type for any variables or data members, instead use the `duration` type of the clock you're using. for example: `lt::duration` (i realize you can't use that directly, since it wasn't there in 1.1.x). but for instance, you could make a typedef for `std::chrono::monotonic_clock::duration` and use that. all the unit conversions will be done (mostly) automatically",0,0.9874665141105652
226551333,9704,arvidn,2018-10-19T07:11:02Z,i suspect you may save conditional code like this by creating a typedef to `download_priority_t`,0,0.991793692111969
226551559,9704,arvidn,2018-10-19T07:12:14Z,you can actually control the paused state with the flags too now,0,0.9934062957763672
226551703,9704,arvidn,2018-10-19T07:13:04Z,"this doesn't look right. in the first version you add the upload mode flag, in the bottom one you remove the upload mode flag",0,0.8072628974914551
226552650,9704,arvidn,2018-10-19T07:18:10Z,"or if it's ok to drop support for libtorrent 1.1.3 and earlier, it could be included unconditionally",0,0.9929494857788086
226554675,9704,arvidn,2018-10-19T07:27:33Z,"i think the excessive conversions happen because the chrono types are fully embraced and slightly oddly used. the specific unit types `minutes`, `seconds`etc. are really meant to just be used when converting to and from raw integrals. functions and constants like this should just use the native `duration` type, and be initialized using a specific unit. like this: [code block] or better yet: [code block] btw, the ""convenience"" mostly comes in the type safety and *not* having time unit bugs",0,0.9519081711769104
226555706,9704,arvidn,2018-10-19T07:32:35Z,is the inner `static_cast` really necessary?,0,0.9930960536003113
226555864,9704,arvidn,2018-10-19T07:33:20Z,"as i've pointed out before, i think all these functions should return a `duration`, not a specific unit.",0,0.9885405898094177
226556161,9704,arvidn,2018-10-19T07:34:31Z,"is this duration cast necessary? if you would return a `duration` i don't think it would be (as long as you end up using the same clock as libtorrent, which i think you'd be likely to)",0,0.990170419216156
226556625,9704,arvidn,2018-10-19T07:36:33Z,"i think this will introduce a blocking call, where there didn't used to be one",0,0.973724365234375
226559612,9704,glassez,2018-10-19T07:50:04Z,usually we have this space in new code. what's wrong with it?,0,0.9411584138870239
226560765,9704,glassez,2018-10-19T07:54:50Z,we discussed it before. you shouldn't introduce type names unacceptable by project coding style even if they are aliases for different style names.,0,0.9790193438529968
226563633,9704,arvidn,2018-10-19T08:05:56Z,"not very important obviously, i just think the `*` and `&` belongs together with the rest of the type. it's all good though",1,0.7470739483833313
226607177,9704,glassez,2018-10-19T10:53:58Z,what `duration` are you talking about? `std::chrono::duration` is just template and `std::chrono::minutes` (etc.) is its instantiation. or am i missing something?,0,0.9901915788650513
226611548,9704,zeule,2018-10-19T11:13:39Z,"in this pr they are used in lambdas that take libtorrent indicies as parameters, and because of c++11 i can't write `auto` there.",0,0.9929916858673096
226612488,9704,zeule,2018-10-19T11:18:00Z,"i agree that typedefs and functions are somewhat overlap. i used functions because i knew i can auto-type variables then. now, with c++11 it does not work always and typedefs are required. i will eliminate the overlapping.",0,0.9765740633010864
226614948,9704,zeule,2018-10-19T11:28:53Z,certain durations in qbt have resolution of minutes explicitly. i would not want tot loose that.,0,0.9537279009819031
226615415,9704,zeule,2018-10-19T11:31:03Z,and that is why i would better switch to c++14 instead of creating slightly different copies of its content in qbt.,0,0.9929186701774597
226616632,9704,zeule,2018-10-19T11:36:41Z,1.1.3? i find out the header was released for the first time in 1.1.8.,0,0.9909626841545105
226617068,9704,zeule,2018-10-19T11:39:01Z,clock_type::duration typedef.,0,0.9920101165771484
226617469,9704,zeule,2018-10-19T11:40:44Z,why should i cast to int when i'm extracting the underlying index value (as it is written explicitly now)?,0,0.9784098267555237
226691529,9704,glassez,2018-10-19T15:38:51Z,"i'm sorry, but i'm too stupid and i don't understand how this affects qbittorrent code outside of the libtorrent abstraction layer. all we need there (except the interaction with libtorrent abstraction layer) is to get some duration value from the user through some control providing us with a raw integer, display this value on the screen through some control getting from us a raw integer.",-1,0.9949637651443481
226695227,9704,arvidn,2018-10-19T15:50:21Z,"i've seen lot's of code (in qbt) that does other things to durations too, comparing them for instance. what type safety buys you is to not have to name functions and variables with ""inminutes"" or ""inseconds"". it lowers cognitive load of the reader as there is no longer a concern of what unit a raw integer is.",0,0.9716668725013733
226702195,9704,glassez,2018-10-19T16:12:53Z,"maybe i don't like it at the moment because the new code isn't clean enough yet. really i like the pros of these types, but the code changes look like ""solid inconveniences."" although i've watched some not all. maybe the whole picture isn't so scary. as of using concrete types i agree with . we should use ""duration"" everywhere unless other type is required. i.e. function types and parameters, class fields and constants should be of type ""duration"" (we should add alias for it, e.g. ""bittorrent::duration"").",-1,0.599730908870697
226706835,9704,glassez,2018-10-19T16:29:06Z,seems like rebasing issue. firstoffset was changed to fileoffset in master some time ago.,0,0.9840945601463318
226708100,9704,glassez,2018-10-19T16:33:23Z,"let's use ""lt"" namespace. ""libtorrent"" is too long.",0,0.9852181077003479
226817587,9704,glassez,2018-10-20T05:52:05Z,"why not ""all of""?",0,0.9847967624664307
226817797,9704,glassez,2018-10-20T06:03:38Z,you have these lines two times.,0,0.9820412397384644
226817942,9704,glassez,2018-10-20T06:10:16Z,"based on the above proposals, it should be duration. also it will be enough to declare metatype for duration only.",0,0.9936417937278748
226818451,9704,glassez,2018-10-20T06:42:01Z,why not instantiate days from chrono::duration?,0,0.9917789101600647
230548659,9704,glassez,2018-11-03T08:28:07Z,", what's real benefit of having classes for indexes? i don't recall having any difficulty with the integers. now it requires frequent (and meaningless) type conversions.",-1,0.5860512256622314
230555424,9704,arvidn,2018-11-03T13:40:12Z,"this general concept is typically referred to as ""strong types"". it's become a very popular thing in the c++ community in the last 5 years or so (at least to talk about). personally i've employed it pervasively at my current and last job, with great success. first, to respond to the meaningless type conversions: if you store piece indices, file indices, download priorities, peer classes, etc. in variables of the specific type, you don't need the type conversion (and you gain the type-safety). the annoyance of the type conversions is a feature, to indicate that the parameter- or variable type should should be changed to match what you're passing in. a counter-question could be: why do you use an `int` to store a piece index? the vast majority of operations you can perform on an integer are not necessary and most likely bugs. in my experience, once you embrace the type system fully and make sure all your types match, or at least maximises the times they match, you really gain a lot of confidence that your code fits together correctly. (i would argue that the [a link] belongs in this category of errors). i also had a type related bug in code converting from internal file mode flags to os specific ones, where an operator precedence mistake caused the flags to be mixed with each other. sometimes embracing the type system requires you to get creative, to make sure that your argument types match. for example, `std::vector ::operator[a link]. in fact, i've done this for so many containers (`std::array`, `std::deque`) that i generalised the concept of [a link], specifying the index type. i've also wrapped [a link] (the version that holds an array) to allow specifying the index type. there are [a link] [a link] too. apart from interacting with containers, i think i/o is the other major hurdle to use specific types. the modern ways of printing has a much better story here, for instance implementing a templated `operator<<` and `operator>>` for iostream is pretty simple. or a hook for `fmtlib`. granted, if you stick to `printf()` you will need to cast. but i don't ascribe a lot of value to be compatible with something that's so unsafe to begin with anyway (it could be seen as a feature, to discourage use of `printf()`, and ellipsis in general). the third case i can think of is where you need some specific ""special"" operation. for instance find the piece index in the middle between two other indices, or find the range of pieces that represent a certain number of bytes. my approach to these kinds of operations is to wrap them in functions that have a type-safe interface, and then do the casting internally. i'm genuinely interested if you have cases where you're forced to cast that doesn't fit one of the categories i outlined (or if there's a case that's common but doesn't have a good solution for using strong types). i also recognise that converting an existing program to use strong types is quite a daunting task, and that it might not be super exciting to do.",1,0.6931714415550232
230559129,9704,glassez,2018-11-03T15:44:22Z,", thank you for detailed description. i'm just a hobbyist and i don't have enough experience to understand some concepts at once (i see how it's used here and it raises questions for me). although i think the code would look nicer if we didn't have to support both libtorrent versions. now i have food for thought. if i have more specific comments, i'll call you.",1,0.9834347367286682
233230226,9704,zeule,2018-11-13T21:34:23Z,this constructor is explicit.,0,0.9956026077270508
233329869,9704,glassez,2018-11-14T06:50:41Z,so `return std::chrono::minutes {m_globalmaxseedingminutes};` isn't allowed?,0,0.9937521815299988
233431541,9704,zeule,2018-11-14T12:46:38Z,"oh, my bad. i mistaken that for `return {m_globalmaxseedingminutes};`.",-1,0.9929346442222595
46769078,4266,glassez,2015-12-06T11:15:58Z,use camelcase in new code. see coding_guidelines.md.,0,0.9949662089347839
46772378,4266,naikel,2015-12-06T16:21:30Z,"ok, will do, but only half of the original code is camelcased. just the c++ source code right? javascript will be a mess if it's camelcased.",0,0.7467923760414124
46775087,4266,glassez,2015-12-06T20:04:56Z,rules have been developed recently. we use them in new code and changing old from time to time.,0,0.9913028478622437
59979032,4266,glassez,2016-04-17T06:40:27Z,fix coding style. move `&&` operator to next line.,0,0.9931575655937195
59979110,4266,glassez,2016-04-17T06:47:27Z,fix coding style in this method.,0,0.9924411773681641
94861027,4266,thalieht,2017-01-05T22:01:10Z,coding style,0,0.9920753240585327
94861063,4266,thalieht,2017-01-05T22:01:21Z,coding style,0,0.9920753240585327
95137295,4266,thalieht,2017-01-09T11:14:44Z,this-> is not necessary.,0,0.9921974539756775
95137312,4266,thalieht,2017-01-09T11:14:50Z,this-> is not necessary.,0,0.9921974539756775
95137357,4266,thalieht,2017-01-09T11:15:18Z,"why limit it to a year? sure, probably noone will set it even to a year but it should be the user's choice.",0,0.957313597202301
95137403,4266,thalieht,2017-01-09T11:15:37Z,why not a reference? edit: never mind. couldn't find anything about this in the coding guidelines.,0,0.9831838011741638
95137451,4266,thalieht,2017-01-09T11:15:58Z,i doubt this will be accepted here. maybe it's better to make a new method with it and connect it with the checxkboxes somewhere in the constructor? [code block],0,0.9324843883514404
95141150,4266,zeule,2017-01-09T11:45:30Z,"i would use `std::pair maxseedingtime()` and then the function would be: ```c++ std::pair torrenthandle::maxseedingtime() const { return m_seedingtimelimit != use_global_seeding_time ? std::make_pair(m_seedingtimelimit, false) : std::make_pair(m_session->globalmaxseedingminutes(), true); }",0,0.9928123354911804
95154232,4266,naikel,2017-01-09T13:27:26Z,"true, that's the result of the search/replace from the previous implementation that used a global variable instead. i'll fix it.",0,0.9931508302688599
95154261,4266,naikel,2017-01-09T13:27:35Z,"same, see above. i'll fix it.",0,0.9917727112770081
95154335,4266,naikel,2017-01-09T13:28:13Z,"i have to put a number in there, like the max ratio has one. i chose the first coherent option i could think of.",0,0.9848119020462036
95154518,4266,naikel,2017-01-09T13:29:31Z,"i tried to follow the same coding style that was already there. look for maxratio() and other similar functions that has the same implementation. remember this pr was already approved, but never merged. this is just a rebase actually, but i really appreciate your comments, they have been very helpful.",1,0.9938674569129944
95154600,4266,naikel,2017-01-09T13:30:12Z,it was already accepted before (the whole pr was). i don't see a problem with this method.,0,0.9851970672607422
95208912,4266,thalieht,2017-01-09T17:57:22Z,"oh ok, i just found it strange to enable/disable that combo box every time something is changed in the options.",-1,0.5202451944351196
95209632,4266,thalieht,2017-01-09T18:00:52Z,"my bad, didn't look at the other methods.",-1,0.9938911199569702
95225014,4266,naikel,2017-01-09T19:14:15Z,":) that's because you haven't tried the pr, just read the code. if neither the option ""seed torrents until their ratio reaches"" nor ""seed torrents until their seeding time reaches"" are enabled, the action (where you select if you want to pause or remove the torrent) should be disabled. it's the same functionality than before but now you have to select either one of the options. originally if you select ""seed torrents until their ratio reaches"" enables the action drop-down field and if you unselect it, it disables it. same thing but now with two options. i welcome you to try the pr. it works great and it's a really useful feature :)",1,0.9846030473709106
95252929,4266,thalieht,2017-01-09T21:43:01Z,i did try it and understand what it does otherwise i wouldn't make a comment. i meant that you put it in `enableapplybutton()` which is executed when pretty much anything is changed in the options.,0,0.986971914768219
115940772,4266,thalieht,2017-05-11T09:12:30Z,parentheses `((initialratiovalue == -1) && (initialtimevalue == -1))`,0,0.9928357005119324
116003374,4266,naikel,2017-05-11T14:23:38Z,why? there's no such thing in the code guidelines.,0,0.9386193156242371
116007982,4266,thalieht,2017-05-11T14:39:50Z,heh you're right. it's for readability. i've seen it suggested so many times i thought it is for sure in the guidelines. either way i've seen at least one more and gonna point it out in a while. feel free to ignore them if noone else says something about it.,1,0.8047339916229248
116009034,4266,thalieht,2017-05-11T14:43:29Z,parentheses ((maxratiovalue < 0) && (maxseedingtimevalue < 0)),0,0.9927625060081482
116009241,4266,thalieht,2017-05-11T14:44:09Z,parentheses ((speed_average.upload > 0) && (maxratiovalue >= 0)),0,0.9915346503257751
116013911,4266,Chocobo1,2017-05-11T14:59:43Z,+1,0,0.9816582202911377
116022400,4266,glassez,2017-05-11T15:29:32Z,+1,0,0.9816582202911377
116518777,4266,glassez,2017-05-15T15:15:30Z,you mistyped here. please fix `-1.` to `-1`.,0,0.9802761077880859
116519516,4266,glassez,2017-05-15T15:18:02Z,you should put this condition into one line (since it became not so long after your changes): [code block],0,0.9955915808677673
116520105,4266,glassez,2017-05-15T15:20:04Z,this is meaningless since it always true here.,0,0.878976583480835
116521156,4266,glassez,2017-05-15T15:23:42Z,"it is preferable to log some events, but not actions (i.e. ""something done"" not ""doing something..."").",0,0.9909579753875732
116522159,4266,glassez,2017-05-15T15:27:12Z,redundant indentation level. [code block],0,0.9828755855560303
116522516,4266,glassez,2017-05-15T15:28:29Z,redundant indentation level. [code block],0,0.9828755855560303
116523688,4266,glassez,2017-05-15T15:32:26Z,since all groups are equivalent you shouldn't enclose two of them: [code block],0,0.9935526847839355
116524917,4266,glassez,2017-05-15T15:36:38Z,please use constant here (torrenthandle::use_global_seeding_time).,0,0.9950024485588074
116525456,4266,glassez,2017-05-15T15:38:29Z,use predefined constants (e.g. torrenthandle::no_seeding_time_limit) here and in all similar places it's very good idea.,1,0.957780659198761
116526004,4266,glassez,2017-05-15T15:40:30Z,"i know this is not your code, but can you fix this name too?",0,0.991339385509491
116528342,4266,glassez,2017-05-15T15:48:56Z,you don't need to have this mapping since there was no `preferences/bittorrent/maxseedingminutes` setting before.,0,0.9948733448982239
116528509,4266,glassez,2017-05-15T15:49:36Z,qreal,0,0.9820281267166138
116529205,4266,glassez,2017-05-15T15:52:10Z,and you don't need to create this variable since simple getters should be done inline with a high probability. ?,0,0.9934066534042358
116529277,4266,glassez,2017-05-15T15:52:33Z,same as above.,0,0.9922299981117249
116533155,4266,glassez,2017-05-15T16:08:13Z,"i also have not tested this, but i don't understand why the following code won't work? [code block] now you have it in the wrong place. if before no one noticed, that is no reason not to fix it.",0,0.884967029094696
116535105,4266,naikel,2017-05-15T16:16:02Z,you should read the whole file not the diff. this is a copy/paste from the same section that process the ratio limit that's already there. i just tried to be consistent with the code that was already there. this is your code not mine: [code block] i just tried to be consistent in what was already there. **do not read just diffs read the whole file**,0,0.7898414731025696
116535373,4266,naikel,2017-05-15T16:17:19Z,"read the whole file please, the original else is like that. i can fix my else though but it would be consistent with the rest of the file.",0,0.9660714268684387
116537240,4266,glassez,2017-05-15T16:25:11Z,"but you have connected it to `enableapplybutton()` too, isn't it?",0,0.995726466178894
116578016,4266,zeule,2017-05-15T19:18:53Z,"always true, you checked this two lines above.",0,0.9854006171226501
116578429,4266,zeule,2017-05-15T19:20:54Z,identifier name in this line is confusing. suggest [code block],-1,0.6780914068222046
116579865,4266,zeule,2017-05-15T19:27:44Z,negligible part of people use `-flto` with gcc and as such getter has to be defined in the header (inside of the class) to be inlined. but this is prohibited by the coding guidelines in this project.,0,0.9264863133430481
116581806,4266,zeule,2017-05-15T19:36:38Z,why these changes? maybe a rebase artifact?,0,0.9884169697761536
116637757,4266,naikel,2017-05-16T01:34:01Z,not sure to do that change: [code block] they all are like that,0,0.9537922143936157
116649267,4266,glassez,2017-05-16T03:35:00Z,", there should be one name per line. , leave it as is unless you want to add yourself.",0,0.9908876419067383
116650305,4266,naikel,2017-05-16T03:48:41Z,i left it as it is because i wasn't sure what to do.,0,0.619137704372406
116660411,4266,glassez,2017-05-16T06:00:25Z,fix curly brace position.,0,0.9924224019050598
116685626,4266,thalieht,2017-05-16T08:45:19Z,i wasn't gonna say anything because apparently you hate doing coding style but while you're at it reverse these: [code block],-1,0.970146656036377
116797183,4266,Chocobo1,2017-05-16T16:50:14Z,redundant empty line and sorry for late review...,-1,0.9944566488265991
116799017,4266,Chocobo1,2017-05-16T16:57:52Z,please add parentheses,0,0.9947016835212708
116800047,4266,Chocobo1,2017-05-16T17:02:03Z,space between `use_global_seeding_time` and colon.,0,0.9902026653289795
116800420,4266,Chocobo1,2017-05-16T17:03:39Z,"+1, please fix it too.",0,0.9821512699127197
116800787,4266,Chocobo1,2017-05-16T17:05:22Z,"try find a parent to fill in, don't leave it 0",0,0.9868146181106567
116809675,4266,glassez,2017-05-16T17:42:01Z,"why it is redundant? it doesn't break any coding style rules here, but just separates loop.",0,0.9626129865646362
116810325,4266,Chocobo1,2017-05-16T17:44:27Z,"imo, for tiny code segment, the indention is enough for loop separation.",0,0.9857564568519592
116818460,4266,glassez,2017-05-16T18:17:13Z,"**this** can be used as parent, isn't it?",0,0.994071900844574
116819532,4266,glassez,2017-05-16T18:21:23Z,"it's a matter of taste, if it is not regulated by the rules so we can't demand to change these things (only express our opinion).",0,0.9239276647567749
116858685,4266,naikel,2017-05-16T21:10:06Z,"remember, everything i have done is because somewhere else in the same file is like that and it would look inconsistent. the complete section is like this, only the second method is my code: [code block] and i think it looks better that way, like the original coder ;)",1,0.9846553802490234
116905571,4266,Chocobo1,2017-05-17T03:54:53Z,"this is exactly what i meant. to be clear, i'm not forcing a change here. personal thought: i think the inconsistent of style isn't that critical anyway, unless someone rewrite the old code, it probably will stay there forever, so just focus on making the new code nice is enough...",1,0.7776371240615845
496526715,13348,jagannatharjun,2020-09-29T08:28:29Z,"i think this way you won't process the very first alert in m_alerts. also, you will dereference the end iterator.",0,0.9825899004936218
496530767,13348,glassez,2020-09-29T08:32:21Z,i think you're wrong.,-1,0.8573455214500427
496535631,13348,glassez,2020-09-29T08:36:41Z,note that this is a **post** increment.,0,0.9923297762870789
496542439,13348,jagannatharjun,2020-09-29T08:42:57Z,"idk, it seems at first m_nextalert is m_alerts.begin();, but here you're incrementing m_nextalert before processing it.",0,0.9871200323104858
496549649,13348,jagannatharjun,2020-09-29T08:52:41Z,"oopsie, that bracket is confusing, sorry.",-1,0.9931923747062683
496573682,13348,glassez,2020-09-29T09:28:50Z,"without parentheses, it looks like the increment is applied to the dereferenced value... matter of taste.",0,0.9828038215637207
194056887,9072,zeule,2018-06-08T13:27:45Z,can $$target be used here?,0,0.994805634021759
194058235,9072,zeule,2018-06-08T13:32:42Z,"for this function msdn [a link] ""include windows.h"". i'm wondering why do you prefer to manually list individual include files?",0,0.9901788234710693
194064062,9072,zeule,2018-06-08T13:52:31Z,std::array?,0,0.994050920009613
194064297,9072,zeule,2018-06-08T13:53:11Z,std::wstring,0,0.988737940788269
194074284,9072,zeule,2018-06-08T14:25:07Z,"qstring::tostdwstring(), qstring::utf16()",0,0.9927748441696167
194074563,9072,zeule,2018-06-08T14:26:03Z,nullptr,0,0.9746752977371216
194075041,9072,zeule,2018-06-08T14:27:39Z,return res == error_success ? qstring::fromstdwstring(lpdata) : qstring();,0,0.9920498728752136
194075385,9072,zeule,2018-06-08T14:28:42Z,std::wstring or qstring::utf16(),0,0.9937054514884949
194076689,9072,zeule,2018-06-08T14:32:53Z,"[a link] or a custom raii wrapper class, please.",0,0.9941502213478088
194085011,9072,zeule,2018-06-08T14:57:40Z,two identical functions below.,0,0.9913588762283325
194085159,9072,zeule,2018-06-08T14:58:08Z,two identical functions below.,0,0.9913588762283325
194085836,9072,zeule,2018-06-08T15:00:07Z,"raii handler, please.",0,0.966444730758667
194085900,9072,zeule,2018-06-08T15:00:17Z,raii,0,0.9651007056236267
194085980,9072,zeule,2018-06-08T15:00:31Z,raii,0,0.9651007056236267
194086750,9072,zeule,2018-06-08T15:02:48Z,boost::intrusive_ptr,0,0.990706741809845
194086854,9072,zeule,2018-06-08T15:03:03Z,raii,0,0.9651007056236267
194086957,9072,zeule,2018-06-08T15:03:18Z,raii,0,0.9651007056236267
194087048,9072,zeule,2018-06-08T15:03:33Z,boost::intrusive_ptr,0,0.990706741809845
194089657,9072,zeule,2018-06-08T15:11:24Z,"os, operatingsystem, or anything, please, that can't be read as a system of utilities or another system inside of the qbittorent project. if you very much want to keep this name, consider ""sys::utils"" instead.",0,0.9650893807411194
194128970,9072,glassez,2018-06-08T17:31:51Z,"i'll ask you your own question: ""are you kidding?"" i just moved most of this code from other (inappropriate) place. i'm not going to change it!",-1,0.9918220639228821
194129509,9072,glassez,2018-06-08T17:33:59Z,"especially since i'm not going to do your inappropriate whims. all this code is written in winapi style and it uses its types and definitions. it worked fine for many years before, so why touch it?",-1,0.7929118275642395
194133893,9072,zeule,2018-06-08T17:50:10Z,then the copyright in this new file lies.,0,0.9930014610290527
194138166,9072,glassez,2018-06-08T18:04:04Z,"oh, sorry. i'll fix it. this pr is still quite unfinished...",-1,0.9946054816246033
194139745,9072,zeule,2018-06-08T18:09:39Z,as if it is something that has a right to live... :d,1,0.9892181158065796
194140437,9072,glassez,2018-06-08T18:12:08Z,it's none of our business...,-1,0.7618098855018616
194141382,9072,glassez,2018-06-08T18:15:50Z,"no. target is for binary name. it's ""qbittorrent"". but application brand name is ""qbittorrent""!",0,0.981656014919281
194143684,9072,zeule,2018-06-08T18:24:17Z,that's pity...,-1,0.9948981404304504
194146590,9072,glassez,2018-06-08T18:34:57Z,"well, i guess i'll change the name so i don't waste time with useless arguments... last comments... so ""utils::fs"" can be read as ""filesystem of utilities or another filesystem inside of the qbittorent project"", ""utils::string"" as ""string of utilities or another string inside of the qbittorent project"" etc.? currently we have all utils are inside utils namespace divided into more concrete subgroups. so ""utils::sys"" is appropriate name for operating system related utilities. but if you don't understand context-dependent meaning of the ""system"" word i can replace it with ""utils::os"".",-1,0.7141123414039612
194157718,9072,zeule,2018-06-08T19:21:17Z,"no and no, because all the examples above are not consolidating (generalising) terms, unlike the ""system"".",0,0.9565118551254272
194245822,9072,glassez,2018-06-10T05:25:13Z,"these functions are very simple and do not intend further complication. why should i complicate it with raii handlers, intrusive_ptr etc.? the answers ""because it's cool!"", ""that's safe!"", ""you have to use them always and everywhere, because they are!"" don't suit me.",-1,0.9078819751739502
194247040,9072,glassez,2018-06-10T06:31:35Z,"well, i did impleement them (for fun).",0,0.9203900694847107
194247758,9072,zeule,2018-06-10T07:01:22Z,"is there any other function except ""current""?",0,0.9942247271537781
194247779,9072,zeule,2018-06-10T07:02:12Z,the same question here.,0,0.9882698059082031
194247833,9072,zeule,2018-06-10T07:04:22Z,i think users deserve to know if action did not succeed.,0,0.9151251316070557
194247847,9072,zeule,2018-06-10T07:04:56Z,same here.,0,0.9916109442710876
194248042,9072,zeule,2018-06-10T07:14:09Z,the last two parameters are wrongly ordered.,0,0.7940685749053955
194248051,9072,zeule,2018-06-10T07:14:22Z,the last two parameters are wrongly ordered.,0,0.7940685749053955
194248323,9072,glassez,2018-06-10T07:27:35Z,"ok, will change it.",0,0.9924370646476746
194248440,9072,glassez,2018-06-10T07:33:11Z,what makes you think that?,0,0.9790006279945374
194248666,9072,zeule,2018-06-10T07:39:46Z,"i was wrong, excuse me: though '0' is for `perror`.",-1,0.5708491802215576
194248671,9072,zeule,2018-06-10T07:39:59Z,and i was wrong here too.,0,0.5769256949424744
194249389,9072,Chocobo1,2018-06-10T08:11:16Z,merge those 2 macros?,0,0.9932507872581482
194249420,9072,Chocobo1,2018-06-10T08:12:46Z,`qbt_app_name`,0,0.9948011636734009
194249627,9072,Chocobo1,2018-06-10T08:21:42Z,`assocpanelwindows` and `assocpanelothers`?,0,0.9937716126441956
194249689,9072,Chocobo1,2018-06-10T08:24:31Z,move one up.,0,0.986142098903656
194249805,9072,Chocobo1,2018-06-10T08:29:02Z,do you mind hide it first?,0,0.9923304319381714
194249870,9072,Chocobo1,2018-06-10T08:31:36Z,wrong indention.,-1,0.6470064520835876
194249977,9072,Chocobo1,2018-06-10T08:36:08Z,use `qmessagebox::standardbutton` instead of int?,0,0.9954137206077576
194250092,9072,Chocobo1,2018-06-10T08:42:14Z,"if possible, please sort the list, alsoi would append `\` to the end of the list instead of another `libs +=`",0,0.9950834512710571
194250148,9072,Chocobo1,2018-06-10T08:44:48Z,i find it confusing why there is a check for `ver >= win8`??,0,0.6203257441520691
194250395,9072,Chocobo1,2018-06-10T08:54:40Z,use `nullptr` or `null` instead of `0`?,0,0.9942097663879395
194250486,9072,Chocobo1,2018-06-10T08:58:47Z,"legacy code, just asking... would you prefer removing the default values?",0,0.9889123439788818
194250580,9072,zeule,2018-06-10T09:03:10Z,"why do these two functions use different registry paths? is it true that setting a value in hkcu is reflected in hkey_classes_root? or there are two defaults, system-wide and per-user ones?",0,0.990748941898346
194251972,9072,glassez,2018-06-10T10:09:19Z,"`hkey_local_machine\software\classes` contains global values, `hkey_current_user\software\classes` contains user overrides, hkey_classes_root merges it so i use it for reading (when no matter where they are actually stored).",0,0.9941429495811462
194254775,9072,zeule,2018-06-10T11:52:58Z,"i see, thanks.",1,0.6488677859306335
194381574,9072,glassez,2018-06-11T12:12:36Z,yes.,0,0.9851860404014587
194382348,9072,glassez,2018-06-11T12:15:49Z,win8+ can't actually check whether it set as default program or not. so we just ask the user itself to set it on the first run and we never do it again.,0,0.9810039401054382
194383174,9072,glassez,2018-06-11T12:19:16Z,this method returns `int`.,0,0.9950478076934814
194384038,9072,glassez,2018-06-11T12:22:56Z,"ok, fixed.",0,0.9758327603340149
194384280,9072,glassez,2018-06-11T12:23:57Z,"ok, reordered.",0,0.9915539622306824
194384379,9072,glassez,2018-06-11T12:24:19Z,"oops... it was ""sys.h"" initially.",-1,0.9424172043800354
194384724,9072,glassez,2018-06-11T12:25:47Z,no. they are both used on windows. anyway i've used different names now: assocpanel and defaultprogrampanel.,0,0.9866580367088318
194385007,9072,glassez,2018-06-11T12:26:48Z,ok. renamed.,0,0.9864533543586731
194385488,9072,glassez,2018-06-11T12:28:32Z,you think i made such a fool of me? otherwise we can't use `wide()` with macro as its argument.,-1,0.9773290753364563
194389086,9072,glassez,2018-06-11T12:41:47Z,of course.,0,0.9627540707588196
194391116,9072,zeule,2018-06-11T12:48:52Z,: [a link],0,0.9884457588195801
194414083,9072,Chocobo1,2018-06-11T14:00:03Z,"thanks, hopefully this time it will stay in my memory longer.",1,0.9188497066497803
194414508,9072,Chocobo1,2018-06-11T14:01:01Z,it can also be `qmessagebox::standardbutton` [a link],0,0.9952358603477478
194613256,9072,Chocobo1,2018-06-12T04:41:48Z,are you sure this will work for official windows 32-bit binaries? the binary is expected to run on winxp to win10.,0,0.9942069053649902
195928604,9072,zeule,2018-06-17T12:43:58Z,areassociationsset,0,0.9886771440505981
195928901,9072,zeule,2018-06-17T12:55:04Z,"the name of the function is cryptic for me. could you add a comment or, better, change the name? my problem is that the name is composed of very generic terms and i can't get what real action is invoked.",-1,0.6974844336509705
195928933,9072,zeule,2018-06-17T12:56:06Z,why do these duplicate functions above? please merge the conditional blocks.,0,0.9824405312538147
195929182,9072,zeule,2018-06-17T13:06:01Z,"please explain the intention behind `setxxxassoc(false)`. from my point of view such call is a way to a confusion. example: prog1 is associated with file a type. then prog2 is installed and takes over the association. now i want to set the associations back to prog1, and do that via a system control module or prog1 setting. then i need nothing in the prog2 to reset the association. additionally, is it correct that clearing the settings checkbox in qbt will clear the association even if it is set to another program?",0,0.9870907068252563
195932264,9072,glassez,2018-06-17T14:59:28Z,it shows application association registration ui (as you can see from used interface name). i just shortened the name a little. do you think *showapplicationassociationregistrationui* is better name? or are you going to suggest something else?,0,0.9797415733337402
195932375,9072,glassez,2018-06-17T15:02:55Z,"the functions above have parameter, so i don't want to produce unreadable mash from conditionals to merge it.",0,0.9801024794578552
195932845,9072,glassez,2018-06-17T15:21:37Z,oops... i'm talking about other functions. these ones can be merged.,-1,0.8979687094688416
195933728,9072,zeule,2018-06-17T15:57:45Z,please add to the top-level cmakelists.txt after the `project()` call (probably near the version-related stuff): [code block],0,0.9957610964775085
195934247,9072,glassez,2018-06-17T16:19:41Z,ok!,0,0.9387575387954712
195936154,9072,zeule,2018-06-17T17:34:37Z,"yes, the long one looks better to me. at least i can understand it :) but it seems like you don't like that long name, and giving the macro name just above, i propose `showdefaultprogramselectionui()`. however, msdn says that the com interface is deprecated as of windows 10 and is replaced with ""default programs"". the macro name directly contradicts that. i think either the macro name has to be changed, or the implementation [a link] to support window 10.",1,0.9911243319511414
195936161,9072,zeule,2018-06-17T17:34:59Z,"there is `#include ` in the header, can't these two be removed?",0,0.9947351217269897
195936231,9072,zeule,2018-06-17T17:37:49Z,i can't read the macro name. maybe you meant use**s**?,0,0.9613757133483887
195936244,9072,zeule,2018-06-17T17:38:25Z,did not find linux implementations for these two.,0,0.9746818542480469
195936270,9072,zeule,2018-06-17T17:39:22Z,*the* default programs dialog,0,0.9866928458213806
195936341,9072,zeule,2018-06-17T17:42:40Z,"the first `this` is unnecessary, i believe, and i even wonder how did it pass compilation.",0,0.9809420108795166
195936365,9072,zeule,2018-06-17T17:43:54Z,that is error but not a warning (the requested action failed completely).,0,0.9451633095741272
195936415,9072,zeule,2018-06-17T17:45:30Z,"so, does it still remove associations unconditionally?",0,0.9911421537399292
195936428,9072,zeule,2018-06-17T17:46:13Z,thanks.,0,0.5270382761955261
195937648,9072,zeule,2018-06-17T18:43:32Z,"maybe you would opt to add implementations instead of removing the functions. here is what needs to be done: 1. query associations: launch`xdg-mime query default `. should return ""qbittorrent.desktop"" if qbittorrent is the default. 2. to set the default launch: `xdg-mime default qbittorrent.desktop `. the mime types are application/x-bittorrent and x-scheme-handler/magnet",0,0.9900658130645752
196039121,9072,glassez,2018-06-18T11:05:01Z,now it removes only qbittorrent associations.,0,0.9941921830177307
196039963,9072,glassez,2018-06-18T11:08:59Z,why should it fails? ?,0,0.8855748772621155
196043131,9072,glassez,2018-06-18T11:23:32Z,do you mean qbittorrent? they are not here and never was! removing?.. what did i remove? not me. i think i've already answered your hints. some linux developer can do that. i don't have the ability to develop/test on linux now.,0,0.5576499104499817
196052355,9072,zeule,2018-06-18T12:05:00Z,"then put them under `#ifdef`, please.",0,0.9893007874488831
196053911,9072,zeule,2018-06-18T12:11:07Z,"because you wrote `connect(sender, signal, receiver, lambda)`, and moc has to generate a call similar to `(receiver->*lambda)()`, i.e. `(this->*lambda)` which is nonsense.",0,0.6797549724578857
196097072,9072,glassez,2018-06-18T14:24:07Z,"hell, i'll just put them back.",0,0.7039684653282166
196098965,9072,glassez,2018-06-18T14:28:44Z,"can't. do you think ""windows.h"" includes all other winapi headers?",0,0.9843847751617432
196099163,9072,glassez,2018-06-18T14:29:14Z,changed with win_has_default_programs_api.,0,0.9950686693191528
196110630,9072,glassez,2018-06-18T14:59:10Z,"i wrote `connect(sender, signal, context, lambda)`: [code block]",0,0.9946513772010803
196113806,9072,glassez,2018-06-18T15:07:24Z,"ugh, don't offer me that anymore! such perversions are not for me. the way the operating system offers is enough.",-1,0.9946040511131287
196158845,9072,zeule,2018-06-18T17:22:00Z,"oh, my bad. did not read this part of the qt documentation since qt 5.0.",-1,0.9919135570526123
196159797,9072,zeule,2018-06-18T17:25:17Z,"no, just can't understand the logic behind that. for example, for `coinitializeex()` msdn says ""header objbase.h"", which is not on the includes list here. i conclude that it works via windows.h. hence was my question.",0,0.9777463674545288
196170789,9072,glassez,2018-06-18T17:59:34Z,"`shlobj.h` is for `shchangenotify()`, `shobjidl.h` is for **iapplicationassociationregistration** and **iapplicationassociationregistrationui**. `windows.h` doesn't include `objbase.h`. maybe it's included via some qt header. anyway it's better to include it directly.",0,0.9922164678573608
196192174,9072,zeule,2018-06-18T19:10:29Z,why does the condition repeat assertion in line 283?,0,0.9889178276062012
196195177,9072,zeule,2018-06-18T19:21:54Z,"if the first parameter named ""cls"" and not ""key"", the second one would better be named ""progid"".",0,0.9928291440010071
196197762,9072,zeule,2018-06-18T19:31:09Z,why does the condition repeat the assert in line 256?,0,0.9911919236183167
196198539,9072,zeule,2018-06-18T19:34:15Z,"msdn states for `iapplicationassociationregistration` ""minimum supported client: windows vista"" , but the condition above seem to contradict that. how's that possible?",0,0.9923638105392456
196198942,9072,zeule,2018-06-18T19:35:52Z,"i would create constants for strings ""qbittorrent.file.torrent"" and ""qbittorrent.url.magnet"". `src/base/global.h` already contains constant for the "".torrent"" literal.",0,0.9945663213729858
196200455,9072,zeule,2018-06-18T19:41:54Z,but it seems to be called from line 300 with the opposite condition.,0,0.9868898391723633
196202425,9072,zeule,2018-06-18T19:48:52Z,"imo, these platform-dependent manipulations should be hid in the `os.cpp` file.",0,0.9911477565765381
196203276,9072,zeule,2018-06-18T19:52:10Z,"and these too. i would ""export"" from the os.h file `qwidget* fileassociationswidget (qwidget* parent)` and enjoy clean header, would not introduce contents into the main program, and avoid macros in the header file.",0,0.973136305809021
196203557,9072,zeule,2018-06-18T19:53:25Z,why not qapp->applicationname()?,0,0.9928158521652222
196205626,9072,zeule,2018-06-18T20:00:28Z,"pardon me, i think i asked this already, but can't find your answer, so i likely repeat: why can't qapp->applicationname() be used in those winapi calls?",0,0.7597289681434631
196767810,9072,glassez,2018-06-20T13:04:57Z,typo. `>=` is supposed to be here.,0,0.9907087087631226
196768273,9072,glassez,2018-06-20T13:06:13Z,sure.,0,0.9824982285499573
196769678,9072,glassez,2018-06-20T13:10:04Z,that's right.,0,0.9873020648956299
196770191,9072,glassez,2018-06-20T13:11:22Z,because of typo above ([a link],0,0.9420300722122192
196772540,9072,glassez,2018-06-20T13:18:33Z,ok.,0,0.980760931968689
196773093,9072,glassez,2018-06-20T13:20:14Z,now with fixed typo above it should be right.,0,0.9886272549629211
196775485,9072,glassez,2018-06-20T13:27:10Z,"we can't export any widget (or some other gui thing) from some base header. but we can implement it inside gui module. in any case, i don't want to waste time on it until this pr is generally approved by .",0,0.9798785448074341
196775748,9072,glassez,2018-06-20T13:27:58Z,changed.,0,0.9680466055870056
196778290,9072,glassez,2018-06-20T13:34:59Z,you asked here: [a link],0,0.9955831170082092
196778968,9072,zeule,2018-06-20T13:36:56Z,"aha, thanks. as you did not give an answer there, please explain here.",1,0.9879484176635742
196785702,9072,glassez,2018-06-20T13:48:24Z,? doesn't [a link] answer suit you?,0,0.9897865056991577
196788139,9072,zeule,2018-06-20T13:54:27Z,"exactly, i see no answer there.",0,0.9890736937522888
196789566,9072,zeule,2018-06-20T13:58:24Z,why?,0,0.9622438549995422
196796435,9072,glassez,2018-06-20T14:16:44Z,"this is the structure of the project! *base* should not be dependent on the gui. it should compile with `nogui=true` without any additional conditionals. predicting your causticity about this, i note at once that there are still a few legacy dependencies from gui (in `preferences.cpp` and `misc.cpp`), which have not yet reached the hands (apparently i need to move them to the right place soon).",0,0.9687893986701965
196798113,9072,glassez,2018-06-20T14:21:14Z,why should we have unnecessary dependencies? why should this task depend on the qapplication *instance*? try to answer these questions and you (probably) will find my answer.,0,0.9675970673561096
196801349,9072,zeule,2018-06-20T14:29:31Z,but then you pull the same information from the compiler command line. why that is not a dependency?,0,0.9929271340370178
196828702,9072,zeule,2018-06-20T15:31:27Z,"why then, if a structure is so important, this chain of #idefss can not find its place in `src/gui/utils` directory?",0,0.979347288608551
198124602,9072,Chocobo1,2018-06-26T12:33:10Z,this should move up,0,0.9918096661567688
198124659,9072,Chocobo1,2018-06-26T12:33:19Z,in this file too.,0,0.9944943785667419
198125314,9072,Chocobo1,2018-06-26T12:35:36Z,"`istorrentfileassocset`, `ismagnetlinkassocset` are duplicates.",0,0.9907509684562683
198125806,9072,Chocobo1,2018-06-26T12:37:15Z,"also i would place similar functions together, for example `istorrentfileassocset` and `settorrentfileassoc`.",0,0.9946423768997192
198128237,9072,Chocobo1,2018-06-26T12:45:33Z,i would place this block at the bottom of general tab section.,0,0.9916433095932007
198129804,9072,Chocobo1,2018-06-26T12:50:44Z,i would add const to `handle`.,0,0.9941701889038086
198129859,9072,Chocobo1,2018-06-26T12:50:53Z,here too.,0,0.9698454141616821
198130624,9072,Chocobo1,2018-06-26T12:53:18Z,"optional, i would use unique_ptr for it, and at other new/delete pairs.",0,0.994954526424408
198131382,9072,Chocobo1,2018-06-26T12:55:52Z,"just realize this is just moving the old code, so whatever you like...",0,0.9888971447944641
198131715,9072,glassez,2018-06-26T12:56:42Z,i wouldn't want to change this existing code in this pr. i just moved it here as is (i mean all python and windows registry related code).,0,0.9777504205703735
198132171,9072,Chocobo1,2018-06-26T12:58:15Z,"i suppose now this should be in foreignapps, maybe in later pr?",0,0.9888684749603271
198132733,9072,glassez,2018-06-26T13:00:03Z,also i would stop any conversations here until pr will be generally approved by . i feel i make unnecessary work...,-1,0.9583425521850586
198133669,9072,Chocobo1,2018-06-26T13:03:05Z,"ok, although i wish to see this merged.",0,0.9892082810401917
198134690,9072,zeule,2018-06-26T13:06:12Z,"if this lands, i'm going to submit a pr adding cpack support to build windows installers (probably via wix) and mac os bundles.",0,0.9902979731559753
211212313,9375,glassez,2018-08-20T10:24:04Z,"`const qstring working {qlatin1string(""working"")};` etc.",0,0.991969883441925
213227471,9375,Chocobo1,2018-08-28T08:37:48Z,`qvariantlist trackerlist {getstickytrackers(torrent)};`,0,0.9935891628265381
213228540,9375,Chocobo1,2018-08-28T08:41:28Z,forward declare it instead: `class bittorrent::torrenthandle;` and revert this and also in cpp file.,0,0.992073655128479
213228800,9375,Chocobo1,2018-08-28T08:42:24Z,`qvariantlist getstickytrackers(const bittorrent::torrenthandle* torrent) const;`,0,0.9932045936584473
213229031,9375,Chocobo1,2018-08-28T08:43:13Z,"remove `static`s, no point doing so imo.",0,0.7819273471832275
213230549,9375,Chocobo1,2018-08-28T08:48:16Z,not accustomed to list initialization? [code block],0,0.9909707307815552
213230881,9375,Chocobo1,2018-08-28T08:49:20Z,?? you're not using the constant defined above...,0,0.8030891418457031
213231762,9375,Chocobo1,2018-08-28T08:52:05Z,also i would write it: [code block],0,0.9956113696098328
213233085,9375,Chocobo1,2018-08-28T08:56:01Z,"move `stickytrackers` declaration above this line and initialize it, seems you're following c rules in modern c++ code... :\",-1,0.9941874742507935
213233658,9375,Chocobo1,2018-08-28T08:57:38Z,use range-based `for` loop.,0,0.9927043914794922
213234478,9375,Chocobo1,2018-08-28T09:00:04Z,"not sure, how about: [code block]",0,0.9586142301559448
213262727,9375,zeule,2018-08-28T10:35:04Z,"tracker_received == ""num_peers"" ?",0,0.9929295182228088
213262899,9375,zeule,2018-08-28T10:35:53Z,received count of what?,0,0.9842849373817444
213286007,9375,glassez,2018-08-28T12:06:24Z,const bittorrent::torrenthandle *torrent,0,0.986507773399353
213286995,9375,glassez,2018-08-28T12:10:20Z,"does this function depend on torrentscontroller? if not, it would be better to have it in an anonymous namespace instead.",0,0.9923621416091919
213287461,9375,glassez,2018-08-28T12:12:17Z,please see my previous comment.,0,0.9933403134346008
213372314,9375,Piccirello,2018-08-28T15:53:32Z,"the value associated with this key is used to display the tracker ""received"" count, but for legacy reasons the key is `num_peers`. we can't change this without breaking the api.",0,0.9861257672309875
213487543,9375,zeule,2018-08-28T22:03:39Z,"maybe you'd better add four new keys and leave ""num_peers"" for a deprecation later on?",0,0.9887006878852844
214396577,9375,Piccirello,2018-08-31T15:45:58Z,i couldn't quite figure out the syntax for this. thanks!,1,0.9622530341148376
214397743,9375,Piccirello,2018-08-31T15:49:48Z,definite goof on my end,-1,0.987346351146698
214400387,9375,Piccirello,2018-08-31T15:58:43Z,will move it to an anonymous namespace,0,0.9945414662361145
214403841,9375,Piccirello,2018-08-31T16:11:20Z,"not quite sure, but this is the nomenclature used in the gui. it looks like it might be the total number of other clients we're connected to.",0,0.9560092091560364
214414612,9375,Piccirello,2018-08-31T16:53:37Z,"this change results in the `getstickytrackers` qlist being added as an element of `trackerlist`, rather than the elements of `getstickytrackers` being added.",0,0.9939700365066528
214416507,9375,Chocobo1,2018-08-31T17:00:50Z,"oops, it is because using the braces, can you give it one last try: [code block]",0,0.9253345131874084
214418270,9375,Piccirello,2018-08-31T17:08:08Z,that worked!,1,0.9613639712333679
214421608,9375,Chocobo1,2018-08-31T17:20:50Z,"seems these strings need to be translated, try `const qstring privatemsg {qcoreapplication::translate(""trackerlistwidget"", ""this torrent is private"")};` see if it works.",0,0.9940930008888245
214433569,9375,Piccirello,2018-08-31T18:04:48Z,the translation works now.,0,0.9630950689315796
214435360,9375,glassez,2018-08-31T18:11:33Z,"hell, i really don't like the tendency of recent changes to return translated text from an api (and generally, return anything visible directly to the user). you generate unnecessary dependencies again. but i guess you all don't care...",-1,0.9939360022544861
214504192,9375,Chocobo1,2018-09-01T04:16:51Z,or maybe return some constant (integers?) here and do the translation at client side? however i'm not sure how to fetch translated strings at javascript... or this need some html tricks...,0,0.986200749874115
214506337,9375,glassez,2018-09-01T06:45:42Z,javascript sources are translatable as well. you can easily create error code to description text mapping there.,0,0.9949181079864502
214514774,9375,glassez,2018-09-01T14:06:28Z,"not only **error** codes. any kind of **status** codes. integers aren't required, of course. they can be some string codes (e.g. ""working"", ""paused"" etc.).",0,0.9864068627357483
214518212,9375,Piccirello,2018-09-01T16:46:17Z,"i’m having trouble following, what is the actual recommendation here? unless someone feels very strongly, i’m inclined to leave these as is.",-1,0.9249101877212524
214532308,9375,glassez,2018-09-02T08:06:14Z,"the point is that the api is a data source and it should provide data in the form of their values, not their specific representation. client app handles received data and provide it to the user in form of particular representation (e.g. api provide tracker status as [working; disabled] and then client app show it as translated string, or some color, or icon etc.).",0,0.9889651536941528
214632475,9375,Piccirello,2018-09-03T09:47:49Z,"i investigated further, it's the total number of peers the torrent is connected to. it's documented [a link] for `torrent_status::numpeers`.",0,0.9923385381698608
214988671,9375,glassez,2018-09-04T16:48:48Z,why this overchecking? how can empty string be valid url? isn't `if (url.isvalid())` enough?,0,0.9562056660652161
216627935,9375,glassez,2018-09-11T11:01:15Z,"why do you need ""edit tracker"" abstraction? since there are no more properties of the tracker that determine its individuality among other trackers of the same torrent, it is enough to have only ""add"" and ""remove"" actions. let's compare set of integers and set of objects (having several properties). in tge first case we can just remove one int and add another (like in your case), but in the second case we should have separate ""edit"" action since ""remove"" + ""add"" can have different side effect.",0,0.9861885905265808
216749576,9375,zeule,2018-09-11T17:15:33Z,probably to make the change atomic.,0,0.984706461429596
216754358,9375,glassez,2018-09-11T17:31:14Z,"well, it can be acceptable reason in case of web api. but the correct name for this action is ""replace"". the more atomic action is replace current set of trackers with the new one.",0,0.9934590458869934
217584092,9375,Piccirello,2018-09-14T02:08:23Z,"this is an implementation detail that shouldn't be exposed to the user. to them, they're ""editing"" a specific tracker, which also aligns with the nomenclature in the gui.",0,0.9897476434707642
217597536,9375,Chocobo1,2018-09-14T04:22:33Z,"i don't think this naming is correct, see `num_peers`: [a link] it should be the number of peers from a tracker, so how about `col_tracker_peers`?",0,0.9834521412849426
217599290,9375,Chocobo1,2018-09-14T04:40:16Z,`if (qurl(urlstr).isvalid())`,0,0.9943821430206299
217599324,9375,Piccirello,2018-09-14T04:40:35Z,"this was changed because the column name ""received"" is confusing. no one knows what it means. libtorrent refers to this data as ""peers,"" but this is different than what a user normally thinks of as a ""peer."" what do you think a better name for this column could be? i'm honestly not sure. if we can't think of anything good it can always just remain as `received`.",-1,0.6031209230422974
217599375,9375,Chocobo1,2018-09-14T04:41:05Z,add `const` to these vars.,0,0.9950910806655884
217599484,9375,Chocobo1,2018-09-14T04:42:00Z,`const` here,0,0.9938904047012329
217599744,9375,Piccirello,2018-09-14T04:44:39Z,this can't be const because we modify `trackers`'s members,0,0.9929734468460083
217599981,9375,Chocobo1,2018-09-14T04:47:38Z,"imo `connections` could be wrongly read as on-going connection count, which is not true.",0,0.982781708240509
217600126,9375,Chocobo1,2018-09-14T04:49:05Z,"hmm, utorrent doesn't have this field...",0,0.9500495791435242
217601070,9375,Chocobo1,2018-09-14T04:58:22Z,"nitpick, i would move this line above `newtracker` declaration.",0,0.9916308522224426
217607155,9375,thalieht,2018-09-14T05:54:55Z,the [a link] say that it fixes any mistakes on the string but you're passing the original string. isn't it possible that the qurl constructor will fix some problems that would make isvalid() false?,0,0.9924370646476746
217667712,9375,glassez,2018-09-14T10:20:44Z,are we discussing the user interface? i think we're talking about api.,0,0.9905641078948975
217669420,9375,glassez,2018-09-14T10:28:38Z,"i've noticed that you preserve tracker ""tier"" so let it be ""edit"" action.",0,0.9920908212661743
217890932,9375,Piccirello,2018-09-15T17:40:44Z,the api is exposed to users as well...,0,0.9952464699745178
217891172,9375,Piccirello,2018-09-15T17:48:46Z,"good point, i'll use the qurl string.",1,0.9544222354888916
217891744,9375,glassez,2018-09-15T18:12:17Z,why is the format of this parameter different from the format of same parameter in addtrackersaction? i mean urls separator.,0,0.9894046783447266
217891803,9375,Piccirello,2018-09-15T18:15:50Z,"wait, all of the apis in `torrentscontroller` already return translated strings. this is a non-issue. i will change the api back to return translated strings.",0,0.9903302192687988
217892111,9375,Piccirello,2018-09-15T18:32:31Z,"`addtrackersaction` uses new line as a delimiter, which is pretty non-standard. almost all our apis use a pipe, including `removetrackersaction`.",0,0.9548206329345703
217892531,9375,glassez,2018-09-15T18:49:26Z,"damn! this is an old issue. why not just fix old ones? we need to learn from other people's mistakes, not repeat them. well, if everyone else thinks my arguments are worthless, you can go on as you like. , , ?",-1,0.9954909682273865
217892554,9375,glassez,2018-09-15T18:50:42Z,"then wrong things should be fixed, isn't it?",0,0.6077907681465149
217892923,9375,Piccirello,2018-09-15T19:04:24Z,that’s a breaking api change not part of this pr.,0,0.9850860834121704
217893028,9375,Piccirello,2018-09-15T19:08:48Z,"you really like jumping on my prs to report your issues with the general qbittorent architecture. please, open a separate pr fixing the issues that you see. it should not hold back new features that follow the existing architecture.",0,0.8753199577331543
217893053,9375,Piccirello,2018-09-15T19:09:34Z,feel free to open a pr fixing it.,0,0.9878161549568176
217901128,9375,Chocobo1,2018-09-16T03:39:41Z,"but changing it now will surely break api... we should enforce correct design for new code, but the issue here is old, personally i would turn a blind eye for this specific case. just asking for your opinion here, what do you think about the idea (do i18n strings replacement in html file) in [a link] is it much hassle to do it?",-1,0.9287111759185791
217901156,9375,Chocobo1,2018-09-16T03:42:04Z,`const qurl url {urlstr.trimmed()};`,0,0.9932386875152588
217901984,9375,Piccirello,2018-09-16T04:47:21Z,"it's easy to do for static strings in html files, but more difficult to do for api responses. we end up with code that's very tightly coupled to specific api versions, such as [code block] i would think it's considered a feature that the current apis return translated string values.",0,0.9854871034622192
217902252,9375,Chocobo1,2018-09-16T05:06:09Z,"thank you, i hope that doesn't mean impossible for api responses. i think it *might* be a feature if there are 2 seperate values returned, such as: [code block] my point is, if we ~~always~~ only return translated strings, then it is cumbersome to write code for the api, as one will need to take locale settings into consideration.",1,0.9613824486732483
217928329,9375,Piccirello,2018-09-16T21:26:17Z,"i too am leaning towards `tracker peers` now. i think it's more clear, but maybe i've just been thinking about it too long. shall we give it some time and see if anyone objects?",0,0.9454876780509949
217943620,9375,Chocobo1,2018-09-17T03:31:02Z,lets proceed!,0,0.9882678389549255
217952075,9375,thalieht,2018-09-17T05:38:36Z,"i wonder if it's just me that think this is even more confusing than ""received"". i mean because there is already a peers column and people will wonder ""huh? why there are 2 peer columns and which is which. which is the one i want?""",0,0.628328263759613
217952677,9375,thalieht,2018-09-17T05:46:52Z,we changed these in e2b46f01bb19b7faba0f4b3dd050115562ac16c3,0,0.994356095790863
218199001,9375,glassez,2018-09-17T19:35:00Z,"disagree. we should not spawn such flaws where we have the ability to get around it without breaking api. and we have to seriously consider the need to get rid of this ""feature"" with the next more or less big api update. in this particular case let it be as is. it's nothing personal. this is our usual practice. unfortunately, our resources are too limited to allow us to make major architectural changes at a time. none of the project members knows exactly all the code (especially if it has a long history). we often detect some problems in some parts of the code affected by some (possible unrelated) changes. and we try to solve them along the way, if possible (usually offer to do it to the author of the affected pr).",-1,0.8763830661773682
218285225,9375,Piccirello,2018-09-18T02:45:01Z,"let's create issues for these large architectural changes, rather than holding up individual features. in certain cases it might be reasonable, but there's no point in holding back a new feature because we can't decide if the api should return translated strings. just one example, but the point being that we can still make incremental progress while acknowledging large changes that need to occur.",0,0.9858567714691162
218285647,9375,Piccirello,2018-09-18T02:48:26Z,"i've implemented this change client side (in `prop-trackers.js`). it seems more reasonable to me that this api would return numbers rather than strings, but am open to discuss if you feel strongly.",0,0.9908711314201355
218286232,9375,Piccirello,2018-09-18T02:53:33Z,"maybe `tracker connections`? but then this might mislead users into thinking they're connected to all of those peers. then again, `seeds` and `peers` should make it clear how many peers they're connected to. i think all of this confusion stems from the ambiguous use of `peers` to generally mean other bittorrent clients, and also to mean other users downloading the file (w/ <100% progress).",0,0.9826933145523071
218286707,9375,Piccirello,2018-09-18T02:57:36Z,i suppose this still doesn't disambiguate an unconnected tracker from a connected tracker with 0 seeds/peers. i'll move the change to the api.,0,0.99162358045578
218287633,9375,Piccirello,2018-09-18T03:06:34Z,"i know i'm going back and forth on this one, but now i'm thinking the right option is to return a number (with -1 representing not connected). it seems wrong that a ""count"" value would return a string.",0,0.7889915108680725
218287853,9375,glassez,2018-09-18T03:08:26Z,"isn't ""leech"" mean that? ""peer"" is any client, afaik.",0,0.9895126223564148
218288495,9375,Piccirello,2018-09-18T03:14:21Z,"yes, i couldn't think of this word but i think it solves this issue. i propose the columns should be `peers`, `seeds`, and `leeches`. it should resolve the confusion and is the most ""correct.""",0,0.7623698711395264
218303154,9375,thalieht,2018-09-18T05:34:55Z,"but _peers_ imply all the peers the tracker knows of, doesn't it? personally i can't think of something short and more descriptive than _received_ but i'm biased because i already know what it refers to...",0,0.7965800762176514
218673983,9375,Piccirello,2018-09-19T05:41:10Z,"libtorrent refers to this field as `num_peers`, describing it as ""the number of peers this torrent currently is connected to"" [a link]].",0,0.99399334192276
218681628,9375,thalieht,2018-09-19T06:31:19Z,"// tells how many peers the tracker returned in this response. this is // not expected to be greater than the ``num_want`` settings. these are not necessarily // all new peers, some of them may already be connected. int num_peers; [a link]",0,0.9921373724937439
219683664,9375,Piccirello,2018-09-22T22:30:52Z,"can anyone else chime in on whether they find this confusing? i would like to go ahead with `peers`, `seeds`, and `leeches` but we can revisit if others disagree.",0,0.9677254557609558
219699609,9375,WolfganP,2018-09-23T13:47:37Z,i'm ok with peer/seeds/leeches. thx for this functionality!,1,0.9912780523300171
227036500,9375,glassez,2018-10-22T16:04:24Z,please revert this change (and all the related changes). it's not required by your feature and it's questionable (absolutely meaningless for me personally) to apply it in passing.,-1,0.8009623289108276
227039996,9375,Piccirello,2018-10-22T16:14:27Z,i don't see any reason we wouldn't want this change. in the future i'll move unrelated changes to their own pr; this commit is already a part of this so no point in moving now.,0,0.9626629948616028
227087675,9375,glassez,2018-10-22T18:36:57Z,"the reason is at least the changes in this line makes functor declaration to be confusing (having ""const"" applied to parameter passed by value in function declaration is meaningless and confusing). having ""const"" in the following places of this function has minimal meaning since the function code is too trivial and it isn't supposed to become any more complex in the future (but there are no errors formally and some adherents of the ""paranoid"" safety can insist on its use). the same can be said about the definition of methods that we pass in ""applytotorrents()"" when calling (usually it is some one-liner). well, i'm not going to insist on the revert of the formally correct changes, if others deem them acceptable. but i insist on never having ""const"" applied to ""byval"" parameters in function declaration.",0,0.9818328619003296
227198788,9375,Piccirello,2018-10-23T02:09:49Z,"on this point we agree that's mainly my goal here. the point *can* be const, so why not enforce it.",0,0.9870418310165405
227218191,9375,glassez,2018-10-23T04:13:59Z,"ok, fix this one and let's proceed.",0,0.9912106990814209
227436213,9375,Piccirello,2018-10-23T15:05:35Z,"sorry, i don't follow. is your issue with this line `bittorrent::torrenthandle *const torrent`?",-1,0.9889332056045532
227450278,9375,glassez,2018-10-23T15:37:51Z,"yes. ""std::function"" template argument is similar to function declaration so it should be affected by the restriction above.",0,0.9920492768287659
227466889,9375,Piccirello,2018-10-23T16:19:58Z,"but we aren't passing the torrent by value, we're passing a pointer to it.",0,0.9902068972587585
227480438,9375,glassez,2018-10-23T16:58:53Z,"yes. we're passing ""pointer to torrent"" by value.",0,0.9880427122116089
227502692,9375,Piccirello,2018-10-23T18:01:48Z,ah i see. what would the syntax be to have the pointer passed by pointer/reference?,0,0.9920414090156555
227509526,9375,glassez,2018-10-23T18:20:38Z,"pointer by reference: `torrenthandle *&torrent`. ""pointer by pointer"" is incorrect term. you can just have ""pointer to pointer"" (or even ""pointer to pointer to pointer ... to pointer"") and pass it either by value or by reference.",0,0.9919344186782837
234105416,9375,Chocobo1,2018-11-16T06:56:10Z,"now the `""n/a""` strings can be translated by wrapping in qbt_tr",0,0.9945439100265503
234108825,9375,Chocobo1,2018-11-16T07:18:09Z,it seems we can make it a few lines shorter without sacrificing too much readability: [code block],0,0.9882494211196899
234489874,9375,Piccirello,2018-11-19T04:13:48Z,this version looks much cleaner. will change,0,0.8788613677024841
236225295,9375,glassez,2018-11-26T11:56:42Z,a suboptimal combination of conditions leads to such repetitions (`if (peer.isseed())`). i would have carried it outside.,0,0.9787176847457886
236227238,9375,glassez,2018-11-26T12:03:12Z,"well you will not convince me that this is the correct way! haha, it depends on the translations from the gui components!.. however, i don't want to open your eyes anymore so you can ignore this comment.",1,0.8406199812889099
236228136,9375,glassez,2018-11-26T12:06:29Z,do we support libtorrent < 1.0?,0,0.9956437349319458
236230228,9375,glassez,2018-11-26T12:13:52Z,i would throw conflict error instead. the resource affected by this request is torrent. so it's correct to throw notfound error only in case of missing torrent.,0,0.9831663370132446
238122690,9375,Piccirello,2018-12-03T00:24:38Z,pretty sure we don't actually. do you know?,0,0.9764235615730286
238125482,9375,Piccirello,2018-12-03T01:19:31Z,definitely should be conflict. will update this.,0,0.9753833413124084
238139410,9375,glassez,2018-12-03T03:56:46Z,we don't support libtorrent < 1.0. i just thought you had the wrong version number here...,0,0.9362385272979736
238145036,9375,Piccirello,2018-12-03T05:00:04Z,this was copied over from `trackerlistwidget.cpp`. i'll remove that code too,0,0.9955096244812012
238145288,9375,Piccirello,2018-12-03T05:02:39Z,"changed to check `peer.isseed()` before checking dht, pex, and lsd",0,0.9949216246604919
238145472,9375,Piccirello,2018-12-03T05:05:00Z,addressed this in my latest commit. translation of `status` is now done client-side. the `msg` is still translated server-side since in most cases it's not actually translated at all. it might even make sense to remove translation of the `msg` field entirely.,0,0.9931896328926086
238147525,9375,Chocobo1,2018-12-03T05:26:52Z,"i think this structure still leads to unnecessary checks, it should be: [code block] let's see if we modify the old code: [code block] personally i like the old code better: it groups the protocols together, not separated away by `isseed()` flag. and the number of checks done is essentially the same.",0,0.9083576798439026
238225641,9375,glassez,2018-12-03T11:04:47Z,i wonder if the following is possible: [code block] can you test it?,0,0.9849980473518372
238227375,9375,glassez,2018-12-03T11:10:54Z,"""conflict""",0,0.5542562007904053
238229898,9375,glassez,2018-12-03T11:19:45Z,"real trackers can return untranslated messages so it doesn't make much sense to translate this message. otherwise, if you still want to do it, i wouldn't rely on translation from gui and have own one.",0,0.980022668838501
239321164,9375,Piccirello,2018-12-06T03:53:05Z,i don't think it's worth sacrificing readability to save a couple lines,0,0.8128681182861328
239321755,9375,Piccirello,2018-12-06T03:58:33Z,"are we certain that a peer cannot come from multiple sources here? maybe that doesn't make sense (please tell me), but the `peer_info` docs[0] state ""the flags indicating which sources a peer can have come from. a peer may have been seen from multiple sources"". it's very possible that doesn't include dht/lsd/pex, but just want to be certain. [0] [a link]",0,0.9864321351051331
239322199,9375,glassez,2018-12-06T04:01:35Z,ok.,0,0.980760931968689
239389247,9375,Chocobo1,2018-12-06T09:55:12Z,"no, my example code is wrong.",0,0.8657780289649963
239998933,9375,glassez,2018-12-08T09:09:19Z,"`nativeentry()` is for internal use! if someone need these fields they should be provided via **bittorrent::trackerentry** interface. i can see that you just copied the code from gui, so the questions are not to you, but to who added it originally. you're free to not fixing it here.",0,0.9368765354156494
305440861,10948,glassez,2019-07-19T16:53:32Z,rss,0,0.8656577467918396
305443650,10948,glassez,2019-07-19T17:01:14Z,"i would like more specific name, e.g. ""iconmapping.json"" or ""iconconfig.json""",0,0.9890385866165161
305565897,10948,glassez,2019-07-20T03:34:06Z,or just `config.json` if it is supposed to be in `icons` directory.,0,0.9946845173835754
305565938,10948,glassez,2019-07-20T03:36:01Z,i mean all `rss` occurrences in icon ids.,0,0.9921703934669495
310379086,10948,glassez,2019-08-04T09:42:51Z,"i would use ""aboutdialog.logo"".",0,0.9905098080635071
310392568,10948,LordNyriox,2019-08-04T15:38:11Z,: it is my understanding that the same icon is used in multiple places (including the system tray). do you really want to name the icon based on only one of those components?,0,0.9897502064704895
310395736,10948,glassez,2019-08-04T17:06:56Z,", if you had followed #10903, you might have understood my intentions... [a link]",0,0.9625122547149658
312428426,10948,glassez,2019-08-09T10:55:21Z,why do you need this extra scope?,0,0.9902098178863525
312576480,10948,glassez,2019-08-09T17:24:15Z,seems like you should fallback to built-in icons in case of error here (e.g. set usecustomuitheme to false).,0,0.988781750202179
312577761,10948,glassez,2019-08-09T17:27:30Z,valid json document can be array so you need to check wether it is really object.,0,0.9926803708076477
312601546,10948,glassez,2019-08-09T18:33:06Z,you should check for empty icon path here since it is error case. also you should cache icon path for given icon id in m_iconmap to avoid searching by pattern next time.,0,0.9935423135757446
312603799,10948,glassez,2019-08-09T18:39:27Z,seems this method has logical errors. i need to get a fresh look at it.,0,0.7057719826698303
312703135,10948,jagannatharjun,2019-08-10T13:35:05Z,only here? what if the resource file doesn't have `iconconfig.json` or when some `iconid` can't be found in the custom `iconconfig.json`,0,0.9906235337257385
312734982,10948,Chocobo1,2019-08-11T11:37:20Z,do the code inside `if (m_usesystemtheme) {}` still work? it is important for linux users to use native icons.,0,0.9945559501647949
312925504,10948,jagannatharjun,2019-08-12T13:31:44Z,i don't think it will work since the changes also include the id supplied to `geticonpath`,0,0.9638450145721436
312928272,10948,glassez,2019-08-12T13:37:54Z,"as i understand it, ""native icons"" should be used (if enabled) no matter what theme is selected, built-in or custom?",0,0.9933726787567139
312965549,10948,Chocobo1,2019-08-12T14:51:03Z,i think yes.,0,0.967261016368866
313801422,10948,jagannatharjun,2019-08-14T10:13:14Z,for this we can have another config file with system icons as mapped values,0,0.994658887386322
313901568,10948,glassez,2019-08-14T14:21:49Z,i think something like that will be needed...,0,0.9806710481643677
319027868,10948,glassez,2019-08-29T11:55:35Z,is it really good idea to reset preference?,0,0.9832817912101746
319028472,10948,glassez,2019-08-29T11:57:18Z,else if,0,0.9917526841163635
319028627,10948,glassez,2019-08-29T11:57:45Z,else,0,0.6129312515258789
319030652,10948,glassez,2019-08-29T12:03:25Z,"it's meaningless. what can the user guess after seeing this message in the log? it should be something like ""invalid icon configuration file format. json object is expected.""",-1,0.6767323017120361
319031277,10948,glassez,2019-08-29T12:04:51Z,dot is missing in the end of message.,0,0.9729681015014648
319180314,10948,glassez,2019-08-29T17:13:33Z,"i'm not sure that's right... does it make sense to override mapping for ""system theme"" icons in a custom theme? shouldn't there just be a three-state option (default-system-custom)? ?",0,0.8118311762809753
319181586,10948,glassez,2019-08-29T17:16:39Z,you should compare with mapped icon id to follow current logic. otherwise it's meaningless.,0,0.9885692596435547
319187666,10948,glassez,2019-08-29T17:31:02Z,"i strongly dislike it in this way. you need to merge `utils::gui::scaledpixmapsvg()` and `utils::gui::scaledpixmap()`. also the first parameter shouldn't be changed to iconid. you just should to call it as `utils::gui::scaledpixmapsvg(uithememanager::geticonpath(""aboutdialog.logo""), this, 32)`",-1,0.9840960502624512
319191780,10948,glassez,2019-08-29T17:40:51Z,also how do you suppose to provide fallback icon now? it seems that it should come from (system theme) icon mapping now.,0,0.9943884015083313
319193066,10948,glassez,2019-08-29T17:43:52Z,shouldn't we cache flag icons too?,0,0.9933040738105774
319355873,10948,Chocobo1,2019-08-30T04:52:16Z,i think not. i agree although i haven't checked how the gui should look like.,0,0.9655213952064514
319499580,10948,glassez,2019-08-30T12:57:11Z,"or (even better, imo) keep `geticonpath()` private and implement `uithememanager::getpixmap()` that encapsulates all needed logic.",0,0.9871470928192139
319500014,10948,glassez,2019-08-30T12:58:23Z,shouldn't this one be immutable?,0,0.987575888633728
319505233,10948,glassez,2019-08-30T13:12:07Z,[code block] instead of two lines of code.,0,0.9891184568405151
319509337,10948,glassez,2019-08-30T13:22:16Z,will it repeat this message time this icon id is requested? or just empty icon is created and cached?,0,0.9943444728851318
319598716,10948,glassez,2019-08-30T17:00:03Z,"since missing id isn't really error case (as i said before this case can occur when new id is introduced in some qbittorrent version but theme is outdated yet) you should fallback to default theme icon. the real error cases are: 1. empty filename 2. file doesn't exist imo, we should reject such invalid theme at all (and show message to the user). i also think you can check theme for these errors once it is loaded (since loaded theme is immutable).",0,0.986922562122345
319728820,10948,jagannatharjun,2019-08-31T16:07:54Z,"did you mean by following? [code block] if yes, then `scaledpixmapsvg` requires to have some key to cache, so will it be better to move `scaledpixmap` and `scaledpixmapsvg` both inside the `uithememanager`.",0,0.9957655668258667
319730473,10948,glassez,2019-08-31T17:01:56Z,i mean you should implement only one of the following: [code block] the client code should know nothing about the type of some particular icon/pixmap (it can be different in different theme). so the function should determine it itself.,0,0.9902225732803345
319732297,10948,jagannatharjun,2019-08-31T18:14:02Z,i tried implementing `uithememanager::getpixmap` because then everything will be in one place.i implement this on the basis of scaledpixmapsvg. can you check now?,0,0.9926875829696655
319742929,10948,Chocobo1,2019-09-01T04:01:21Z,does it make sense that a `getpixmap` operation having a `qwidget` as one of the parameters? or maybe a more precise function name is in need?,0,0.9922776222229004
319743068,10948,Chocobo1,2019-09-01T04:12:03Z,"i haven't been following closely to this pr, so pardon if it doesn't make sense in advance. i think merging these functions within existing uithememanager methods is a bad idea, those are image scaling functions, it should be preserved in it own form (private functions in uithememanager is acceptable for me, and making it public when required). see how you load `mascot.png`, spilling all the unnecessary details of image scaling details into it.",-1,0.7779096364974976
319743108,10948,Chocobo1,2019-09-01T04:15:56Z,"there is also a second consideration to be discussed, is it correct/preferable that a theme manager needs to be concerned about image scaling? sure it simplifies the code using it, but the big picture looks weird to me. of course we can have helper functions that provide such conveniences but they should be static functions of the theme manager class.",-1,0.9687527418136597
319743641,10948,jagannatharjun,2019-09-01T04:55:20Z,`uithememanager::applystylesheet` will fail then.,0,0.9836850166320801
319743703,10948,glassez,2019-09-01T04:58:53Z,uithememanager should provide icon (or pixmap) by its id. the client code (of uithememanager) should know nothing about theme details (e.g. real file types etc.). in some places we need to get scaled pixmap. currently we have two helpers to scale pixmap (depending on its file type). but we can't proceed to use this way considering the above. so i suggested moving this logic inside the uithememanager class. otherwise we can leave only one helper that will scale existing pixmap (not so optimal since we can't use svg optimization).,0,0.9412065744400024
319743732,10948,glassez,2019-09-01T05:00:46Z,getscaledpixmap?,0,0.9930945634841919
319744043,10948,jagannatharjun,2019-09-01T05:24:16Z,"i mean `uithememanager::applystylesheet` should be aware of the error, i can have an internal variable.",0,0.9920834302902222
319744123,10948,glassez,2019-09-01T05:31:56Z,:+1:,0,0.9328674077987671
319744678,10948,Chocobo1,2019-09-01T06:06:52Z,i think this can work (a careless sketch up): [code block],0,0.9664584398269653
319747224,10948,glassez,2019-09-01T07:36:44Z,"i think, yes. but uithememanager instance shouldn't call itself indirectly: [code block] also i wouldn't have `widget` as param but `scalingfactor` to be more abstract.",0,0.9883700609207153
319968524,10948,jagannatharjun,2019-09-02T13:55:17Z,now?,0,0.9896223545074463
320282662,10948,jagannatharjun,2019-09-03T13:50:39Z,now i have reset the changes inside `utils.cpp`. i don't do anything with `utils.*`. changed `getpixmap` to `getscaledpixmap` which calls `utils::gui::scaledpixmap` as you guys said.,0,0.9932965636253357
320312356,10948,jagannatharjun,2019-09-03T14:44:07Z,"do you mean by - for every `iconid` which doesn't exist in iconmap, try finding that in defaulticonmap which means - 1. load both default iconconfig and custom iconconfig (if custom is enabled) in the constructor 2. reject custom theme if ""real error case"" exists, (should i check the default theme for errors too, but only show the error) 3. in `geticonpath`, for every `iconid` which doesn't exist in iconmap, try finding that in defaulticonmap",0,0.9935227632522583
320332439,10948,glassez,2019-09-03T15:20:05Z,"generally, yes. but i think there is a better algorithm: 1. load default iconconfig. check it and show errors (or maybe don't check it at all?). 2. load custom iconconfig. check it and reject if ""real error case"" exists 3. join both iconconfigs (add unique and replace existing values in default config with the ones from custom config. 4. use resulting icon config.",0,0.9825147986412048
322019358,10948,jagannatharjun,2019-09-08T17:02:28Z,"while checking should i load the icon directly i.e store the icons in something like `std::map `,",0,0.994021475315094
322330498,10948,glassez,2019-09-09T16:13:47Z,ideally it should be private. is there any reason to keep it public?,0,0.9880754947662354
322332166,10948,glassez,2019-09-09T16:17:33Z,i would make it non-static and drop last parameter.,0,0.9899904727935791
322333899,10948,glassez,2019-09-09T16:21:21Z,i would create qstring constants to omit repeated conversions.,0,0.9920341372489929
322342020,10948,glassez,2019-09-09T16:40:07Z,"on the other hand, it should be really class-independent (and it is actually used to load different files). then just put it in an anonymous namespace in .cpp. you will also have to change the error handling in it (throw runtime error in it and print log message in calling code). imo, using static methods in c++ is unjustified in most cases.",0,0.903491735458374
322564488,10948,jagannatharjun,2019-09-10T06:03:23Z,it's actually used to provide icon path to html [a link],0,0.9950829744338989
323868653,10948,jagannatharjun,2019-09-12T17:45:43Z,i now have changed the fallback to fallbacksysthemeicon,0,0.9913762211799622
326881764,10948,jagannatharjun,2019-09-22T03:38:00Z,"maybe ask the custom theme for absolute icon path, this way they are not just limited to qrc but reference icon from somewhere else also.",0,0.9859404563903809
328680429,10948,jagannatharjun,2019-09-26T15:27:49Z,"now there is an internal variable `m_usecustomstylesheet` , loads custom stylesheet if available, not resets the preferences anymore.",0,0.9943125247955322
328681761,10948,jagannatharjun,2019-09-26T15:30:18Z,"should i add separate icon id for fallback as well? i think there are only like 4 instances where fallback is actually used. well, it does make sense to add iconids for fallbacks as well. will replace direct references with icon ids.",0,0.9935867786407471
328682146,10948,jagannatharjun,2019-09-26T15:31:00Z,done.,0,0.9897913336753845
329225783,10948,glassez,2019-09-27T19:47:01Z,is there any real reason to allow custom flags? can they be different from the default ones?,0,0.992142915725708
329228044,10948,glassez,2019-09-27T19:53:53Z,since these consts are supposed to be used in one .cpp file i would put them into .h instead and omit extern declaration (or even put them into corresponding .cpp directly).,0,0.9933212399482727
329309703,10948,jagannatharjun,2019-09-28T13:07:08Z,well i have seen people with custom flags but this will be very cumbersome for any one to do. so let me remove them for now.,0,0.8412602543830872
329310353,10948,jagannatharjun,2019-09-28T13:26:55Z,moved in uithememanager.cpp,0,0.9943925738334656
329310359,10948,jagannatharjun,2019-09-28T13:27:19Z,removed custom `m_flagsdir`,0,0.9956560134887695
329423280,10948,glassez,2019-09-30T06:28:16Z,`static` is redundant,0,0.9933690428733826
329426186,10948,glassez,2019-09-30T06:41:11Z,mainmenu.showrsstab and all the similar.,0,0.9919472336769104
329427004,10948,glassez,2019-09-30T06:45:00Z,"don't use ""gui/"" when include in sibling files.",0,0.9921769499778748
329429304,10948,glassez,2019-09-30T06:54:24Z,"maybe we shouldn't add ""action"" suffix? now it seems superfluous. what do you think?",0,0.8724803328514099
329430378,10948,glassez,2019-09-30T06:58:32Z,"i would use `categoryfilter.contextmenu.subcategory.addaction`. don't remember if we discussed the real need to have ""contextmenu"" member... maybe omit it?",0,0.9916651844978333
329431681,10948,glassez,2019-09-30T07:03:38Z,add new line after first `{`,0,0.9950542449951172
329432228,10948,glassez,2019-09-30T07:05:50Z,you should enclose multiline block with `{}`,0,0.9948849081993103
329433405,10948,glassez,2019-09-30T07:10:04Z,"use `qobject::tr()` is bad since it produces translations in qobject context (really it belongs to ""uithememanager"" component). it's better to use `qcoreapplication::translate()` with needed context.",0,0.9040125608444214
329434840,10948,glassez,2019-09-30T07:14:51Z,redundant comma after `%2`. and below too.,0,0.9404178261756897
329435557,10948,glassez,2019-09-30T07:17:19Z,since we have only one possible icon config file we shouldn't show its name in such messages.,0,0.9879910349845886
329437660,10948,glassez,2019-09-30T07:24:48Z,"now this function has no common meaning. i would return to the previous approach (make it uithememanager member). this should simplify thungs, isn't it?",0,0.9922311902046204
329439353,10948,glassez,2019-09-30T07:30:01Z,i would initialize `m_usecustomstylesheet` in class definition.,0,0.9946494698524475
329442039,10948,glassez,2019-09-30T07:38:38Z,leftover...,0,0.960908055305481
329449440,10948,glassez,2019-09-30T08:00:34Z,"this method interface is still contradicts the implemented model. as i said before fallback should be a part of mapping. client just want to call `geticon(""someiconid"")`. which icon is really used is determined by the current configuration.",0,0.9938932657241821
329451196,10948,glassez,2019-09-30T08:05:09Z,"i would use something like ""rssview"" instead of ""rss"".",0,0.9905564785003662
329493448,10948,jagannatharjun,2019-09-30T09:47:06Z,there are two `iconconfig.json` `systemiconconfig.json`,0,0.9959917664527893
329494622,10948,jagannatharjun,2019-09-30T09:49:53Z,"no it's loading the custom `systemiconconfig.json`, unlike `iconconfig.json` i don't merge the default and custom `systemiconconfig.json` here it loads the `systemiconconfig.json`",0,0.9935196042060852
329538993,10948,jagannatharjun,2019-09-30T11:59:57Z,"adding `show` prefix feels like an action, but the icon is used as the tab icon.",0,0.9858644008636475
329541121,10948,glassez,2019-09-30T12:06:44Z,`mainmenu.rsstab` is used to provide icon for tab? then it is incorrect id.,0,0.9832321405410767
329542655,10948,jagannatharjun,2019-09-30T12:11:27Z,there are actually only two such reference one is this one you mention and other is `src\gui\rss\articlelistwidget.cpp`. should i don't use this prefix even in `gui\rss` folder?,0,0.9945583343505859
329542727,10948,jagannatharjun,2019-09-30T12:11:42Z,hmm yes it does seem superfluous.,0,0.8715842366218567
329545158,10948,jagannatharjun,2019-09-30T12:18:35Z,"will remove ""contextmenu"".",0,0.9927108287811279
329546090,10948,jagannatharjun,2019-09-30T12:21:03Z,"also should i change ""categoryfilter.unused.removeaction"" to ""categoryfilter.unusedcatergories.removeaction""",0,0.9959648847579956
329546377,10948,glassez,2019-09-30T12:21:52Z,"didn't we decide to allow no custom ""system icon mapping""? what's the point to reimplement built-in mapping?",0,0.9566559791564941
329547191,10948,glassez,2019-09-30T12:24:01Z,just follow other include names style in the same file.,0,0.9955453872680664
329547203,10948,jagannatharjun,2019-09-30T12:24:03Z,actually uncrustify removes it automatically.,0,0.988909900188446
329548161,10948,glassez,2019-09-30T12:26:43Z,then uncrustify misconfigured. you should follow qbittorrent coding guidelines.,0,0.984870195388794
329548205,10948,jagannatharjun,2019-09-30T12:26:49Z,it should be a static member since it doesn't require anything from `uithememanager`.,0,0.9933051466941833
329550222,10948,glassez,2019-09-30T12:31:56Z,sorry. i mean different things. if we really don't need different icon config files then you can change it to non static member function that don't return its result but just modify corresponding class fields. otherwise leave it as is (resolving other comments).,-1,0.9638245105743408
329551353,10948,jagannatharjun,2019-09-30T12:34:42Z,yeap. actually i used this scheme everywhere. f.e `mainmenu.searchtab`,0,0.9872950911521912
329551597,10948,glassez,2019-09-30T12:35:25Z,"it seems pointless to me to have several different ""system theme"" mappings. system theme has no different icons for the same thing.",-1,0.879534125328064
329552718,10948,glassez,2019-09-30T12:38:11Z,mainmenu context is for main menu entries. for tabs you can use mainwindow context.,0,0.9935342073440552
329553165,10948,jagannatharjun,2019-09-30T12:39:05Z,should i do it inplace since there is only one iconconfig?,0,0.9918265342712402
329560453,10948,glassez,2019-09-30T12:55:38Z,"seems it degrades the readability of the calling code. splitting into sub-functions is still useful in terms of code structuring. if some code portion does ""stand-alone"" job, it makes sense to put it in a separate method (unless it's really trivial).",0,0.9322215914726257
329560902,10948,jagannatharjun,2019-09-30T12:56:42Z,"i think message lost its context without `error in iconconfig \""%1\""`, maybe replace it with `custom icon config json format error` or maybe something better?",0,0.9896321296691895
329561572,10948,glassez,2019-09-30T12:58:18Z,"`unusedcatergories` is better, imo.",0,0.9499053955078125
329565226,10948,jagannatharjun,2019-09-30T13:06:28Z,i decided against it since this makes constructor too big.,0,0.7968341708183289
329570274,10948,glassez,2019-09-30T13:17:30Z,maybe `icon configuration file format error: %1.`?,0,0.9935550093650818
329588075,10948,jagannatharjun,2019-09-30T13:51:43Z,i have a habit of regularly formatting the file even while writing so it will be cumbersome to do it manually since on next format they're gone. so can i convert these in single liners instead?,0,0.9664009809494019
329596263,10948,jagannatharjun,2019-09-30T14:07:00Z,"what shall be the name? `mainmenu.fallback.configureaction` , `fallback.mainmenu.configureaction`, `mainmenu.configureaction.fallback`, `mainmenu.configureaction2`",0,0.994950532913208
329597370,10948,glassez,2019-09-30T14:08:57Z,i think we should recheck all ids at last step.,0,0.9847404360771179
329601242,10948,glassez,2019-09-30T14:16:03Z,if the lines don't get too long. otherwise you can try to customize uncrustify config to follow our coding style more fully.,0,0.9907187819480896
329608050,10948,glassez,2019-09-30T14:28:19Z,"sorry, don't understand you. there is only one name for each iconid. but there should be the way to assign several mappings to it. you can use either ""multi map"" for system icon config or map each id to list of values.",-1,0.9741393327713013
329618231,10948,jagannatharjun,2019-09-30T14:45:50Z,"i am thinking to use ""multi map"". it should only be limited to the system icon config?",0,0.9915174245834351
329622965,10948,glassez,2019-09-30T14:53:34Z,of course. in case of custom icon theme author should provide truly existed files so no fallback is needed.,0,0.9924846291542053
329627030,10948,jagannatharjun,2019-09-30T15:00:03Z,"[a link] i think the above places require hardcoded path anyway, so i will remove the changes and make `geticonpath` private.",0,0.9950950145721436
329631015,10948,jagannatharjun,2019-09-30T15:07:16Z,since system icon config is internal mapping does it make sense to not do pattern based searching here.,0,0.9891998767852783
329646417,10948,glassez,2019-09-30T15:35:29Z,why?,0,0.9622438549995422
329647755,10948,jagannatharjun,2019-09-30T15:38:05Z,i am not doing pattern-based searching for system icon map.,0,0.9681614637374878
329648232,10948,jagannatharjun,2019-09-30T15:38:59Z,may be `rsstab`?,0,0.988685131072998
329649166,10948,glassez,2019-09-30T15:40:51Z,"yes, at a first glance. but i need to look at the whole algorithm to answer exactly.",0,0.9865841269493103
329651641,10948,glassez,2019-09-30T15:45:43Z,tabs is just a way to organise views/widgets in container (main window in this case).,0,0.9897928237915039
329669976,10948,jagannatharjun,2019-09-30T16:24:55Z,okay sorry! i mixed it up with something else,-1,0.9946582913398743
329683093,10948,jagannatharjun,2019-09-30T16:55:46Z,"they're actually used in rss feed list so may be `rssfeedlist`, but `rssview` seems good to",0,0.9753013849258423
329684306,10948,jagannatharjun,2019-09-30T16:58:27Z,where it is actually used? i mean i can't able to understand in which context this icon is actually used thats why such a weird name.,-1,0.9853663444519043
219438512,9562,zeule,2018-09-21T09:32:15Z,you might want to consider using `c_thin_space` here.,0,0.992455005645752
219438617,9562,zeule,2018-09-21T09:32:41Z,"unit, bool, please.",0,0.9793745875358582
219438807,9562,zeule,2018-09-21T09:33:20Z,"whitespace between arguments, please.",0,0.9340217113494873
219438878,9562,zeule,2018-09-21T09:33:34Z,whitespace,0,0.9755821228027344
219671701,9562,zeule,2018-09-22T13:27:55Z,"i'm not sure i understood the code below completely, but wouldn't powers of 2 make the nicest scale since we use unit multiplicator value of 1024?",0,0.8601112961769104
219672791,9562,dzmat,2018-09-22T14:10:25Z,"according to [a link] here should be normal width space. anyway, c_non_breaking_space is already used in qbittorrent and i'm satisfied how it looks.",1,0.6565937995910645
219673260,9562,dzmat,2018-09-22T14:29:21Z,"no, power of 2 does not fit good because if gives ""round values"" with many zeros in binary form, not in radix(10) human readable form. and labels having non-zero fractional part makes things even more complicated.",0,0.9557936191558838
219673369,9562,zeule,2018-09-22T14:34:04Z,"pardon me, i don't understand that. what fractional parts? how they could appear if we use unit prefixes? are you talking about scale for speeds up to a few bytes per second (when no prefixes are used)?",0,0.6053627133369446
219673411,9562,zeule,2018-09-22T14:36:02Z,"sure, but since we never show thousands we don't need a separator for them. i just wanted to save a bit of space, hence the suggestion.",0,0.984012246131897
219673436,9562,dzmat,2018-09-22T14:37:14Z,"fixed all missed space mishaps. i just wonder, are there any rule for uncrustify for this?",0,0.892822265625
219673468,9562,zeule,2018-09-22T14:39:07Z,"thanks! uncrustify should do that with the config from the repo, yes.",1,0.9907346963882446
219673694,9562,dzmat,2018-09-22T14:49:59Z,i am talking about case when speed is in range 1kb/s- 4 kb/s or 1mb/s- 4 mb/s etc. here fractional part in intermediate labels is inevitable.,0,0.98116135597229
219673799,9562,dzmat,2018-09-22T14:54:12Z,if we just step down to lower unit (mbit/s -> kbit/s for example) there will be to many non-zero digits in labels and no enhancement in appearance.,0,0.9868577718734741
219674002,9562,dzmat,2018-09-22T15:02:42Z,"i'm using qbittorrent project's uncrustify.cfg, but if does not do this job for my bad luck. other formatting issues it fixes, but not that.",-1,0.9896085858345032
224760579,9562,glassez,2018-10-12T11:59:53Z,"it's too pointless for me to have a function that just prepends some string with a space. but it makes sense to add ""isspeed"" parameter to ""unitstring()"".",0,0.9822168350219727
224760930,9562,glassez,2018-10-12T12:01:28Z,"please don't add ""::"" without strong reason.",-1,0.8885453343391418
224761545,9562,glassez,2018-10-12T12:04:15Z,don't use function-style cast. use appropriate c++ cast.,0,0.9899162650108337
224761664,9562,glassez,2018-10-12T12:04:53Z,why not const?,0,0.9858160018920898
224813764,9562,dzmat,2018-10-12T14:56:28Z,fixed,0,0.920660674571991
224815031,9562,dzmat,2018-10-12T14:59:45Z,fixed,0,0.920660674571991
224837996,9562,dzmat,2018-10-12T16:04:53Z,"the main goal was to reuse already translated strings. also i thought that unit strings are always prepended by space to separate from numbers. so at first i changed existing `unitstring()` to use `isspeed` parameter (as you want) and do padding (to follow dry principle and so on). but build broke up. there is 8 usage point in src/gui/search/searchjobwidget.cpp on lines 319-325 which are ignored by qtcreator code parser ""find usages"" function (because of lack of utils::misc:: access specification) but are compilable nevertheless. (i think they should generate compile error, but they didn't). this forced me to resurrect old `unitstring()` and place a new function side by side. and this function is used in 4 places, so it is not so useless in spite of it's simplicity.",0,0.9495354294776917
224847319,9562,glassez,2018-10-12T16:37:35Z,"it doesn't generate compile errors due to [a link]. personally, i don't like the ""blind"" use of such things.",-1,0.9473055005073547
224851089,9562,glassez,2018-10-12T16:51:48Z,", you don't seem familiar with the qbittorrent coding style. maybe now is the time to get acquainted with it? i can't point to every obvious violation when most of the code below is broken.",0,0.8841531276702881
224874537,9562,glassez,2018-10-12T18:17:22Z,"that sounds lame... if it will be used some times in parentheses, will you add ""unitstringinparentheses()"" and so on? if you add default (false) value to isspeed param there shouldn't be problems with existing usages.",-1,0.9903067350387573
224950502,9562,glassez,2018-10-13T05:42:42Z,unfortunately uncrustify fails to fix coding style completely. it even makes an opposite result in some cases.,-1,0.8242942690849304
224950537,9562,glassez,2018-10-13T05:45:18Z,there should be blank line between definitions.,0,0.984446108341217
224950553,9562,glassez,2018-10-13T05:46:15Z,this blank line isn't allowed since it separates nothing.,0,0.913347065448761
224950590,9562,glassez,2018-10-13T05:48:30Z,there should not be any spaces between parentheses and their content.,0,0.9901666641235352
224950678,9562,glassez,2018-10-13T05:54:21Z,"the following is more effective, isn't it? [code block]",0,0.9937343001365662
224950742,9562,glassez,2018-10-13T05:58:30Z,or even [code block],0,0.992935836315155
224950860,9562,glassez,2018-10-13T06:05:26Z,please add blank line above.,0,0.9948902130126953
224950878,9562,glassez,2018-10-13T06:06:14Z,please add blank line above.,0,0.9948902130126953
224950886,9562,glassez,2018-10-13T06:07:08Z,please add blank line above.,0,0.9948902130126953
224950917,9562,glassez,2018-10-13T06:09:02Z,this seems to be unreachable since you return in case of `value > 10`.,0,0.9929155111312866
224950945,9562,glassez,2018-10-13T06:11:01Z,don't use function-style cast!,0,0.9444016218185425
224950965,9562,glassez,2018-10-13T06:11:57Z,please add blank line above.,0,0.9948902130126953
224951158,9562,glassez,2018-10-13T06:23:24Z,`else` should be in the next line. you can write it as `else if (...)` in this case.,0,0.9938344955444336
224951193,9562,glassez,2018-10-13T06:24:59Z,remove `else`. it's meaningless since corresponding `if` ends with `return` statement.,0,0.9842349886894226
224951313,9562,glassez,2018-10-13T06:29:28Z,`const double nicescale = getniceyscale(maxyvalue());`,0,0.9922035932540894
224951362,9562,glassez,2018-10-13T06:31:22Z,you don't need cast to double since nicescale is double.,0,0.9940547347068787
224953746,9562,dzmat,2018-10-13T08:38:10Z,fixed,0,0.920660674571991
224953796,9562,dzmat,2018-10-13T08:40:54Z,fixed,0,0.920660674571991
224953800,9562,dzmat,2018-10-13T08:41:11Z,fixed,0,0.920660674571991
224953919,9562,dzmat,2018-10-13T08:47:07Z,fixed,0,0.920660674571991
224954613,9562,dzmat,2018-10-13T09:15:35Z,"in all this cycle variants there are 1 comparison and 2 arithmetical operations in cycle body. and in your variants also adds 1 operation after exit of the cycle. let's cout operations on starting value=2000 for example. 1. my variant. [code block] total is 2 comparisons and 2 operations. 2. your variant (both of them are identical in code structure). [code block] total is 2 comparisons and 4 operations. what about replacing arithmetic with shifts - modern compilers will do it itself, if it really gives some gain. and the age of 8 bit cpu when it gives significant profit has gone log time ago. anyway, this is not a hot spot code, where we should fight for every cycle. so really only maintainability considerations are applicable imho.",0,0.982671856880188
224954693,9562,dzmat,2018-10-13T09:18:38Z,fixed,0,0.920660674571991
224954816,9562,dzmat,2018-10-13T09:24:25Z,fixed,0,0.920660674571991
224954891,9562,dzmat,2018-10-13T09:28:07Z,fixed,0,0.920660674571991
224955135,9562,glassez,2018-10-13T09:38:44Z,"i just hate to see such suboptimal calculations in a loop. but here we will usually have 2-3 steps, so it is not so important. btw, it can be optimized even more than in my example.",-1,0.9915663599967957
224955159,9562,dzmat,2018-10-13T09:40:12Z,fixed.,0,0.9905837774276733
224955917,9562,dzmat,2018-10-13T10:11:26Z,fixed,0,0.920660674571991
224955924,9562,dzmat,2018-10-13T10:11:35Z,fixed,0,0.920660674571991
224955949,9562,dzmat,2018-10-13T10:12:58Z,fixed,0,0.920660674571991
224955976,9562,dzmat,2018-10-13T10:14:04Z,fixed,0,0.920660674571991
224955992,9562,dzmat,2018-10-13T10:14:27Z,fixed,0,0.920660674571991
224956184,9562,dzmat,2018-10-13T10:22:47Z,fixed,0,0.920660674571991
224957039,9562,dzmat,2018-10-13T11:09:01Z,at least i will consider to do this. :) removed paddedunitstring.,1,0.9964017868041992
224957317,9562,glassez,2018-10-13T11:21:59Z,you should enclose loop body with braces (since it's multiline).,0,0.9928760528564453
224957343,9562,glassez,2018-10-13T11:23:27Z,you should enclose `if` body with braces (since it's multiline).,0,0.9937212467193604
224957373,9562,glassez,2018-10-13T11:24:38Z,you forgot isspeed param.,0,0.9859775304794312
224957429,9562,glassez,2018-10-13T11:27:33Z,`(rect.height() / nicescale)`,0,0.9908431768417358
224957537,9562,glassez,2018-10-13T11:32:53Z,"please describe why these two can't be defined using ""utils::misc::friendlyunit()"".",0,0.994125247001648
224957552,9562,glassez,2018-10-13T11:33:37Z,const,0,0.8837863802909851
224960137,9562,dzmat,2018-10-13T13:23:59Z,added braces. uncrustify wants to remove it.,0,0.9819068312644958
224960256,9562,dzmat,2018-10-13T13:30:24Z,fixed,0,0.920660674571991
224960582,9562,glassez,2018-10-13T13:47:49Z,remove uncrustify! :),1,0.9782972931861877
224960644,9562,dzmat,2018-10-13T13:49:57Z,"omg, fixed",0,0.9866918921470642
224960670,9562,dzmat,2018-10-13T13:50:45Z,fixed,0,0.920660674571991
224962917,9562,dzmat,2018-10-13T15:24:49Z,what did you mean by the words _these two_ ? and by which one of two `utils::misc::friendlyunit()` functions? there are two overloaded functions with totally different semantics (this code is kind of rotten a bit for me).,-1,0.9680706262588501
225124111,9562,glassez,2018-10-15T11:05:38Z,i mean these two return statements.,0,0.986735463142395
225124757,9562,glassez,2018-10-15T11:08:25Z,"`nicelabel()` has a bit confusing definition and parameters. what is it supposed to be? why ""unit"" is non-const reference (aka output parameter)?",0,0.5724031925201416
225134097,9562,dzmat,2018-10-15T11:45:19Z,"well, may be some refactoring is already needed here. i'll try to do so. marking as wip meanwhile",0,0.9847362637519836
225178819,9562,glassez,2018-10-15T14:07:26Z,"current code uses friendlyunit() for creating graph labels. iirc, you stop to use it since it uses predefined precision values. why not refactor it to accept precision as param?",0,0.9920459985733032
225186101,9562,dzmat,2018-10-15T14:26:47Z,"not only precision was a culprit. but the fact that ""unit"" is determined independently for consequent labels on the same scale leads to impossibility to create all labels ""nice looking"" when they are become sitting on different ""unit"" for example when speed is circa 1.2 mbytes/s than 100% label get mbytes/s unit and 0.75 and lower labels gets kbytes/s unit. and there is no way to align scale such that all labels are nice in this case. i was stuck trying different algorithms until i figured out that to make all labels looks nice i have to force them to be printed using the same unit for all labels. even if printed value is lesser then 1.0 on digital part.",-1,0.7187540531158447
225390631,9562,glassez,2018-10-16T04:06:12Z,coding style is broken here.,0,0.903795599937439
225391159,9562,glassez,2018-10-16T04:08:38Z,we must have only an integer number of bytes. is underlying function returns floating point number?,0,0.9935619831085205
225391444,9562,glassez,2018-10-16T04:10:30Z,won't `++calculatedunit` work?,0,0.9939832091331482
225391632,9562,glassez,2018-10-16T04:11:41Z,is explicit cast required here?,0,0.9930834770202637
225392000,9562,glassez,2018-10-16T04:14:48Z,sizeunit is simple type. you don't need to pass it as const reference.,0,0.9894199371337891
225392275,9562,glassez,2018-10-16T04:16:25Z,we don't accept such formatting.,0,0.8940979838371277
225392730,9562,glassez,2018-10-16T04:20:23Z,i think you should use `utils::string::fromdouble()` instead. apparently it has some project-wide improvements... ?,0,0.9861590266227722
225450335,9562,Chocobo1,2018-10-16T08:49:52Z,"not sure, using utils::string::fromdouble could avoid code duplication if applicable.",0,0.9569693803787231
225494583,9562,dzmat,2018-10-16T11:07:37Z,fixed,0,0.920660674571991
225494616,9562,dzmat,2018-10-16T11:07:46Z,fixed,0,0.920660674571991
225496036,9562,dzmat,2018-10-16T11:13:28Z,"no, direct arithmetic operation on enum type gives compilation error. `++x ; x+=1; x=x+1;` any of them does not pass.",0,0.9900439977645874
225497310,9562,dzmat,2018-10-16T11:18:45Z,without expicit cast there is a warning: [code block],0,0.9914584755897522
225497577,9562,dzmat,2018-10-16T11:19:58Z,fixed,0,0.920660674571991
225497711,9562,dzmat,2018-10-16T11:20:31Z,fixed,0,0.920660674571991
225499018,9562,dzmat,2018-10-16T11:26:08Z,"i deliberately did not use `utils::string::fromdouble()` because it rounds to `floor()`, and this rounding method does not fits here. i have tried to use it, but was not satisfied.",0,0.9876313805580139
225787096,9562,glassez,2018-10-17T05:48:45Z,ok.,0,0.980760931968689
225787579,9562,glassez,2018-10-17T05:52:23Z,how about `++static_cast (calculatedunit);`?,0,0.9948934316635132
225788320,9562,glassez,2018-10-17T05:57:35Z,you can exclude 10 from roundingtable so it becomes a valid case (and you don't need to have this comment).,0,0.9949132204055786
225891457,9562,dzmat,2018-10-17T11:50:50Z,yes! did so.,1,0.8992236852645874
225894107,9562,glassez,2018-10-17T11:59:35Z,"well, leave it as is.",0,0.9699622392654419
226541306,9562,Chocobo1,2018-10-19T06:08:53Z,i would add `const` to these parameters.,0,0.9940996170043945
226541405,9562,Chocobo1,2018-10-19T06:09:49Z,shouldn't we have namespace declaration at top of the file?,0,0.9933252334594727
226541518,9562,Chocobo1,2018-10-19T06:10:57Z,`const qint64 sizeinbytes`,0,0.9937123656272888
226541638,9562,Chocobo1,2018-10-19T06:12:08Z,i don't think static_cast is required.,0,0.9817537665367126
226542122,9562,glassez,2018-10-19T06:16:04Z,it's existing code. see diff above.,0,0.9952036142349243
226542315,9562,Chocobo1,2018-10-19T06:17:23Z,"ok, forget it.",0,0.9293199777603149
226542567,9562,Chocobo1,2018-10-19T06:18:30Z,shouldn't we have namespace declaration at top of the file?,0,0.9933252334594727
226543064,9562,Chocobo1,2018-10-19T06:21:58Z,i would prefer to remove this and do: [code block],0,0.9942395687103271
226544684,9562,Chocobo1,2018-10-19T06:32:22Z,please add blank line.,0,0.9946393370628357
226544915,9562,Chocobo1,2018-10-19T06:33:34Z,"please add parentheses: `formatlabel((0.xx * nicescale.arg), nicescale.unit)`",0,0.9954392313957214
226547376,9562,Chocobo1,2018-10-19T06:48:44Z,how is this table generated? so this pr makes the y label to have values that are multiple from this table?,0,0.9945570230484009
226547881,9562,Chocobo1,2018-10-19T06:51:28Z,how about `getroundedyscale`?,0,0.9932957291603088
226548101,9562,Chocobo1,2018-10-19T06:52:34Z,seems you don't need this line... however i'm not sure...,0,0.9784326553344727
226548429,9562,Chocobo1,2018-10-19T06:54:40Z,can we have a better name for it? maybe `value`?,0,0.9942356944084167
226589873,9562,dzmat,2018-10-19T09:43:03Z,"number from this table become 100% label and give ""nice looking"" 25% (and 50%, 75% consequently too) label(s).",0,0.9806613922119141
226611006,9562,dzmat,2018-10-19T11:11:06Z,"here are too many `value` variables already. and they all are measured in bytes. i intentionally did not use that name to prevent confusion. so if you prefer another name, please suppose other than 'value'.",0,0.9435487389564514
226611979,9562,dzmat,2018-10-19T11:15:34Z,done,0,0.8682363629341125
226612908,9562,dzmat,2018-10-19T11:19:55Z,"in the coding_guidelines.md there is nothing about that. anyway, moved to the top.",0,0.9922729730606079
226615380,9562,dzmat,2018-10-19T11:30:54Z,fixed,0,0.920660674571991
226615600,9562,dzmat,2018-10-19T11:31:55Z,moved,0,0.9507286548614502
226616579,9562,dzmat,2018-10-19T11:36:29Z,done,0,0.8682363629341125
226616965,9562,glassez,2018-10-19T11:38:28Z,", when you suggest to add const to parameter passed by value, please, don't forget to mention that it's applicable only to the function definition (and shouldn't affect its declaration).",0,0.9745339751243591
226617249,9562,dzmat,2018-10-19T11:39:52Z,"not sure where did you mean it, added below.",0,0.9431682229042053
226617634,9562,dzmat,2018-10-19T11:41:40Z,added,0,0.8435775637626648
226618443,9562,dzmat,2018-10-19T11:45:06Z,done,0,0.8682363629341125
226622451,9562,dzmat,2018-10-19T12:03:48Z,"if we remove that line, we can get strangely looking labels on low speeds. for example, starting calculation with 5 bytes/s , we will get such formatlabels() output: for 0 => 0 for 0.25 => 2 for 0.50 => 3 for 0.75 => 5 for 1.00 => 6 for preventing such awkward labels is this ""safety barrier"" placed here.",0,0.9531746506690979
226827912,9562,Chocobo1,2018-10-20T13:57:29Z,"yes, thank you!",1,0.9779707789421082
226828183,9562,Chocobo1,2018-10-20T13:59:17Z,thanks! [a link],1,0.9796048402786255
226828225,9562,Chocobo1,2018-10-20T14:01:18Z,"you forgot the space: `unit, const`",0,0.9916290044784546
226828343,9562,Chocobo1,2018-10-20T14:05:59Z,"the `const` need only be added to function definition, not declaration, so please remove the `const` here.",0,0.9952576756477356
226847775,9562,dzmat,2018-10-21T05:08:41Z,fixed,0,0.920660674571991
226847982,9562,dzmat,2018-10-21T05:21:55Z,"it confuses me, but somehow gets compiled even without warnings.",-1,0.8719925284385681
341308565,11433,glassez,2019-10-31T18:43:52Z,semicolon is redundant here.,0,0.970672607421875
341312054,11433,glassez,2019-10-31T18:51:43Z,getcolorbystate is redundant now so you should assign values directly. also please use field initializers instead of constructor body.,0,0.9948853850364685
341313581,11433,glassez,2019-10-31T18:55:12Z,maybe try to inherit transferlistmodel from qwidget too?,0,0.9905884265899658
341316893,11433,jagannatharjun,2019-10-31T19:02:37Z,i don't think multiple inheritance is allowed,0,0.9643539190292358
341317655,11433,jagannatharjun,2019-10-31T19:04:32Z,"multiple states have the same color, that's why i did it this way. will convert to constructor body.",0,0.9946275353431702
341318400,11433,jagannatharjun,2019-10-31T19:06:24Z,i actually did spend almost an hour to figure out what's happening since qt docs never mention this [a link],0,0.927581250667572
341326536,11433,glassez,2019-10-31T19:26:27Z,"either 1. rename it to transferlistcolors and drop ""color"" part from property names, or 2. drop ""textcolor"" part from property names.",0,0.9947853684425354
341436068,11433,Chocobo1,2019-11-01T02:55:35Z,wrong order.,-1,0.7645806670188904
341436255,11433,Chocobo1,2019-11-01T02:56:49Z,you missed giving the function argument a name.,0,0.9207587838172913
341436330,11433,Chocobo1,2019-11-01T02:57:13Z,redundant space at end,0,0.9529320001602173
341436404,11433,Chocobo1,2019-11-01T02:57:40Z,probably add a default case here or where it makes sense.,0,0.9869279265403748
341436470,11433,Chocobo1,2019-11-01T02:58:07Z,add `const` to `state`.,0,0.9945514798164368
341437131,11433,Chocobo1,2019-11-01T03:02:09Z,why convert `bittorrent::torrentstate` to `int` and back?,0,0.9800434112548828
341437846,11433,Chocobo1,2019-11-01T03:07:19Z,maybe you only need to inherit qobject instead of qwidget?,0,0.9875456690788269
341458997,11433,glassez,2019-11-01T05:53:55Z,", see comment above.",0,0.9880025386810303
341464198,11433,jagannatharjun,2019-11-01T06:29:54Z,to not include `bittorrent/torrenthandle.h` in `transferlistmodel.h`. should i include it?,0,0.9925570487976074
341464324,11433,jagannatharjun,2019-11-01T06:30:39Z,kill me xd.,-1,0.5019964575767517
341467776,11433,jagannatharjun,2019-11-01T06:52:18Z,"initialization in the constructor line is done. should i remove the `getcolorbystate`? idk i prefer it this way since there is same color for multiple torrent states and color is itself based on two states(dark, light). but if you insist i will remove the `getcolorbystate`.",0,0.9919048547744751
341467802,11433,jagannatharjun,2019-11-01T06:52:26Z,done.,0,0.9897913336753845
341467926,11433,jagannatharjun,2019-11-01T06:53:16Z,done,0,0.8682363629341125
341467944,11433,jagannatharjun,2019-11-01T06:53:23Z,done,0,0.8682363629341125
341467970,11433,jagannatharjun,2019-11-01T06:53:31Z,done?,0,0.9878233671188354
341467995,11433,jagannatharjun,2019-11-01T06:53:42Z,done,0,0.8682363629341125
341472775,11433,Chocobo1,2019-11-01T07:21:03Z,is it possible to use `const qcolor` here?,0,0.9946499466896057
341472832,11433,Chocobo1,2019-11-01T07:21:24Z,constructor should come first (above `q_property`),0,0.9951743483543396
341473444,11433,Chocobo1,2019-11-01T07:25:02Z,you need to add a space `m_unknown {...}`,0,0.9945710301399231
341474480,11433,Chocobo1,2019-11-01T07:30:41Z,i think yes.,0,0.967261016368866
341474670,11433,jagannatharjun,2019-11-01T07:31:40Z,nope compilation failes.,0,0.9458242654800415
341475895,11433,jagannatharjun,2019-11-01T07:37:57Z,done,0,0.8682363629341125
341475929,11433,jagannatharjun,2019-11-01T07:38:07Z,done,0,0.8682363629341125
341475948,11433,jagannatharjun,2019-11-01T07:38:13Z,done?,0,0.9878233671188354
341476697,11433,Chocobo1,2019-11-01T07:41:46Z,you didn't remove this line in transferlistmodel.cpp,0,0.9945131540298462
341476777,11433,Chocobo1,2019-11-01T07:42:05Z,and wrong order.,-1,0.9264978766441345
341476979,11433,Chocobo1,2019-11-01T07:42:59Z,seems you also need to add `constant` to `q_property` entries.,0,0.992742657661438
341477387,11433,Chocobo1,2019-11-01T07:44:52Z,you misunderstood. look for examples in session.cpp. requirement for spaces are different for () and {}.,0,0.6891820430755615
341478132,11433,jagannatharjun,2019-11-01T07:48:32Z,i chose the latter. done?,0,0.9917175769805908
341479264,11433,jagannatharjun,2019-11-01T07:54:21Z,compiles but qss doesn't work anymore ![a link],-1,0.8174464702606201
341479293,11433,Chocobo1,2019-11-01T07:54:29Z,are those required to be `public`?,0,0.9928014278411865
341479403,11433,Chocobo1,2019-11-01T07:55:01Z,is it a good idea to use `qcolor operator(bittorrent::torrentstate state) const;`?,0,0.9939606189727783
341479621,11433,Chocobo1,2019-11-01T07:55:42Z,ok forget it.,0,0.9499059319496155
341480861,11433,jagannatharjun,2019-11-01T08:01:59Z,well making it private doesn't affect anything but doesn't property should always be public. as they are already modifying outside the class `setproperty`?,0,0.9874430298805237
341480976,11433,jagannatharjun,2019-11-01T08:02:35Z,idk may be can say something.,0,0.9739806652069092
341481656,11433,jagannatharjun,2019-11-01T08:05:41Z,now?,0,0.9896223545074463
341481788,11433,jagannatharjun,2019-11-01T08:06:22Z,now?,0,0.9896223545074463
341481985,11433,jagannatharjun,2019-11-01T08:07:23Z,"also, i think operator overloading is scarcely used throughout qbittorrent code.",0,0.9884223341941833
341482749,11433,Chocobo1,2019-11-01T08:11:07Z,this can be `const`.,0,0.9941993951797485
341508983,11433,Chocobo1,2019-11-01T09:48:32Z,this look otherwise: [a link] imo if it can be `private` then it shouldn't be `public`.,0,0.9913109540939331
341513617,11433,Chocobo1,2019-11-01T10:04:11Z,"just found out that you can forward declare `enum class torrentstate;` then you won't need to make this change. on a second thought, this will depends on the underlying type, so probably not a very foolproof way.",0,0.9626023769378662
341516231,11433,jagannatharjun,2019-11-01T10:13:03Z,so should i do it?,0,0.9886000156402588
341516774,11433,jagannatharjun,2019-11-01T10:14:58Z,done,0,0.8682363629341125
341516879,11433,jagannatharjun,2019-11-01T10:15:20Z,done,0,0.8682363629341125
341518616,11433,jagannatharjun,2019-11-01T10:21:32Z,done,0,0.8682363629341125
341518725,11433,Chocobo1,2019-11-01T10:21:53Z,just leave it for now...,0,0.9878211617469788
341519336,11433,Chocobo1,2019-11-01T10:24:00Z,"... but it is already used through out the code base, well, make your choice.",0,0.9865790009498596
341519562,11433,jagannatharjun,2019-11-01T10:24:49Z,you marked this resolved so i am not reverting the commit.,0,0.9919036030769348
341520429,11433,Chocobo1,2019-11-01T10:27:47Z,"sorry, i pressed that button too quickly. i think i'll make another pr that prohibits forward declaring enum class. so it would be best that we make it right here.",-1,0.9699975848197937
341521678,11433,jagannatharjun,2019-11-01T10:32:35Z,"i think you meant to revert the commit, so i reverted it",0,0.9915298223495483
341521999,11433,jagannatharjun,2019-11-01T10:33:43Z,my english skills are still not that good. i'm working on it :face_with_tears_of_joy::smiling_face_with_smiling_eyes:,1,0.9796789884567261
341538136,11433,Chocobo1,2019-11-01T11:32:50Z,yes no worries :),1,0.9143827557563782
341631978,11433,Chocobo1,2019-11-01T15:46:04Z,"ok i did some test and i have cleared my confusion. in short, forward declaring enum class is okay since the compiler (gcc) will check whether the underlying type is the same. so sorry about the misleading discussion above. you can drop the `revert ""torrentstate""` commit and you also should not use const reference instead of plain value (see torrentcontentmodelfile.h for example).",-1,0.9768320918083191
341645102,11433,jagannatharjun,2019-11-01T16:16:38Z,done.,0,0.9897913336753845
341657053,11433,Chocobo1,2019-11-01T16:47:07Z,`const bittorrent::torrentstate state`,0,0.9936395287513733
341666067,11433,jagannatharjun,2019-11-01T17:09:46Z,sorry for such a stupid mistake again done.,-1,0.9956385493278503
358172907,11433,glassez,2019-12-16T11:04:21Z,it's better to have some struct here (e.g. torrentstatecolors m_torrentstatecolors). or even `qhash ` since you want to access each color separately.,0,0.9929078817367554
358257096,11433,jagannatharjun,2019-12-16T14:19:44Z,"i used `std::unordered_map`, qhash complains about missing qhash function.",0,0.9769490361213684
358296751,11433,glassez,2019-12-16T15:28:58Z,all these properties aren't supposed to be changed in a regular way so i think you can declare them private,0,0.9890263676643372
358299136,11433,Chocobo1,2019-12-16T15:32:55Z,"looks a bit weird to me, how about this: [code block]",-1,0.9668743014335632
358301956,11433,Chocobo1,2019-12-16T15:37:46Z,"i'm not sure, would sorting these functions (setters and getters and q_propertys) alphabetically makes it easier to maintain?",0,0.9142636656761169
358305398,11433,Chocobo1,2019-12-16T15:43:31Z,"let's try using qhash here, what was the error message? fyi i can use `qhash m_stateforegroundcolors;` without providing a custom qhash() function.",0,0.9946053624153137
358311556,11433,jagannatharjun,2019-12-16T15:53:55Z,these are defined in the order of torrentstate is defined and i am bad with sorting alphabetically :face_with_tongue:,-1,0.9901513457298279
358322903,11433,Chocobo1,2019-12-16T16:12:45Z,weird... i only did 3 things in transferlistmodel.h to get it compile on gcc: 1. add `qhash m_stateforegroundcolors;` 2. add `enum class torrentstate;` forward declaration. 3. add `#include `,-1,0.9883657693862915
358328975,11433,Chocobo1,2019-12-16T16:22:31Z,probably you don't need the `enum` here and below and in .cpp,0,0.989413857460022
358336084,11433,jagannatharjun,2019-12-16T16:34:40Z,nope not working. also tried directly including base/bittorrent/torrenthandle.h,0,0.9644834995269775
358339545,11433,Chocobo1,2019-12-16T16:40:35Z,"well, then at least add a comment about it: `// todo: use qhash when msvc doesn't complain about it anymore`",0,0.9926557540893555
358340094,11433,glassez,2019-12-16T16:41:37Z,it's optional in c++ and we usually omit it.,0,0.9901195764541626
358342804,11433,glassez,2019-12-16T16:46:30Z,then why not just declare appropriate qhash function? it's trivial. or use underlying integer type for qhash keys?,0,0.993353009223938
358343409,11433,jagannatharjun,2019-12-16T16:47:36Z,done.,0,0.9897913336753845
358343569,11433,jagannatharjun,2019-12-16T16:47:50Z,done,0,0.8682363629341125
358344587,11433,jagannatharjun,2019-12-16T16:49:39Z,does using qt containers really that important. i saw some talk of one of qt developer and he himself advised to not use qt containers.,0,0.8995570540428162
358347243,11433,glassez,2019-12-16T16:53:59Z,"i think no, unless there are some benefits in some particular case. don't forget that qt containers are implicitly shared, for e.g..",0,0.9801912307739258
358348701,11433,jagannatharjun,2019-12-16T16:56:32Z,"i considered using underlying type but then i have to use static_cast everywhere, especially using that in constructor will only produce useless noise.",0,0.7778251767158508
358349986,11433,glassez,2019-12-16T16:58:52Z,it's no problem for me to use unordered_map here.,0,0.9861428141593933
358367431,11433,Chocobo1,2019-12-16T17:31:58Z,"i think the point is the coherency of container/data structure used through out the project. now there is a comment stating the reason of using std container, then i'm fine with it. i considered about it awhile ago but i think it is too much work for little/none gain for this project.",0,0.9128760695457458
358375297,11433,glassez,2019-12-16T17:48:51Z,"since std/qt containers are not complete substitutes for each other, such a question should never be raised. we only can choose default containers for project (qt containers currently) and use others when it has meaning.",0,0.9917508959770203
359704728,11433,Chocobo1,2019-12-19T06:33:11Z,strip `static`.,0,0.9936703443527222
359704968,11433,Chocobo1,2019-12-19T06:34:25Z,move this to .cpp file and don't forget the `const` to variables.,0,0.9947664737701416
359715174,11433,jagannatharjun,2019-12-19T07:16:48Z,done,0,0.8682363629341125
359718665,11433,jagannatharjun,2019-12-19T07:30:23Z,done,0,0.8682363629341125
1640344147,20951,thalieht,2024-06-14T20:48:42Z,whether a torrent is private isn't defined by its source. is disambiguation needed for this? i don't have any suggestions.,0,0.9704274535179138
1640344780,20951,thalieht,2024-06-14T20:49:21Z,[code block] same in all other places where you use `qstringliteral`,0,0.9954344630241394
1640345306,20951,thalieht,2024-06-14T20:50:03Z,[code block] strings are left aligned.,0,0.9946510195732117
1640389181,20951,ManiMatter,2024-06-14T22:01:45Z,"how about simply putting ""flags private torrents""?",0,0.9913732409477234
1640394331,20951,ManiMatter,2024-06-14T22:11:15Z,done,0,0.8682363629341125
1640419959,20951,thalieht,2024-06-14T22:49:25Z,sure.,0,0.9824982285499573
1640811952,20951,ManiMatter,2024-06-15T06:33:38Z,done,0,0.8682363629341125
1640831588,20951,Chocobo1,2024-06-15T07:00:57Z,maybe add `hidevalues`? [code block],0,0.9954043626785278
1640832571,20951,Chocobo1,2024-06-15T07:02:12Z,"does it depend on metadata? if not, it should be moved out (above) of the if conditional.",0,0.9942460656166077
1640832953,20951,Chocobo1,2024-06-15T07:02:42Z,this check is redundant anyway: [code block],0,0.9541655778884888
1640833496,20951,Chocobo1,2024-06-15T07:03:27Z,keep it sorted: [code block],0,0.9950205087661743
1640836366,20951,Chocobo1,2024-06-15T07:07:40Z,try: [code block],0,0.9946432113647461
1640843881,20951,Chocobo1,2024-06-15T07:18:46Z,"imo it should be placed above ""info hash v1"". like so: [code block]",0,0.9936726093292236
1640851759,20951,Chocobo1,2024-06-15T07:30:03Z,this should be moved up and drop the `colspan`: [code block],0,0.9960695505142212
1640867755,20951,glassez,2024-06-15T07:49:59Z,"afaik, we can't know whether torrent is private or not if there is no metadata available. so i would display ""n/a"" in case when there are no metadata available.",0,0.9867718815803528
1640974050,20951,stalkerok,2024-06-15T10:00:32Z,maybe better [code block] it'll save space.,0,0.9747464060783386
1649705103,20951,ManiMatter,2024-06-22T14:08:18Z,"personally, i prefer order. if space is the issue, i would find it more logical to put the two hashes on to the same line, rather than hash v1 and private.",0,0.9787281155586243
1649772243,20951,stalkerok,2024-06-22T19:10:48Z,i would still prefer to keep the hash to two lines. do you have your own preferences?,0,0.9844117760658264
1649777148,20951,glassez,2024-06-22T19:29:20Z,"shouldn't it be ""private"" instead of ""is_private""? or is it not the binding with the data returned by webapi?",0,0.9932477474212646
1649787260,20951,ManiMatter,2024-06-22T20:29:25Z,"- i moved the private flag up as per and left the hashes on two lines for now. screenshots of current implementation: [a link] i chose not to move the private flag to the same line as hash v1, since on small screens the hash may be longer than the first column, and hence if the private is in the 2nd column i felt it may visually not be appealing",0,0.9788137674331665
1649800977,20951,thalieht,2024-06-22T22:01:54Z,with the changes in the lambda above: [code block],0,0.9955833554267883
1649801653,20951,thalieht,2024-06-22T22:05:24Z,this already exists in line 327 (at the moment of writing). [a link] was referring to it. /off topic i can't help with api stuff.,0,0.9429602026939392
1649802489,20951,thalieht,2024-06-22T22:11:02Z,i don't have an opinion on this.,-1,0.7978404760360718
1649934146,20951,glassez,2024-06-23T05:51:18Z,"i believe it should display only ""yes"" values when `hidevalues` is `true`.",0,0.9898513555526733
1649935049,20951,glassez,2024-06-23T05:56:37Z,"another idea. should we always display an empty string in ""private"" column for torrents w/o metadata (instead of ""n/a"")?",0,0.9837925434112549
1650096378,20951,ManiMatter,2024-06-23T15:08:18Z,thank you. fixed it.,1,0.9819362759590149
1650510013,20951,Chocobo1,2024-06-24T07:47:00Z,this is wrong. move it to just above of `transferlistmodel::tr_status`.,0,0.9854432344436646
1650514135,20951,Chocobo1,2024-06-24T07:49:16Z,"since you are creating a new key, i would insist getting the grammar right. for all new code, please replace `has_metadata` with `have_metadata` globally. [code block]",0,0.9946322441101074
1650516248,20951,Chocobo1,2024-06-24T07:50:28Z,also please bump `api_version` in webapplication.h,0,0.9940993785858154
1650550599,20951,ManiMatter,2024-06-24T08:16:07Z,"why ""have"" and not ""has""? while ""metadata"" is plural, it's the torrent (singular) that has (or does not have) metadata. thus ""has"" to me sounds grammatically correct?",0,0.9846161007881165
1650708250,20951,Chocobo1,2024-06-24T09:44:28Z,"from [a link] : the ""metadata"" is not a 'third-person' property/subject but a native property of a `torrent` object. or view it another way: the `torrent::hasmetadata()` is telling whether the `torrent` itself has metadata, it is not referring to a third-party object. it is like me saying ""i have a car"". as a counter example: [a link] static method has an `obj` parameter to refer to some 'third-party' object. thus it is correct to use `has` instead of `have` there.",0,0.9884024262428284
1650726880,20951,ManiMatter,2024-06-24T09:55:40Z,"i understand that metadata is a native property, but in my view we describe ""the torrent"", which is the third person singular. it (""the torrent"") has properties. if the torrent described itself, it would say ""i have"" properties. but here we are the people describing, thus i'd argue we should say ""it has"", and in consequence stick with ""hasmetadata"". it would also be consistent with the torrent data model which uses ""hasmetadata()"" what do the others think?",0,0.979438304901123
1650745094,20951,Chocobo1,2024-06-24T10:04:31Z,"hmmm after some googling [a link] uses ""has"": well. it seems my opinion is not conclusive. please disregard it. sorry for the noise.",-1,0.992660641670227
1650787098,20951,glassez,2024-06-24T10:36:56Z,"i believe that such naming rules based on ordinary wording, for example, ""torrent has metadata"". but qt naming convention is more abstract from natural language. they require not to use third from for verbs (`is` prefix is special case): i suggest not to dwell on it here, since we don't have clear rules about it.",0,0.9824586510658264
1651527672,20951,ManiMatter,2024-06-24T19:36:42Z,i think there is something off with this change; the linter complains about a curly bracket after the merge. do you spot it? else i will check it when i find the time,0,0.9837958812713623
1652005006,20951,Chocobo1,2024-06-25T05:25:28Z,this should address the ci error: [code block],0,0.9956121444702148
1652752470,20951,ManiMatter,2024-06-25T12:44:33Z,"thx, that passes now",0,0.9900587201118469
1657005692,20951,glassez,2024-06-27T11:58:07Z,"separate value corresponding to ""n/a"" state should be provided in order to sort by ""private"" column properly. i believe `-1` could do the job.",0,0.9938613176345825
1657521544,20951,stalkerok,2024-06-27T17:25:00Z,", however, i would still put it on one line. or so, if possible, then the hash would definitely not overlap [code block]",0,0.9898202419281006
1657525786,20951,stalkerok,2024-06-27T17:28:23Z,"anyway, it's not that important, maybe some more information will take up the empty space in the future.",0,0.8651547431945801
1660136061,20951,ManiMatter,2024-06-30T10:24:08Z,thanks - would this work?[a link],1,0.5611019730567932
1660156281,20951,glassez,2024-06-30T11:09:17Z,"no. did i suggest returning its string representation? isn't it obvious that `internalvalue()` should provide something else (except, of course, the cases when the data itself is string)? imo, i made it clear that it is only necessary to add some third value that would correspond to the case when the ""privateness"" is not available (due to the lack of metadata).",0,0.9907758831977844
1660210836,20951,glassez,2024-06-30T16:23:03Z,"it makes no sense to write obvious things in the comments, for example, **what** the code does (this is already clear from the code itself). if you want to explain it, then write down **why** it does it.",0,0.9571872353553772
1660211678,20951,glassez,2024-06-30T16:26:53Z,p.s. below is an example of a completely meaningless comment. [code block],-1,0.6895041465759277
1660213206,20951,glassez,2024-06-30T16:31:38Z,why to complicate it? [code block],0,0.9727579355239868
1660213949,20951,glassez,2024-06-30T16:36:25Z,seems more correct would be the following: [code block] ...and use appropriate comparison in sort model (that takes into account invalid values).,0,0.9893332123756409
1660308402,20951,ManiMatter,2024-06-30T21:04:08Z,thanks... i agree with you that the comment is superfluous. i only added it because the code that is already there has the same type of comments.. example: [a link],1,0.981960654258728
1660309641,20951,ManiMatter,2024-06-30T21:14:02Z,i implemented it: [a link],0,0.9932863116264343
1660393068,20951,glassez,2024-07-01T02:48:02Z,"ok. but you still haven't taken care of the second part: iirc, the following will not handle invalid values properly: [code block]",0,0.9888187050819397
1660405266,20951,glassez,2024-07-01T03:17:23Z,"try to add the following function: [code block] ...and use it to compare ""privateness"": [code block]",0,0.9942147135734558
1660407491,20951,glassez,2024-07-01T03:21:51Z,or maybe convert an existing one into a template: [code block],0,0.994606077671051
1660511581,20951,ManiMatter,2024-07-01T06:05:55Z,"i am still not sure why we changed approach a) to approach b) with the first one, we always get an integer (1, 0, -1), since -1 is the fall-back and isprivate() is only 1 or 0. since we convert the arguments for the threewaycompare explicitly to int, shouldn't it work if we sticked with approach a)? [a link]",0,0.9171040058135986
1660666084,20951,glassez,2024-07-01T08:25:49Z,"because it better (more explicitly) reflects its essence. it either returns the value of ""privateness"" itself (of type bool), or invalid if it is not available (via an uninitialized qvariant). another way is a workaround, since all values (both valid and not) are represented by another data type (integer). i.e. true/false/invalid vs 1/0/-1.",0,0.9873861074447632
1660677839,20951,glassez,2024-07-01T08:34:56Z,`internalvalue()` should just return internal/raw representation of data. it shouldn't really depend on some particular usage of it.,0,0.9924036264419556
1661513321,20951,ManiMatter,2024-07-01T20:34:06Z,"please forgive me for maybe being slow in understanding. in my latest commit, i simply moved the `case transferlistmodel::tr_private:` from a `threewaycompare` to a `customcompare`. however, i did not convert an existing function into a template, because i believe that is already existing?: [a link]",-1,0.645909309387207
1661523385,20951,ManiMatter,2024-07-01T20:45:30Z,"thank you for the explanation,",1,0.745954155921936
1662167173,20951,glassez,2024-07-02T09:15:32Z,"oh, right, i overlooked it (it's not very convenient to do all this through a smartphone browser). unfortunately, it is limited only to arithmetic types. but it's not a problem to make a more generic template. you can delete all instances of `customcompare` except the one that accept `tagset` as parameters, and add the following code instead: [code block]",0,0.9261389374732971
1662878352,20951,ManiMatter,2024-07-02T16:59:20Z,"done - had to add a small refinement, since the 2nd template was also triggered for arithmetic types and the ci complained about template overloading. hope the refinement makes sense? [a link]",0,0.680990993976593
1662936902,20951,glassez,2024-07-02T17:47:03Z,hmm... clang compiled this without a problem. `std::enable_if_t` looks cumbersome. i'd rather use a more modern approach with `if constexpr`: [code block],0,0.8276069164276123
1662952269,20951,glassez,2024-07-02T17:57:46Z,...or better add requirement to second template: [code block],0,0.9955560564994812
1662957483,20951,ManiMatter,2024-07-02T18:02:50Z,updated :check_mark: thanks for the code suggestion. [a link],1,0.9811909794807434
1662969751,20951,ManiMatter,2024-07-02T18:14:29Z,done - [a link],0,0.9946527481079102
1662989357,20951,ManiMatter,2024-07-02T18:32:46Z,to keep them in alphabetical order?,0,0.9934466481208801
1663655184,20951,Chocobo1,2024-07-03T07:21:18Z,wrong order.,-1,0.7645806670188904
1663681247,20951,ManiMatter,2024-07-03T07:37:14Z,could you elaborate please?,0,0.9898267984390259
1665125291,20951,Chocobo1,2024-07-04T05:07:16Z,please keep them in alphabetical order.,0,0.9936589598655701
1665125634,20951,Chocobo1,2024-07-04T05:07:50Z,yes.,0,0.9851860404014587
1665138104,20951,ManiMatter,2024-07-04T05:21:44Z,"happy to change that order (done). but what about the other inclusions? they are not in alphabetical order either. [code block] just for my education and to understand how to do it ""the right way"" - is there a reason for that specific order?",1,0.9425123929977417
1665140240,20951,ManiMatter,2024-07-04T05:25:07Z,done.,0,0.9897913336753845
1665148747,20951,glassez,2024-07-04T05:37:51Z,"there are various reasons, some of which are objective, some of which are subjective - there are many discussions on this topic on the web. in general, we have drawn up our own rules based on them: [a link]",0,0.9921736717224121
1665153466,20951,ManiMatter,2024-07-04T05:44:46Z,"thx for sharing, will study those",1,0.8244207501411438
1669878145,20951,glassez,2024-07-09T07:17:09Z,"damn it, we've overlooked it after all. this is the wrong place because it is eventually compared as an integer. [code block] it should be moved outside of this group of cases and placed separately: [code block]",-1,0.9923163652420044
1676758486,20951,Chocobo1,2024-07-13T05:14:57Z,"~~this new comparison logic isn't equivalent to the removed `int customcompare(const qdatetime &left, const qdatetime &right)`. the `if (!isleftvalid && !isrightvalid)` case would produce unexpected results.~~ furthermore, this `customcompare` was really intended for specific arithmetic types and not general use. by making them generic really hides the essence of how and what are they comparing. i would suggest reverting these changes in #21041.",0,0.9756382703781128
1676766456,20951,glassez,2024-07-13T05:57:11Z,"i don't know how you define it, but this compare logic is really the same for all types for which we define the concept of ""invalid value"". the only difference is how the concept of ""invalid value"" is defined for a particular type.",0,0.9870439171791077
1676771615,20951,glassez,2024-07-13T06:39:33Z,"done anyway. i don't want to waste my time on this issue anymore, it's already taken up too much of it.",-1,0.9180859327316284
1676777116,20951,Chocobo1,2024-07-13T07:22:59Z,"for me, i would treat the comparison for each column as unique and it should be (easily) customizable. if some of them could share the same code then it is great and can be done. also generalization should not become the final goal as it would hide the salient comparison of the column values (and possibly introduce slower comparison code path).",0,0.9386089444160461
63577775,5264,glassez,2016-05-17T18:29:04Z,this and next methods are equal except param type. why don't you implement template?,0,0.9939321875572205
63578757,5264,glassez,2016-05-17T18:34:32Z,why too long? `version ` is enough.,0,0.9659323692321777
63578859,5264,zeule,2016-05-17T18:35:03Z,"they differ in the very first line (`qlatin1char` vs `char`). i don't know how to express this difference in a single template, otherwise i would join them.",0,0.9531930685043335
63579146,5264,glassez,2016-05-17T18:36:43Z,doesn't `char` work with qstring?,0,0.9937390089035034
63579514,5264,glassez,2016-05-17T18:38:47Z,maybe `std::array `?,0,0.9936662316322327
63579855,5264,Chocobo1,2016-05-17T18:40:39Z,or maybe `std::tuple`? it handles a lot of relational operators...,0,0.9930461049079895
63580369,5264,zeule,2016-05-17T18:43:39Z,take a look at the updated version. i think that is suitable.,0,0.8889363408088684
63580602,5264,zeule,2016-05-17T18:44:58Z,"you don't believe in plugin writers? joking, of course.",0,0.5517646670341492
63581015,5264,glassez,2016-05-17T18:47:17Z,"isn't `return {0u, 0u};` enough?",0,0.9934558272361755
63581847,5264,Chocobo1,2016-05-17T18:52:26Z,what i'm going to say maybe doesn't make sense (please bear with me): it is weird to have a ctor taking`qstring` as parameter. i would imagine having a list (or tuple) of numbers as parameters. and maybe provide a static method to convert `qstring` to list (or tuple) of numbers...,-1,0.9837390184402466
63591900,5264,zeule,2016-05-17T19:54:49Z,"could you elaborate, please?",0,0.9868924021720886
63592256,5264,zeule,2016-05-17T19:57:09Z,"there are no `unsigned short` literals, and thus, expressions like `{0u, 0u}` will result in narrowing conversion in constructor. i don't know a beautiful solution.",0,0.6244349479675293
63593094,5264,zeule,2016-05-17T20:02:33Z,maybe just return `pluginversion()`?,0,0.9927571415901184
63652026,5264,glassez,2016-05-18T06:35:22Z,or even `{}` since we use default pluginversion here anyway.,0,0.9931144118309021
63652089,5264,glassez,2016-05-18T06:35:52Z,default constructed pluginversion is enough here.,0,0.9955690503120422
63652417,5264,glassez,2016-05-18T06:39:29Z,why don't you use `m_components.at(i)` directly?,0,0.9937586784362793
63652642,5264,glassez,2016-05-18T06:42:04Z,insert blank line before.,0,0.9860677123069763
63652871,5264,glassez,2016-05-18T06:44:32Z,"separate declarations of different type (ie, methods, types, fields) by blank line.",0,0.9905279874801636
63653191,5264,glassez,2016-05-18T06:47:43Z,"if you did this ""general"" version template, then put it in its own header. otherwise, what sense in it?",0,0.9833464622497559
63655822,5264,Chocobo1,2016-05-18T07:16:36Z,"the essence of `version` class is just a tuple of numbers, how could someone imagine he could construct a tuple of numbers via a qstring? so it would be more explicit to do something like: [code block]",0,0.9915909767150879
63656994,5264,Chocobo1,2016-05-18T07:28:17Z,anyone had the interest to enlighten me is there any downside if use `std::tuple` here:question:,0,0.9522687792778015
63661534,5264,zeule,2016-05-18T08:07:33Z,"from my point of view, a possibility to write a version as a text is an inherent property of it. that is why i added those constructors. following this path, `operator qstring` and `operator qbytearray` may be of use. your vision limits a version to an ordered number sequence which may be compared to another such sequence, as far as i understand. btw, repeating the argument type in the from- methods we just add unneeded noise, as to me. `fromstring` would be enough.",0,0.9798689484596252
63662371,5264,Chocobo1,2016-05-18T08:14:44Z,"thank you for the explanation, then so be it, i've already raised my concerns.",0,0.8310665488243103
63664801,5264,zeule,2016-05-18T08:34:47Z,where would you suggest to put the file?,0,0.9945545196533203
63665636,5264,zeule,2016-05-18T08:40:32Z,i replaced `tostring()` with `operator qstring` and that allowed to remove `qdebug` output operator.,0,0.9942319989204407
63672093,5264,glassez,2016-05-18T09:29:16Z,"in `base/`. but i have another look at it. why bother to use this template? why not just make one generic version class? we can have fixed format version: major.minor.release.patch. and we can represent it as follows: major[.minor[.release[.patch]]], where any omitted rest is equal to zero.",0,0.9817564487457275
63672412,5264,glassez,2016-05-18T09:31:45Z,"why? afaik, tuple is array with items of different type.",0,0.991111695766449
63672870,5264,glassez,2016-05-18T09:35:21Z,why you add `{}` here? why not `pluginversion version;`?,0,0.9941082000732422
63673155,5264,glassez,2016-05-18T09:37:07Z,"and don't forget about ""punctuation"" rule: `version `.",0,0.9941771030426025
63673291,5264,zeule,2016-05-18T09:38:15Z,because a template allows describing the conception cleanly. how do you suggest to implement conversion to a string? omit zeroed components too?,0,0.9925234913825989
63673386,5264,glassez,2016-05-18T09:39:03Z,`n - 1`,0,0.9792047142982483
63673419,5264,glassez,2016-05-18T09:39:15Z,`n - 1`,0,0.9792047142982483
63673614,5264,glassez,2016-05-18T09:40:54Z,you don't catch exceptions...,0,0.9888022541999817
63674247,5264,zeule,2016-05-18T09:45:50Z,"btw, i forgot to reply to a previous comment. i use this->operator[] in order to encapsulate the implementation (`std::array`) and catch potential out of range errors.",0,0.9845527410507202
63677801,5264,zeule,2016-05-18T10:12:14Z,done.,0,0.9897913336753845
63678777,5264,glassez,2016-05-18T10:19:58Z,"is it the problem? there is common way: minimum items (default to, for example, 2) + omit trailing zeros. omitting trailing zeros is a common practice. but your implementation disallow it.",0,0.9753366112709045
63678985,5264,glassez,2016-05-18T10:22:01Z,wrong indentation.,-1,0.5286551713943481
63679302,5264,glassez,2016-05-18T10:24:42Z,why do you move these operators outside the class?,0,0.992240309715271
63679354,5264,zeule,2016-05-18T10:25:16Z,"no, it does not. you just need to change `operator qstring()`, but i think that for the plugin versions we shall not do the omitting.",0,0.9933278560638428
63679368,5264,glassez,2016-05-18T10:25:25Z,`version `,0,0.9908258318901062
63679569,5264,zeule,2016-05-18T10:26:56Z,"if you like, we can add another template parameter (number of mandatory printed digits) and change constructors and `operator qstring()` accordantly.",0,0.9947726130485535
63680019,5264,zeule,2016-05-18T10:31:12Z,because they do not need an access to the internal representation of the class.,0,0.9898567199707031
63680219,5264,glassez,2016-05-18T10:33:08Z,i wish this worked in the usual way: it should parse version string with/without trailing zeros and it should print version in following format: min items count + trailing items unless the last item is zero.,0,0.8898332715034485
63680495,5264,glassez,2016-05-18T10:35:12Z,it's not the reason.,0,0.8583670258522034
63680633,5264,zeule,2016-05-18T10:36:24Z,pardon?,0,0.9331162571907043
63681502,5264,glassez,2016-05-18T10:44:31Z,"just for fun... we can do this either as an external function, or as a friend external function, or as a class method. what to choose? i'm more interested in the second and third option.",1,0.5907061696052551
63681773,5264,zeule,2016-05-18T10:47:14Z,of course the non-friend free external function: the less code has access to the class internals the better.,0,0.9888728260993958
63681827,5264,Chocobo1,2016-05-18T10:47:54Z,"this won't matter if agrees on some fixed typedef: `typedef std::tuple version;` an ideal `version` type has the same mathematical properties as `std::tuple `. and mainly because `std::tuple` already handles the relational operators just as we wanted. all there's missing is some helper methods to do type conversions. the `version` class could be simpler, imo. but all of this doesn't matter now, see: [a link]",0,0.9814832806587219
63683061,5264,zeule,2016-05-18T10:58:26Z,`std::array` has comparison operators too.,0,0.9909634590148926
63685850,5264,Chocobo1,2016-05-18T11:24:09Z,"thanks, i didn't noticed that, but this leads to another question, why don't you utilize it directly?",1,0.8788817524909973
63687767,5264,zeule,2016-05-18T11:41:01Z,i will in the next pr update. :) thank you for pointing me to them!,1,0.99733966588974
63688964,5264,Chocobo1,2016-05-18T11:52:23Z,:+1:,0,0.9328674077987671
63708415,5264,glassez,2016-05-18T14:05:51Z,but if you need an access?,0,0.9927194118499756
63711095,5264,zeule,2016-05-18T14:19:52Z,"it depends, as you probably know. for this class i prefer members: less typing, no profits from non-members.",0,0.9753817915916443
63927086,5264,glassez,2016-05-19T18:07:52Z,add space after `while`.,0,0.9946832060813904
63928561,5264,glassez,2016-05-19T18:16:32Z,if this file is in `base/utils/` then put the template name in utils namespace.,0,0.9952202439308167
63929308,5264,glassez,2016-05-19T18:20:50Z,"we can avoid using exceptions, if we add **valid** property (via `version::isvalid()`). what do you say about?",0,0.995079755783081
64200400,5264,zeule,2016-05-23T10:29:21Z,"why would we want to? i'm objecting creating classes without an invariant. if you want to avoid try- blocks in the client code, we better add `version tryparse(astring s, const version &defaultversion)`. maybe make it static in the `version` class.",0,0.9755098223686218
64238104,5264,glassez,2016-05-23T15:07:18Z,"yes. ok. but, imo, it will be better to use another form: `bool parse(const qstring &str, version &version)` (i think we don't need any default version when parsing failed).",0,0.975005030632019
64238542,5264,glassez,2016-05-23T15:11:38Z,"of course, it should be static method in the version class.",0,0.99165278673172
65374407,5264,Chocobo1,2016-06-01T14:45:44Z,"why this operator isn't a method of the class `version`? since it's now using `std::array` relational operators, maybe [a link] doesn't hold any more.",0,0.9878937602043152
65380138,5264,zeule,2016-06-01T15:10:54Z,for the same reason: this function does not need an access to the class internal representation.,0,0.9928081035614014
65394031,5264,Chocobo1,2016-06-01T16:20:12Z,"just curious, what is your opinion on this one? [code block] btw, maybe you should add a comment about it, you know it could leave some devs scratching their heads (or maybe just me :p)",1,0.9821122884750366
65396829,5264,zeule,2016-06-01T16:35:36Z,"with this one it is needed to read the function body, while operator outside of the class suggests that it does not have access to the non-public members. i don't say that there are no friend operators, but you scan for friends declarations inside of a class when reading it, right? besides, i was thinking about [code block] and free function provides a symmetrical form.",0,0.9918971657752991
65398785,5264,zeule,2016-06-01T16:47:35Z,", do you suggest to make it a class member? why, if so?",0,0.9928910732269287
65411454,5264,Chocobo1,2016-06-01T18:00:42Z,"and so is reading `==` and other relational operators, no? yes, but why this hint is important? it would make sense if implicit conversion are involved as i read here: [a link] or doing [a link] and `!=` is a `const` method, it clearly hints it won't modify anything. ## can't really say i have a special consideration. imo it's just simplicity. if i see a `==` in a class declaration, then naturally (for me) there should be a `!=` nearby, if it's declared outside of the class then it must be doing something special, but now, seems not.... and i don't think we need to have `==` operator for different template instances now... i'm lazy person (well, just a bit) so i'm found of [a link] principle. nice discussing with you though.",0,0.9674401879310608
65429432,5264,zeule,2016-06-01T19:48:04Z,"another point which i did not realise rationally before now, is the following: when functions are inside of a class, the class declarations grows longer and psychologically i feel it as probably more complicated entity, while free functions are independent and thus do not increase the complexity level.",0,0.9678213596343994
66310765,5264,sledgehammer999,2016-06-08T18:21:30Z,honest question: is there a technical reason to do `return {}` instead of `return pluginversion`? to me the 2nd one is more readable.,0,0.9472054839134216
66310913,5264,sledgehammer999,2016-06-08T18:22:16Z,alphabetically this goes after qlist.,0,0.9940764904022217
66313037,5264,sledgehammer999,2016-06-08T18:32:30Z,i think this should be `n >= 3`,0,0.9875268340110779
66313079,5264,sledgehammer999,2016-06-08T18:32:43Z,i think this should be `n >= 4`,0,0.987628698348999
66313537,5264,sledgehammer999,2016-06-08T18:35:16Z,no checks here?,0,0.991061806678772
66314038,5264,sledgehammer999,2016-06-08T18:37:47Z,i would suggest `static version parse(const aqstring &s)` and always returning an empty version on error.,0,0.9931107759475708
66315451,5264,sledgehammer999,2016-06-08T18:45:22Z,i confess that i am not good with template programming. it hurts my brain. and i suspect that in the above 2 lines you use c++11 features. can you explain to me what the 2 lines above do?,-1,0.9843171834945679
66315582,5264,sledgehammer999,2016-06-08T18:45:53Z,is this necessary when you don't pass a value to the member variable?,0,0.991922914981842
66315976,5264,sledgehammer999,2016-06-08T18:48:02Z,"'mandatory' field isn't used in actual code yet, right?",0,0.9872156381607056
66322825,5264,zeule,2016-06-08T19:27:56Z,"no, there is no difference. compiler substitutes '{}' with 'pluginversion()'.",0,0.9933434724807739
66323150,5264,zeule,2016-06-08T19:29:56Z,what do you mean? it is used when parsing string representation of the version and when generating the string representation.,0,0.9924254417419434
66323350,5264,zeule,2016-06-08T19:31:20Z,afaik `std::array` behaves like a c array. i want to initialise it with zeroes.,0,0.9905127882957458
66323605,5264,sledgehammer999,2016-06-08T19:32:58Z,i mean i only saw this initialization(?) `utils::version ` not something like `utils::version ;`,0,0.9924450516700745
66323741,5264,zeule,2016-06-08T19:33:52Z,"this is the variadic template, which can take variable number of arguments. this allows one to write: [code block] to get version ""3.3.5""",0,0.9951045513153076
66323902,5264,sledgehammer999,2016-06-08T19:35:06Z,i think the error text is wrong here. mandatory components can be fewer than the total number of components.,0,0.9407850503921509
66323944,5264,zeule,2016-06-08T19:35:23Z,": and this line forwards those initialiser lists to the `std::array`, which checks its number and types.",0,0.9935042262077332
66324672,5264,zeule,2016-06-08T19:40:12Z,stupid me. thanks!,-1,0.9955476522445679
66324796,5264,zeule,2016-06-08T19:41:01Z,i will add `static_assert(n > 0)` then,0,0.9943829774856567
66325309,5264,zeule,2016-06-08T19:44:19Z,why? what's the problem with the current code?,0,0.8637175559997559
66326497,5264,sledgehammer999,2016-06-08T19:51:21Z,i was merely suggesting a different approach(and name). i think most of qt follows the same paradigm. try to parse and then check the result if empty. (or special error() function if empty result is a valid state).,0,0.9893321990966797
66328282,5264,zeule,2016-06-08T20:01:00Z,that's it: version 0 is the valid one.,0,0.9898421168327332
66329077,5264,sledgehammer999,2016-06-08T20:03:56Z,but you still do this check elsewhere `version != pluginversion{}`! or is it a different state? (sorry i am confused by the abstraction of templates).,-1,0.9754496812820435
66330050,5264,zeule,2016-06-08T20:09:49Z,i guess you mean the code in `searchengine::parseversioninfo()`. in _that_ context empty version is not valid. but shall we assume this in general? what about the following signature: [code block] which throws if `ok == nullptr`?,0,0.9878638386726379
66330492,5264,sledgehammer999,2016-06-08T20:12:25Z,"hmm, is it easier for version to have an isvalid() method instead? qt has it and most of our base classes do too.",0,0.9762337803840637
66333329,5264,zeule,2016-06-08T20:28:42Z,i strongly object. classes without an invariant are hard to use and i don't understand for what sake we shall do that to this class which has a simple and very well defined invariant.,-1,0.949781596660614
66334065,5264,sledgehammer999,2016-06-08T20:33:05Z,"ok. then use the ""ok"" signature you posted above if you want. or leave it as is. i just wanted to make it easier for checking. not add complexity.",0,0.9869438409805298
66343101,5264,zeule,2016-06-08T21:25:16Z,"yes. asked to add support for mandatory < total, and it was fun to do that.",1,0.9946529865264893
66343466,5264,zeule,2016-06-08T21:27:32Z,"will leave it as it is then, because with the 'ok' parameters it would be needed to rewrite the parsing/constructor relation the other way round.",0,0.9927679300308228
66354319,5264,sledgehammer999,2016-06-08T22:47:37Z,"i am not sure the behavior of this is desired. if someone enters a version of ""3.0.0"" then he surely expects ""3.0.0"" printed back and not just ""3"". even if ""mandatory == 1"". do you have any use-case that need the current behavior?",0,0.8891158699989319
66364946,5264,zeule,2016-06-09T00:21:37Z,?,0,0.9296892285346985
66384975,5264,glassez,2016-06-09T05:34:28Z,"omitting trailing zeros (down to mandatory size) is common version use case. so proper version parser shouldn't fail with such a reduced version representation. mandatory here is ""coding style"" for version string. so if some project have `mandatory = 2` ""3.0.0"" and ""3"" are incorrect for it, but ""3.0"", ""3.0.1"" and even ""3.0.0.1"" are correct.",0,0.9854158759117126
94568981,5264,zeule,2017-01-04T11:39:13Z,done,0,0.8682363629341125
112528184,5264,glassez,2017-04-20T18:31:14Z,redundant blank line.,0,0.8117470145225525
112528749,5264,glassez,2017-04-20T18:33:49Z,"imo, `class aqstring` is ugly. just use `class string`.",-1,0.9909203052520752
112528885,5264,glassez,2017-04-20T18:34:29Z,why not qlatin1char is here?,0,0.9877183437347412
112529255,5264,glassez,2017-04-20T18:36:17Z,shouldn't these two constructors be private and used indirectly via tryparse?,0,0.992351233959198
112529324,5264,glassez,2017-04-20T18:36:36Z,redundant blank line.,0,0.8117470145225525
112529823,5264,glassez,2017-04-20T18:38:55Z,i see you prefer `class` keyword in templates. why not `typename`? let's leave `class` for class declarations. (imo),0,0.988594651222229
112534084,5264,zeule,2017-04-20T18:57:12Z,ok. `class` is simply shorter.,0,0.9915341734886169
112534371,5264,zeule,2017-04-20T18:58:28Z,"~no, these ones are not used by `tryparse`. there is one private for that function.~ they are used, but i think they should be left public. `tryparse` just eats exception.",0,0.9913111925125122
112535367,5264,glassez,2017-04-20T19:03:08Z,"so it can throw exception, iirc. please add appropriate comments to methods/constructors that can throw exception, but doesn't contain `throw` statement in its body directly.",0,0.994708776473999
112535565,5264,zeule,2017-04-20T19:04:02Z,`qbytearray::split()` takes `char` argument.,0,0.9949316382408142
112535828,5264,glassez,2017-04-20T19:05:09Z,ok.,0,0.980760931968689
112536465,5264,glassez,2017-04-20T19:08:13Z,"same here. just `stringlist`. it can be not only qstringlist, or not?",0,0.9931493401527405
112607812,5264,Chocobo1,2017-04-21T04:38:13Z,inconsistent with line 684 !?,-1,0.5675028562545776
112608391,5264,Chocobo1,2017-04-21T04:47:05Z,indention.,0,0.9895082712173462
112609056,5264,glassez,2017-04-21T04:56:32Z,?,0,0.9296892285346985
112609280,5264,glassez,2017-04-21T04:59:58Z,it's usual behavior in cases like this one. e.g. qurl: `qurl(urlstr).tostring() == urlstr` isn't always true.,0,0.9897434115409851
112628394,5264,zeule,2017-04-21T07:48:07Z,"yes, , what's wrong with indentation here?",0,0.9772323966026306
112646128,5264,Chocobo1,2017-04-21T09:13:53Z,i misread.,-1,0.97154700756073
407078371,12480,zeule,2020-04-11T15:44:10Z,why are these needed if you request c++ standard support? cmake knows what minimal compiler versions are required to fully support the requested standard version. you can use [compile-features]( [a link] if you want a finer control.,0,0.9926576018333435
407078593,12480,zeule,2020-04-11T15:46:25Z,just set `public` target feature for the base target. see [a link],0,0.9962873458862305
407080087,12480,FranciscoPombal,2020-04-11T16:01:29Z,"i thought about using that, but ultimately decided against it. for example, some gcc 4.x advertise c++14 support, but to check if it really has full c++support, i would have to check against the 4 c++14 features that were only added in 5.0. so i thought i might as well just check the version, since otherwise, the intent of checking for those specific features might not be immediately obvious.",0,0.9754579663276672
407081132,12480,zeule,2020-04-11T16:11:59Z,i think you are wrong. cmake already maintains a table with minimal compiler versions for each standard level.,0,0.9415243268013
407081794,12480,FranciscoPombal,2020-04-11T16:18:37Z,what's the advantage? and wouldn't i have to do that in the `cmakelists.txt` under `src/` instead?,0,0.9913610816001892
407084623,12480,FranciscoPombal,2020-04-11T16:45:16Z,"i tested with gcc/g++ 4.8.5 on ubuntu; without the version checks (i.e. everything inside the `if (""cxx_std_${qbittorrent_minimum_cxx_standard}"" in_list cmake_cxx_compile_features)`), the configure completes successfully, but the build then fails with `unknown flag -std=c++14`. the actual failure reason in this instance is because gcc 4.8 would expect something like `-std=c++1x`, but it also tells us gcc 4.8 passes cmake's `cxx_std_*` check, without actually having full c++14 support, according to the table at [a link] in other words, even if the `-std=` flag name was corrected to be the legacy one, the build would eventually fail as soon as a c++14 feature only introduced with gcc 5.0 were used.",0,0.9908745288848877
407088603,12480,zeule,2020-04-11T17:24:28Z,"oh, sorry. you set it below. and you say it does not report an error at compile time?",-1,0.9844618439674377
407089273,12480,zeule,2020-04-11T17:30:46Z,"your code comment says you want to prevent user from overriding the standard value, which is very much understandable given the libtorrent standard-dependent abi. users can't override explicitly set target features.",0,0.9908259510993958
407109069,12480,FranciscoPombal,2020-04-11T20:45:09Z,"no error at _configure_ time (as in cmake's configuration). eventually an error occurs at compile time, since the required features are actually not all present, even though cmake thinks they are (because the compiler mislead it into thinking that).",0,0.9704552888870239
407112642,12480,zeule,2020-04-11T21:25:36Z,"ah, they advertise c++14 support for gcc 4.8.5, which has a bare minimum but provides a flag to turn it on. cmake defines the `cmake_cxx14_standard__has_full_support` variable when it presumes the compiler support the standard completely. maybe you can use that?",0,0.9890581965446472
407116174,12480,zeule,2020-04-11T22:08:44Z,", maybe you did not know: `${cmake_cxx${qbittorrent_minimum_cxx_standard}_standard__has_full_support}` is how weird it looks in cmake syntax.",-1,0.9557003378868103
407186524,12480,FranciscoPombal,2020-04-12T11:45:16Z,"thanks, your solution worked and greatly simplified the code, but the `if` condition became `cmake_cxx${qbittorrent_minimum_cxx_standard}_standard__has_full_support` (notice the lack of the outer-most `${}`), due to the way variable expansion occurs inside `if` statements.",1,0.9325658679008484
407186819,12480,zeule,2020-04-12T11:47:47Z,do you want to consider c++ 98?,0,0.993845522403717
407187467,12480,FranciscoPombal,2020-04-12T11:53:15Z,"no, i just want to prevent the user from using a lower than minimum (default) value. for example, if the default value is `14`, the user is allowed to set `17` but not `11`.",0,0.9928592443466187
407188040,12480,FranciscoPombal,2020-04-12T11:58:42Z,"good catch, fixed.",1,0.9876664876937866
407499400,12480,zeule,2020-04-13T14:14:39Z,i'd change this to function and pass the minimal standard value in argument,0,0.9932373762130737
407519155,12480,glassez,2020-04-13T14:52:25Z,i wanted to suggest something similar... it would be good to define the minimal standard in the main (top level) project file.,0,0.9917188882827759
410903150,12480,glassez,2020-04-19T13:17:47Z,", do you intend to finish it?",0,0.9749444127082825
413925020,12480,FranciscoPombal,2020-04-23T16:03:54Z,"yes, sorry for the delay. i should have it ready in the following days.",-1,0.9903082251548767
414080870,12480,FranciscoPombal,2020-04-23T19:53:46Z,fixed.,0,0.9905837774276733
414083667,12480,zeule,2020-04-23T19:58:12Z,errr.... what is that?,-1,0.688888669013977
414083915,12480,zeule,2020-04-23T19:58:36Z,"simply ""14""",0,0.991248607635498
414084316,12480,zeule,2020-04-23T19:59:15Z,"you can select a much shorter name for the argument, for example ""_std""",0,0.9937652349472046
414084527,12480,zeule,2020-04-23T19:59:35Z,qbittorrent -> ${project_name},0,0.9906076192855835
414084703,12480,zeule,2020-04-23T19:59:53Z,project_name,0,0.990794837474823
414214020,12480,FranciscoPombal,2020-04-24T00:34:12Z,fixed,0,0.920660674571991
414214086,12480,FranciscoPombal,2020-04-24T00:34:22Z,fixed,0,0.920660674571991
414214127,12480,FranciscoPombal,2020-04-24T00:34:30Z,fixed,0,0.920660674571991
414214275,12480,FranciscoPombal,2020-04-24T00:34:59Z,fixed,0,0.920660674571991
414214332,12480,FranciscoPombal,2020-04-24T00:35:07Z,fixed,0,0.920660674571991
414227647,12480,zeule,2020-04-24T01:21:43Z,"the very last comment: a function is inside a file named ""macro"".",0,0.9947133660316467
414228715,12480,FranciscoPombal,2020-04-24T01:25:35Z,fixed.,0,0.9905837774276733
414232839,12480,zeule,2020-04-24T01:40:02Z,"does it matter for the caller is it a function or a macro? if no, maybe just include(qbtcxxcompilerandmodecheck)?",0,0.9940205216407776
414460185,12480,FranciscoPombal,2020-04-24T10:12:57Z,"i would prefer it like this, since other files use the same convention, e. g. `functionreadversion.cmake`, `macroconfiguremsvcruntime.cmake`, etc.",0,0.98592609167099
414489129,12480,glassez,2020-04-24T11:03:46Z,what's the point to have one function/macro per file?,0,0.8175936937332153
414500634,12480,FranciscoPombal,2020-04-24T11:24:30Z,cleaner separation? i don't know. it was already done this way.,0,0.963688313961029
414505492,12480,glassez,2020-04-24T11:33:29Z,"well, it's separate task to cleanup it.",0,0.9876054525375366
414545239,12480,zeule,2020-04-24T12:41:44Z,and here.,0,0.9887459874153137
414545678,12480,zeule,2020-04-24T12:42:28Z,is parent_scope required here? the cmake_cxx_standard_required variable is global already.,0,0.9945026636123657
414786961,12480,FranciscoPombal,2020-04-24T18:42:51Z,"through experimentation, i found it to be required.",0,0.9918534159660339
414787118,12480,FranciscoPombal,2020-04-24T18:43:05Z,same as [a link],0,0.9953129291534424
414816695,12480,zeule,2020-04-24T19:37:14Z,"ah, good to know. apparently, those variables are not declared by default.",1,0.9561938047409058
414988377,12480,glassez,2020-04-25T05:46:58Z,why is argument passed as string?,0,0.9930342435836792
415173420,12480,FranciscoPombal,2020-04-26T00:09:39Z,"well everything is a string in cmake anyway. but, it is better to unquote it i guess, since elsewhere i also use `98` without quotes. fixed.",0,0.9730294942855835
416589173,12480,glassez,2020-04-28T12:55:42Z,really i don't like this function. i would put all the necessary code directly in cmakelists.txt.,-1,0.9924595952033997
416590762,12480,glassez,2020-04-28T12:58:04Z,what happens if you set cmake_cxx_standard to 14 without this check but compiler doesn't support it?,0,0.9855680465698242
416593883,12480,FranciscoPombal,2020-04-28T13:02:39Z,"the problem is that some compiler versions report that they ""support"" c++14, but it is not actually _full support_. so without this check, when using those compilers, the configure might complete successfully, but the build will fail later on.",0,0.8194600939750671
416599116,12480,sledgehammer999,2020-04-28T13:10:08Z,"on another note, if we ever switch to c++17 we might not need full support c++17. for example, currently the c++17 full support check would probably fail for msvc2017, although we not use the extra features implemented in msvc2019. am i wrong? of course, this worry is a bit theoretical at this timepoint.",0,0.6141735911369324
416622003,12480,Chocobo1,2020-04-28T13:41:02Z,"i would prefer to keep it sorted: `[autoconf, automake, cmake, colormake]`",0,0.9901512861251831
416624836,12480,FranciscoPombal,2020-04-28T13:44:39Z,fixed.,0,0.9905837774276733
416637608,12480,FranciscoPombal,2020-04-28T14:00:54Z,that's the binary installer; the apt repo installs to `/usr/bin` as expected.,0,0.9952858090400696
416648064,12480,zeule,2020-04-28T14:14:21Z,"in travis it prints out ""-- building in c++ mode.""",0,0.992706835269928
416655393,12480,FranciscoPombal,2020-04-28T14:23:33Z,fixed. i moved the informational message to top level because it seemed like the easiest and most obvious way to get it to print correctly regardless of whether or not the user passes the `-dcmake_cxx_standard` option in the command line.,0,0.9868599772453308
416664979,12480,FranciscoPombal,2020-04-28T14:35:14Z,"_currently_. i don't think we should constrain ourselves because of outdated/broken toolchains. if we switch to c++17 but continue to support toolchains without full support for it, people making future contributions after that would have to be constantly walking on eggshells to make sure they don't use anything that happens to be unsupported by those toolchains, which sounds like a huge pain. it won't be too harsh to require >=msvc2019 to build by the time we switch to c++17 imo, since that is still kind of in the distant future. by that time, qt6 will also be released, and that is also set to require full c++17 support minimum afaik. so people will have time and reasons to update their stuff (i am assuming, of course, that we will eventually want to transition to qt6).",-1,0.8289652466773987
416678744,12480,FranciscoPombal,2020-04-28T14:52:03Z,"this type of code seems like the ideal candidate to be factored out to a function. it only does one thing, which is useful, but that most people don't care about the details (so the full code should not clutter the main script): it ensures qbittorrent will be built with the minimum required c++ version. i decided to change the name to `qbt_minimum_cxx_mode_check` to simplify it/make it more obvious, though.",0,0.8938653469085693
395194443,12205,Chocobo1,2020-03-19T17:22:38Z,get yourself the latest version here: [a link] (static binary),0,0.9939634203910828
395195302,12205,Chocobo1,2020-03-19T17:23:52Z,"~~todo shouldn't appear in man pages, unless this is only temporary.~~ never mind.",0,0.7711638808250427
395196033,12205,Chocobo1,2020-03-19T17:24:56Z,i would appreciate if you also update the author and date too.,0,0.9636396169662476
395197190,12205,Chocobo1,2020-03-19T17:26:37Z,those software doesn't belong to this project. imo no point mentioning them in our man page and man page isn't a wiki...,-1,0.872974157333374
395197673,12205,Chocobo1,2020-03-19T17:27:19Z,make it another pr please...,0,0.9700667858123779
395207225,12205,FranciscoPombal,2020-03-19T17:41:44Z,i know. the point of the todos is to remind of what has to be done and for you and others to suggest what to do.,0,0.9831117987632751
395210448,12205,FranciscoPombal,2020-03-19T17:46:48Z,"yeah but isn't the point of this section to mention related software that's potentially useful, even though it might not belong to the same project? it serves helps discoverability of related programs.",0,0.986657440662384
395216322,12205,Chocobo1,2020-03-19T17:56:28Z,"probably just me, i don't feel like promoting other programs and be held liable when they go wrong...",-1,0.9623036980628967
395217729,12205,Chocobo1,2020-03-19T17:58:41Z,"i think `-h`, `-v` are already implied in the above `options`, maybe we don't need this?",0,0.9874435067176819
395218637,12205,Chocobo1,2020-03-19T18:00:09Z,probably worth mentioning that stdout and stderr will be attached to the console if starting from a console.,0,0.9876407980918884
395219907,12205,FranciscoPombal,2020-03-19T18:02:14Z,"no, it's a separate form: if you specify `-h` or `-v`, nothing else is allowed.",0,0.9912596344947815
395220783,12205,FranciscoPombal,2020-03-19T18:03:41Z,"i'll update the date, but we should propbably remove the author altogether according to the recommendation in [a link]",0,0.9945927262306213
395223652,12205,FranciscoPombal,2020-03-19T18:08:36Z,fixed.,0,0.9905837774276733
395223985,12205,FranciscoPombal,2020-03-19T18:09:10Z,fixed.,0,0.9905837774276733
395227986,12205,FranciscoPombal,2020-03-19T18:16:17Z,fixed.,0,0.9905837774276733
395264381,12205,Chocobo1,2020-03-19T19:20:45Z,iirc double dash would not render correctly in man page if not surrounded by code blocks.,0,0.9816818833351135
395321247,12205,NotTsunami,2020-03-19T21:09:57Z,bugs.qbittorrent.org doesn't serve https,0,0.9778640866279602
395381621,12205,FranciscoPombal,2020-03-19T23:53:08Z,"i can change that to [a link] if there are no objections or revert ,",0,0.9940392971038818
395381923,12205,FranciscoPombal,2020-03-19T23:54:10Z,"i suggested these ones because they are useful in general and very mature. but if you really, insist, i don't mind not including this.",1,0.7908872365951538
395382307,12205,FranciscoPombal,2020-03-19T23:55:35Z,the author is currently removed. let me know your opinion about this.,0,0.9851919412612915
395432399,12205,Chocobo1,2020-03-20T04:13:23Z,i believe would like to keep the old one.,0,0.976597011089325
395432509,12205,Chocobo1,2020-03-20T04:14:00Z,i'm ok with it.,0,0.7280279994010925
395450727,12205,NotTsunami,2020-03-20T06:02:07Z,bugs.qbittorrent.org is also referenced a lot across documentation so it wouldn't make sense to change it,0,0.9877111315727234
395533948,12205,FranciscoPombal,2020-03-20T09:56:54Z,fixed.,0,0.9905837774276733
395534342,12205,FranciscoPombal,2020-03-20T09:57:44Z,"reverted url back to http. it's better to fix the underlying issue anyway. when the url is changed to https, we can change it here as well.",0,0.9941879510879517
395835958,12205,thalieht,2020-03-20T19:01:27Z,/geodb/dbip-country-lite.mmdb,0,0.9829630851745605
395836012,12205,thalieht,2020-03-20T19:01:33Z,/geodb/dbip-country-lite.mmdb,0,0.9829630851745605
395877200,12205,FranciscoPombal,2020-03-20T20:34:55Z,"you only need to review the `.md` file, this one is auto-generated from the `.md` file.",0,0.9954892992973328
395878001,12205,FranciscoPombal,2020-03-20T20:36:51Z,fixed.,0,0.9905837774276733
396056984,12205,Chocobo1,2020-03-22T05:43:49Z,"note on coding style, i would prefer concatenate the stream together as much as possible: [code block]",0,0.9921900629997253
396057216,12205,Chocobo1,2020-03-22T05:48:38Z,"maybe change ""qbittorrent provides a familiar gui similar to utorrent's"" to ""qbittorrent provides a familiar gui comparable to utorrent's""? we don't actually try to be similar.",0,0.9743383526802063
396057265,12205,Chocobo1,2020-03-22T05:50:14Z,"kademelia -> kademelia ? ""kademelia dht (mainline)"" what does ""mainline"" means? maybe just omit it to avoid raising more questions?",0,0.991401731967926
396057524,12205,Chocobo1,2020-03-22T05:55:01Z,"i don't really launch qbt with arguments, i'll leave reviewing this part to others..",0,0.9326961040496826
396057683,12205,Chocobo1,2020-03-22T05:57:42Z,"""hack"" seems to be scary and its way is informal, maybe rephrase it?",-1,0.7781654596328735
396057822,12205,Chocobo1,2020-03-22T06:00:39Z,ughh.. why give out promise when there is no eta?,0,0.6295153498649597
396057919,12205,Chocobo1,2020-03-22T06:01:53Z,"i see empty folders in it, not sure if that is true..",0,0.8551914691925049
396058039,12205,Chocobo1,2020-03-22T06:03:52Z,"maybe omit mentioning the exact file, users knowing the folder existence is enough imo.",0,0.9704543948173523
396058349,12205,Chocobo1,2020-03-22T06:10:56Z,"lets add a note about that info hash is for ""ubuntu-18.04.4-live-server-amd64.iso""",0,0.9957523345947266
396058351,12205,Chocobo1,2020-03-22T06:11:04Z,here too.,0,0.9698454141616821
396058398,12205,glassez,2020-03-22T06:12:26Z,i wouldn't meantion it at all.,0,0.7379469871520996
396058535,12205,glassez,2020-03-22T06:14:52Z,you really need to rephrase it in a end user friendly manner (without digging into internals).,0,0.9771816730499268
396089772,12205,FranciscoPombal,2020-03-22T12:47:50Z,"fixed. changed `qbittorrent provides a familiar gui similar to utorrent's, and is fast, stable and light.` to `qbittorrent provides a familiar, easy-to-use gui, and is fast, stable and light.`",0,0.9197227358818054
396089813,12205,FranciscoPombal,2020-03-22T12:48:20Z,fixed.,0,0.9905837774276733
396090825,12205,FranciscoPombal,2020-03-22T12:59:13Z,"see [a link] i think it is important to at least specify that ""mainline dht"" is the specific dht that we use. that it is kademelia-based is an implementation, which i supposed can be left out. i changed it to `dht (mainline)`.",0,0.9921276569366455
396091349,12205,FranciscoPombal,2020-03-22T13:04:39Z,"isn't the `""if you have to ask, you don't need this.""` disclaimer at the end sufficient? i think the usage of ""hack"" here is appropriate in this case. this is the same description that has been used in the `-h` output so far. also the official `git` documentation, for example, uses it extensively, so this is not really breaking precedent.",0,0.9717839360237122
396091979,12205,FranciscoPombal,2020-03-22T13:11:25Z,"yeah, probably best to just update the man page when it is fixed. fixed.",0,0.9761263132095337
396092007,12205,FranciscoPombal,2020-03-22T13:11:43Z,"alright, fixed.",0,0.9881590008735657
396092416,12205,FranciscoPombal,2020-03-22T13:15:45Z,fixed.,0,0.9905837774276733
396092436,12205,FranciscoPombal,2020-03-22T13:15:55Z,fixed.,0,0.9905837774276733
396093701,12205,glassez,2020-03-22T13:28:07Z,"imo, even name of this option is bad. really it stores file paths in relative form. the fact that qbittorrent uses .fastresume files to save some torrent settings is a temporary phenomenon even though it has been around for a very long time. we can change this at any time, but this will not affect the meaning of this option.",-1,0.9847908616065979
396106194,12205,FranciscoPombal,2020-03-22T15:28:11Z,so should i change the name of this option in this pr? imo it should be done in another one.,0,0.9876963496208191
396106923,12205,glassez,2020-03-22T15:34:39Z,i think it should be done in separated pr. but the following should be here:,0,0.9894324541091919
396108058,12205,FranciscoPombal,2020-03-22T15:45:23Z,i'd appreciate if you know anything about this and could confirm it.,1,0.5350081324577332
396108419,12205,FranciscoPombal,2020-03-22T15:48:43Z,"exact files are only mentioned if they are very significant on their own, otherwise just the directory is mentioned. for example, files inside the `nova3` directory are not listed. i think all of the files that are explicitly documented right now are relevant/interesting enough to justify that. but let me know if you have a different opinion.",0,0.9765151739120483
396108756,12205,thalieht,2020-03-22T15:52:05Z,i don't.,-1,0.6271468997001648
396108933,12205,glassez,2020-03-22T15:53:26Z,it is incorrect. it just changes profile directory path.,0,0.9911439418792725
396110255,12205,FranciscoPombal,2020-03-22T16:05:10Z,fixed.,0,0.9905837774276733
396110533,12205,Chocobo1,2020-03-22T16:07:34Z,"the database name is not guaranteed to be stable (we will change it when the need arise) and as a user, i care less about the actual db name.",0,0.6573714017868042
396110719,12205,FranciscoPombal,2020-03-22T16:09:07Z,"then how exactly is ""portable mode"" enabled? maybe i should change that sentence to read `this functionally enables what is known as ""portable mode"".`? when i invoked qbittorrent with this option, it created a standalone config/data file directory. when i started it again with the same path as argument, it used those settings it created before. isn't that what ""portable mode"" is? you could send the folder to a friend and they would have the exact same config as you.",0,0.9897733330726624
396137232,12205,FranciscoPombal,2020-03-22T20:28:12Z,"i applied the suggested change, with the caveat that i added an extra indentation level to `<< wraptext(...`s that are the description of the option name above them. this way it is easy to see where the lines corresponding to one option start and and end. let me know if this is undesirable in your opinion. in addition: - all lines have now length < 100 - there is an empty line separating logical groups of options (as before) - the first `<< '\n'` is always in the same line as other text. if there is a second consecutive one, it is in the next line (same as before, with the exception of the very last `<<\n;` which is on a line of its own to better follow your suggestion).",0,0.9652580618858337
396137965,12205,FranciscoPombal,2020-03-22T20:36:49Z,fixed.,0,0.9905837774276733
399316302,12205,Chocobo1,2020-03-27T14:44:37Z,"lets also clean this up: `""\n""` -> `'\n'`",0,0.9938540458679199
399316591,12205,Chocobo1,2020-03-27T14:45:00Z,thanks! looks good to me.,1,0.9942384958267212
402518168,12205,glassez,2020-04-02T18:17:31Z,"how about existing torrents? what does ""portable mode"" mean exactly? imo, it should allow you to take some folder containing the application binary and all its configuration files, transfer it to another computer, and run it without any additional effort. it doesn't seem to apply to qbittorrent. i never understood how qbittorrent could be really portable. even currently i would remove such ""feature"".",0,0.9460036754608154
402677331,12205,FranciscoPombal,2020-04-03T00:51:05Z,"good point. i'll change the text to mention this and it's implications. imo, it should allow you to take some folder containing the application binary and all its configuration files, transfer it to another computer, and run it without any additional effort. it doesn't seem to apply to qbittorrent. it's mostly a windows think. as far as i know, in windows land, a ""portable application""/""portable mode"" is almost a synonym of ""static build"", but it provides some additional guarantees. not only can it run from a standalone directory without depending on external libraries, it also stores its settings within the standalone directory. it does not store config files in %appdata% or use/set registry keys. thus, the application directory can be shared freely between systems, and it will work with exactly the same options. from what i can observe, using `--profile` makes qbittorrent fit this description, at least on windows. the official build is already static, and the `--profile` flag can be used to keep all the configuration/data files in any directory, including the same one as the binary. we could even provide an official ""portable"" release for windows - just a zipped folder with the files you'd usually find in an installation folder (`.exe`, `.pdb`, ...), plus a `qbittorrent.bat` folder that just does `qbittorrent.exe --profile=.\`. but it can also be useful for other platforms. for example, imagine you are trying to debug some issue and the user is using portable mode; they send you their ""profile"" folder, you run qbittorrent with `--profile` and the path to the user's profile and boom, you have a similar setup to that of the user just like that. or you could even just ask the user for the .conf, construct a profile folder manually, with that, and execute qbittorrent with `--profile`. so i think this it is indeed accurate to say ""this functionally enables what is known as ""portable mode"". but let me know if i misunderstood your point or some other detail.",1,0.9160678386688232
403306937,12205,FranciscoPombal,2020-04-03T20:25:25Z,i just confirmed the option precedence works as described.,0,0.9873477220535278
403382294,12205,FranciscoPombal,2020-04-03T23:26:52Z,fixed.,0,0.9905837774276733
403446314,12205,glassez,2020-04-04T09:07:22Z,"it is incorrect statement. most of dynamically linked windows applications come with their own library binaries (except the windows libraries and maybe vc runtime) so it is not so hard to turn it to so-called ""portable mode"". but it's off-topic here. it's almost the same as i said before. the main thing is when user has ""portable"" app it should be able to `run it without any additional effort` (as i said above). no. this option is the one that can help to provide ""portable mode"" but it isn't enough. the another one is ""--relative-fastresume"" that allows to transfer existing torrents with the app. but unfortunately it isn't enough too since it can't cover all the cases so user is still responsible for some additional cares. it is true. the ""--profile"" option itself is good for some purposes. but it only does what it does (it just ""allows you to specify custom profile path""). i don't want you to identify it with anything more. really you don't need to have any .bat. if you create ""profile"" folder near the application executable qbittorrent will detect it and enables ""relative fastresume"" for you. just call a spade a spade and don't give users too much hope. otherwise, we will have to be responsible for it. i don't want to maintain ""portable mode"". if someone want to do it you can ignore my comments and follow ""portable mode maintainer"" thoughts. , what do you say?",0,0.733431875705719
403447579,12205,FranciscoPombal,2020-04-04T09:20:25Z,"the another one is ""--relative-fastresume"" that allows to transfer existing torrents with the app. but unfortunately it isn't enough too since it can't cover all the cases so user is still responsible for some additional cares. `--profile` already implies `--relative-fastresume`. what are the ""additional cases"" that you refer to? you mean a folder literally named `profile`? i did not know of this. if someone want to do it you can ignore my comments and follow ""portable mode maintainer"" thoughts. i understand not wanting to maintain it, and i'm not pushing for it. i'm just trying to document the existing behavior/features as best as i can. in light of your comments, it is clear i need to reword the text to not mention ""portable"" mode explicitly, i just need to know more details about what i'm asking here.",0,0.7249330878257751
403448080,12205,glassez,2020-04-04T09:26:17Z,what makes you think that?,0,0.9790006279945374
403451441,12205,FranciscoPombal,2020-04-04T10:01:26Z,[a link] and [a link],0,0.9889005422592163
403453186,12205,glassez,2020-04-04T10:21:15Z,you misunderstood it...,-1,0.885873019695282
403463618,12205,FranciscoPombal,2020-04-04T12:17:31Z,how so? can you please clarify then? this is starting to get really confusing.,-1,0.900736927986145
403494564,12205,glassez,2020-04-04T17:27:13Z,your example relates to the following:,0,0.9935356378555298
403495403,12205,FranciscoPombal,2020-04-04T17:35:16Z,"so let's get this straight: - specifying `--profile=some/path` with a name of some folder does not imply `--relative-fastresume`, so the `bt_backup` folder will not be portable between computers - specifying `--profile=some/path` and `--relative-fastresume` will make the bt_backup folder portable between computers - creating a folder named `profile` next to the application executable is effectively the same as using both `--profile=profile` and `--relative-fastresume` - in all three cases all other data/config files/folders are portable between computers. is this correct?",0,0.9925999641418457
403495543,12205,FranciscoPombal,2020-04-04T17:36:38Z,additionally: an instance started as above will be able to work alongside another instance with a different `--profile` or `--configuration` so long as they don't listen on the same ports and things like that. yes?,0,0.9931782484054565
403703988,12205,glassez,2020-04-05T13:45:08Z,"yes. yes. but it will not work in case of path that cannot be represented in relative form (e.g. unc or path in different disk on windows). yes. and it won't work if you set another profile path via command line. afaik, other data isn't affected at all. so there can be conflicts if you run it on different computer. seems yes. at least it should...",0,0.8916202187538147
406261835,12205,FranciscoPombal,2020-04-09T14:50:50Z,"i have changed the documentation according to our discussion. is it accurate now? also some more questions: what is ""path"" referring to here? the one passed to the `--profile` option or the paths in the `.fastresume`s themselves? and it won't work if you set another profile path via command line. what exactly won't work? is qbittorrent not going to launch at all, or will it launch but not use the `profile` folder next to it as the profile? --- can `--relative-fastresume` be passed in without `--profile`? if so, what will the paths be relative to? the current working dir? if some torrents are initially saved with absolute paths, but then i change all config options to use relative paths and run qbittorrent with `--relative-fastresume`, will all the existing fastresumes be updated to use relative paths?",0,0.9890981912612915
407167092,12205,glassez,2020-04-12T08:43:10Z,"in `.fastresume`. i can't imagine how it will react to such a path in the `--profile` option... if profile path is explicitly set via command line it wiil not perform ""profile"" folder autodetection. i don't know. try to find out for yourself from the code, if you want... i'm sorry, i don't know the answers to all these questions. i am annoyed by this topic. i always thought all these ""portable mode"", ""relative fastresume"" and so on were unacceptable and i was against it, so i don't want to be responsible for it. i am sure that it is implemented extremely superficially and unreliably, and in many cases it has undefined behavior. please don't rape me any more with this topic.",-1,0.9914856553077698
407178577,12205,FranciscoPombal,2020-04-12T10:29:28Z,"i'm sorry about the question spam, i just want to make sure i get everything right, to have a quality man page. i think i have enough information now, the rest i can figure out on my own if needed. i agree that this kind of stuff is implemented in a weird and finicky way - there seem to be a lot of edge cases and it is hard to explain them all. on top of this, the gain for having these features is dubious and it is not clear what kind of use case really needs this. qbittorrent's installer does not do any magic behind the scenes or pollute the registry or whatever - it just uses a bunch of config files in standard and predictable locations. `--configuration` is enough by itself imo. but until we all decide to remove `--profile` and friends, i think they should be documented as accurately as possible.",-1,0.9898292422294617
407191655,12205,glassez,2020-04-12T12:31:20Z,"only ""friends"". `--profile` isn't bad for itself. it can be used in testing purposes. i think no. at least on windows different kind of configuration/data files are placed inside different folders (i mean there are at least two qbittorrent folders in different places). so `--profile` allows you to keep them together. btw, it seems `--configuration` works incorrectly with default profile (on windows). for me `--configuration=test` creates ""cache_test"" inside ""qbittorrent"" instead of ""qbittorrent_test/cache"" as i expect.",0,0.9836120009422302
407203717,12205,FranciscoPombal,2020-04-12T14:10:38Z,"fair enough. if you mean ""different folders"" in the same way that on linux the config file and the logs are in different folders, i don't think that's a problem in and of itself. despite being different directories, they are _expected_; one would not expect the logs to be in `~/config`, after all. but like you said above, it's useful to keep everything together for testing purposes. does this _only_ happen with the `cache` folder? either way, i think it's ok to document the intended behavior, any deviation from it is another issue/pr.",0,0.5291397571563721
407273595,12205,FranciscoPombal,2020-04-13T00:44:42Z,"i figured out the answers to the 2 outstanding questions above: yes it can, and the path will be relative to the path specified by `$home` (usually the home directory). no. torrents previously added with absolute paths keep the absolute paths in the `.fastresume`s.",0,0.9864076375961304
407280560,12205,FranciscoPombal,2020-04-13T01:35:15Z,"i think i addressed everything about the `--configuration`, `--profile`, and `--relative-fastresume` options now. please confirm. if everything looks good, i can continue the copy-paste to the nox manpage and make the final adjustments to it. then i'll finally submit the pr for final review.",0,0.6507693529129028
414907076,12205,FranciscoPombal,2020-04-24T22:56:37Z,"i know you don't like reviewing text walls, but it would be great if you could please address my comment above. it's just a small portion of the overall pr.",1,0.8591945171356201
414983642,12205,glassez,2020-04-25T05:20:26Z,shouldn't it be `--profile`?,0,0.9929347634315491
414983950,12205,glassez,2020-04-25T05:22:32Z,"""to instead create ..."" sounds wrong for me. although my english is bad...",-1,0.9936667084693909
414984549,12205,glassez,2020-04-25T05:26:35Z,i'm not sure you're right here.,0,0.6206257343292236
414985035,12205,glassez,2020-04-25T05:29:18Z,"""directory"" - typo",0,0.9734304547309875
415026878,12205,thalieht,2020-04-25T09:48:15Z,"google gives plenty of results for ""to instead create"" so i think it's legit.",0,0.9626083374023438
415034923,12205,ArcticGems,2020-04-25T10:37:04Z,i think it can confuse some users a bit. how about =,0,0.947871744632721
415175275,12205,FranciscoPombal,2020-04-26T00:22:11Z,fixed,0,0.920660674571991
415175456,12205,FranciscoPombal,2020-04-26T00:23:43Z,"thanks for the suggestions, i went with `options will instruct qbittorrent to create/use configuration files in different locations, instead of the default ones.` in the end.",1,0.9341111779212952
415175604,12205,FranciscoPombal,2020-04-26T00:24:35Z,"fixed. ps - you can review the markdown document, it's more readable. the manpage itself is autogenerated with pandoc.",0,0.9761856198310852
415176301,12205,FranciscoPombal,2020-04-26T00:29:16Z,"i'm quite certain of this. i tested with `$ qbittorrent --profile=qbt_profile_test --configuration=qbt_config_test`. the result was a full configuration under `~/qbt_profile_test`, as predicted (remember that if a relative path is specified in `--profile`, it will be relative to the user's home directory).",0,0.9763131737709045
415350100,12205,glassez,2020-04-26T16:42:25Z,"i'm quite certain of the opposite, after i tested it. i tested with `qbittorrent --profile=testprofile --configuration=test`. it creates `testprofile/qbittorrent_test` (i.e. it applies both `--profile` and `--configuration` parameters). my result also contradicts this. it is relative to the application's working directory (as the relative path usually behaves).",0,0.9579154253005981
415355794,12205,FranciscoPombal,2020-04-26T17:12:36Z,"you're right, did not realize they were nested like that... yep, seems i was totally wrong about this. edit: the documentation for this was correct already. i was confusing with the case where `--relative-fastresume` is used without `--profile`.",0,0.4663713276386261
415358629,12205,FranciscoPombal,2020-04-26T17:26:50Z,fixed,0,0.920660674571991
429049444,12205,glassez,2020-05-22T05:28:26Z,"now it looks more like the truth (as far as i can tell about it). the only thing i don't like is that you put ""running multiple instances"" as the main purpose of both `--configuration` and `--profile` options (at least it looks like this due to first place in option description).",0,0.8575342297554016
429197127,12205,FranciscoPombal,2020-05-22T11:39:22Z,"thanks for reviewing, looks like we're getting closer. well, what would you say is the main purpose of each option? just supporting different configs for different scenarios? if so, i could change it to something along the lines of: ""these options enable saving and using different conigurations. additionally, they can be leveraged to run multiple different instances of qbittorrent at the same time. however, in this case, one must take care to adjust settings that are inherently incompatible across multiple simultaneous instances if set to the same value, such as the listening port."". is this what you're looking for?",1,0.9713483452796936
429890555,12205,glassez,2020-05-25T11:43:32Z,"apparently, yes. but i can't confirm that you describe it in a better way. my english is too bad for that, and you are too verbose and informal for me to understand exactly everything... you can just prepend your current description with something like this one (i mean to say about ""supporting different configs for different scenarios"").",-1,0.6757513880729675
433555823,12205,FranciscoPombal,2020-06-02T00:22:03Z,"i've pushed the change, i think it conveys the intended idea/usage case better now. about formality, was that comment directed at my example/sketch in the comment, or at the state of the pr in general? i'm trying to be as objective as possible with a reasonable level of formality for a man page. if you think the current text/tone is too informal/not objective enough (or too formal), can you please point to a specific instance (or several) and explain how you would fix it, and your reasoning for such changes?",1,0.5468482375144958
436243856,12205,glassez,2020-06-06T06:32:28Z,"sorry, i have nothing to add. i just wanted to say that it is easier for me to understand strictly formalized wordings because of my poor english.",-1,0.9897671341896057
810476164,16485,glassez,2022-02-19T10:40:25Z,this debug info is for testing purposes only. i will delete them before merging.,0,0.9929196238517761
810482643,16485,glassez,2022-02-19T11:55:06Z,"then the word ""process"" can also be omitted, imo.",0,0.9895716905593872
810580757,16485,Chocobo1,2022-02-20T07:13:31Z,i have intention to make it available on linux so i would suggest using [a link] and please make adjustments for the option to be platform agnostic.,0,0.9934142827987671
810581463,16485,Chocobo1,2022-02-20T07:21:12Z,`const int size`,0,0.9934925436973572
810581608,16485,Chocobo1,2022-02-20T07:23:13Z,those should be `int64_t`.,0,0.9941518902778625
810581885,16485,Chocobo1,2022-02-20T07:25:52Z,`error code: %1`,0,0.9847297072410583
810582126,16485,Chocobo1,2022-02-20T07:27:32Z,"`failed to apply memory working set limit. reason: \""%1\""`",0,0.9833959341049194
810582313,16485,Chocobo1,2022-02-20T07:29:36Z,memory working set limit is applied. value: %1 (%2 mb),0,0.9951927661895752
810582558,16485,Chocobo1,2022-02-20T07:31:54Z,"since you used `quota_limits_hardws_max_enable` the minimum size shouldn't matter, can't you just put some dummy value?",0,0.992966890335083
810582758,16485,Chocobo1,2022-02-20T07:33:29Z,ditto.,0,0.9384599328041077
810582820,16485,Chocobo1,2022-02-20T07:34:06Z,"`failed to apply memory working set limit. reason: \""%1\""`",0,0.9833959341049194
810582985,16485,Chocobo1,2022-02-20T07:35:54Z,this should not overwrite the error code but append after the code.,0,0.994249701499939
810600035,16485,glassez,2022-02-20T10:04:13Z,"does it matter to the user? i just used it as a fallback in case i couldn't get the appropriate message. if you insist on showing the error code anyway, what format should resulting message have? (so that i don't have to redo it multiple times)",0,0.9758776426315308
810600735,16485,glassez,2022-02-20T10:09:30Z,"what adjustments? allow to set it in settings ui on any platform? but currently it is implemented only for windows. if someone implements it on some other platform, they can easily adjust the conditionals to make it available.",0,0.9938242435455322
810601022,16485,glassez,2022-02-20T10:11:20Z,those are assigned by/to unsigned types.,0,0.9886170029640198
810601171,16485,glassez,2022-02-20T10:12:38Z,`reason: error code: 1234.` are you sure?,0,0.9928125739097595
810601491,16485,glassez,2022-02-20T10:15:36Z,"64mb is dummy value. but, iirc, min value shouldn't be greater than max so there is adjustment.",0,0.9895528554916382
810794870,16485,Chocobo1,2022-02-21T05:46:31Z,"ok. another thing, are you able to add the webapi (or even webui) parts? afaik windows can build with nox/nogui option too.",0,0.9937268495559692
810795371,16485,Chocobo1,2022-02-21T05:47:52Z,(i don't insist) i will only convert to unsigned type at the very last moment.,0,0.9774898886680603
810796078,16485,Chocobo1,2022-02-21T05:49:52Z,"no, i mean: `failed to set memory working set limit. error code: 1234. error message: ""function failure blah blah""`",0,0.971696138381958
810796568,16485,Chocobo1,2022-02-21T05:51:16Z,i mean a real dummy value such as `0`. i'm guessing `setprocessworkingsetsizeex` will ignore it. (i don't insist),0,0.9882922768592834
810796873,16485,Chocobo1,2022-02-21T05:52:09Z,let's move the discussion over here: [a link],0,0.9944207072257996
810797970,16485,Chocobo1,2022-02-21T05:55:07Z,sometimes i think this will help the developers when reading logs sent from users. we can look up the error code on msdn and not rely on localized error messages.,0,0.9478671550750732
810798441,16485,Chocobo1,2022-02-21T05:56:32Z,"on a second thought, operation success messages can be omitted because application is working as intended.",0,0.9890121221542358
810801660,16485,glassez,2022-02-21T06:05:28Z,i will do this as soon as the main part is finished and approved.,0,0.9894288182258606
810802872,16485,glassez,2022-02-21T06:08:48Z,so you would first conver input data coming from winapi from unsigned and pass to this function and then convert result to unsigned again?,0,0.9946779012680054
810803709,16485,glassez,2022-02-21T06:10:48Z,i also came up with the same idea.,0,0.9321858286857605
810804121,16485,glassez,2022-02-21T06:11:52Z,"i did so initially, but it ended in failure.",0,0.8305726051330566
811617430,16485,Chocobo1,2022-02-22T06:37:48Z,i would leave this out. don't want to give users the impression that this value must be a multiple of 64.,0,0.9771971106529236
811620630,16485,Chocobo1,2022-02-22T06:44:29Z,this is `int` now.,0,0.9935017228126526
811623227,16485,Chocobo1,2022-02-22T06:49:43Z,"`, m_storememoryworkingsetlimit(settings_key(""memoryworkingsetlimit""), )`",0,0.9897979497909546
811623998,16485,Chocobo1,2022-02-22T06:51:14Z,"i would really add quotes around the error message from system, to avoid it blending in to our log message.",0,0.9836068153381348
811624089,16485,Chocobo1,2022-02-22T06:51:27Z,and therefore this can be omitted.,0,0.9928638339042664
811635628,16485,glassez,2022-02-22T07:14:02Z,"imo, `reason: incorrect parameter. error code: 87.` looks better than `error code: 87. error message: ""incorrect parameter.""` like you suggested. `:` is enough to provide good structure of messages in this case imo. but you want to complicate it, although at the same time you object to the use of quotation marks (and other ways) to highlight some special words and phrases to emphasize that they are not used in the usual sense, but refer to certain terms, etc.",0,0.954988420009613
811637374,16485,glassez,2022-02-22T07:17:06Z,`settingvalue` constructor has only one parameter.,0,0.9940052628517151
811648937,16485,Chocobo1,2022-02-22T07:36:03Z,"error code: 87. error message: ""incorrect parameter."" like you suggested. what if the system (or other sources) error message have more than one sentences? the result log format will be messed up. having it in quotes will clearly show the bounds of the `reason: ""msg"".` part. right, those aren't ""special"" enough imo. you don't see pompous highlighting on msdn doc or wikipedia entry or everywhere else. * [a link] * [a link]",0,0.6460453271865845
811653565,16485,Chocobo1,2022-02-22T07:43:19Z,`m_storememoryworkingsetlimit.get( )` i would even remove `std::max()` and let the system call deal with invalid parameters.,0,0.9934548735618591
811674342,16485,glassez,2022-02-22T08:12:53Z,"therefore, i doubt about the unconditional unification of messages. in some cases (like this), the formation of less formalized (but more human like) messages looks better. for example:",0,0.9704186916351318
811738635,16485,glassez,2022-02-22T09:27:17Z,"btw, it is not some kind of ""message from the depths of the system"". it is just a string explanation of the error. we just use some predefined one provided by the winapi function instead of custom description.",0,0.9899659156799316
811739350,16485,glassez,2022-02-22T09:28:01Z,other comments should be addressed now.,0,0.9882800579071045
811774516,16485,glassez,2022-02-22T10:05:01Z,"i really don't want to argue about this part of the changes. if you insist, i will give in. but i would also like to hear other opinions (unless of course their waiting will not be long).",-1,0.61734539270401
813540934,16485,Chocobo1,2022-02-24T04:41:52Z,"since no other references it, i would move this to `application::memoryworkingsetlimit()`.",0,0.9947063326835632
813543149,16485,Chocobo1,2022-02-24T04:48:17Z,i'll let you decide it yourself. but now i would like to mention another issue of it. not every languages uses the (western?) punctuation marks. some languages of asia have their own (different) punctuation. for example: `。` instead of `.` and i'm not sure how many variances are there in the world. so here your detection (and formatting) won't be reliable for those languages.,0,0.9552250504493713
814585565,16485,Chocobo1,2022-02-25T08:56:22Z,sorry i gave the wrong suggestion before. this should store bytes and preferably use `qint64`. the ui can still use `mib`. and webapi will use bytes.,-1,0.9897019863128662
814589668,16485,glassez,2022-02-25T09:02:09Z,why?,0,0.9622438549995422
814658734,16485,Chocobo1,2022-02-25T10:35:02Z,so it is consistent with other settings (from the viewpoint of webapi and user-editable settings file and libtorrent api). `int` is ok if users thinks 4gib limit is acceptable.,0,0.9934452772140503
814684320,16485,glassez,2022-02-25T11:13:42Z,"no big deal but... 1. we clearly do not need such precision and it is unlikely that we will ever need it. 2. having an inconsistency of units between the config file and the ui, we will definitely receive complaints from some ""smart guys"". how should we handle the cases if there is more precise value is stored in config than we can represent in ui? if we just discard some less significant part (or round it up) the value will be rewritten n config when applying preference changes in ui.",-1,0.7959139347076416
815270036,16485,Chocobo1,2022-02-26T05:16:18Z,it is all about being consistent... there was similar problems in the past and iirc this was the least problematic way. i don't remember there was such complaint. i would just round them. users will just have to live with it. :face_with_tongue:,1,0.7943956255912781
815295281,16485,thalieht,2022-02-26T10:21:03Z,i would complain if i edited the config file manually.,0,0.8527035713195801
815345557,16485,glassez,2022-02-26T19:28:31Z,"after some consideration, i would still keep using megabytes ( yes, yes, i belong to the ""old school"", so i mean mebibytes, if you are more used to it). using bytes will not bring any benefit, but only problems (i don't see any benefit in consistency if it is an end in itself). maybe you know something that is not obvious to me?",0,0.865363597869873
815389438,16485,Chocobo1,2022-02-27T05:12:46Z,is it needed for something?,0,0.9931423664093018
815426578,16485,glassez,2022-02-27T11:34:03Z,not anymore. deleted it.,0,0.6681801080703735
815427136,16485,glassez,2022-02-27T11:39:32Z,inlined in `application::memoryworkingsetlimit()`.,0,0.9954721927642822
816481447,16485,glassez,2022-03-01T06:27:04Z,"now i see it's impossible since it is still os dependent and we discussed earlier that the api should be unified. in case you forgot, let me remind you that in the case of such platform-dependent things, we have two main ways: 1. do not provide them through the api, 3. use some stubs in the api. we can still, of course, have some kind of modifier in the api version, but it looks too troublesome. also, we may not hide the interface for platform-dependent functions, but simply do an implementation that does nothing where it is not available. for example, in the case of this option, we could just allow it to be get/set, but mark it as unsupported on such and such platforms.",0,0.7594395279884338
816484849,16485,Chocobo1,2022-03-01T06:35:11Z,this. imo you can just merge this pr and i'll add the linux and webapi parts.,0,0.9925762414932251
817372500,16485,Chocobo1,2022-03-02T06:02:04Z,"i have bad news. the relevant system api (`rlimit_rss`) on linux has no effect on modern systems (only affects 2.4.x kernel versions) and there are no replacements. i reckon linux has no need of such tuning knob... the same api still might benefit bsd, macos but i don't use them and the user base on them are relatively small... so for those users, maybe i'll just publish my changes in a new pr and close it immediately (since the effectiveness is dubious)?",-1,0.9876339435577393
817376446,16485,glassez,2022-03-02T06:11:58Z,i'm not sure i understand exactly its meaning...,-1,0.6898304224014282
817377805,16485,Chocobo1,2022-03-02T06:15:22Z,this is to leave a mark in the sea of closed pr so that users finding it would able to find something...,0,0.9907146692276001
817552819,16485,glassez,2022-03-02T10:25:34Z,ok.,0,0.980760931968689
818299986,16485,Chocobo1,2022-03-03T04:14:39Z,#16576.,0,0.9929678440093994
244918090,10099,Chocobo1,2019-01-03T06:21:58Z,"a bit unrelated to this pr, how about move this to the `sources` above (and also `headers`).",0,0.9916955828666687
244918149,10099,Chocobo1,2019-01-03T06:22:45Z,"wrong position, 1 line down.",-1,0.6848402619361877
244918262,10099,Chocobo1,2019-01-03T06:24:17Z,"although i don't care much about cmake, it is still nice if the components can be sorted alphabetically.",0,0.8431715965270996
244918441,10099,Chocobo1,2019-01-03T06:26:10Z,here too.,0,0.9698454141616821
244918675,10099,Chocobo1,2019-01-03T06:28:40Z,"this can be sorted too, i know i'm a bit obsessed but it makes it much easier to read/find.",1,0.8093282580375671
244918966,10099,Chocobo1,2019-01-03T06:32:08Z,`qbytearray metadata() const;`,0,0.9931769371032715
244919735,10099,Chocobo1,2019-01-03T06:41:10Z,"`tr(""resumedatasavingmanager couldn't save data in '%1'. error: %2"")`",0,0.9873106479644775
245039962,10099,sledgehammer999,2019-01-03T15:43:48Z,"sure. i don't know the initial reason for this. maybe it was here because ""upgrade"" was a temporary solution. but now it pretty much is a stable part.",0,0.923862636089325
245040125,10099,sledgehammer999,2019-01-03T15:44:20Z,i prefer keeping this in logical order. in the order we use them in the db.,0,0.9866934418678284
245065045,10099,glassez,2019-01-03T16:58:42Z,"there are no database related utilities in this file. it's just database configuration for some particular application component (bittorrent). so it should be under ""base/bittorrent"".",0,0.9943313598632812
245251694,10099,glassez,2019-01-04T09:44:52Z,"it's bad idea to use default connection (even connection with name having common meaning). since other components will use sqlite in the future, this approach can lead to conflicts (at least, it will complicate the development).",-1,0.6202370524406433
245255043,10099,glassez,2019-01-04T10:00:20Z,"do you really want to have database in bt_backup folder? why? not only it has the inappropriate name (we kept it for compatibility purposes only), a separate folder is not needed at all now.",0,0.9370244145393372
245387903,10099,LordNyriox,2019-01-04T18:55:02Z,", : perhaps you should make a new class to manage sqlite read/write operations? sort of like `settingsstorage`?",0,0.9914029240608215
245464837,10099,Chocobo1,2019-01-05T03:16:20Z,do you mean there is some order between col_* fields? well... i suppose this isn't much important.,0,0.982311487197876
245506777,10099,glassez,2019-01-06T12:29:00Z,are you sure you really want it?,0,0.976659893989563
245507437,10099,glassez,2019-01-06T12:47:38Z,we're not going to support libtorrent < 1.1 in v4.2.,0,0.9767923951148987
245507601,10099,glassez,2019-01-06T12:52:41Z,"since this upgrade applies entirely to bittorrent component, i would not extract this code deliberately into a separate file. this breaks the logic of the code structure.",0,0.9818065166473389
245507774,10099,glassez,2019-01-06T12:59:11Z,it can be done easier: [code block],0,0.995640754699707
245508270,10099,glassez,2019-01-06T13:14:14Z,"invalid logic! a user who has never used older qbittorrent versions should not care about the old saving system. we need to implement more advanced version control. for example, store the current version somewhere in the application data. then newer versions will be able to know more precisely what needs to be updated, and older versions will be able to warn the user about possible conflicts as a result of downgrade. in addition, it will avoid conflicts as a result of multiple upgrades/downgrades, when it is difficult to estimate based on some artifacts and we will know exactly which version was installed before (e.g. when both fastresumes and database exist).",-1,0.9660736918449402
245508582,10099,glassez,2019-01-06T13:22:55Z,you have to handle errors. e.g: [code block],0,0.9850257039070129
245521601,10099,sledgehammer999,2019-01-06T20:41:55Z,"i'll have to see fist, but i don't think the db code (due to the nature of sql statements) can be abstracted away in to a class. any abstraction will be done last, because we need to agree on a format of storing data in the db.",0,0.9835976958274841
245521648,10099,sledgehammer999,2019-01-06T20:43:33Z,a reason i did it is because we have the lock file there which kinda guarantees that we have permission to read/write in that folder. which in turn will make exporting the torrents back to the all system more manageable. i open to suggestions for a new location. also for a better name for the db/table.,0,0.8605397939682007
245521694,10099,sledgehammer999,2019-01-06T20:44:12Z,yes. it shrinks the file small when removing torrents. why should we use it?,0,0.9922916293144226
245521731,10099,sledgehammer999,2019-01-06T20:45:12Z,this is moved around code. i am going to remove it all in a fell swoop in new pr dropping all rc_1_0 code.,0,0.9869189858436584
245521800,10099,sledgehammer999,2019-01-06T20:47:38Z,we need to do this check before trying to do any kind of upgrade. the upgrade code assumes that the db exists and is accessible and that the table exists in it. the upgrade code is called before the session is constructed.,0,0.9942519664764404
245521962,10099,sledgehammer999,2019-01-06T20:50:53Z,i think you misunderstood it here. at the current moment this tries to updrade from the non-db way to the db-way. so if a db exists we don't try to migrate older files (.torrents+.fastresumes). it is assumed that the upgrade was done already and the user dropped new files at a later date. unless you suggest that we should always input into the db any kind of .torrent/.fastresume we find during startup.,0,0.9170859456062317
245521998,10099,sledgehammer999,2019-01-06T20:51:52Z,sure. truth is i was in a hurry to make everything work and forgot to come back to this later.,0,0.7478721141815186
245522352,10099,sledgehammer999,2019-01-06T21:02:17Z,"also in case you missed it: each row has a `version` column. during startup if the version number is different from the supported one then that row isn't loaded. new versions will upgrade smaller version, while refusing to load bigger version.",0,0.9920194745063782
245522458,10099,sledgehammer999,2019-01-06T21:05:58Z,"i mean the logical order we use when issuing the `create table` statement. for example, we logically think that the ""hash"" column is the first one when thinking about each row.",0,0.9900367259979248
245522968,10099,sledgehammer999,2019-01-06T21:25:36Z,"now, i realize that his approach has a drawback. if newer versions require another table name, or different number of columns, older versions might not be able to extract the version number. should we instead create a 2nd table named ""version"" with a single col+row that will hold the version of the whole db?",0,0.9155371189117432
245670439,10099,glassez,2019-01-07T14:28:19Z,"as i mentioned earlier (in other words), you should not interfere any extra logic with the basic one anywhere. the main way is to work with the new ""saving system"". that is, if we simply discard all additional import/export logic, then the main one should not be affected. the same applies to all user visible manifestations of the application. your current code assumes that user had previous qbittorrent version before. it's incorrect! you should check for it first and then select what you should do. the same folder where legacy bt_backup were placed. just something more specific than ""data."" e.g. ""torrents"". ""lock file"" logic should be dropped at all. it's meaningless in case of new ""saving system"". in addition, as it turned out, it is inefficient on *nix systems.",0,0.881740391254425
245673145,10099,glassez,2019-01-07T14:37:04Z,"""dropping all rc_1_0 code"" is much easier job than current pr so i assume it will be done earlier and you still need to remove it here separately.",0,0.9897466897964478
245693567,10099,glassez,2019-01-07T15:33:52Z,"i'm surprised at this answer. i even thought for a moment that i was debating with another person... this does not contradict the fact that this code should be in a different place. it's incorrect. at least it's done incorrectly. you ripped main session code as well. main session logic should be the following: 1. if database doesn't exist create it 2. load torrents from database and go ahead. when you add upgrade logic to it: 1. if database doesn't exist create it 2. if older version was used before this run try to import torrents from old ""saving system"" 3. load torrents from database and go ahead. all this logic should be done in session code! one thing that should be done before the session is created is asking the user for accept the upgrade. to do this, we do not need to know anything about the existence of the database. all you need to know is whether the old qbittorrent version was used just before the current application run. my main idea is ""not to break the basic logic of the application for the sake of some additional"".",-1,0.9727005958557129
245703452,10099,glassez,2019-01-07T15:59:35Z,"is it? here's your code: [code block] you ask the user for upgrade if the database doesn't exist. but it is incorrect if the database does not exist due to the fact that the user has never used qbittorrent (on this system). i've suggested correct logic in another comment. yes, it is. i think ""overall application versioning"" i suggested in other comment should fit us. there is no need to have separate versions for each thing.",0,0.9789121747016907
245749884,10099,glassez,2019-01-07T18:20:16Z,is that really necessary? the empty pages can be reused further. additionally the doc says: maybe it's better to use vacuum command from time to time or allow user to perform it?,0,0.9913424253463745
246750174,10099,glassez,2019-01-10T13:04:52Z,bittorrent::db,0,0.9874297976493835
246775003,10099,glassez,2019-01-10T14:19:12Z,"if you still want to have version for particular database it's better to use ""user_version"" pragma.",0,0.9932760000228882
246846733,10099,glassez,2019-01-10T17:14:45Z,"there are many discussions on this topic. personally, i prefer to use singular for table names (e.g. ""torrent""). since sql is a future of qbittorrent, let's make a project-wide rule about it.",0,0.9878005981445312
249251569,10099,CyrusNajmabadi,2019-01-19T17:30:06Z,are you sure about this? is this a qt sql limitation? that's not an issue for sqlite itself. see [a link] 1.2:,0,0.9933086633682251
249251609,10099,CyrusNajmabadi,2019-01-19T17:31:42Z,"are you constantly executing these queries? if so, it's good to cache them, and then update the args using hte cache query in the future. it saves expensive costs in sqlite parsing and evaluating these strings. (note: only important if this is done a lot).",0,0.9719232320785522
249251650,10099,CyrusNajmabadi,2019-01-19T17:33:20Z,"my other recommendation would be to encapsulate this behind some class that just exposes the operations you want to perform. u.e. ""updatehash"". that way you can change things behind the scenes, without having to update all these places. it also isolates you from leaking out the details of tehse tables/columns and whatnot to all this consumptive code.",0,0.9815927147865295
249253105,10099,glassez,2019-01-19T18:25:46Z,yes. it is qt limitation:,0,0.9912146329879761
249253234,10099,glassez,2019-01-19T18:30:00Z,"are you constantly deleting your torrents? i don't think you'll be able to do this so often that this code becomes really ""slow"".",0,0.9819143414497375
249260786,10099,CyrusNajmabadi,2019-01-19T23:44:04Z,"i was talking in a general sense. not about this query in particular. for example, if you are constantly quering the db, it can help significantly to cache the query. for example, say a user has many thousand torrents and you're going to execute the same query back to back for each torrent, then this can help quite a bit. i agree it doesn't need to be done for something that happens rarely",0,0.9519937634468079
249269911,10099,glassez,2019-01-20T09:04:10Z,"sorry. i just saw this suggestion having a general meaning in your other comment. here it was attached to a specific place of the code, so it looks like it relates to this particular case. having prepared statement is a good idea in case of frequently invoked query.",-1,0.9485377669334412
251261749,10099,sledgehammer999,2019-01-28T00:23:43Z,"now that i think about it, i should throw and stop executing here. the older version may have table/column names that may not exist in the newer version, so further program execution will become undefined.",0,0.840252161026001
251308962,10099,glassez,2019-01-28T08:00:13Z,"backward compatibility must be ensured in some way, otherwise the user will not be able to update the application without the risk of losing their torrents or stopping the application. but this is only a matter of implementation, because we know exactly the structure of the database of previous versions. however, forward compatibility is generally an unattainable goal, so we must still limit the frequency of database format changes. we need to think about it as carefully as possible. i had a crazy idea how to provide the possibility of database downgrade that provide some kind of forward compatibility (but ""paranoid"" will strongly against due to possible security issues). it lies in the fact that we could put sql queries that perform a database downgrade in some special database table. then, if a newer database version is found by application, it could retrieve the corresponding sql queries and execute them.",0,0.591159999370575
252589025,10099,glassez,2019-01-31T09:25:39Z,"please do not overfill these methods interface with unnecessary parameters. that's all you can obtain from the ""torrent"" object.",0,0.9726216793060303
252589763,10099,glassez,2019-01-31T09:27:25Z,the same as similar methods above.,0,0.9919283390045166
252589993,10099,glassez,2019-01-31T09:27:59Z,these two should be also moved to the following alert handlers and renamed accordingly.,0,0.995414137840271
253380502,10099,sledgehammer999,2019-02-04T08:45:34Z,torrenthandle::name() doesn't expose the same thing. nothing does.,0,0.9801862239837646
253381550,10099,sledgehammer999,2019-02-04T08:49:07Z,i do it this way because `torrenthandle::hasfirstlastpiecepriority()` does a potentially expensive calculation.,0,0.9836253523826599
253386544,10099,glassez,2019-02-04T09:05:44Z,"i have commented not only on this particular method, but all similar changes. as for this particular case, i'd better change the handling of the torrent name inside torrenthandle class.",0,0.992480993270874
253386864,10099,glassez,2019-02-04T09:06:58Z,i'd better change its implementation inside torrenthandle class.,0,0.9831468462944031
254374139,10099,glassez,2019-02-06T17:35:28Z,nothing inside this method indicates the layout of the query result. it would be better to use field names instead of indexes.,0,0.9852787256240845
254378898,10099,glassez,2019-02-06T17:48:31Z,"i wondered for a long time whether there were really good reasons to break the readability of sql queries like this. i've only found two possible reasons, but none of them seems to me to be strong enough: 1. an attempt to protect yourself from possible typos in queries. but it looks ridiculous, because the probability to make a typo in any other query word is not less than in the names of tables/fields. in addition, they all appear at the first test runs. 2. ability to easily change table/field names in the future. this is also doubtful... it may look useful only in the early stages, but once it reaches the first release (in fact, once it will be merged in master), it will become very difficult to change the database format, so it will become almost unclaimed.",-1,0.9717991352081299
254478349,10099,LordNyriox,2019-02-06T22:28:20Z,": **off-topic**: the plural form of ""index"" is ""indices"".",0,0.9772311449050903
254540289,10099,glassez,2019-02-07T03:59:20Z,aren't both forms acceptable? [a link],0,0.9951617121696472
254546183,10099,LordNyriox,2019-02-07T04:47:53Z,: from the same link (emphasis mine):,0,0.9877161383628845
254550356,10099,glassez,2019-02-07T05:22:45Z,"ok, thanks.",0,0.6576256155967712
257514804,10099,sledgehammer999,2019-02-17T17:32:44Z,unforunately they don't correlate one-to-one. the index numbers are dependent on what you asked with your `select` statement.,0,0.9597685933113098
257515297,10099,sledgehammer999,2019-02-17T17:45:29Z,"do you mean the inline c++ comments? i did it for readability and better reviewing of the appropriate var types chosen (in the sql context), since it involves many columns. then it will be used as quick reference each time we want to write a new sql statement. if you mean my general approach in other sql statements to split them: i just split them in their logical parts to increase readability. and when the line becomes too long.",0,0.984432578086853
257517528,10099,glassez,2019-02-17T18:45:21Z,"do you really think that when i say about ""break the readability of sql queries"", i mean either comments or structural splitting that should improve the readability? i meant the fact that you separate all names from sql queries.",0,0.9773608446121216
257518087,10099,glassez,2019-02-17T18:58:25Z,yes. but i can't see what you asked with your select statement since it is exist in somewhere else. but the field names speak for themselves (i mean field/column names from sql table).,0,0.98993319272995
257519072,10099,sledgehammer999,2019-02-17T19:25:37Z,done,0,0.8682363629341125
257519086,10099,sledgehammer999,2019-02-17T19:26:04Z,i can't find a way to make it inexpensive,0,0.6601534485816956
257519142,10099,sledgehammer999,2019-02-17T19:27:45Z,"personally, i don't see this as a problem. do you want to provide a diff that implements this in the ""correct"" way?",0,0.9447430968284607
257519313,10099,sledgehammer999,2019-02-17T19:32:53Z,`qsqlquery::value(const qstring &name)` the docs say that this method is inefficient. bear in mind that `preparetorrentdata()` is a helper function called from one place only. so the reader/reviewer can backtrack a little bit. is this sufficient to not seek out a more rigid solution? how about if i put comments to indicate which column each number represents?,0,0.9888625741004944
257519419,10099,sledgehammer999,2019-02-17T19:35:53Z,"oh you mean the qstring substitutions? i did it to prevent typos and to ease refactoring of this pr, in case it is decided to use a different name for eg the table, before the pr is merged.",0,0.9910242557525635
257544343,10099,Chocobo1,2019-02-18T02:50:13Z,"minor note, it seems these variables are always converted to qstring, so you can store them in qstring instead and also initialize them with qstringliteral macro.",0,0.9881148338317871
257589035,10099,glassez,2019-02-18T08:09:53Z,then par. 2 (from my comment) is applicable to it:,0,0.9927534461021423
257590446,10099,glassez,2019-02-18T08:15:06Z,"this is more or less clear as it is. there's another problem. do the indexes used match the correct columns? for example, you changed the query but forgot to change the indexes.",0,0.9886767864227295
257591652,10099,glassez,2019-02-18T08:19:33Z,i wonder why you're passing qsqlquery here. why not extract all needed data in outer method and pass it here as dictionary?,0,0.9576194882392883
257886521,10099,glassez,2019-02-19T04:24:18Z,just ask yourself why do we need recalculate this property each time we're getting its value?,0,0.9871630072593689
257887076,10099,glassez,2019-02-19T04:29:18Z,"then it will be easier to fix such things in the form of separate ""prerequisite"" prs.",0,0.9907225370407104
259590558,10099,arvidn,2019-02-23T19:40:59Z,"it seems unconventional to define global variables in a header file. if you end up including this in multiple translation units, you'll get multiply defined symbols. i would say these should either be put in the anonymous namespace and made `cons`, or they should be made `extern` and the values moved into a tu.",0,0.9645861387252808
399816475,12169,Chocobo1,2020-03-29T15:53:56Z,"before you guys go all out, just keep in mind that the original icon name has an advantage which is qbt will use the native icon from desktop environment (if they provided one), this makes the application having more uniform & native feel. [a link] imo we should use those standard icon names as much as possible and only use custom ones when the standard ones are not suitable.",0,0.9795861840248108
399819716,12169,Mazino-Urek,2020-03-29T16:19:14Z,i didn't know that. let me adjust using the icon specific name if possible.,0,0.9770324230194092
399821031,12169,Mazino-Urek,2020-03-29T16:29:51Z,i have checked the gnome-icon-theme. there is nothing that can replace `reannounce` and `tag` icon. i am going to change the `recheck` icon to `view-refresh` as they are very similar. great tip!,1,0.9959023594856262
399825995,12169,thalieht,2020-03-29T17:12:46Z,ah sorry these are not the same like the previous ones: [code block],-1,0.9948457479476929
402155529,12169,NotTsunami,2020-04-02T08:55:47Z,"any files deleted (gear and gear32) must also be removed from this file, otherwise the compiler still looks for them.",0,0.9929832220077515
402205981,12169,Mazino-Urek,2020-04-02T10:19:36Z,thanks. i forgot about that file. made necessary changes.,1,0.9424439668655396
402217143,12169,jagannatharjun,2020-04-02T10:39:40Z,are you sure they are not used in webui?,0,0.9930387139320374
402320329,12169,thalieht,2020-04-02T13:39:45Z,"error.svg should be in `qbt-theme` folder, not `skin` otherwise this won't work.",0,0.9620744585990906
402333717,12169,Mazino-Urek,2020-04-02T13:57:27Z,won't this change cause problem for other icons?,0,0.8741335868835449
402369602,12169,Mazino-Urek,2020-04-02T14:44:12Z,done.,0,0.9897913336753845
402402428,12169,thalieht,2020-04-02T15:25:49Z,you are right... you could undo what i suggested and change this line to [code block] but i don't know if this will be acceptable. better leave this comment unresolved until someone else confirms if this is the proper way. personally i don't understand why there are 2 folders. qbt-theme and skin. the icons contained in them seem randomly divided to me.,0,0.7220749855041504
402405029,12169,Mazino-Urek,2020-04-02T15:29:11Z,"exactly my thought. unifying them will actually be a really good solution. as i am not a programmer, i thought it may serve some special purposes. does a different folder serve any purpose? what do you guys think?",1,0.9681010246276855
402416578,12169,FranciscoPombal,2020-04-02T15:45:12Z,maybe some historical reason? no idea if it is important or not. differing to,0,0.7357273697853088
402418317,12169,jagannatharjun,2020-04-02T15:47:39Z,i think the qbt-theme icons can be replaced with system icons on unix systems that's why there are rwo folders,0,0.9847865700721741
403092593,12169,Mazino-Urek,2020-04-03T15:37:02Z,i don't think so. it is the icon name that matter not the folder they are in.,0,0.9683618545532227
403102770,12169,jagannatharjun,2020-04-03T15:53:18Z,[a link] haven't you noticed almost all system (or qbt-theme folders') icons are wrapped in `geticon` call,0,0.9950377345085144
403451592,12169,Mazino-Urek,2020-04-04T10:03:05Z,"you misunderstood me. i said in order to use icon-theme used by the linux operating system, i don't think the folder name doesn't matter. it is the real icon name like `error.svg` plays the most part.",0,0.7925949692726135
403451756,12169,Mazino-Urek,2020-04-04T10:04:44Z,i will make the changes as soon as i get an instruction from . until then i think changing the folder is a better solution than changing the code.,0,0.9865924715995789
403481082,12169,Chocobo1,2020-04-04T15:15:20Z,"definitely some history in there, but i don't recall the details. i'm not really sure what you guys are asking... about the suggested changes [a link], i don't think it is future-proof. there is some theming work going on and that change won't fit well, it would be better to load the icons via `uithememanager`. i would also suggest less changes to the .cpp code in this pr as it gets complicated and it is easy to overlook something. if changes to .cpp are required it would be best to do it in a follow-up pr.",0,0.9426248669624329
403482223,12169,Mazino-Urek,2020-04-04T15:26:32Z,"good point. i recommend unifying these icon in a single folder in future. i have found where `error.svg` is being used, by running following commands. how can we solve this now, following mike's suggestion? [code block] [code block]",1,0.9720863103866577
403484809,12169,FranciscoPombal,2020-04-04T15:50:58Z,"-im i would now recommend just focusing on the icons themselves for this pr. that's done and can be delivered. if some icons keep strange names like ""document-edit-verify"" or if they are split across folders seemingly arbitrarily, that's something for another issue report/pr in the future, separate from this one.",0,0.9672657251358032
403485163,12169,Mazino-Urek,2020-04-04T15:54:23Z,i just want to fix just `error.svg` icon issue. with that this pr will be complete.,0,0.9878292083740234
403497512,12169,thalieht,2020-04-04T17:55:46Z,"i have not been following the theming prs so i don't know how they will play out. i think is right. better keep changes in .cpp to a minimum in this pr (any renamed icons) and if i'm not mistaken this is the only thing remaining. keep the new icons in the pr but undo any changes in this line, this has been a problem for a long time so i suppose it doesn't matter if it stays a little more. such gui changes have to go through but he is busy most of the time so i hope you won't be discouraged if it takes a while. thanks for all this work.",1,0.9870539307594299
403497961,12169,Mazino-Urek,2020-04-04T18:00:21Z,i haven't changed anything in .cpp file regarding `error.svg`. i just shifted it from `skin` folder to `qbt-theme`. what should i do now?,0,0.9879477620124817
403499527,12169,thalieht,2020-04-04T18:13:35Z,"change this line back and put it back in `skin` because as you said, it breaks the icon in other places.",0,0.9900110363960266
403499627,12169,thalieht,2020-04-04T18:14:21Z,you should probably also revert the change a few lines below for the warning icon.,0,0.9879706501960754
403501517,12169,Mazino-Urek,2020-04-04T18:32:37Z,reverted changes.,0,0.9733482003211975
689845008,15330,thalieht,2021-08-16T20:41:11Z,"the previous one was ok (what is the problem) but if you want to change it, you shouldn't address the reporter directly.",0,0.9761970639228821
689845364,15330,thalieht,2021-08-16T20:41:46Z,false,0,0.9627262949943542
689847028,15330,thalieht,2021-08-16T20:44:37Z,"i don't know if this will be visible in the posted issue. if it is, i would remove it completely but if it isn't (and you insist on keeping it) i would make it more formal: ""thank you for taking the time to fill out this report.""",1,0.5490009784698486
689850410,15330,sakkamade,2021-08-16T20:50:15Z,should be `false` here.,0,0.9826295375823975
689850955,15330,thalieht,2021-08-16T20:51:12Z,"the titles from the previous template were adequate imo: ""suggestion"" ""use case"" and ""extra info/examples/attachments"".",0,0.9541347622871399
689850995,15330,sakkamade,2021-08-16T20:51:16Z,and in `browser name and version`,0,0.9957701563835144
689852036,15330,sakkamade,2021-08-16T20:53:05Z,"otherwise add the `value` property after `description` with the `(linux os only)`. edit: you may also remove the `description`, in this case.",0,0.9957214593887329
689852074,15330,thalieht,2021-08-16T20:53:08Z,you forgot to re-add this part: see [a link] if you're not sure where to find them.,0,0.9882748126983643
689854507,15330,sakkamade,2021-08-16T20:57:26Z,"no, it is not, ~~not the first one at the least.~~ ~~the `###` is superfluous.~~ no, it is not, sorry. :+1:",-1,0.9864135980606079
690017945,15330,Chocobo1,2021-08-17T04:05:46Z,"i would take off the period of the label/title, especially when the label is followed by an input box. the period looks ok in description though.",0,0.9129096269607544
690019143,15330,Chocobo1,2021-08-17T04:09:48Z,"this shouldn't be ""linux os only"".",0,0.9768151044845581
690019895,15330,Chocobo1,2021-08-17T04:12:15Z,"a single line input box for 2 version strings? imo the result would look bad, you should use `textarea` instead. please check other input fields.",-1,0.9539957642555237
690020095,15330,Chocobo1,2021-08-17T04:13:03Z,"if it is ""webui related only"", then this should be `false`.",0,0.9913129210472107
690020591,15330,Chocobo1,2021-08-17T04:14:42Z,"too many bold text and full uppercase words makes it hard to read (it looks like written by an edgy kid and put me off), please refrain from using it or use it scarcely. the same applies to other labels.",-1,0.897711455821991
690021695,15330,Chocobo1,2021-08-17T04:18:29Z,no need for parentheses imo.,0,0.9765719175338745
690021924,15330,Chocobo1,2021-08-17T04:19:22Z,no need for brackets,0,0.9931861162185669
690022508,15330,Chocobo1,2021-08-17T04:21:21Z,"i would prefer it is `false`. from my experience, it rarely help resolving issues.",0,0.9632251858711243
690024381,15330,Chocobo1,2021-08-17T04:27:48Z,"about the eol versions, i would state it as: ""we do not support any versions older than the current release series"" this is to avoid mentioning exact numbers which calls for regular maintenance for it.",0,0.9911504983901978
690027969,15330,Chocobo1,2021-08-17T04:39:18Z,too much indent. please check the indentation of the file thoroughly.,0,0.8405433893203735
690035798,15330,glassez,2021-08-17T05:00:50Z,why not separate input boxes?,0,0.9871343970298767
690224254,15330,xavier2k6,2021-08-17T10:05:05Z,this is what we use currently? if i merge some of the `input` fields......in to one `text` field will -> qbittorrent/qt/libtorrent-rasterbar versions and operating system. suffice?,0,0.9923655390739441
690224959,15330,xavier2k6,2021-08-17T10:06:06Z,this `input` has been previously requested to be completely removed....,0,0.996068000793457
690229156,15330,xavier2k6,2021-08-17T10:12:09Z,it's not visible & i don't insist on keeping any of it - just added it in as other repos use similar. i will remove.,0,0.9846428036689758
690229335,15330,xavier2k6,2021-08-17T10:12:24Z,will address,0,0.9908989667892456
690229579,15330,xavier2k6,2021-08-17T10:12:47Z,will address,0,0.9908989667892456
690473996,15330,xavier2k6,2021-08-17T15:18:18Z,what is the problem being experienced?,0,0.9859090447425842
690475990,15330,xavier2k6,2021-08-17T15:20:31Z,any issues with this? (un-bolded),0,0.9809993505477905
690477683,15330,xavier2k6,2021-08-17T15:22:17Z,the same applies to other labels. most of the bold text words are just a copy&paste of our current template,0,0.9937955141067505
690478031,15330,xavier2k6,2021-08-17T15:22:40Z,this section is being removed,0,0.9927691221237183
690478348,15330,xavier2k6,2021-08-17T15:22:56Z,will address,0,0.9908989667892456
690478518,15330,xavier2k6,2021-08-17T15:23:08Z,ok,0,0.9233372807502747
690478787,15330,xavier2k6,2021-08-17T15:23:28Z,ok,0,0.9233372807502747
690482748,15330,xavier2k6,2021-08-17T15:27:53Z,example of `textarea` with a placeholder: ![a link],0,0.9925163388252258
690746578,15330,xavier2k6,2021-08-17T21:48:01Z,fixed.,0,0.9905837774276733
690781638,15330,sakkamade,2021-08-17T23:06:33Z,`what problem is being experienced?`,0,0.9680715203285217
690782324,15330,sakkamade,2021-08-17T23:08:18Z,"user should not be addressed, right? `(...) description of expected behaviour.`",0,0.9895768165588379
690788670,15330,sakkamade,2021-08-17T23:24:28Z,"`please add the ""crash report"" (if encountered) or provide a clear and concise description of the problem.`",0,0.9908083081245422
690789364,15330,sakkamade,2021-08-17T23:26:34Z,"vocabulary should be constant i think, i.e. if there has already been used the word ""problem"", it should be kept being used. [code block]",0,0.9882602691650391
690790889,15330,sakkamade,2021-08-17T23:30:53Z,`please provide a reliable steps to reproduce the problem.`,0,0.9929091930389404
690794015,15330,sakkamade,2021-08-17T23:39:30Z,"`(...) see [""where does qbittorrent save its settings""](link).`",0,0.994726836681366
690794299,15330,sakkamade,2021-08-17T23:40:22Z,periods are still left. in several labels.,0,0.988189697265625
690800730,15330,thalieht,2021-08-17T23:58:22Z,"the reporter should know that this is not required, like the 3rd checkbox (optional).",0,0.9931406378746033
690819884,15330,thalieht,2021-08-18T00:45:19Z,"this section bugs me. you are forcing the reporter to unconditionally mention qt and libtorrent versions but if they're on windows, there's a 99% chance it's whatever the official release uses. so i would move qt/libt to description: ""if (you are) on linux, mention your libtorrent-rasterbar and qt version."" i would prefer it if there was no placeholder text in this section so that the reporter can format it however they want but i don't insist on this as it is purely personal preference.",-1,0.9745961427688599
690820354,15330,thalieht,2021-08-18T00:47:02Z,i think it's ok in the description because only the reporter can see this.,0,0.9143205881118774
690822714,15330,thalieht,2021-08-18T00:54:10Z,is this section really required to be filled? i would even question its usefulness because it's (almost?) always the opposite of the problem.,0,0.7120579481124878
690823329,15330,thalieht,2021-08-18T00:55:56Z,"typo: extra ""a"" before concise. personal opinion: ""suggestion"" and ""use case"" don't need a description.",0,0.9929331541061401
690826536,15330,thalieht,2021-08-18T01:06:42Z,"""operating system & qbittorrent"" i would also re-arrange these so qbittorrent comes first.",0,0.9952847361564636
690861599,15330,Chocobo1,2021-08-18T02:54:27Z,wrong indention: missing one whitespace. you can use [a link] to format the entire file (and feature_request.yml).,0,0.8711123466491699
690862241,15330,Chocobo1,2021-08-18T02:56:18Z,"in prerequisites section there are still too many text in bold, i would remove bold from all of them.",0,0.9641135931015015
690865588,15330,Chocobo1,2021-08-18T03:06:43Z,"i suppose this could just become `qbittorrent & operating system versions` and mention the version requirements in the description: [code block] some notes: * i would prefer prefill the textarea to have consistent formatting. * theoretically 32, 64-bit shouldn't make a difference and since we are slowly moving away from 32-bit, i suggest omitting it in description.",0,0.9917269945144653
690869409,15330,Chocobo1,2021-08-18T03:17:48Z,add an empty line above please.,0,0.9925680160522461
690878049,15330,Chocobo1,2021-08-18T03:45:42Z,the above 2 lines should have the same indent level as `#### advisory`.,0,0.9946765899658203
698432044,15330,xavier2k6,2021-08-30T12:10:37Z,thank you for the tool,1,0.851495087146759
698433850,15330,xavier2k6,2021-08-30T12:13:22Z,"just a note on this, if it was prefilled - it would invalidate the true/false requirement. we could be left with just: qbittorrent: operating system: qt: libtorrent-rasterbar: i added a comment in description about how we would like it formatted & added them as a placeholder instead.",0,0.9944736361503601
698608572,15330,thalieht,2021-08-30T15:56:44Z,"i would change ""qbittorrent.ini"" to ""qbittorrent settings|config|preferences file"" (pick one) because it's not "".ini"" in linux, it's "".conf"" (maybe mac too idk). why split the above checkbox from this one? seems superfluous.",0,0.9541873931884766
698611821,15330,thalieht,2021-08-30T16:01:04Z,"honestly i'm not a fan of the creation of a whole section for what should be 1 checkbox (more scrolling...). who's ever going to check more than one of the ci test builds anyway? and if you say it's for our convenience, it's totally not. we'll know which ci build they tested by the user's os. in the end, i doubt we even care which os they tested it on.",-1,0.9788624048233032
698641447,15330,ArcticGems,2021-08-30T16:42:39Z,"hmm, that makes sense. maybe 'optional prerequisites' section should be removed.",0,0.9695642590522766
698643807,15330,ArcticGems,2021-08-30T16:45:57Z,maybe= qbittorrent settings file (.ini/.conf/.idk),0,0.9924023151397705
698662947,15330,xavier2k6,2021-08-30T17:14:20Z,"i only included it in to it's own section as we had already asked about the ci builds, since we now have segregated os builds & to separate mandatory/optional. ref.: ____ i agree with general consensus to remove 'optional prerequisites' section & i will include the ci builds with the ""official qbittorrent version"" example: is this ok with you?",0,0.9859447479248047
698667213,15330,xavier2k6,2021-08-30T17:21:00Z,will integrate. i will choose **qbittorrent preferences** as that's what's used if you follow [a link] example: will also change description under log(s) & settings file(s) to reflect same.,0,0.9926820397377014
698734475,15330,ArcticGems,2021-08-30T19:05:05Z,i think the last part is a bit of a mouthful. how about this?? =,-1,0.602360725402832
698755339,15330,xavier2k6,2021-08-30T19:38:45Z,"ya, i'll go with this unless there's any objections from others. thanks",1,0.9880504012107849
698780820,15330,thalieht,2021-08-30T20:20:45Z,there was nothing wrong with them being mixed since the optional one was denoted as such (maybe it's just me). that would make testing the ci builds mandatory. are we ok with that? i think it's too much but no strong opinion from me. if you go with that here's a shorter version (with spaces around the slashes to make it clear they are separate links):,0,0.884172797203064
698797603,15330,ArcticGems,2021-08-30T20:48:18Z,"maybe we should go back to the old one (but updated) = i chose to keep ""build"" (thalieht chosed to remove it) because i feel it's more clear.",0,0.9837372899055481
698843626,15330,xavier2k6,2021-08-30T22:13:26Z,"i don't have any strong opinion on it either what about one of these? (marked as not needing validation, of course!) unless anybody else thinks testing the master ci builds should be mandatory..... 1. * [a link]** / **[a link]** / **[a link] ""master"" builds. 2. * [a link]** / **[a link]** / **[a link] builds. will do same for ""feature request""",0,0.8530738353729248
698847389,15330,ArcticGems,2021-08-30T22:21:39Z,"it's also good :thumbs_up: not sure which one is better, nr 1 or 2. let's see what the others think.",1,0.9942610263824463
698856948,15330,xavier2k6,2021-08-30T22:43:35Z,"i will also change the title from ""mandatory prerequisites"" to just ""prerequisites"" if we are going to go back & include the (optional but recommended) part.",0,0.9938220977783203
698857505,15330,ArcticGems,2021-08-30T22:45:01Z,:thumbs_up:,1,0.9533231854438782
698941146,15330,glassez,2021-08-31T02:43:12Z,"imo, ""master"" has no meaning for regular users.",0,0.7941654920578003
698971585,15330,Chocobo1,2021-08-31T04:22:49Z,"maybe just me, if it is really necessary, i would use code blocks instead of bold text for ""`qbittorrent preferences file`/`qbittorrent.log` and `watched_folders.json`""",0,0.9815287590026855
699166801,15330,xavier2k6,2021-08-31T09:53:24Z,will omit.,0,0.9864585995674133
699169797,15330,xavier2k6,2021-08-31T09:57:13Z,"it's not 100% necessary but it's a clearer visual (to me anyway) of what files are required, code blocks work too. i can omit any kind of formatting/highlighting on them if you prefer?",0,0.9866811037063599
699788918,15330,Chocobo1,2021-09-01T02:02:13Z,that will work for me too.,0,0.9759197235107422
706868367,15330,thalieht,2021-09-12T17:28:16Z,very last comment from me (same for the feature request form): [code block],0,0.9946243166923523
706869127,15330,xavier2k6,2021-09-12T17:34:52Z,it's not in feature request section?! will change,-1,0.8603643774986267
706870871,15330,xavier2k6,2021-09-12T17:50:18Z,done (bug_report),0,0.9845296144485474
706871704,15330,thalieht,2021-09-12T17:56:34Z,"oops, don't know what i was looking at, sorry.",-1,0.9927583932876587
706872086,15330,ArcticGems,2021-09-12T17:59:23Z,just a nitpick (you don't have to do it). maybe the 'extra info/examples/attachments' section in feature_request.yml should also have = note: it's the user's responsibility to redact any sensitive information,0,0.9764992594718933
706882122,15330,xavier2k6,2021-09-12T19:27:37Z,"imo i don't think it's really required as more than likely it'll be screenshots, links or a wall of text of what the user wants......... but of course that doesn't mean i won't add it or am objecting it, if others also think it's a good idea to do so - it can even be added in the future if really required.",0,0.9131118655204773
706982212,15330,Chocobo1,2021-09-13T03:33:57Z,is this comment still valid?,0,0.9936402440071106
707119241,15330,xavier2k6,2021-09-13T08:34:16Z,"good catch! looks like i overlooked this, i will remove the descriptions completely instead of just the typo unless anybody else feels they should stay?! (i have no strong opinion either way)",1,0.993638813495636
707170615,15330,xavier2k6,2021-09-13T09:39:21Z,descriptions removed.,0,0.9922356009483337
707171357,15330,xavier2k6,2021-09-13T09:40:15Z,all issues addressed i believe.,0,0.9881397485733032
707171630,15330,xavier2k6,2021-09-13T09:40:36Z,addressed.,-1,0.8090953826904297
707172616,15330,xavier2k6,2021-09-13T09:41:51Z,section was removed.,0,0.9871777296066284
707173141,15330,xavier2k6,2021-09-13T09:42:29Z,it was removed.,0,0.9919536709785461
707173360,15330,xavier2k6,2021-09-13T09:42:44Z,changed,0,0.7968646287918091
707174063,15330,xavier2k6,2021-09-13T09:43:41Z,used original (what is the problem?),0,0.8790973424911499
707174671,15330,xavier2k6,2021-09-13T09:44:29Z,applied different approach,0,0.9918366074562073
707175876,15330,xavier2k6,2021-09-13T09:46:07Z,section removed.,0,0.988453209400177
99532527,6186,zeule,2017-02-06T08:09:08Z,why don't we put `= default` here and in `guiprovider`?,0,0.9931260347366333
99532784,6186,zeule,2017-02-06T08:10:51Z,`qflags `?,0,0.9919589757919312
99533003,6186,zeule,2017-02-06T08:12:35Z,"there should be only one from each pair (dark or light, large or small), because one can not have both set or cleared at a time.",0,0.9898810982704163
99534185,6186,zeule,2017-02-06T08:22:03Z,why on every icon request? why don't you handle `qevent::palettechange`?,0,0.9878639578819275
99534794,6186,zeule,2017-02-06T08:27:06Z,what was that?,0,0.9710831046104431
99535204,6186,zeule,2017-02-06T08:30:10Z,here and the next line: why don't you use default parameters for the method in line 71?,0,0.9932624697685242
99550745,6186,zeule,2017-02-06T10:02:39Z,"i find this flag and setting name misleading. to me this mode produces border-less or, perhaps, expanded icons.",-1,0.5447114109992981
99551277,6186,zeule,2017-02-06T10:04:36Z,"could you put `qlatin1string(""literal"")` here and below, please?",0,0.9956336617469788
99551722,6186,zeule,2017-02-06T10:06:49Z,this seems to be error-prone to me (the reference). i would merge this line into the next one.,0,0.9586910605430603
99554306,6186,zeule,2017-02-06T10:20:25Z,"don't like this api. and don't like the fact that our icons are split onto two parts while they naturally form the single theme. unix users would benefit from merging them together and distributing them as individual files but not resources. perhaps we better merge these icons into the main theme right away (for instance into a subdir ""status"", as per fdo specification)? because the proposed api looks like it allows to mix icons from different themes, which shall not happen and certainly may not be encouraged by an api.",-1,0.9490625262260437
99554389,6186,zeule,2017-02-06T10:20:51Z,`= default` too?,0,0.9923012256622314
99560745,6186,zeule,2017-02-06T10:54:14Z,your changes seem to need a rebasing on top of the current master (the signature of this function is old).,0,0.9898269176483154
99561247,6186,zeule,2017-02-06T10:57:02Z,alphabetical order?,0,0.9930419921875
99562003,6186,zeule,2017-02-06T11:01:42Z,you are adding a bunch of libtorrent headers for the sake of what? those static functions below do not need access to the private members of the class. then why?,0,0.9516144394874573
99747234,6186,magao,2017-02-07T05:18:08Z,i don't understand. this was just a reformatting via uncrustify. same for other places you've mentioned this.,0,0.5579651594161987
99747488,6186,magao,2017-02-07T05:22:00Z,"i wasn't intending to change the file layout at all, but there is already a `src/icons/flags/` directory, so there's precedence for doing this. do you want me to reorganise so there's a `src/icons/status/` directory?",0,0.9875245094299316
99747659,6186,magao,2017-02-07T05:24:44Z,"this was after rebasing, and i didn't see any changes. will become moot if wants me to reorganise the icon hierarchy.",0,0.9729844927787781
99747839,6186,magao,2017-02-07T05:26:56Z,"because that's how the dark theme was detected previously, and i simply extended it. didn't know about `qevent::palettechange` - i tried to find some event that would indicate a theme change but didn't know what to look for. now i'll see about hooking into it.",0,0.9881364107131958
99747978,6186,magao,2017-02-07T05:28:44Z,"reference to `pixmap` which may be reassigned to `colored` below, rather than unnecessarily copying objects. but i think i messed it up as `colored` goes out of scope ...",0,0.8701702952384949
99748003,6186,magao,2017-02-07T05:28:58Z,~~yep.~~ not exactly. i needed to be able to distinguish between not yet knowing the theme or icon size. but if i can hook into the events (configure does it for the icon size) then that's not an issue.,0,0.9176864624023438
99748032,6186,magao,2017-02-07T05:29:18Z,"again, didn't know what to look for. thanks.",1,0.9032030701637268
99748175,6186,magao,2017-02-07T05:31:03Z,the visible part of the icon is larger. everything that is removed is transparent. your opinion? how would you like the setting named?,0,0.9894486665725708
99748689,6186,magao,2017-02-07T05:37:12Z,"because the 2 functions need to call the third with different `ignorestate` flags. i could consolidate down to 2 functions, but that's allowing an implementation detail to intrude into the public api. this is a part of the api i've struggled with. i don't want to add an ""not applicable"" entry to the `torrentstate` enum, since that's not actually a state. but that means that i don't have a way to say that the icon doesn't actually correspond to a state (required for the `all` filter). hence the 2 public functions calling the private function.",0,0.5175637602806091
99749199,6186,magao,2017-02-07T05:43:28Z,"what's the advantage? it's still going to then be copied to a new `qstring` to be returned, so there's no efficiency advantage. returning a `qlatin1string` would be incorrect since the `const char *` used to construct it isn't copied - unless we made the literals constants (in which case we could return a `const qstring &`). hmm - could also do that for the colours below.",0,0.9770520329475403
99749349,6186,magao,2017-02-07T05:44:57Z,i did that initially but found it to be too complicated. but i thought i'd removed the `&overrideicon` here as i don't think i use it anymore ... let me check.,0,0.988716721534729
99749484,6186,magao,2017-02-07T05:46:33Z,so that `bittorrent::torrentstate` is a complete type. but i could get around that by the parameter instead being `const bittorrent::torrentstate &` - then a forward declaration would be enough. because `torrentstate` isn't actually an enum as i just realised ...,0,0.9927588701248169
99749732,6186,magao,2017-02-07T05:49:40Z,oh - ` ` is out of order - is that what you meant?,0,0.9617822170257568
99753709,6186,magao,2017-02-07T06:34:07Z,and i introduced a bug when i fixed up the `#ifdef` stuff so it didn't resize ...,0,0.9638622403144836
99756353,6186,magao,2017-02-07T07:04:41Z,"not sure how to hook it. `guiiconprovider` doesn't have a parent, so it doesn't seem to receive events. i'm wondering if maybe `mainwindow` should notice `qevent::applicationpalettechange` and then forward it as a `preferences::changed()` signal - or maybe a new `preferences::themechanged` signal.",0,0.7577680945396423
99765259,6186,zeule,2017-02-07T08:19:28Z,"oh, yes! pardon me, i forgot about the `all` case and overlooked this in the code. thank you for the explanation.",1,0.9872704744338989
99786121,6186,zeule,2017-02-07T10:11:51Z,"my bad, this is another function.",-1,0.9941086769104004
99789637,6186,zeule,2017-02-07T10:28:40Z,i would catch that event in the application object. like the `preferences::themechanged` signal.,0,0.9928765892982483
99789829,6186,zeule,2017-02-07T10:29:45Z,"you use a reference to a temporary object, returned from `geticonid()`, don't you?",0,0.9943174719810486
99789955,6186,zeule,2017-02-07T10:30:22Z,yep.,0,0.9245200753211975
99795155,6186,zeule,2017-02-07T10:58:09Z,this is wrong in c++. one needs a pointer for this kind of things.,0,0.6126762628555298
99795957,6186,zeule,2017-02-07T11:02:08Z,"i was wondering are these function need to be in the class interface. btw, you may make `torrentstate` an `enum class` with explicit underlying type and then forward declare it, eliminating the include.",0,0.9823324084281921
99797466,6186,zeule,2017-02-07T11:10:02Z,"`qstring` constructor converts literals from utf-8, while via `qlatin1string` we specify that the literal is in latin1 encoding, which is more efficient. when we drop qt4, we will replace those with `qlatin1literal`, which will be even more memory efficient.",0,0.9915539622306824
99797623,6186,zeule,2017-02-07T11:10:55Z,ok then.,0,0.9870026111602783
99797896,6186,zeule,2017-02-07T11:12:36Z,"yes, i understand this. but, you know, a ""larger"" is pointing to enlarging the object but not changing its internal structure.",0,0.9818972945213318
99798973,6186,zeule,2017-02-07T11:18:46Z,"btw, a c++-ish approach to this would be the following: [code block]",0,0.9866042733192444
99924363,6186,magao,2017-02-07T20:44:39Z,"yes - as i updated my comment, i messed this up. a reference is actually usable for it - the problem was referencing (or pointing to) an object that went out of scope ... i've fixed this in my not-yet-pushed version.",0,0.9826531410217285
99926794,6186,magao,2017-02-07T20:55:48Z,"i've gone with the approach of making the literals `static const qlatin1string` and i can then return a `const qlatin1string &` reference. that could open up other optimisations such as having `guiiconprovider::getstatusicon` take a `const qlatin1string &`, but then it would still need to be converted to `qstring` internally (can't store `qlatin1string` in a hash as the `const char *` isn't copied). need to think about this some more.",0,0.9857213497161865
99927113,6186,magao,2017-02-07T20:57:13Z,"my current prototype does that, except it's caught in `mainwindow::event()` which already existed.",0,0.9934530258178711
99927384,6186,magao,2017-02-07T20:58:35Z,`overrideiconid` is gone.,0,0.9912933707237244
99927986,6186,magao,2017-02-07T21:01:33Z,i see what you mean though - c++11 `= default`. still catching up on c++11 - much of this stuff wasn't around last time i used c++ (~10 years ago). and it's been over 20 years since i hung around on comp.std.c++ :),1,0.9511684775352478
99929384,6186,zeule,2017-02-07T21:08:23Z,"in c++ a reference can not be reassigned, that is what i wanted to say.",0,0.9918345212936401
99937370,6186,magao,2017-02-07T21:44:50Z,"yes - now i think about it further, which i think was happening is that `operator=()` was being called (hence safe, but no performance advantage). so many potential gotchas in c++ - it's no wonder i prefer python these days :)",1,0.8884058594703674
99982764,6186,Chocobo1,2017-02-08T02:57:03Z,"please don't over-complicate things... returning qstring is perfectly fine, either it will be optimized out by compiler rvo or it will just change qstring internal pointer, either way no real copy will be performed (if not modified).",0,0.6732680201530457
99994303,6186,magao,2017-02-08T05:30:01Z,i'm not a fan of that approach - it makes the call sites messy. i think overloads make more sense in this case.,-1,0.9184303879737854
100032607,6186,zeule,2017-02-08T10:20:12Z,had not found where this include is used in the code. is it needed at all?,0,0.991314709186554
100068257,6186,zeule,2017-02-08T13:49:38Z,unused,0,0.96555495262146
100068310,6186,zeule,2017-02-08T13:49:54Z,`template struct qpair;`,0,0.9921287298202515
100072636,6186,zeule,2017-02-08T14:10:28Z,does this little tune really belong to the main options page? i would put it into the advanced page (where we have some icons-related settings already).,0,0.9918251037597656
100073379,6186,zeule,2017-02-08T14:14:06Z,all these new includes are unneeded. you can forward declare these classes and move the includes into the .cpp file.,0,0.9953303337097168
100074078,6186,zeule,2017-02-08T14:17:36Z,unused,0,0.96555495262146
100165891,6186,magao,2017-02-08T20:47:08Z,whoops - forgot to remove this.,-1,0.943026065826416
100166897,6186,magao,2017-02-08T20:51:46Z,leftover from my prototype.,0,0.9756622910499573
100166995,6186,magao,2017-02-08T20:52:17Z,leftover from my prototype.,0,0.9756622910499573
100167301,6186,magao,2017-02-08T20:53:43Z,"i thought about that, but the transfer list ui options seemed like an obvious place for it. it's about as significant as hiding zero and infinity values imo.",0,0.9292531609535217
100171949,6186,magao,2017-02-08T21:16:11Z,i was thinking that because they were being returned from functions they needed to be complete types. but you can declare functions which accept or return incomplete types. rusty c++. [a link],0,0.9830082654953003
165281005,8347,glassez,2018-02-01T08:01:23Z,disagree. the reports about bugs in upstream are also important.,0,0.7877249121665955
165340756,8347,FranciscoPombal,2018-02-01T12:22:35Z,"ok, how about:",0,0.9905439615249634
165552043,8347,Chocobo1,2018-02-02T03:37:06Z,please add bullet point (and maybe boldface) for section titles,0,0.9943934679031372
165552094,8347,Chocobo1,2018-02-02T03:37:39Z,i would make it larger: `###`,0,0.9913305044174194
165552385,8347,Chocobo1,2018-02-02T03:40:50Z,it's unusual for me to see semicolons here and below,0,0.9616447687149048
165552811,8347,Chocobo1,2018-02-02T03:45:06Z,"no need for another level, just use 3 spaces for indention, as such: - asking for specific builds of qbittorrent not currently officially available; if you really ...",0,0.9939613938331604
165552926,8347,Chocobo1,2018-02-02T03:46:17Z,why insert 2 more spaces?,0,0.9617441892623901
165553010,8347,Chocobo1,2018-02-02T03:47:10Z,too much empty lines here.,-1,0.7045350670814514
165553151,8347,Chocobo1,2018-02-02T03:48:56Z,the wiki & forum word can be a link for easier access.,0,0.9928939938545227
165553378,8347,Chocobo1,2018-02-02T03:51:28Z,please add: update your network driver,0,0.9953404664993286
165553418,8347,Chocobo1,2018-02-02T03:52:02Z,capitalize?,0,0.992218017578125
165553533,8347,Chocobo1,2018-02-02T03:53:22Z,python word as a link,0,0.9934989213943481
165553576,8347,Chocobo1,2018-02-02T03:53:54Z,and capitalize,0,0.9906062483787537
165553609,8347,Chocobo1,2018-02-02T03:54:19Z,links please,0,0.9830312728881836
165554079,8347,Chocobo1,2018-02-02T03:59:37Z,first sentence incomplete?,0,0.9578211307525635
165554230,8347,Chocobo1,2018-02-02T04:01:35Z,"there was a undocumented policy here: do not upload illegal torrents here, but email to sledgehammer999 when he asked.",0,0.9765841960906982
165554368,8347,Chocobo1,2018-02-02T04:03:27Z,i would remove the boldface to move this point to the bottom of the list.,0,0.9865293502807617
165554472,8347,Chocobo1,2018-02-02T04:04:52Z,"there is usually not a beta around. or say: check on the forum, see if there's already a alpha / beta version with that enhancement.",0,0.9887291193008423
165554576,8347,Chocobo1,2018-02-02T04:06:18Z,make sure you have consistency with the number of new lines within this document.,0,0.9914205074310303
165554615,8347,Chocobo1,2018-02-02T04:06:52Z,"double ""list""",0,0.9938177466392517
165554846,8347,Chocobo1,2018-02-02T04:09:29Z,"do you mean ""what is an actual bug report?"" ?",0,0.9896615743637085
165555088,8347,Chocobo1,2018-02-02T04:12:37Z,enhancements => enhancements,0,0.9800097346305847
165555213,8347,Chocobo1,2018-02-02T04:14:08Z,this small section applies to all sections and can be placed on top of toc,0,0.9944455623626709
165617032,8347,thalieht,2018-02-02T11:02:49Z,"the last sentence is redundant. if a user knows that he'll say it, it's common sense.",0,0.9471352100372314
165617390,8347,thalieht,2018-02-02T11:04:48Z,fix -> fixes,0,0.9665253758430481
165618244,8347,thalieht,2018-02-02T11:09:12Z,others might _have_ already implemented your idea and _it_ is waiting to be merged (or _it_ got rejected already).,0,0.9518334269523621
165621846,8347,glassez,2018-02-02T11:27:44Z,"an example of a bad commit message, imo. however, we still don't have rules about it.",-1,0.9747890830039978
165732028,8347,FranciscoPombal,2018-02-02T19:07:04Z,this was done to satisfy the linter i used while writing the file: [a link],0,0.9959927797317505
165733981,8347,FranciscoPombal,2018-02-02T19:14:31Z,ok,0,0.9233372807502747
165734026,8347,FranciscoPombal,2018-02-02T19:14:42Z,ok,0,0.9233372807502747
165735355,8347,FranciscoPombal,2018-02-02T19:20:11Z,ok,0,0.9233372807502747
165735392,8347,FranciscoPombal,2018-02-02T19:20:21Z,ok,0,0.9233372807502747
165735664,8347,FranciscoPombal,2018-02-02T19:21:23Z,ok,0,0.9233372807502747
165735759,8347,FranciscoPombal,2018-02-02T19:21:45Z,ok,0,0.9233372807502747
165735821,8347,FranciscoPombal,2018-02-02T19:22:01Z,ok,0,0.9233372807502747
165737371,8347,FranciscoPombal,2018-02-02T19:28:23Z,ok,0,0.9233372807502747
165737424,8347,FranciscoPombal,2018-02-02T19:28:39Z,ok,0,0.9233372807502747
165738564,8347,FranciscoPombal,2018-02-02T19:33:28Z,"ok, sentence is now: `the following are _not_ bug reports. **check the wiki, forum or other places for help and support for issues like these**:` also remove trailing `;` in all bullet points",0,0.9901918172836304
165739291,8347,FranciscoPombal,2018-02-02T19:36:33Z,ok,0,0.9233372807502747
165739699,8347,FranciscoPombal,2018-02-02T19:38:24Z,ok,0,0.9233372807502747
165739915,8347,FranciscoPombal,2018-02-02T19:39:17Z,"nope, the second part that is capitalized is part of the sentence. is it too awkward?",-1,0.7179857492446899
165740240,8347,FranciscoPombal,2018-02-02T19:40:42Z,"i can add a rule to state that uploading a `.torrent` file is off limits, but what about linking (torrents and magnet links)? should that be email-only as well?",0,0.992461621761322
165740417,8347,FranciscoPombal,2018-02-02T19:41:29Z,ok,0,0.9233372807502747
165741580,8347,FranciscoPombal,2018-02-02T19:46:17Z,ok,0,0.9233372807502747
165741608,8347,FranciscoPombal,2018-02-02T19:46:23Z,ok,0,0.9233372807502747
165741736,8347,FranciscoPombal,2018-02-02T19:46:52Z,ok,0,0.9233372807502747
165741829,8347,FranciscoPombal,2018-02-02T19:47:15Z,ok,0,0.9233372807502747
165741894,8347,FranciscoPombal,2018-02-02T19:47:29Z,ok,0,0.9233372807502747
165742826,8347,FranciscoPombal,2018-02-02T19:51:12Z,another level is more consistent with the style of the rest of the document imo. plus i tried doing as you suggested and my markdown preview did not show it like that.,0,0.9748600125312805
165744211,8347,FranciscoPombal,2018-02-02T19:56:03Z,"ok, left at most one blank newline between others, except when absolutely necessary to preserve the wanted style",0,0.9674713015556335
165750254,8347,thalieht,2018-02-02T20:22:10Z,...can't _reproduce_ the problem...,-1,0.7277071475982666
165779509,8347,FranciscoPombal,2018-02-02T22:41:38Z,"thanks, done",1,0.8222284913063049
165804800,8347,Chocobo1,2018-02-03T04:40:05Z,?,0,0.9296892285346985
165805304,8347,Chocobo1,2018-02-03T05:07:07Z,"as for the links, there is an alternative syntax in markdown, for example: [code block] --- in action: blah .... [link][link-url] ... [link-url]: [a link]",0,0.9922467470169067
165805324,8347,Chocobo1,2018-02-03T05:08:51Z,the official forum link is [a link],0,0.9945604205131531
165805353,8347,Chocobo1,2018-02-03T05:10:42Z,"pardon, i meant capitalize the first word: * restart qbittorrent * restart your pc not the whole sentence.",0,0.9844584465026855
165805372,8347,Chocobo1,2018-02-03T05:11:27Z,"capitalize the first word, not the sentence.",0,0.9863983988761902
165805478,8347,Chocobo1,2018-02-03T05:18:14Z,"reproduce requirement is quite strong, some bugs isn't easy to reproduce. or maybe say: report only if you run into the issue with an official stable release, a beta release... afaik there were some bugs in the portableapps.com version and we don't provide support for that.",0,0.9741289019584656
165806817,8347,Piccirello,2018-02-03T06:37:32Z,"i disagree; i think we should be explicit in asking for this. providing this information may not be as obvious to non-developers and general users. in the best case, the user reads a superfluous sentence. in the worst, the issue requires a follow up (by one of us) to get this info.",0,0.892415463924408
165806845,8347,Piccirello,2018-02-03T06:39:29Z,do you have a suggestion of a better message? your original comment is neither helpful nor constructive.,-1,0.7645796537399292
165807245,8347,Chocobo1,2018-02-03T06:56:05Z,"geez, you guys need to learn respect the history, bashing it repetitively won't change anything, that was an example for **""close #xxxx""**, not an example for perfect commit log. and no, please find/write the perfect commit msg yourself. :\",-1,0.9958615899085999
165808512,8347,glassez,2018-02-03T08:11:19Z,"i'm sorry if i offended someone, my intention was not that. what matters is not only that one message is better than another. but the fact that we do not adhere to one specific style in this, and our history looks like a dump. i have several times hinted that it would be nice to have some ""commit messaging"" rules (as part of our coding guidelines). [a link] topic contains some useful reflections on this subject, and we could take it as a basis.",-1,0.9794287085533142
165810232,8347,Piccirello,2018-02-03T09:45:45Z,"my apologies, i included you by mistake. my comment was in response to .",-1,0.9677327871322632
165812346,8347,FranciscoPombal,2018-02-03T11:30:20Z,?,0,0.9296892285346985
165812399,8347,FranciscoPombal,2018-02-03T11:32:55Z,"i see, but in that case, isn't it outside the scope of this pr?",0,0.989651620388031
165812482,8347,FranciscoPombal,2018-02-03T11:38:03Z,ok,0,0.9233372807502747
165812485,8347,FranciscoPombal,2018-02-03T11:38:09Z,ok,0,0.9233372807502747
165812755,8347,thalieht,2018-02-03T11:52:23Z,maybe is right but i have seen many issues that provide this information without being asked.,0,0.971898078918457
165812979,8347,FranciscoPombal,2018-02-03T12:03:20Z,ok,0,0.9233372807502747
165813194,8347,FranciscoPombal,2018-02-03T12:13:27Z,"but if upgrading to the latest version fixes the bug, then it saves us and the user all the hassle. i think the way the sentence is worded now has a similar meaning to what you propose: `upgrade to latest version; problem still occurs ? file and issue : don't file an issue`. i didn't know about the portableapps.com builds. i will add a clause for that.",0,0.9633073806762695
165813883,8347,glassez,2018-02-03T12:52:55Z,"i just don't want to see link to commit with incorrect (imo) message as an example of ""how it should be done"". until we have ""commit messaging"" rules.",0,0.7897337675094604
165817756,8347,FranciscoPombal,2018-02-03T15:51:37Z,"so should i withdraw the points about commit messages, leave them like they are now, or expand them in this pr?",0,0.9928693175315857
165817936,8347,glassez,2018-02-03T15:57:33Z,"i would have removed the example, and the rest left as is. wait for other opinions.",0,0.9792391657829285
165819094,8347,Chocobo1,2018-02-03T16:48:18Z,"right. but i don't see what is related to what i said. just to be clear, the ""reproduce"" here means ""able to trigger the bug repetitively"" and this shouldn't be a strong requirement to file an issue (as some bugs ain't easy to trigger). i think you shouldn't put a link to it (to avoid encouragement), just say we don't provide support out of official releases (on windows).",0,0.9702628254890442
165829334,8347,FranciscoPombal,2018-02-04T00:09:49Z,"just to be clear, the ""reproduce"" here means ""able to trigger the bug repetitively"" and this shouldn't be a strong requirement to file an issue (as some bugs ain't easy to trigger). i understand, will change. ok",0,0.8317457437515259
166402023,8347,Chocobo1,2018-02-06T18:41:29Z,you forgot to remove portableapps-url below.,0,0.9923874139785767
166478037,8347,FranciscoPombal,2018-02-06T23:37:52Z,"thanks, done",1,0.8222284913063049
169185501,8347,FranciscoPombal,2018-02-19T22:52:38Z,ping,0,0.4991936683654785
170892902,8347,thalieht,2018-02-27T11:31:02Z,don't post _public_ or private....?,0,0.9463958740234375
170893904,8347,FranciscoPombal,2018-02-27T11:35:10Z,"that first ""or"" shouldn't actually be there. fixed",0,0.9808838367462158
178922374,8347,Chocobo1,2018-04-03T18:36:26Z,please change double empty lines to one empty line and check other places below. imo you are free to squash the commits.,0,0.9934605360031128
178930393,8347,FranciscoPombal,2018-04-03T19:05:28Z,i was able to remove some empty lines without affecting the formatting. the others are necessary to maintain the desired layout; see the images below: ![a link] ![a link],0,0.9269726276397705
178930482,8347,FranciscoPombal,2018-04-03T19:05:48Z,is it ok now?,0,0.9858988523483276
178932421,8347,thalieht,2018-04-03T19:13:09Z,"typos: porvide, unoficial",0,0.9881921410560608
178932548,8347,thalieht,2018-04-03T19:13:43Z,"as per [a link] you should change ""fixed"" to ""fix"" (imperative mood and capitalize).",0,0.9902763366699219
178936411,8347,FranciscoPombal,2018-04-03T19:29:14Z,"thanks, fixed",1,0.7960073947906494
178936427,8347,FranciscoPombal,2018-04-03T19:29:17Z,"thanks, fixed",1,0.7960073947906494
179018613,8347,glassez,2018-04-04T03:29:42Z,this link points to the incorrect example (`closes ` clause should be in message body). please change it (e.g. [a link],0,0.9937677383422852
179023281,8347,Chocobo1,2018-04-04T04:19:26Z,"yes, ~~btw i've noticed the issue when writing markdown, but never figured it out a solution, thanks!~~",1,0.9853748083114624
179024939,8347,Chocobo1,2018-04-04T04:37:06Z,"just fyi, see preview on github: [a link]",0,0.9903861284255981
179025004,8347,Chocobo1,2018-04-04T04:37:53Z,its been so long that https has been deployed for this site.,0,0.9695736765861511
183279316,8347,Chocobo1,2018-04-23T05:26:04Z,"seems is quite busy... i can fix this and mine comment and get this pr ready to merge, what do you say?",0,0.7466829419136047
183297894,8347,glassez,2018-04-23T07:30:59Z,"i would merge it asap, so please fix it.",0,0.9856871962547302
324883290,11241,thalieht,2019-09-16T21:00:16Z,"this ""if"" isn't needed because it's always ""torrent"" here but maybe it has some reason i don't know about?",0,0.9819546937942505
324886028,11241,thalieht,2019-09-16T21:06:50Z,"something has to be done with this because it is shown even when `removedirrecursive` is used. i don't really know what ""smartremoveemptyfoldertree"" does so not sure if it should go in `if (tmpremovingtorrentdata.deleteoption == torrentandfiles)`. please advise.",0,0.9715012311935425
324969060,11241,Chocobo1,2019-09-17T03:41:22Z,`const deleteoption deleteoption` and at other places too.,0,0.9877199530601501
324969382,11241,Chocobo1,2019-09-17T03:43:10Z,"`(const qstring &hash, deleteoption deleteoption = torrent)`",0,0.9940127730369568
324969645,11241,Chocobo1,2019-09-17T03:44:47Z,you should always put a `break;` in `case`.,0,0.9929736852645874
324972421,11241,Chocobo1,2019-09-17T04:02:18Z,i think it is more sensible to rename it to `torrentandrootfolder`.,0,0.9864310622215271
324973242,11241,Chocobo1,2019-09-17T04:07:22Z,not your code but please help us add curly brackets to it and to the `else` cases too.,0,0.9942176342010498
324974040,11241,Chocobo1,2019-09-17T04:12:29Z,"will this remove folders outside the torrent? for example, a single-file torrent downloaded (without creating sub-folder) to `/my/path/torrent_file` and will this line remove `/my/path`? i hope it won't.",0,0.9839090704917908
324975308,11241,Chocobo1,2019-09-17T04:20:57Z,i don't think `removedirrecursive` is guaranteed to succeed doing its job (currently there is no way to know) and this msg could still be needed. it removes folders and only when they do not contain any files. personally i think showing this log msg is not a very a big issue.,0,0.9211718440055847
324976726,11241,Chocobo1,2019-09-17T04:29:51Z,(not sure) i think the whole `if (m_removingtorrents.contains(infohash)) {}` isn't needed but the log msg below should be preserved. and this line should be removed too: [a link],0,0.9862356781959534
324977171,11241,Chocobo1,2019-09-17T04:33:03Z,i use `if (deleteoption == torrent)` here and switch the conditional bodies.,0,0.9941133856773376
325024977,11241,thalieht,2019-09-17T07:48:25Z,coding style or something else?,0,0.9811453223228455
325043903,11241,Chocobo1,2019-09-17T08:34:42Z,i'm saying you didn't place a `break;` below which you should add it.,0,0.9834871292114258
325044110,11241,thalieht,2019-09-17T08:35:07Z,we need the torrent name which is deleted by now for the msg.,0,0.994192898273468
325048563,11241,thalieht,2019-09-17T08:45:11Z,no it won't. it was tested in the original pr and i tested it again to be sure.,0,0.988069474697113
325051834,11241,thalieht,2019-09-17T08:52:20Z,"i got that, i'm asking whether it's for coding style or something else.",0,0.9877570867538452
325053152,11241,Piccirello,2019-09-17T08:55:04Z,it's good practice in case additional cases are added in the future. reduces the likelihood of an error,0,0.5172051191329956
325053548,11241,thalieht,2019-09-17T08:55:56Z,ah ok thanks.,0,0.5638400912284851
325054280,11241,thalieht,2019-09-17T08:57:25Z,ok swapped.,0,0.9628305435180664
325054515,11241,Piccirello,2019-09-17T08:57:59Z,we should bump the web api minor version since this value is changing from 2 to 4. so 2.2.0 -> 2.3.0,0,0.9940145611763
325054525,11241,thalieht,2019-09-17T08:58:00Z,done.,0,0.9897913336753845
325057904,11241,glassez,2019-09-17T09:05:33Z,i would assign enum values explicitly to be sure they will not change accidentally. then you can also reorder them logically (to keep all delete options together).,0,0.9935677647590637
325058447,11241,Piccirello,2019-09-17T09:06:47Z,i would use `enable super seeding for torrent` to match the other options.,0,0.9938216209411621
325059967,11241,Piccirello,2019-09-17T09:10:14Z,i think these should all be plural (i.e. `pause torrents`) given the sentence `seed torrents until their seeding time...`.,0,0.9853310585021973
325064144,11241,Piccirello,2019-09-17T09:19:04Z,"i find the differentiation between ""files"" and ""folder"" a bit non-obvious. i had to go back and look at the descriptions in the original pr to figure it out. i don't think ""folders"" and ""folders (force)"" is super obvious either (used in the original pr), but i believe it's the same nomenclature that utorrent uses.",0,0.9529467225074768
325066272,11241,glassez,2019-09-17T09:23:32Z,"sorry, but these changes totally incorrect. core component should know nothing about any top level components and their logic. bittorrent::session should operate with maxratioaction. all mapping should be done where it's needed.",-1,0.9892472624778748
325079153,11241,thalieht,2019-09-17T09:52:02Z,"the only reason i changed them is because ""delete torrents + folder"" would look weird imo.",-1,0.9688416719436646
325080714,11241,thalieht,2019-09-17T09:55:42Z,"ok, will restore plural form and use ""folders (force)"".",0,0.9945482611656189
325082550,11241,glassez,2019-09-17T09:59:56Z,"please take your time, wait for other opinions.",0,0.9703879356384277
325105327,11241,thalieht,2019-09-17T11:00:00Z,oh ok,0,0.8757970929145813
325110510,11241,thalieht,2019-09-17T11:15:08Z,any appropriate place to make functions for them or i just duplicate the code in optionsdialog and appcontroller?,0,0.9949500560760498
325112899,11241,glassez,2019-09-17T11:22:12Z,"you don't need to change appcontroller, isn't it? it still should return serialized maxratioaction.",0,0.9942849278450012
325225326,11241,glassez,2019-09-17T15:09:30Z,"how should it work for torrent that has no root folder? i suppose the main purpose of this option is not only remove torrent root folder but remove torrent with all folders belonging to it regardless of the fact that there are some 3rd party files exist in these folders. when you talk about the root folder, this is just a special case of the above behavior, isn't it?",0,0.9913771152496338
325232758,11241,thalieht,2019-09-17T15:22:29Z,sorry don't know what that means. i mean the following (and the equivalent in optionsdialog) diff [code block],-1,0.9916987419128418
325234787,11241,glassez,2019-09-17T15:26:11Z,just don't touch appcontroller at all.,0,0.9809262752532959
325236877,11241,glassez,2019-09-17T15:29:39Z,also you shouldn't change maxratioaction/setmaxratioaction.,0,0.9920166730880737
325255522,11241,Chocobo1,2019-09-17T16:04:48Z,"yes you are right, i wasn't aware of the main idea behind it. however the final name should correlate with how we name it in the ui.",0,0.9853208661079407
325257457,11241,Chocobo1,2019-09-17T16:08:50Z,i see. then the `if ()` isn't necessary.,0,0.9922640323638916
325257462,11241,glassez,2019-09-17T16:08:50Z,"if i am correct in my assumption of its purpose, it should be called ""delete torrent and folders"" in ui and torrentandfolders here.",0,0.9922541379928589
325258479,11241,glassez,2019-09-17T16:10:47Z,"from the other side it deletes not only folders (some files can be outside any folder). maybe ""delete torrent, files and folders""?",0,0.9915803074836731
325259793,11241,Chocobo1,2019-09-17T16:13:24Z,:thumbs_up: this sounds better than other current alternatives.,1,0.9873175024986267
325269924,11241,Chocobo1,2019-09-17T16:34:44Z,"ok, i had other concerns. first one. if some torrent has the following structure: `b/c/d/e.txt` and is saved under `/a`. what is the expected behavior under this option? removing folder `/a/b/c/d`? or removing `/a/b`? i suppose it is the latter, right? second. i suspect it is not correct to use `utils::fs::removedirrecursive` to just remove one directory. it should instead remove the top level sub-folders one by one. for example a torrent saved under `/a` (with create subfolder option off) has `b/c/z1.txt`, `d/e/z2.txt`, `z3.txt`. then it should remove `a/b` and `a/d` folders.",0,0.9245343208312988
325270076,11241,thalieht,2019-09-17T16:35:05Z,what? i reverted maxratioaction/setmaxratioaction but if i don't do anything in appcontroller it still saves/loads based on index. where am i supposed to do that mapping if not there?,0,0.8853831887245178
325299960,11241,thalieht,2019-09-17T17:43:01Z,"yes. as for the rest, what i do know is that this stuff is out of my league and if it's required to do anything other than use `utils::fs::removedirrecursive` then i'll have to abandon ship.",-1,0.7452088594436646
325320047,11241,thalieht,2019-09-17T18:27:28Z,"if ""files"" are mentioned people will wonder why this option deletes all files while the other only the torrent's files.",0,0.959044873714447
325320755,11241,glassez,2019-09-17T18:29:07Z,"well, let's start from the beginning: 1. you need to add some new maxratioaction values. just add it there. you don't need to change anything else (except, of course, the logic that uses these new behaviors). maxratioaction/setmaxratioaction is still correct (if you didn't change internal values of existing maxratioaction values). also appcontroller is still valid since it send expected values for previously existing maxratioactions. 2. you need to add appropriate options in gui/webui. previously they use simplified way of using internal maxratioaction representation. now you don't want to use it since it causes unwanted order of options in appropriate controls. so you need to define some mapping between maxratioaction serialized representation values and ui representation values (in gui and webui).",0,0.975159764289856
325323032,11241,glassez,2019-09-17T18:34:10Z,"in fact, we often use some more or less simplified methods. if you like, i can describe this part of the logic to you from a general point of view.",0,0.9913299083709717
325341983,11241,thalieht,2019-09-17T19:18:58Z,could you point me to a few of them? please do.,0,0.9879422783851624
325391328,11241,thalieht,2019-09-17T21:21:02Z,"if the following is correct for the gui, where do i do it for the webui? diff [code block]",0,0.9950703382492065
325470762,11241,glassez,2019-09-18T03:41:13Z,the first mapping is correct. the second one should be `qhash `. lookup for key is slow.,0,0.950817883014679
325475812,11241,glassez,2019-09-18T04:14:00Z,"just assign appropriate values to ""option"" elements. isn't it enough?",0,0.9945114850997925
325481131,11241,glassez,2019-09-18T04:50:46Z,"imo, this option raised more questions than answers from the very beginning. why is it even necessary? why should qbittorrent delete unrelated files? it looks like the original author just wanted to inject something subjective into the app's features. i still think ""delete torrent and files"" is the only thing that most affected users lack.",-1,0.8685939908027649
325485878,11241,Chocobo1,2019-09-18T05:20:07Z,"imo we shouldn't care about unrelated files, this way we can maintain less. after re-reading the reason in [a link] i agree with you. there are other ways to achieve what he wants and doesn't need this option. seems so, none of the issues in the opening post mentioned this option. i would suggest that we drop this option for now, it will be easier to finish this pr and we can pick it up later if some stronger/more valid arguments comes in.",0,0.9231823086738586
325666424,11241,thalieht,2019-09-18T13:12:48Z,"it looks like the original author just wanted to inject something subjective into the app's features. i still think ""delete torrent and files"" is the only thing that most affected users lack. personally i don't care about it in the ratio options but if this option was available in regular delete, it would be the only option i would use. there is never a time i want to keep foreign stuff in the torrent folder. don't tell me you guys want to drop it only because of the name? if it's also because of `utils::fs::removedirrecursive` not being appropriate for it then ok. in any case here's another suggestion: ""delete torrents and their files"" ""delete torrents and their folder"".",-1,0.47680506110191345
325670083,11241,thalieht,2019-09-18T13:20:07Z,"omg this was the first thing i tried but i thought it didn't work... guess i forgot to restart qbt after compile. anyway, what doesn't work is preselecting the right index in the webui combobox when opening options. i'm trying to see if i can figure a way to do it in preferences.html but i don't know html and i'm not succeeding so far.",0,0.6060842871665955
325675958,11241,glassez,2019-09-18T13:30:35Z,[a link] here is affected place. not sure if you can select `option` by `value` attribute value. then you have to perform mapping manually.,0,0.9834961891174316
325678793,11241,glassez,2019-09-18T13:35:56Z,"then why do you put ""foreign stuff"" there? i can't understand how it can come there under normal use?",0,0.9758874177932739
325683623,11241,glassez,2019-09-18T13:44:53Z,"i still prefer singular form. the meaning is ""when (some) torrent reaches seeding time limit pause (delete etc.) it"". plural form sounds like ""when (several/all) torrents reache seeding time limit pause (delete etc.) them"" which is incorrect, imo.",0,0.9480026364326477
325689255,11241,Chocobo1,2019-09-18T13:54:44Z,"for me, that has nothing to do with the main reason (which is mentioned in my first sentence [a link]. this is part of the reason (for me), albeit a minor one. btw, i also found a bug (unrelated to this pr) that qbt will remove user created empty folders when using `shift + del` to remove torrent which should not happen.",0,0.9758920669555664
325713829,11241,thalieht,2019-09-18T14:36:56Z,"ok i'll drop it. i can't understand how it can come there under normal use? temp stuff e.g. unzipped, subtitles etc.",0,0.931899905204773
325766017,11241,thalieht,2019-09-18T16:10:18Z,it's not changed after all.,0,0.9701655507087708
325774710,11241,thalieht,2019-09-18T16:29:17Z,thanks.,0,0.5270382761955261
326479629,11241,Chocobo1,2019-09-20T05:53:31Z,you should use the following: [code block],0,0.9959281086921692
326480000,11241,Chocobo1,2019-09-20T05:55:34Z,"here the mapping is duplicated, maybe you should move the mapping to the anonymous namespace at top of the file.",0,0.9897436499595642
326482941,11241,glassez,2019-09-20T06:10:53Z,"no, it is reversed here.",0,0.9891312122344971
326484140,11241,Chocobo1,2019-09-20T06:16:38Z,ok forget it.,0,0.9499059319496155
326584404,11241,thalieht,2019-09-20T11:22:38Z,"thanks, changed but i'm waiting for any more changes before i push again.",1,0.6620296239852905
326592509,11241,glassez,2019-09-20T11:51:21Z,why did you remove this condition?,0,0.9939864873886108
327052491,11241,glassez,2019-09-23T10:55:30Z,are you sure? did you test it?,0,0.9924197793006897
327063705,11241,Chocobo1,2019-09-23T11:29:29Z,"i see the problem now, when the `if ()` here is omitted it *might* produce duplicated/confusing log messages, that is this message here and the ones in `session::handletorrentdeletedalert` & `session::handletorrentdeletefailedalert`. it should be tested.",0,0.9810092449188232
327169240,11241,glassez,2019-09-23T15:07:10Z,it should be reverted here since it's not part of this job.,0,0.9831556081771851
327190595,11241,thalieht,2019-09-23T15:45:18Z,"it should be reverted anyway... didn't know that this alert was posted when also deleting the files and as a consequence of removing this `if ()`, the torrent's hash would be removed from `m_removingtorrents` and the stuff in `handletorrentdeletedalert/handletorrentdeletefailedalert` would never be executed. whew thanks for catching this.",1,0.9608802795410156
327325585,11241,thalieht,2019-09-23T20:55:59Z,reverted.,0,0.9197385907173157
327325777,11241,thalieht,2019-09-23T20:56:24Z,changed.,0,0.9680466055870056
327432741,11241,ArcticGems,2019-09-24T05:30:47Z,"maybe i'm completely wrong, but it should be like this = [code block] since it like that here = [code block]",0,0.8805289268493652
327446274,11241,glassez,2019-09-24T06:31:59Z,yes.,0,0.9851860404014587
327457969,11241,Chocobo1,2019-09-24T07:09:28Z,do you mind also changing the webui? shouldn't be hard.,0,0.9924753308296204
327499899,11241,thalieht,2019-09-24T08:53:32Z,i knew this would be super confusing to someone who sees this without context... i'll leave a comment above the enum.,-1,0.938937246799469
327501086,11241,thalieht,2019-09-24T08:56:17Z,oops totally forgot that.,-1,0.9847021698951721
328432446,11241,Chocobo1,2019-09-26T04:42:27Z,maybe combine them since `deletefiles` variable isn't much of use: [code block],0,0.9919968247413635
328432651,11241,Chocobo1,2019-09-26T04:43:37Z,"not your code but since we are at it, i will change to `const bittorrent::torrenthandle *torrent`",0,0.9929218888282776
328432736,11241,Chocobo1,2019-09-26T04:44:09Z,here,0,0.940010666847229
328432754,11241,Chocobo1,2019-09-26T04:44:20Z,and here,0,0.9837828278541565
328442350,11241,glassez,2019-09-26T05:42:57Z,"please don't add any dependencies from ui (or other client components), even in comments.",0,0.9786296486854553
328443400,11241,glassez,2019-09-26T05:48:24Z,"suffice it to mention that the values of the enum items should remain unchanged when adding (inserting) new ones, so as not to break the existing user settings.",0,0.9917043447494507
328550150,11241,thalieht,2019-09-26T10:34:53Z,all done.,0,0.9762905836105347
328550267,11241,thalieht,2019-09-26T10:35:15Z,changed.,0,0.9680466055870056
360037341,11708,sledgehammer999,2019-12-19T19:19:45Z,if we want to be totally const correct this should be `const qstyle *const style = blah`,0,0.9408115744590759
360044903,11708,glassez,2019-12-19T19:28:24Z,"is that really what you want? i'm not that paranoid... so if you don't insist too much, i'd rather not go to extremes.",0,0.5047528743743896
360059651,11708,thalieht,2019-12-19T19:45:40Z,does this mean it will show nothing if torrent was inactive for >100 days?,0,0.9859747290611267
360063329,11708,sledgehammer999,2019-12-19T19:49:38Z,i don't know :s but doesn't the same logic apply for when we do `const` for non-pointers?,1,0.6540090441703796
360071277,11708,Chocobo1,2019-12-19T19:58:17Z,"it is dangerous to have write access for any pointer, so we use `const int *a;`. and it is *relatively* safe to read from any pointer address, thus (in my viewpoint) fixing a pointer address would be good but isn't strictly required (as it is not so hard to spot the code reassigning a pointer to another address).",0,0.9883081316947937
360113702,11708,sledgehammer999,2019-12-19T20:58:22Z,yeah. disregard my comment. i was reading the consts wrong. i forgot you essentially have to read them right-to-left in a pointer situation.,-1,0.8174766898155212
360233059,11708,glassez,2019-12-20T05:32:34Z,i didn't touch this logic. i just moved things into appropriated place.,0,0.9820804595947266
360309865,11708,thalieht,2019-12-20T10:18:49Z,oops,0,0.6581283807754517
360654974,11708,Chocobo1,2019-12-21T15:43:05Z,`const int column`,0,0.9939444661140442
360655056,11708,Chocobo1,2019-12-21T15:45:32Z,"since it returns something, it is better to explicitly write it out: [code block] this also applies to below similar lambdas.",0,0.9946581721305847
360655157,11708,Chocobo1,2019-12-21T15:47:25Z,"this is a little deep, i would use `if()` here.",0,0.920466423034668
360655193,11708,Chocobo1,2019-12-21T15:48:12Z,please add parentheses after `:` i would also move the `else` case to another line.,0,0.9953931570053101
360655204,11708,Chocobo1,2019-12-21T15:48:36Z,i would use `if()` here.,0,0.9929147958755493
360655246,11708,Chocobo1,2019-12-21T15:49:11Z,`'*'` or `qlatin1char('*')`,0,0.9913241863250732
360655334,11708,Chocobo1,2019-12-21T15:51:14Z,you can strip the first parentheses pair.,0,0.9936283230781555
360655356,11708,Chocobo1,2019-12-21T15:51:55Z,"`qlatin1string(""100%"")`",0,0.9931740164756775
360655384,11708,Chocobo1,2019-12-21T15:52:41Z,"`const int column, const bool alt`",0,0.9932898879051208
360655443,11708,Chocobo1,2019-12-21T15:54:33Z,would just `return torrent->tags().values()` work here?,0,0.9933289289474487
360655508,11708,Chocobo1,2019-12-21T15:55:36Z,`(qt::userrole + 1)`,0,0.9937189817428589
360655517,11708,Chocobo1,2019-12-21T15:56:23Z,can you define a constant/field name for `qt::userrole + 1`?,0,0.9955388903617859
360655524,11708,Chocobo1,2019-12-21T15:56:48Z,"`(m_statusstrings[state] + "": "" + errormessage)`",0,0.9932439923286438
360655583,11708,Chocobo1,2019-12-21T15:58:10Z,`const int sortcolumn`,0,0.9933932423591614
360655765,11708,Chocobo1,2019-12-21T16:00:56Z,i would prefer: [code block] and then use const references for `left` & `right` function parameters.,0,0.9942852854728699
360661102,11708,glassez,2019-12-21T18:08:17Z,"do you have a prejudice against such a notation? it's valid. i agree, it does not make sense in the general case. but when we need to call void function immediately followed by return statement, i find it very convenient to write `return voidfunction();`. in addition, it makes all similar ""delegation to another function"" cases look uniform.",0,0.9432002305984497
360661175,11708,glassez,2019-12-21T18:10:19Z,return type deduction confuses you generally or in some special cases?,0,0.9561138153076172
360661236,11708,glassez,2019-12-21T18:11:50Z,then parentheses will have no meaning (at least for me).,0,0.9651009440422058
360661273,11708,glassez,2019-12-21T18:12:54Z,ternary operator doesn't allow different types.,0,0.9683315753936768
360662697,11708,Chocobo1,2019-12-21T18:48:52Z,for me it doesn't make sense in every cases.,-1,0.552212655544281
360662729,11708,Chocobo1,2019-12-21T18:49:49Z,"no, you write it out so the compiler could check for you if you returned the correct type and not something else.",0,0.987810492515564
360663073,11708,glassez,2019-12-21T18:58:21Z,just different subjective opinions... so if you want to never use some kind of statement we need discuss it to forbid in our coding guidelines.,0,0.8867650628089905
360663214,11708,glassez,2019-12-21T19:02:03Z,"i trust myself in such trivial cases. but i will change this to make others feel safer ""under compiler protection"". the same goes for your comments about ""const"" in function parameters.",0,0.8721089959144592
360663310,11708,glassez,2019-12-21T19:04:08Z,no. it returns `qlist ` that isn't implicitly convertible to qstringlist.,0,0.9882428050041199
360663375,11708,glassez,2019-12-21T19:05:17Z,isn't it readable enough?,0,0.9915025234222412
360663444,11708,Chocobo1,2019-12-21T19:06:48Z,i wouldn't try to push to the extreme just to satisfy my taste if i were you but let us also hear what others think.,0,0.8799858093261719
360663445,11708,glassez,2019-12-21T19:06:49Z,isn't it structured enough?,0,0.9857875108718872
360663560,11708,Chocobo1,2019-12-21T19:09:52Z,"at least consider moving it to another line, easier to read (for me).",0,0.9766498804092407
360663695,11708,Chocobo1,2019-12-21T19:14:20Z,"even if that is true, this is a public project and others might trip over. thank you your majesty.",1,0.7623315453529358
360682660,11708,glassez,2019-12-22T05:07:05Z,"btw, in case of lambda return type compiler will say you about something wrong anyway (e.g. in place where you call it). just for fun. how many times have we (qbittorrent project) encountered, for example, this terrible problem of ""unintentional variable change"" (before you start insisting on `const` everywhere)?",-1,0.5571858286857605
360682744,11708,glassez,2019-12-22T05:09:42Z,"yes, i can. then i should also do it for userrole too.",0,0.9910736680030823
360683145,11708,Chocobo1,2019-12-22T05:24:24Z,"yes, but that error message won't be pointing the fault at the lambda which is less correct. can't be sure, however when a variable is marked const it is greatly easier to track its state without worrying it has changed over a bunch of code. and btw, in rust language, every variable is const by default unless you explicitly add `mut` to it.",0,0.9790245294570923
360688077,11708,glassez,2019-12-22T07:45:00Z,"it's good. but in c++ you're making me do extra low-effeciency work (add a bunch of ""const"" modifiers). but in many cases it's just a couple of lines (passing to another function or return statement) so i don't feel it's so serious that i can develop a habit to blindly add const everywhere. you'll have to remind me of that.",1,0.8553606867790222
360688182,11708,glassez,2019-12-22T07:48:33Z,"lambda can be either correct or no. in first case compiler points to error in place of its incorrect use, in the second one compiler points to error in lambda. i don't understand what's the problem you worry about.",0,0.687129557132721
360691969,11708,Chocobo1,2019-12-22T09:06:23Z,"at the cost of you spent at most 2 more mins and ease other developers mind set reading your code... and you think it isn't worth it. funny. don't worry, i will. the same as you would write `auto somefunc() {}`. i think you should start writing in that way (automatic return type deduction since c++14). /s but seriously i can't understand why you would expect the lambdas to return other types than `qstring` here and also why merely adding `qstring` would lead to this much resistance? if you really think your code is just superior for everyone, then just say it! i'll blindly press the approve button for all of your pr from now on. i think i'll do selective review for project's pr from now on. i.e. no need to wait for me for prs that i didn't comment.",-1,0.9039390683174133
360699906,11708,glassez,2019-12-22T11:39:02Z,"no, that's why i'm discussing it. but if you take my arguments as a personal insult (if you really think your code is just superior for everyone), i will not continue this discussion and simply apply your recommendations. well, that will certainly help the project. many prs have every chance of never being merged if they have to wait for review. if this applies to my prs only, then it will be easier for me to stop them altogether (hopefully this is not what you're after). when i start discussing something, i want to learn something new for myself or correct my misconception (and do the same for an opponent). but it was never my purpose to offend anyone. so let's keep working on the project the way it's best for it.",0,0.4962192475795746
360702606,11708,glassez,2019-12-22T12:32:10Z,", pr updated. i hope i have corrected all my ""mistakes"".",1,0.9548199772834778
360725319,11708,sledgehammer999,2019-12-22T19:52:19Z,"imo, since we can do: [code block] i can't find a particular reason to object to the same thing being done for function returning void. although i do agree that it looks rather weird.",-1,0.9116681814193726
360725510,11708,sledgehammer999,2019-12-22T19:57:03Z,~i understand that you already pushed the change to the lambda. but shouldn't this be better addressed by **not** using `auto` in this case? the compiler would complain if the lambda didn't return a `qstring` object **and** the reader would know what the type of the variable is.~ sorry this was dumb comment.,-1,0.9939365983009338
360725612,11708,sledgehammer999,2019-12-22T19:59:42Z,"are we even allowed to do that? i mean, sure, the language allows us to do that, but don't we run the risk of breaking in the future (assuming another qt release adds a role that uses that number).",0,0.8825315237045288
360729161,11708,sledgehammer999,2019-12-22T21:16:12Z,"ignore my previous comment. but, imo, it is too much to require to explicitly declare a return type for such small function. and any possible mismatch will be realized the moment we try to assign the return type to a 'qstring` and the compiler throws an error.",0,0.96002596616745
360756618,11708,Chocobo1,2019-12-23T03:29:29Z,"but you write out the exact return type for normal functions instead of plugging `auto` in there and why is that? and then trace the error back to the faulty lambda, why not just specify the type at lambda instead and compiler will point to the exact line that cause the error? (i'm talking about general cases) i may be a little inconsistent on this: for pod types i might not feel strongly the need to write it out, but for more complex types such as qt containers i think it is a must.",0,0.9752863049507141
360883258,11708,sledgehammer999,2019-12-23T13:15:22Z,"actually you may be right. for me it is about readability. so yeah, in lambas the compiler might be able to deduce types and eventually error out, but when a developer reads the lambda he should be able to know the return type from the signature, and not mentally parse the lambda body to understand what type is returned. almost same reason why we use `auto` [a link] in variable types",0,0.9812749028205872
360883337,11708,sledgehammer999,2019-12-23T13:15:41Z,my previous comment may not be so important.,0,0.9611371755599976
361243332,11708,sledgehammer999,2019-12-25T02:30:28Z,"can you test if `lupdate` picks up the strings from this construct? if yes, just go ahead with the merge.",0,0.9956375956535339
361246104,11708,sledgehammer999,2019-12-25T03:00:16Z,"curious, but why didn't you make this a lambda too?",0,0.9686041474342346
361246424,11708,sledgehammer999,2019-12-25T03:04:02Z,"these 2 should be `return unitstring(torrent->uploadpayloadrate(), true);`",0,0.9957048296928406
361248419,11708,sledgehammer999,2019-12-25T03:25:51Z,shouldn't we consider right-to-left locales? (aka reverse this?),0,0.9917439818382263
361248478,11708,sledgehammer999,2019-12-25T03:27:03Z,i think this can be simplified to `newopt.text = index.data().tostring()`,0,0.9875471591949463
361256743,11708,Chocobo1,2019-12-25T05:12:11Z,i found this: `qt::alignabsolute` in [a link] so maybe it is already handled by qt? warrants a test to find out.,0,0.9932584762573242
361267148,11708,glassez,2019-12-25T06:53:00Z,leftover... changed.,-1,0.5202767252922058
361267439,11708,glassez,2019-12-25T06:55:37Z,thank you. fixed!,1,0.9913151860237122
361267518,11708,glassez,2019-12-25T06:56:18Z,i wouldn't want to touch it in this pr.,0,0.5541924834251404
361268273,11708,glassez,2019-12-25T07:02:09Z,:thumbs_up: fixed.,1,0.961927592754364
361280915,11708,sledgehammer999,2019-12-25T08:37:04Z,maybe preserve the code comment?,0,0.9910570383071899
361300890,11708,sledgehammer999,2019-12-25T11:16:21Z,"most of the changes in this file belong conceptually to the previous commit. however, i am not insisting on changing this.",0,0.9844500422477722
361300944,11708,sledgehammer999,2019-12-25T11:17:00Z,ok,0,0.9233372807502747
361304281,11708,sledgehammer999,2019-12-25T11:52:33Z,i found a discrepancy here. notice this sample code: [code block] `i` holds the value 99. `var.toint()` returns value of 100.,0,0.9928574562072754
361315200,11708,glassez,2019-12-25T14:00:46Z,oops... i never test it. i thought it rounds in the same way (just performs static_cast). will change back.,-1,0.7762060165405273
361315450,11708,glassez,2019-12-25T14:04:05Z,"sorry, what do you mean exactly? the second commit includes only changing from qitemdelegate to qstyleditemdelegate and some code/style cleanups (including this one).",-1,0.9798827767372131
361317034,11708,sledgehammer999,2019-12-25T14:23:26Z,"pragma/explicit/q_disable_copy could go to the previous commit, like it is done for the sort model (iirc). but it is ok. i am bothered to much by this.",-1,0.9478676915168762
361384237,11708,glassez,2019-12-26T07:01:36Z,ok,0,0.9233372807502747
361470602,11708,sledgehammer999,2019-12-26T14:50:03Z,this change surely belongs to the previous commit.,0,0.9822360277175903
361514823,11708,glassez,2019-12-26T19:05:26Z,moved there.,0,0.9860351085662842
361591471,11708,glassez,2019-12-27T06:24:31Z,"it is incorrect to put lambda in direct correspondence with the regular function. often the function signature is the only thing available (at least easily available). its implementation can be in another file, library, or available only in binary form. lambda was created primarily for ""inplace"" use, so that excessive detail here only reduces readability. if it is quite complex/large, then this is a good reason to turn it into regular function. almost same reason why we use auto sparingly in variable types personally i don't see any problems with identifying the return type in the lambda like the following: [code block] imo, it's better than the following ""readable"" signature: [code block]",0,0.9593095779418945
549009552,14054,jagannatharjun,2020-12-26T16:41:13Z,"imho using timepoints seems a better idea, for example, previously 6-hour and 12-hour graphs were using the same resolution i.e 72 (divider_6hour == divider_12hour). using time points solves such bugs from happening.",0,0.9566513895988464
549014551,14054,glassez,2020-12-26T17:44:28Z,please do not mix the initialization styles.,0,0.9513786435127258
549014738,14054,glassez,2020-12-26T17:46:14Z,please don't use post increment unless you really require it.,0,0.977268636226654
549020395,14054,glassez,2020-12-26T18:56:44Z,it doesn't make any sense... why do you assign the same capacity that it already has?,-1,0.8652004599571228
549020980,14054,glassez,2020-12-26T19:04:42Z,why do you still need to wrap it inside struct?,0,0.9905844330787659
549021257,14054,glassez,2020-12-26T19:07:15Z,why such perversions? why not just `int m_counter = 0;`?,0,0.9845995306968689
549678933,14054,glassez,2020-12-29T12:02:08Z,"iirc, there were some conflicts with `moc` and `boost/circular_buffer.hpp` header, so it was placed under this guard. i don't see the point in adding these new headers under this guard too. btw, perhaps it is no longer required at all.",0,0.9844242930412292
549680317,14054,jagannatharjun,2020-12-29T12:06:49Z,"i think this make moc bit faster,",0,0.9644849896430969
549681067,14054,glassez,2020-12-29T12:09:28Z,"i think we can/should use such std types directly (w/o aliases). of course, we can use it without full qualification, i.e.: [code block] ?",0,0.9899499416351318
549681726,14054,glassez,2020-12-29T12:12:07Z,"inconsistent names of struct and its fields. i would expect to see `x,y` if it is `point`.",0,0.9773200750350952
549720843,14054,glassez,2020-12-29T14:17:25Z,"wouldn't it be easier to have separate averagers for 1 and 5 min graphs? is there a real gain in sharing the same averager, but at the same time complicating it internally?",0,0.9674198627471924
549723170,14054,jagannatharjun,2020-12-29T14:24:32Z,"no, this doesn't complicate anything imo, only place where it has any effect is this [a link] but that equation will be required anyway, plus since this pr improves the resolution for the 6-hour graph so, i was thinking of re-using the 6-hour averager to add a 3-hour graph by using `averager::setcurrentmaxduration`",0,0.9904072880744934
550167267,14054,glassez,2020-12-30T11:48:39Z,"really? the presence of both `max duration` and `current max duration` in averager logic, makes it confusing. but most importantly, what is the advantage of this approach? why not just have a dedicated averager for each used interval?",-1,0.8572700619697571
550168721,14054,glassez,2020-12-30T11:54:30Z,"i don't think it's really supposed to be used for this purpose. at least i don't recall that qt recommended enclosing all third-party inclusions in such a guard. seems it's just exceptional case when moc conflicts with some headers. , have you to say something about it?",0,0.9616174101829529
550170659,14054,glassez,2020-12-30T12:01:53Z,i would rename them: 1. pointdata -> sampledata 2. graphdata -> sample 3. y -> data,0,0.9915192723274231
550172041,14054,glassez,2020-12-30T12:06:47Z,"let's call things more explicitly. otherwise, we have in the code a bunch of ""data"", ""current data"", etc., which actually refer to completely different things. so maybe call it `m_currentaverager`?",0,0.9869806170463562
550174682,14054,glassez,2020-12-30T12:16:27Z,"can you explain in simple words what `viewablepointscount` is supposed to mean? what exactly does `viewable` mean in it? and why is it that the averager, which appears to be a computational and accumulative helper, is responsible for something related to `viewing`?",0,0.9923003911972046
550177846,14054,glassez,2020-12-30T12:27:07Z,"again this jumble of similar names? what kind of `push` is meant? after all, it is resetted at the moment when the next sample is added. wouldn't it be clearer if you called it `m_lastsampletime`?",0,0.8361215591430664
550209138,14054,jagannatharjun,2020-12-30T14:16:10Z,"with this you don't need to have another array for storing the values, saving memory, and then you don't have to run the average on every stat update, saving cpu resources.",0,0.9922035932540894
550213869,14054,glassez,2020-12-30T14:31:18Z,"why then, based on the same assumptions, not have only one averager? what is the line that separates these cases?",0,0.9844977259635925
550215650,14054,jagannatharjun,2020-12-30T14:36:41Z,"resolution (after how much duration averager averages) [a link] this increases with the duration of the target time period, it's a trick to decrease the memory usage. so 24-hour averager will accumulate data till the elapsed time < resolution {144s) and the average it and push it in the data queue [a link]",0,0.9945845007896423
550220881,14054,Chocobo1,2020-12-30T14:52:28Z,"i'm not familiar with it, probably best not relying on it whenever possible...",-1,0.5005605220794678
550970604,14054,jagannatharjun,2021-01-03T07:53:09Z,"this was used to guess the full size of the buffer when max duration is reached, on the latest push i've made the speedplotview fully duration based, removing the need for this function.",0,0.9939354062080383
551324346,14054,glassez,2021-01-04T13:44:35Z,it seems that now all these duration\_\* constants unambiguously correspond to the chrono literals with which they are set. i don't see the point of having them anymore. why not just use appropriate chrono literals directly?,0,0.947668731212616
551325531,14054,glassez,2021-01-04T13:46:43Z,`std::min`?,0,0.9933265447616577
551330325,14054,glassez,2021-01-04T13:56:02Z,`std::max`?,0,0.9930693507194519
551332900,14054,glassez,2021-01-04T14:00:45Z,`const datacircularbuffer &queue`,0,0.9928966164588928
551335637,14054,glassez,2021-01-04T14:06:06Z,`const datacircularbuffer &queue`,0,0.9928966164588928
551337437,14054,glassez,2021-01-04T14:09:36Z,please leave only circular buffer include inside `#ifndef q_moc_run`.,0,0.9956492781639099
551340807,14054,glassez,2021-01-04T14:15:39Z,please enclose subexpressions in parentheses. also i would prefer to see expressions in the right side of the inequality: [code block],0,0.9956666231155396
551346678,14054,jagannatharjun,2021-01-04T14:25:30Z,don't you guys prefered qt functions?,0,0.9948785305023193
551347826,14054,jagannatharjun,2021-01-04T14:27:22Z,"hmm, if i am not mistaken then if capacity is zero (i don't pre-reserve) and capacity() should return a size_t so in that case, this code will go boom.",0,0.903326690196991
551348794,14054,jagannatharjun,2021-01-04T14:29:00Z,"i've to use `using std::chrono_literals;` in the scope of file, would that be fine?",0,0.9952844977378845
551403796,14054,glassez,2021-01-04T15:58:07Z,"well, then [code block]",0,0.9920570254325867
551408037,14054,glassez,2021-01-04T16:05:09Z,"recently, i prefer to use standard c++ counterparts in the case where they are effectively equivalent to qt ones. the same applies to boost counterparts. don't forget that many of them (qt/boost) existed before their equivalents appeared in the standard c++, so they can prevail in our existing code. , what do you think?",0,0.9691030383110046
551408844,14054,glassez,2021-01-04T16:06:34Z,why not?,0,0.9634524583816528
551410157,14054,glassez,2021-01-04T16:08:45Z,"just in case, i want to note that my comment above applies exactly to what is mentioned in it. no need to delete resolution\_\* constants.",0,0.9926813244819641
551428815,14054,Chocobo1,2021-01-04T16:37:01Z,this policy wasn't really clear until now. i agree. we probably need to write it in our coding guidelines.,0,0.9695795178413391
552154947,14054,glassez,2021-01-05T19:45:43Z,"let's start small... where did this condition come from? if i am not mistaken, then you increase the capacity in two cases, either when the size is less by one than the current capacity, or when they are equal (since the size cannot be greater than the capacity). so why not just leave the only condition (size equals capacity), as in other case (the size is less than capacity) you can safely call `push_back()` (later in the code), without fear of losing the first item of queue (this is the condition for protection from loss of the first item of queue, am i right?).",0,0.9826211333274841
552398808,14054,jagannatharjun,2021-01-06T06:46:42Z,yes this condition can be `m_sink.size() == m_sink.capacity()`,0,0.9942027926445007
553896130,14054,glassez,2021-01-08T11:39:57Z,so why isn't it still `else if (m_sink.size() == m_sink.capacity())`?,0,0.9926290512084961
553908688,14054,glassez,2021-01-08T12:10:06Z,"oh, i just wanted to point out that you should strive to reduce the overflow to a minimum, as you have already done. p.s. don't forget to correct the coding style in this line.",0,0.9410524964332581
553910198,14054,glassez,2021-01-08T12:13:52Z,the one thing i dislike in `averager::push()` is playing with buffer capacity. i would make it static and pop/push items manually.,-1,0.533295214176178
553911211,14054,jagannatharjun,2021-01-08T12:16:11Z,"idk how that can be achieved, only push has the latest information to correctly set the buffer size",0,0.9835392236709595
553950244,14054,glassez,2021-01-08T13:43:17Z,you can calculate max buffer size using duration and resolution (aka duration/resolution) and set capacity to it. since duration of each sample can't be less than resolution you will never overflow the buffer (if you manually pop outdated samples and then push new one like you do currently).,0,0.993640124797821
554143411,14054,glassez,2021-01-08T19:21:15Z,2021,0,0.8257036209106445
554145881,14054,glassez,2021-01-08T19:26:26Z,so maybe it's better to reformat conditions? [code block],0,0.9926980137825012
554147165,14054,glassez,2021-01-08T19:29:06Z,`currentdata()`,0,0.9937801957130432
554150651,14054,glassez,2021-01-08T19:36:38Z,declaring `points` variable at this scope (as it was before) looks better.,0,0.9831756353378296
554151521,14054,glassez,2021-01-08T19:38:31Z,[code block] and below too.,0,0.9951834082603455
554155298,14054,glassez,2021-01-08T19:46:44Z,please use new style initialization: [code block] it's nothing hard to change one existing line too to keep it consistent.,0,0.9953919649124146
554161424,14054,jagannatharjun,2021-01-08T20:00:03Z,huh then what was the missing coding guideline you mentioned here [a link],0,0.982631504535675
554161661,14054,jagannatharjun,2021-01-08T20:00:35Z,it looks cool :p will change it :),1,0.9965159893035889
554290808,14054,glassez,2021-01-09T04:46:55Z,space after `while`!,0,0.9868624210357666
554293499,14054,glassez,2021-01-09T05:17:08Z,why `+ 1`? it doesn't contain values for some time points but for time intervals.,0,0.9839287996292114
554293630,14054,jagannatharjun,2021-01-09T05:18:41Z,for peace of mind,1,0.9586834907531738
554294817,14054,glassez,2021-01-09T05:33:56Z,:slightly_smiling_face: you don't still need to play it safe. the maximum size here is quite obvious (after a little analysis). but the extra `+ 1` can be confusing to future reviewers.,1,0.9516889452934265
554306985,14054,glassez,2021-01-09T07:55:14Z,wouldn't it be better to store averagers in qhash (indexed by timeperiod) instead of separate class members? seems it can simplify code in several places.,0,0.9903889298439026
554307584,14054,glassez,2021-01-09T08:02:22Z,"iirc, each period is drawn proportionally to its duration, am i right?",0,0.9805294871330261
554308832,14054,jagannatharjun,2021-01-09T08:16:38Z,"yes, and note that i am drawing backwards.",0,0.9898040294647217
554310046,14054,jagannatharjun,2021-01-09T08:30:05Z,"qhash will add overhead and qhash will be used in two places, and for some graph, there is the same average so we have to add conditions for that to save for double push",0,0.9847636818885803
554452595,14054,glassez,2021-01-09T17:43:36Z,"it would be nice if adding another averager only required changes in one place, rather than four, as it is now. but it looks like it's a little more complicated than i thought. so i won't insist on it. in addition, adding/removing an averager is very rare.",0,0.6688013672828674
556269315,14054,Chocobo1,2021-01-13T05:22:22Z,please move this below forward declarations.,0,0.9942154288291931
556270353,14054,Chocobo1,2021-01-13T05:26:04Z,i would express the intention more directly: `int m_counter {0};`,0,0.9919803142547607
556271387,14054,Chocobo1,2021-01-13T05:29:44Z,`milliseconds m_currentduration {milliseconds::zero()};`,0,0.9905145168304443
556279976,14054,Chocobo1,2021-01-13T05:59:06Z,seems you can initialize all of them in header file instead.,0,0.9921697974205017
556281017,14054,Chocobo1,2021-01-13T06:02:43Z,`milliseconds::zero()`,0,0.992172122001648
556281491,14054,Chocobo1,2021-01-13T06:04:12Z,"`maxyvalue = std::max(maxyvalue, queue[i].data[id])`",0,0.991971492767334
556282186,14054,Chocobo1,2021-01-13T06:06:28Z,`milliseconds::zero()`,0,0.992172122001648
556282901,14054,Chocobo1,2021-01-13T06:08:28Z,you can use `{}` initializer for both double vars.,0,0.9953395128250122
556283131,14054,Chocobo1,2021-01-13T06:09:09Z,please use `0` instead of `0.0`,0,0.9945269227027893
556283253,14054,Chocobo1,2021-01-13T06:09:33Z,`milliseconds::zero()`,0,0.992172122001648
556283367,14054,Chocobo1,2021-01-13T06:09:57Z,add `const` for both variables.,0,0.9947739243507385
556292481,14054,jagannatharjun,2021-01-13T06:38:26Z,yeah but then i have to declare resolution_* in header file. i don't like that,-1,0.9480029344558716
556293478,14054,jagannatharjun,2021-01-13T06:41:22Z,"yeah but `{}` is meant to initialize with zero, then why pollute code with obvious inferences.",0,0.9604353904724121
556300208,14054,Chocobo1,2021-01-13T07:00:19Z,"you don't have to, you can put the literal directly to the constructor.",0,0.9914251565933228
556301387,14054,glassez,2021-01-13T07:03:34Z,maybe `0ms`? `milliseconds::zero()` is too long... or `auto duration = milliseconds::zero();`.,0,0.9875367283821106
556311152,14054,Chocobo1,2021-01-13T07:27:38Z,i prefer initializing with obvious literals over some programming language constructs whenever possible. you can wait for others comment before making a change here.,0,0.9894492626190186
556316393,14054,glassez,2021-01-13T07:39:04Z,"isn't it time to discuss our preferred initialization method? it looks like we already have one approved aspect (we prefer to use braces instead of parentheses to initialize classes, although i think there may be exceptions). but personally, i feel it's acceptable to use assignment for initialization. even more than that, it looks more natural to me in many cases, especially when it comes to some numeric types (e.g. `int i = 10;` instead of `int i {10};`). anyway i don't mind if we adopt some stricter rules.",0,0.6493794918060303
556333935,14054,glassez,2021-01-13T08:14:47Z,[a link] how about still use `int m_counter = 0;` for numeric like types?,0,0.9952124357223511
556352833,14054,Chocobo1,2021-01-13T08:48:07Z,agree. perhaps we could agree on using assignment in initialization expressions when it comes to pod types.,0,0.9810086488723755
558462682,14054,jagannatharjun,2021-01-15T17:40:09Z,why do guys insist on such rigid coding guidelines? i still haven't worked in a real company for programming. do companies follow such rigid and explicit coding guidelines?,-1,0.970302402973175
558463627,14054,jagannatharjun,2021-01-15T17:41:56Z,"resolution_* are very specific and not self-explanatory, imo they should remain as a constant either in header or source.",0,0.9896742701530457
558463830,14054,jagannatharjun,2021-01-15T17:42:20Z,i will prefer 0ms.,0,0.983223021030426
558824486,14054,glassez,2021-01-16T08:12:45Z,"programming is not my main profession. i use it as an auxiliary tool in my life, and as a hobby. but for the sake of interest, you can take a look at [a link]. they are quite extensive.",0,0.613020658493042
559133652,14054,glassez,2021-01-17T10:18:27Z,shouldn't you use `>=`?,0,0.9930319786071777
559134437,14054,glassez,2021-01-17T10:19:45Z,`0ms`?,0,0.9931750893592834
559169215,14054,Chocobo1,2021-01-17T11:44:02Z,"imo, the `resolution_*` name doesn't carry any value of information that we don't already know. having a named constant that isn't used elsewhere other than at the constructor doesn't really add any value and can be considered to inline. just look at this snippet: [code block] it is easy to see `1s` is supposed to be some kind of ""resolution"" and its type is expected to be `milliseconds`. however if you really don't share the same vision, then forget it.",0,0.9763721823692322
559174548,14054,glassez,2021-01-17T12:28:41Z,"seems you're right. at first i thought of some kind of configuration role, but it seems that it is also conveniently configured without these constants, just by changing the corresponding parameter in the initializer.",0,0.9649289846420288
559338437,14054,jagannatharjun,2021-01-18T06:21:27Z,"ok, should i move all the member variable initialization in the headers, also note that i have to add `using std::chrono_literals` in the header in that case.",0,0.9946463704109192
559340922,14054,Chocobo1,2021-01-18T06:30:02Z,you can use it within `private` section.,0,0.9958447813987732
560180858,14054,jagannatharjun,2021-01-19T13:39:03Z,using namespace is not allowed in class.,0,0.9905727505683899
560759099,14054,glassez,2021-01-20T08:24:05Z,"imo, chrono literals is good enough thing to use it across the app so i see nothing bad to have such `using namespace` directive in global scope.",0,0.7756575345993042
58912308,5090,glassez,2016-04-07T17:34:25Z,preferences is deprecated in new code. don't forget it.,0,0.9799561500549316
58913135,5090,zeule,2016-04-07T17:39:15Z,i can not imagine how to avoid duplicating of the settings keys constants. can you suggest anything?,0,0.9348588585853577
58915262,5090,zeule,2016-04-07T17:51:34Z,"well, maybe four static functions in the `torrentfileprocessignguard` will do the trick, but the class interface will look not that clean.",0,0.970042884349823
58920195,5090,glassez,2016-04-07T18:22:12Z,"well, actually it's either bad design or these properties relate to the application as a whole (i.e. must belong to the application class).",-1,0.7131281495094299
58949811,5090,zeule,2016-04-07T21:39:16Z,the thing is there is no single function which does the torrent import (and **that** is bad design). hence the class to reuse the code. the preferences are in the `torrentfileprocessignguard` now.,0,0.702290415763855
58999000,5090,glassez,2016-04-08T09:11:39Z,"i agree with you. i don't like it. but, in any case, now it is much better than it was before 3.3.x. it's a pretty complex case. i'm considering it a little from time to time. and i think i found some solution on this problem. if i'm not mistaken, i will publish it later. okay. at least it's good as a workaround.",1,0.7368320822715759
59324258,5090,glassez,2016-04-12T05:59:00Z,"it is better to consider this class as a separate component and put it in its own *.h/*.cpp files (along with its base class or merge these two classes into one). utils must contain only simple logic routines that are independent from the logic of the application. p.s. you do not need to rush in search of that does not meet my approval. perhaps you will find it. as i have repeatedly said, we are constantly improving our code, but we can not change it all at once. therefore, there is still contains a lot of ""bad"" fragments which can not be regarded as examples to follow.",0,0.9687975645065308
59493420,5090,glassez,2016-04-13T05:11:01Z,", ?",0,0.9702539443969727
59547602,5090,zeule,2016-04-13T13:32:54Z,"sorry, can't understand your question.",-1,0.9920348525047302
59553812,5090,glassez,2016-04-13T14:08:01Z,move torrentfileprocessingguard class and its base class to `base/torrentfileprocessingguard.h`/`base/torrentfileprocessingguard.cpp` (and probably merge it with its base class). move these class names outside utils namespace.,0,0.9945594668388367
59566259,5090,glassez,2016-04-13T15:11:35Z,"and maybe remove `processing` from class name? imo, **torrentfileguard** is enough.",0,0.9925540089607239
59586749,5090,zeule,2016-04-13T17:10:39Z,"ok, will move them into their own file.",0,0.9931723475456238
59602271,5090,glassez,2016-04-13T18:39:05Z,then remove `auto_delete_` prefix from const names since it will become unneeded. it would be better if you will name it just like we did before (in other files): key_propertyname (if you have no objection in principle to such naming scheme). also fix settings_key from `downloads/` to `torrentfileguard/` since we use settings key names based on component names.,0,0.9944954514503479
59602450,5090,glassez,2016-04-13T18:40:04Z,fix coding style.,0,0.9817914962768555
59602632,5090,glassez,2016-04-13T18:41:00Z,fix coding style for intializer: insert space before.,0,0.9939746260643005
59602784,5090,glassez,2016-04-13T18:41:46Z,fix coding style for intializers: insert space before.,0,0.9936442375183105
59606219,5090,zeule,2016-04-13T19:02:28Z,"disagree: the class name is an implementation detail, but not a component name. i don't think it shall be present in the configuration file.",0,0.8486575484275818
59617826,5090,zeule,2016-04-13T20:19:26Z,"uhm... i had to discuss this before, but what's the difference: [code block] why do you want space int the first case, but not in the second one?",0,0.9304443597793579
59661961,5090,glassez,2016-04-14T04:27:41Z,i agree with you partially. but... 1. objective correspondence between settings names and names of the components/properties is better than subjective separation into groups. 2. qbittorrent configuration file is mostly implementation detail and it isn't a user configuration interface.,0,0.9396865367889404
59663318,5090,glassez,2016-04-14T04:57:25Z,"then why don't you use the second one? joke. old-style initializer has almost full compliance with the constructor call, so we use ""function call"" appearance. new-style initializer is used in more contexts, and in some of them it will look ugly and badly readable if you do not add a space. imo, without space before it looks ugly in all cases (for the most part due to the nature of the appearance of these characters itself).",-1,0.9882912039756775
59672448,5090,Chocobo1,2016-04-14T07:24:59Z,i suggest do the following changes: [code block],0,0.9952924251556396
59672489,5090,Chocobo1,2016-04-14T07:25:19Z,i don't think you need to set a `buddy()`?,0,0.9921147227287292
59673200,5090,Chocobo1,2016-04-14T07:31:14Z,shouldn't you put this into `settings_group`? i.e. `torrent settings` groupbox.,0,0.9959164261817932
59673419,5090,Chocobo1,2016-04-14T07:33:46Z,"~~why html tags here? is pure text not enough?~~ anyway, for me, `quot;` isn't replaced to `""` when i look at the tooltip",0,0.9547600746154785
59674357,5090,Chocobo1,2016-04-14T07:43:56Z,`quot;` isn't replaced properly. using qt designer to input the text does produce the well-formed string for me...,0,0.9933424592018127
59686233,5090,glassez,2016-04-14T09:19:24Z,"`auto_delete_` is redundant, as i said before.",0,0.9861767888069153
59687015,5090,glassez,2016-04-14T09:26:08Z,i see you know a lot of these new-fangled words!.. :),1,0.9956285953521729
59687291,5090,glassez,2016-04-14T09:28:25Z,"imported? i don't remember that we used this term for it. why not ""added""?",0,0.9879341125488281
59703447,5090,zeule,2016-04-14T11:50:26Z,i call it from a destructor and thus do not want a reader to worry.,0,0.9687107801437378
59703648,5090,zeule,2016-04-14T11:52:24Z,"the word ""added"" has too many meanings, wanted to be more precise here.",0,0.8044953942298889
59703837,5090,zeule,2016-04-14T11:54:13Z,"~~this text was produced by qt designer, version 5.6.0~~ ~~no, it is the editor which was used to remove `&` inserted by designer into every screen label.~~ again i'm wrong. my designer inserts `quot;` and shows them correctly.",0,0.9262394309043884
59705620,5090,glassez,2016-04-14T12:09:57Z,"ok. but ""import torrent"" is already being used in qbittorrent in another sense.",0,0.9921045303344727
59707342,5090,zeule,2016-04-14T12:24:13Z,"i have to find another word then. ""add"" is meaningless.",0,0.5241217613220215
59722543,5090,glassez,2016-04-14T14:05:43Z,"context is ""add torrent to session"". or it isn't?",0,0.9881796836853027
59725165,5090,zeule,2016-04-14T14:19:31Z,"exactly. the action which is done: the .torrent file was read and imported into the qbt. this action is called ""add torrent"" in the menu.",0,0.9934219717979431
59726019,5090,zeule,2016-04-14T14:24:13Z,"consider the following scenario, please: the `session` class is refactored and the `torrentfileguard` becomes unneeded. will you break the configuration, add a migration code or leave `torrentfileguard/` key in the `session` class?",0,0.9934108853340149
59726410,5090,zeule,2016-04-14T14:26:01Z,": you just demonstrated the problem with ""added"". without knowing the context you can't understand what this is about.",0,0.9716417789459229
59728739,5090,glassez,2016-04-14T14:39:07Z,"the same can be said about ""imported"". besides, as i said, ""import torrent"" has a different meaning in qbittorrent. maybe ""accepted""?",0,0.9929375052452087
59730816,5090,glassez,2016-04-14T14:49:58Z,"it makes sense. i agree. but then we have to create an elaborate grouping. `download` is also not suitable here. also the names of the options should be more ""descriptive"".",0,0.9506828784942627
59732378,5090,zeule,2016-04-14T14:57:44Z,"ok, i'll find a better name. but not the `torrentfileguard` :)",1,0.9742291569709778
59733685,5090,glassez,2016-04-14T15:04:51Z,maybe put these options in 'application` group?,0,0.9940271377563477
59745743,5090,glassez,2016-04-14T16:14:05Z,"""read"" is incorrect here, because we have read the file in any case, whether we added it to the session later or not.",0,0.9872955679893494
59899002,5090,zeule,2016-04-15T16:10:10Z,", : thank you for your suggestions! and the winner is... no, i just give up and propose `markasaddedtosession()`. what do you think?",1,0.9939152598381042
59908318,5090,glassez,2016-04-15T17:16:39Z,ok. all ingenious is simple.,0,0.48887407779693604
60990443,5090,sledgehammer999,2016-04-25T21:12:57Z,"i think according to our recent discussions this should under ""core/autodeletetorrents/"" to avoid multiple small modules in the conf file.",0,0.9886655807495117
60990641,5090,sledgehammer999,2016-04-25T21:14:14Z,i think our style in this case uses: [code block] like you do at `torrentfileguard::torrentfileguard`,0,0.9903103709220886
60991152,5090,sledgehammer999,2016-04-25T21:17:25Z,also can you teach me on what this c++11 feature does: what do you do `m_path {path}` instead of `m_path(path)`?,0,0.9940387010574341
60991555,5090,sledgehammer999,2016-04-25T21:20:12Z,"prefix ""key_""",0,0.9940342307090759
60991810,5090,sledgehammer999,2016-04-25T21:22:03Z,typo: accordingly,0,0.9927147030830383
60992214,5090,zeule,2016-04-25T21:25:01Z,"`const qstring key_auto_delete_enabled = auto_delete_settings_key(""deleteaddedtorrents"");` ?",0,0.9949204325675964
60992227,5090,sledgehammer999,2016-04-25T21:25:10Z,should the checkbox always be visible but its checked state be dependent on the setting?,0,0.9913173913955688
60992618,5090,sledgehammer999,2016-04-25T21:27:53Z,better set this tooltip in the code in order to strip out the html tags and prevent translators from borking it. eg tooltip = start_tags + tr(tooltip plaintext) + end_tags;,0,0.9949958324432373
60992746,5090,sledgehammer999,2016-04-25T21:28:47Z,i don't think the comma goes here.,0,0.9489420652389526
60992935,5090,sledgehammer999,2016-04-25T21:30:12Z,same here. unless has a better alternative.,0,0.9861461520195007
60992974,5090,sledgehammer999,2016-04-25T21:30:21Z,same here.,0,0.9916109442710876
60993455,5090,sledgehammer999,2016-04-25T21:33:53Z,i think you should add this too: [code block],0,0.9923151731491089
60993652,5090,sledgehammer999,2016-04-25T21:35:04Z,and take care disabling it if `torrentfileguard::deleteaddedtorrents()` is false.,0,0.9955021739006042
60993658,5090,zeule,2016-04-25T21:35:09Z,"no, readability is not the most important point (however, it allows to find initialisations). there is no difference in this example between `()` and `{}`. as i pointed out in the discussion, mentioned by , this is done to make a habit.",0,0.9903094172477722
60994099,5090,sledgehammer999,2016-04-25T21:38:10Z,"hmm, ok.",0,0.9299308061599731
60994242,5090,sledgehammer999,2016-04-25T21:39:05Z,yes. and of course `key_auto_delete_cancelled_torrents` too.,0,0.9924479722976685
60994634,5090,zeule,2016-04-25T21:41:31Z,it would have been disabled if the option is not enabled. why take space by a disabled checkbox? the dialog is already quite complex.,0,0.8311303853988647
60995524,5090,zeule,2016-04-25T21:47:20Z,this is done in the .ui file.,0,0.9954947233200073
60995780,5090,zeule,2016-04-25T21:49:10Z,see above.,0,0.9928240776062012
61000131,5090,sledgehammer999,2016-04-25T22:21:33Z,"actually ""delete .torrent file afterwards"" should be a groupbox and ""also when addition is cancelled"" should be a child of it. and the warning label too. this is what we do with other options in that dialog.",0,0.9920306205749512
61000566,5090,sledgehammer999,2016-04-25T22:24:49Z,scratch that. you already do this. so just delete the above. i don't hiding options in that dialog. the groupbox should take care of enabling/disabling its children already.,0,0.9610457420349121
61000653,5090,sledgehammer999,2016-04-25T22:25:26Z,ok,0,0.9233372807502747
61043105,5090,glassez,2016-04-26T08:03:00Z,ok. but `autodeletetorrentfile`. option names: `whenadded` and `whencancelled`.,0,0.9926984906196594
61090494,5090,zeule,2016-04-26T14:02:37Z,"sorry, i'm lost. the checkbox in this dialog (add torrent) does not belong to any group. do you suggest to make it visible always, replacing the `setvisible()` call with `setenbaled()`?",-1,0.9872625470161438
61090782,5090,zeule,2016-04-26T14:04:05Z,"this is not a torrent setting, but rather an app behaviour one. so i disagree.",0,0.9814811944961548
61095918,5090,zeule,2016-04-26T14:31:11Z,`core/autodeleteaddedtorrentfile` and the keys `enabled` and `ifcancelled`. what do you think?,0,0.9927962422370911
61202950,5090,glassez,2016-04-27T04:36:12Z,"omg, there is logical mistake here. we haven't really two options here but only one (autodeletetorrentfile) which can have one of three values: none, added, all (or never, ifadded, always).",0,0.909770667552948
61246269,5090,zeule,2016-04-27T12:11:49Z,"but i leave two checkboxes in the settings page, ok? this is because enabling the `always` mode is really dangerous and i would like to make it an independent user action.",0,0.9214912056922913
61287923,5090,glassez,2016-04-27T16:13:21Z,it's ok for me unless controversial choice is possible.,0,0.9674972891807556
62433806,5090,sledgehammer999,2016-05-08T15:37:29Z,delete space between function name and opening parentheses,0,0.9896427989006042
62433865,5090,sledgehammer999,2016-05-08T15:41:44Z,"since this tooltip doesn't have special html tags, put it in the .ui file.",0,0.9939576387405396
121317486,6952,zeule,2017-06-12T06:28:59Z,"this one and the next 2 lines shall not be needed, as `target_link_libraries(... qt5::macextras)`, initiated by `list (append qbt_qt_components macextras)` call above should do the very same.",0,0.9946752786636353
121321423,6952,Chocobo1,2017-06-12T07:05:41Z,why this fails the compilation?,0,0.9118128418922424
121324377,6952,Chocobo1,2017-06-12T07:28:15Z,there are already an `#if defined(q_os_mac)` block at line 210 you should move it there.,0,0.9948405623435974
121324976,6952,Chocobo1,2017-06-12T07:32:23Z,i would take out all entries in this `#ifndef` block and move it down to where you put [code block],0,0.9943763017654419
121325238,6952,Chocobo1,2017-06-12T07:33:59Z,move this block under [code block],0,0.9955430626869202
121325338,6952,Chocobo1,2017-06-12T07:34:43Z,and move [code block] to here,0,0.9955755472183228
121325495,6952,Chocobo1,2017-06-12T07:35:38Z,move this block 1 line up.,0,0.9908402562141418
121325909,6952,Chocobo1,2017-06-12T07:38:24Z,what its purpose?,0,0.9919506311416626
121327076,6952,Chocobo1,2017-06-12T07:46:06Z,is this equivalent? [code block],0,0.9957477450370789
121327383,6952,Chocobo1,2017-06-12T07:48:04Z,change it to `#ifdef q_os_mac` and switch the code,0,0.9929927587509155
121327887,6952,Chocobo1,2017-06-12T07:50:49Z,change `tr` to `qstring`,0,0.9944623112678528
121328622,6952,Chocobo1,2017-06-12T07:55:03Z,move this block down to under `void toolbarfollowsystem();`,0,0.9945288300514221
121329121,6952,Chocobo1,2017-06-12T07:57:37Z,write `#ifdef q_os_mac` and switch code.,0,0.99347984790802
121332336,6952,Chocobo1,2017-06-12T08:16:02Z,move `{` to a newline.,0,0.9940943121910095
121332393,6952,Chocobo1,2017-06-12T08:16:18Z,move { to a newline.,0,0.9931241869926453
121332788,6952,Chocobo1,2017-06-12T08:18:37Z,pls avoid using underscore in variable names.,0,0.9872369766235352
121354566,6952,thalieht,2017-06-12T10:06:16Z,"i don't know if it's any different in mac but in kde if you do this and enable `use subcategories` in options, any subcategories vanish from the sidepanel and there doesn't seem to be a way to show them because the expand icon isn't visible. i realize this is probably out of the scope of this pr, imo this should be used on all platforms but only when `use subcategories` is disabled and maybe reduce the indentation of branches (and the root as much as possible).",0,0.9778890609741211
121395401,6952,vit9696,2017-06-12T13:43:59Z,"i thought this myself, but actually it does not work. if i remove these lines, compilation will stop working. i could not explain the reason and simply hardcoded the variables. i think it is a bug in qt, because i saw other people doing similar things on the net.",0,0.9198680520057678
121397780,6952,zeule,2017-06-12T13:52:48Z,"you are right, i forgot that when we migrated from qt4, i replaced smart commands with direct component names. you have to mention qt5::macextras in target_link_libraries() directly. for instance: [code block] in src/gui/cmakelists.txt",0,0.9848235845565796
121458065,6952,vit9696,2017-06-12T16:15:21Z,"this removes vertical separators from the toolbar menu, they are invalid in macos design. as i said above, there is no such concept. one could have space separation or no separation. i replaced the separators with some extra space, but i think they are fine even if just removed.",0,0.9375171065330505
121458598,6952,vit9696,2017-06-12T16:17:26Z,"m_systrayicon is undefined on mac, so one cannot write it this way.",0,0.9903995394706726
121458971,6952,vit9696,2017-06-12T16:19:10Z,are you sure this is a correct suggestion? e.g. in russian i would want to see %1/с not s. since seconds in russian are `секунды`.,0,0.9902834296226501
121461497,6952,vit9696,2017-06-12T16:30:21Z,"indeed, thanks.",0,0.4980905055999756
121463116,6952,vit9696,2017-06-12T16:37:15Z,"actually i faield to find this option yesterday, and thus assumed that subcategories simply do not work on macos. now i found it, thanks :) i changed the indentation to not be disabled when they are off, but doing something like this for all the platforms is the job of a separate pull request indeed.",1,0.9948169589042664
121470551,6952,thalieht,2017-06-12T17:08:26Z,but if `use subcategories` is changed it would need a restart for the indentation to change. is that ok? if you can make it change without restart i would like to suggest to move this out of the `#if` so all platforms can have it. edit: on second thought moving it outside the `#if` wouldn't fit the pr name :),1,0.9763708114624023
121471835,6952,Chocobo1,2017-06-12T17:13:58Z,"after reading your explanation, obviously not. imo, it would be better to add this: [code block] and split the line please.",0,0.9287509918212891
121473590,6952,Chocobo1,2017-06-12T17:21:22Z,i think you missed this one.,0,0.83538818359375
121474613,6952,vit9696,2017-06-12T17:24:59Z,"alright, done",0,0.9867932200431824
121475109,6952,vit9696,2017-06-12T17:27:03Z,"of course i could fix it, and i have just done it. thanks for reminding. but you are right, if i change it outside the preprocessor macro, it wouldn't fit this pr. i have no development tools installed for the other platforms, but i think it should work fine for them. you or anybody else could submit a new pr removing the ifdefs once this gets merged :)",1,0.9956158399581909
121475207,6952,vit9696,2017-06-12T17:27:30Z,"yep, actually did. fixed it now.",0,0.5058300495147705
121480618,6952,Chocobo1,2017-06-12T17:49:14Z,"ok, after searching for some osx toolbar screenshot on google, i get what you mean.",0,0.9790074825286865
121481759,6952,Chocobo1,2017-06-12T17:53:39Z,"private variables should prepended with `m_`, thus `m_defaultindentation`",0,0.9952244758605957
121487651,6952,vit9696,2017-06-12T18:17:07Z,fixed,0,0.920660674571991
121565366,6952,Chocobo1,2017-06-13T01:32:29Z,"please do us a favor if you don't mind: remove the curly braces here, it isn't really needed.",0,0.9697554707527161
121567197,6952,vit9696,2017-06-13T01:52:14Z,ok,0,0.9233372807502747
121674323,6952,vit9696,2017-06-13T13:18:19Z,"sorry, but i am not very familiar with qt, and i do not even have qt creator installed. quick googling shows me this: [a link] and by looking at the syntax i am afraid all your code requires such changes, and not just the mac section. therefore it is pretty much outside of the scope of this pull request and is better to be done by a qt dev.",-1,0.9870232343673706
121871290,6952,Chocobo1,2017-06-14T07:21:00Z,you can either do this change for all platform (no need or `#ifdef`) or change the options dialog default height (enlarge the number ` 591 ` in optionsdlg.ui),0,0.9957658052444458
121885787,6952,vit9696,2017-06-14T08:33:07Z,"hm, but will this be fine? i do not see many reasons to increase the total height, and i am not sure if reducing the size is ok on all the platforms.",0,0.9563201665878296
121888078,6952,Chocobo1,2017-06-14T08:43:17Z,"both way will be fine, imo increasing the dialog height is a safer way to go (if you only need adding little more height).",0,0.9648638963699341
121902835,6952,vit9696,2017-06-14T09:47:07Z,"to be honest, i do not think that increasing the dialogue height is a good idea. it already is 615 pixels tall here, plus 75 pixels for the dock and 25 for the menubar. this makes it pretty big already for smaller screens (e.g. when remoting from ipad, which has 1024x768 res). i reduced the icon size instead.",0,0.6858986616134644
122570023,6952,Chocobo1,2017-06-17T14:46:57Z,`void paintevent(qpaintevent* event) override`,0,0.9941277503967285
122570033,6952,Chocobo1,2017-06-17T14:47:18Z,i would remove the curly brackets,0,0.9921293258666992
122570082,6952,Chocobo1,2017-06-17T14:50:16Z,"there is `m_ui->centralwidgetlayout->addwidget(m_tabs);` below, is it possible to move this block near to there?",0,0.9952331185340881
122570338,6952,vit9696,2017-06-17T15:02:21Z,"oh, you actually do use override and this was not intentional... right, fixed for the rest as well.",0,0.9867197871208191
122570352,6952,vit9696,2017-06-17T15:02:50Z,maybe it is indeed more readable.,0,0.9640960097312927
125839578,6952,zeule,2017-07-06T08:29:03Z,`target_link_libraries(qbt_gui qt5::macextras)` below is not enough?,0,0.9942173957824707
125881716,6952,zeule,2017-07-06T12:15:20Z,i would like to see the non-modal dialog on other systems as well.,0,0.9721981883049011
125883279,6952,vit9696,2017-07-06T12:22:52Z,are those related [a link],0,0.9954232573509216
125883500,6952,vit9696,2017-07-06T12:23:58Z,"good idea, but definitely out of the scope of this pr, especially because i do not have the dev environment set for mac. i could imagine someone removing the ifdefs for both non-modal dialogues and subcategory padding =)",1,0.9948404431343079
125886161,6952,zeule,2017-07-06T12:37:34Z,"yes. `target_link_libraries(qbt_gui qt5::macextras)` provides ""-i"", ""-l"", and ""-l"" compiler switches.",0,0.9928284287452698
125940332,6952,vit9696,2017-07-06T15:51:30Z,"checked it, builds fine without this line. removed. thanks =)",1,0.996588945388794
126939730,6952,zeule,2017-07-12T12:29:08Z,why this is needed and why in gui build only?,0,0.9909939169883728
126942076,6952,vit9696,2017-07-12T12:40:12Z,"this is to workaround qt bugs, examples: [a link], [a link]. from what i can tell there are no proper solutions. it is necessary for [a link] in particular, which is gui only. without this define moc tries to generate systray functions, and even if i let it include qsystemtrayicon it will later fail with linking errors.",0,0.9755185842514038
126942924,6952,zeule,2017-07-12T12:44:23Z,but both bugs are marked as resolved. why do you care about qt < 5.9.0?,0,0.9856027364730835
126944328,6952,zeule,2017-07-12T12:50:33Z,i mean homebrew installs the latest qt. how a user can get the old version?,0,0.988157331943512
126949753,6952,vit9696,2017-07-12T13:13:25Z,"these bugs are marked as resolved, but they are not resolved as of qt 5.9.1 under our circumstances.",0,0.9870282411575317
126953339,6952,zeule,2017-07-12T13:27:48Z,"i can not find the same define for qmake build. how does it build then? also, if this a fix for a specific file and bug, would it be possible to pass the flag for that file target only supplying a comment why the flag is needed?",0,0.9897624850273132
126955298,6952,vit9696,2017-07-12T13:35:18Z,"i suppose qt team fixed the bug for qmake actually (which could be the reason they closed the issue), or your custm qt build has patches from homebrew. it certainly fails with cmake though. the flag is specific for the header, so there are many cpp files. it is saner to define it for all the files, since this flag is defined everywhere but in moc for all macos sources, and not defining it may lead to undefined behaviour in other places. if you think a different comment is more descriptive, would you suggest anything? maybe adding some qt bug links?",0,0.9813457131385803
126959616,6952,zeule,2017-07-12T13:52:19Z,"nevertheless, i would be as specific as possible. why don't you use [a link] variable? exactly. please, add such a comment.",0,0.9926210641860962
126963104,6952,vit9696,2017-07-12T14:05:09Z,"well, i was simply unaware of this feature. thanks for pointing it out, added.",1,0.9655990600585938
127588900,6952,sledgehammer999,2017-07-15T17:23:26Z,why don't you ifdef the whole switch here?,0,0.992664098739624
127589137,6952,sledgehammer999,2017-07-15T17:34:45Z,why did you change it to 62?,0,0.9921922087669373
127589367,6952,vit9696,2017-07-15T17:45:53Z,"to let it fit the window without showing a vertical scrollbar. see [a link] i fixed the above one as well, was probably due to an automatic merge of some pr.",0,0.9943431615829468
127589417,6952,sledgehammer999,2017-07-15T17:48:34Z,ok. the link doesn't work for me. merge the new commit into the **1st** one. and also rebase. then i can merge it.,0,0.9914425015449524
127589448,6952,vit9696,2017-07-15T17:50:11Z,done =),0,0.5235421657562256
130222233,6952,zeule,2017-07-29T15:01:32Z,", could you test cmake 3.9 and without this define, please? as of version 3.9 cmake generates `moc_predefs.h` as qmake does.",0,0.9933264255523682
130224768,6952,vit9696,2017-07-29T17:28:52Z,"tested, exactly the same error. find reveals no such file `moc_predefs.h`.",0,0.9923730492591858
130245295,6952,zeule,2017-07-30T15:33:56Z,thank you. the results is quite unexpected.,1,0.8521291613578796
57511382,4984,glassez,2016-03-26T09:18:35Z,qbytearray::frompercentencoding has wrong behavior too?,0,0.7760194540023804
58651052,4984,glassez,2016-04-06T04:54:04Z,did you check whether it breaks the web app or not?,0,0.9925048351287842
58651097,4984,glassez,2016-04-06T04:55:02Z,maybe `rawstringmap`?,0,0.9938738346099854
58651280,4984,glassez,2016-04-06T04:58:45Z,"since we using c++11 now don't insert a space between two (three, four ...) brackets: [code block] and in other places too.",0,0.9941494464874268
58651622,4984,glassez,2016-04-06T05:06:01Z,"why don't you do ""frompercentencoding()"" here? or qurl doing it itself?",0,0.9936142563819885
58651901,4984,glassez,2016-04-06T05:11:48Z,"get that out of here. if qbittorrent is not compiled you have, it is the problem of your build configuration.",0,0.9904503226280212
58652025,4984,glassez,2016-04-06T05:14:13Z,move this to other system includes and try to keep include list ordered (e.g. don't mix libtorrent/boost/qt includes).,0,0.9933091402053833
58652071,4984,glassez,2016-04-06T05:15:17Z,to return qt implicitly shared types as const reference is overkill.,0,0.854059636592865
58652229,4984,glassez,2016-04-06T05:18:24Z,as well as use move semantics for it.,0,0.991665780544281
58653882,4984,glassez,2016-04-06T05:51:12Z,"since you use peerbuilder to build a peer no need to implement peer as class at all. simple struct is enough here. as for this method (toentryforclient()), it has private meaning and can be simply transformed to module wide function `peertoentry()`. the main idea is to move all private things to .cpp.",0,0.9906715154647827
58653915,4984,glassez,2016-04-06T05:51:50Z,it's pure private thing so move this into .cpp.,0,0.9951716065406799
58654004,4984,glassez,2016-04-06T05:53:07Z,fix coding style for names. we use camelcase (prepended by `m_` prefix for private fields).,0,0.9905085563659668
58654372,4984,glassez,2016-04-06T05:57:31Z,"we don't allow pure static classes, so you must use namespaces in such cases. but since here we have only module private functions, then just place it in an anonymous namespace in the .cpp file.",0,0.9943015575408936
58654794,4984,glassez,2016-04-06T06:00:26Z,`m_` prefixed names is reserved for private class fields.,0,0.9926019310951233
58655051,4984,glassez,2016-04-06T06:02:52Z,"please use shortcuts for unsigned types: `uchar`, `ulong` etc.",0,0.9937268495559692
58655150,4984,glassez,2016-04-06T06:04:36Z,please enclose subexpressions for more readability: [code block],0,0.9953848719596863
58655218,4984,glassez,2016-04-06T06:05:41Z,fix coding style for one line function: [code block],0,0.9946005344390869
58655277,4984,glassez,2016-04-06T06:06:42Z,camelcase,0,0.9723753333091736
58655340,4984,glassez,2016-04-06T06:07:29Z,add space after `if` (coding style issue) and below too,0,0.994211733341217
58657000,4984,Chocobo1,2016-04-06T06:32:20Z,shouldn't this be a `typedef`?,0,0.9920422434806824
58657800,4984,glassez,2016-04-06T06:41:13Z,remove space after `(`.,0,0.9910770654678345
58657896,4984,glassez,2016-04-06T06:42:20Z,use brackets for system includes.,0,0.9941644072532654
58660754,4984,glassez,2016-04-06T07:15:55Z,"ok. i did some research. ideally, we should leave in the header only the following forward declarations (outside bittorrent namespace): [code block]",0,0.9886800050735474
58663086,4984,glassez,2016-04-06T07:39:50Z,"and then it all makes the peerbuilder class superfluous! if you apply my suggestions, you will significantly reduce the amount of code.",0,0.9662023186683655
58664040,4984,glassez,2016-04-06T07:49:07Z,this is the same in c++11:,0,0.9948413968086243
58687481,4984,Chocobo1,2016-04-06T11:08:52Z,"thank you. from my view point, it comes down to whether you are going to define a type, which is also stated in what you quote: in this specific scenario, i interpret the author is defining a type, because `qbytearraymap` is used non locally. and another weaker argument, the `typedef` is just above it... mixing like this is weird imo.",-1,0.9350829124450684
58688361,4984,Chocobo1,2016-04-06T11:18:21Z,[a link] seems `using` syntax is extended because of problems working with template.,0,0.9892644286155701
58927948,4984,glassez,2016-04-07T19:10:51Z,now `requestparser.cpp` changes look good.,1,0.6615724563598633
58928302,4984,glassez,2016-04-07T19:13:05Z,"just create request struct with `rawstringmap gets`. as there can be any binary data according to the standard, it is fully consistent with the model (no need to complicate it). as i said, parsing of these data is the task of the application. in our case, we can consider each action (eg. `action_query_torrents()`) as a separate application, so we should parse get params in these actions.",0,0.991763710975647
58928375,4984,glassez,2016-04-07T19:13:35Z,more comments will be tomorrow.,0,0.9907000660896301
58981512,4984,glassez,2016-04-08T05:24:58Z,fix coding style. only one blank line allowed.,0,0.991827130317688
58981553,4984,glassez,2016-04-08T05:26:02Z,fix coding style.,0,0.9817914962768555
58981607,4984,glassez,2016-04-08T05:27:18Z,fix coding style. and in similar cases too.,0,0.9911905527114868
58981652,4984,glassez,2016-04-08T05:28:30Z,fix coding style for lambda body.,0,0.9922888875007629
58981836,4984,glassez,2016-04-08T05:32:24Z,"although it does not violate our rules (we just don't have anything for this), but it is better to enclose the subexpressions in parentheses. this improves readability and can save you from random errors if you mix up the precedence of operators. p.s. my ""general"" comments (like this one) relate not only to the linked line, but to all code.",0,0.9793948531150818
58982017,4984,glassez,2016-04-08T05:35:51Z,redundant blank line.,0,0.8117470145225525
58982090,4984,glassez,2016-04-08T05:37:21Z,fix coding style.,0,0.9817914962768555
58982288,4984,glassez,2016-04-08T05:41:34Z,fix coding style. `m_` prefix is used for **private** fields only. also keep the fields together and methods (including operators) together.,0,0.9934086799621582
58982644,4984,glassez,2016-04-08T05:49:46Z,"peer and trackerannouncerequest structs are used internally only so, as i said before, move its declarations to .cpp (not use anonymous namespace for it) and use forward declarations here (outside bittorrent namespace): [code block] also move peer methods definitions in struct itself (no need to separate it since we have it in .cpp).",0,0.9949373006820679
58983009,4984,glassez,2016-04-08T05:57:02Z,"i mean you shouldn't include ` ` here. if you can't build qbittorrent without this, you've incorrectly set up your build environment.",0,0.9678471684455872
59044271,4984,SeigneurSerpent,2016-04-08T15:37:27Z,the problem turned out to be that some boost asio dynamic libraries could be compiled without rvalue reference move support. all travis-ci comilation attempts would fail without this inclusion. so i disabled the generation of moves. thanks for pointing it out.,1,0.936093270778656
59045597,4984,glassez,2016-04-08T15:45:48Z,"fromutf8 meaning: we create qstring **from** utf-8 encoded data. besides, i don't think this shortcut is so necessary.",0,0.992921769618988
59046898,4984,glassez,2016-04-08T15:54:27Z,`fromutf8()` only makes sense for the category. all other parameters have been designed to contain either numbers or latin-1 string. but you may leave it. also fix coding style in this line.,0,0.9945405125617981
59047021,4984,glassez,2016-04-08T15:55:25Z,fromutf8() is meaningless here.,0,0.9820230603218079
59047112,4984,glassez,2016-04-08T15:56:05Z,fromutf8() is meaningless in these 2 lines.,0,0.9730650782585144
59047737,4984,glassez,2016-04-08T16:00:37Z,i told you to move these declarations outside the bittorrent namespace. no need to put these **private** name here.,0,0.9934050440788269
59048445,4984,glassez,2016-04-08T16:05:41Z,why method body isn't here?,0,0.979891836643219
59048941,4984,glassez,2016-04-08T16:09:08Z,redundant blank line.,0,0.8117470145225525
59064812,4984,glassez,2016-04-08T17:57:35Z,"damn, i wanted to say that everything is ok... why do you complicate everything? why are you not doing just `qstring::fromutf8(gets[""category""])`?",-1,0.9958707690238953
59066658,4984,SeigneurSerpent,2016-04-08T18:11:13Z,"as far as i know, a general utf-8 byte sequence could contain null byte somewhere in the middle. so i decided to be a little cautious by supplying length. certainly a category could never contain contain such a symbol. i will remove the length.",0,0.9848970174789429
59067145,4984,glassez,2016-04-08T18:14:17Z,i think the qt developers took that into consideration and qstring::fromutf8() works properly.,0,0.7864518761634827
59098870,4984,zeule,2016-04-08T22:39:44Z,"in the correct utf-8 string null byte means end of string and can not appear as a part of another character, and that is one of the reasons why utf-8 is so popular.",0,0.9903447031974792
59100020,4984,zeule,2016-04-08T22:55:28Z,"i find this function useless and dangerous. it is used, as far as i see, for string parsing only. if (most likely) the length of the string is not larger than `std::numeric_limits ::max()` the check in it is useless. if it is larger, than it is useless nevertheless because truncating the string we reschedule problem, and it might occur at a place, little correlated with this function. should there be a `static_cast` anybody will feel that something can go wrong and easily find those places (and that would silence compiler as well).",-1,0.9191687703132629
59100578,4984,zeule,2016-04-08T23:02:54Z,on every usage this string is either converted to `std::string` or used in `qstring::arg()`. why then to store it in 2-byte encoding?,0,0.9865721464157104
59100861,4984,zeule,2016-04-08T23:06:30Z,"this one is not used as `qstring` at all as far as i can see, and gets converted to `std::string` always.",0,0.9924178123474121
59115328,4984,SeigneurSerpent,2016-04-09T13:37:31Z,"when i was writing this i was concerned about the general case in which a conversion from 64-bit or 32-bit unsigned size_t to a signed 32-bit int could produce a negative number. if the receiving function does not have a proper check, then it could lead to something like undefined behavior. i chose the minimum of the two numbers just to get the program running in this case. thanks to another your comment, i eliminated all places where the conversion was necessary, hence problem doesn't really matter anymore. anyway, thanks for the advice.",1,0.9689860343933105
59115415,4984,SeigneurSerpent,2016-04-09T13:48:28Z,"good point, i've converted ip strings to boost::asio::ip::addresses. it has allowed to remove some redundant conversion code.",1,0.962358295917511
59115437,4984,SeigneurSerpent,2016-04-09T13:50:05Z,thanks for the insight!,1,0.8744099140167236
59136308,4984,zeule,2016-04-10T16:00:20Z,"although i haven't tried it myself, qt5 documentation example for this function shows that characters from the `exclude` parameter are used as addition to the standard set of [a-za-z0-9] and ""-"" / ""."" / ""_"" / ""~"". thus, i believe, the call can be simplified: [code block]",0,0.9886921644210815
59136419,4984,zeule,2016-04-10T16:06:59Z,the `toutf8()` call here confuses me. can a string consisting of an ip and a port number contain anything except ascii?,0,0.8526554107666016
59136591,4984,glassez,2016-04-10T16:18:09Z,but you know that toutf8() will produce the correct value here! or do you fundamentally want to have tolaton1() here?,0,0.9884862899780273
59136757,4984,zeule,2016-04-10T16:30:08Z,"i want the code to be clean and to have an obvious meaning. `toutf8()` makes me think that this piece of the code might be a leftover from a refactoring, a part of string might be forgotten or something like that. this gives me a feeling that i simply don't understand this fragment. so, yes, i want either a comment or `tolatin1()`.",0,0.8841201663017273
59454213,4984,SeigneurSerpent,2016-04-12T21:09:21Z,amended,0,0.9751940965652466
59454234,4984,SeigneurSerpent,2016-04-12T21:09:31Z,corrected,0,0.9726625084877014
61909651,4984,sledgehammer999,2016-05-03T16:14:28Z,keep in mind that i am not good with networking details but wouldn't be here to use the `announceipstr` instead of the `ipstr`. (in case 2 different peers come from inside the same nat).,0,0.9764888882637024
61910374,4984,sledgehammer999,2016-05-03T16:19:26Z,"scratch that. i know realize that the nat's ip would be a public ip, but a peer from behind a nat would see/use a private ip.",0,0.967147707939148
61913298,4984,sledgehammer999,2016-05-03T16:38:16Z,"unless i am mistaken, this is a totally unrelated change, right?",0,0.9720852971076965
61913765,4984,sledgehammer999,2016-05-03T16:41:41Z,"you need to save the external ip. currently the session_settings are reapplied if the user changes something in the settings window. thus, in that case the possibly empty announce_ip will override the external ip that you set here. take a look at `session::setsessionsettings()`.",0,0.9942247271537781
61915677,4984,sledgehammer999,2016-05-03T16:54:28Z,i am bit confused here. i tracked back where `annoncereq.peer.ip` comes from and i think it is the ip of the client requesting the peer list. so why does `peertoentry()` potentially return his ip back?,0,0.49870380759239197
61916274,4984,sledgehammer999,2016-05-03T16:58:12Z,damnit. i messed up reading the code. ignore the above. i'll come back if i figure it out.,-1,0.9949712753295898
61920359,4984,sledgehammer999,2016-05-03T17:23:55Z,why should we care if the currently connected peer has a public ip?,0,0.9706869721412659
61920554,4984,sledgehammer999,2016-05-03T17:25:03Z,the same here. why should we care? the routable test should take of it.,0,0.9765093922615051
64151512,4984,SeigneurSerpent,2016-05-22T15:29:18Z,"the pr changes the way get query parameters are decoded. requestparser used to convert them directly into qstring expecting the percent-encoded byte sequence to be utf-8. on the other hand, tracker announce url can contain arbitrary percent-encoded 20-byte sequences in info_hash and peer_id parameters that have no valid utf-8 representation. therefore requestparser is change to decode to qbytearray and anything that expects qstring should make a second conversion from qbytearray to qstring. qt4 makes implicit conversion to qstring using fromascii() and qt5 uses fromutf8(). that is why explicit qstring::fromutf8() is used for 'category'.",0,0.9928765892982483
64151519,4984,SeigneurSerpent,2016-05-22T15:29:41Z,fixed,0,0.920660674571991
64151580,4984,SeigneurSerpent,2016-05-22T15:33:18Z,"the purpose is to give external ip to external client and otherwise - connection ip. otherwise two local clients on the same network behind a nat router might not be able to share private torrents. if public ip is announced by default(inferred router's external ip and set in session::handleexternalipalert()) and tracker returns external announceip to local clients, then they will try to connect to the router and fail.",0,0.9939693212509155
64151583,4984,SeigneurSerpent,2016-05-22T15:33:32Z,fixed,0,0.920660674571991
65786201,4984,ngosang,2016-06-03T22:43:20Z,"minor change: 192.168.0.1 is a lan ip, change it for a wan ip e.g. 87.125.203.161",0,0.9946618676185608
484021624,13327,glassez,2020-09-06T04:56:28Z,i don't think setting project version for each build system configuration independently is a good idea.,0,0.8578959703445435
484022055,13327,glassez,2020-09-06T05:02:27Z,this and related changes (removal of findlibtorrent file) seems quite trivial and independent so you can extract it into separate pr.,0,0.9893152713775635
484022428,13327,glassez,2020-09-06T05:07:41Z,"i don't remember it being present the last time i reviewed it (or i didn't notice it because of other issues). it is very questionable (as well as current splitting into several libraries), so i would remove it before it becomes a new stumbling block here.",-1,0.5727157592773438
484022659,13327,glassez,2020-09-06T05:10:36Z,what is it for?,0,0.9935827851295471
484022849,13327,glassez,2020-09-06T05:13:33Z,is it hard to extract this change into separate pr? i mean removing this file and using `feature_option` instead of `optional_compile_definitions`?,0,0.9935207962989807
484023029,13327,glassez,2020-09-06T05:15:57Z,can't removing of this file and related changes be trivially extracted into separate pr?,0,0.9932261109352112
484023163,13327,glassez,2020-09-06T05:17:50Z,isn't a good candidate for extracting?,0,0.9787421226501465
484023376,13327,glassez,2020-09-06T05:20:45Z,isn't a good candidate for extracting? you can extract all similar (more or less) trivial cleanups into separate pr.,0,0.9927573204040527
484042374,13327,glassez,2020-09-06T08:51:36Z,why do you change it to interface?,0,0.9933547973632812
484044674,13327,glassez,2020-09-06T09:14:54Z,"what is `_default_source` intended for, and why is it not available in all unix-like environments?",0,0.9925375580787659
484047224,13327,glassez,2020-09-06T09:40:55Z,single blank line is enough.,0,0.9810689091682434
484047480,13327,glassez,2020-09-06T09:42:45Z,`if (sns_support)`,0,0.9950157999992371
484057074,13327,glassez,2020-09-06T11:21:43Z,"imo, this comment isn't needed here.",0,0.9793418049812317
484057527,13327,glassez,2020-09-06T11:26:43Z,i would still prefer this way since it clearly shows that it is feature-dependent declaration (as suggested for entire this approach).,0,0.958198606967926
484057729,13327,glassez,2020-09-06T11:29:07Z,are you sure it isn't applicable on cygwin?,0,0.9931648373603821
484058317,13327,glassez,2020-09-06T11:34:46Z,why is it needed?,0,0.9891014695167542
484059182,13327,glassez,2020-09-06T11:42:59Z,if you move private to the previous line you'll keep one indentation level. there is no other items except private ones.,0,0.9938570857048035
484059237,13327,glassez,2020-09-06T11:43:35Z,the same as above.,0,0.9920604228973389
484059658,13327,glassez,2020-09-06T11:47:01Z,please don't use multiple spaces in such a way.,0,0.6238627433776855
484059767,13327,glassez,2020-09-06T11:48:02Z,this too.,0,0.9919244647026062
484060743,13327,glassez,2020-09-06T11:56:55Z,"please keep current name. just do as i ask, or extract it into separate pr and let's discuss it.",0,0.9936037659645081
484061588,13327,glassez,2020-09-06T12:04:32Z,i would still split platform and feature conditions even if it adds yet another indentation level.,0,0.9808447360992432
484061957,13327,glassez,2020-09-06T12:07:50Z,please explain the changes like this one.,0,0.9915658235549927
484062216,13327,glassez,2020-09-06T12:10:24Z,i would move this and the next `if`s outside of outer one.,0,0.9914039373397827
485134005,13327,FranciscoPombal,2020-09-08T19:02:16Z,"in this new implementation, it has to be `interface` because `app` needs access to it. if you try building it with `private`, accessing the webui will just yield a web page saying ""not found"".",0,0.9913589954376221
485140912,13327,FranciscoPombal,2020-09-08T19:15:48Z,"i mostly left it there because it was there previously. it's a glibc thing, i think it's ""common practice"" to define it. otherwise, gcc can complain about some implicit function declartions, if we use those certain functions. there is probably no problem in defining it in other systems i guess (they probably just ignore it). i wonder if it's a problem for linux systems using something like `musl` though. at the moment, we don't need it - i just tried building without it and got no warnings. should i remove it? i think this is mostly for c stuff anyway, not c++. more info: [a link] (also read the second answer) [a link]",0,0.8862684369087219
485144284,13327,FranciscoPombal,2020-09-08T19:22:20Z,"isn't this meant to replace qmake in the somewhat near future? i made this change because i didn't think it was a good idea to always read this from the `.pri` and therefore have the cmake buildsystem implicitly depending on the qmake one. in fact, it's not even a good idea to pass the project version as a compile definition, since it causes recompilation of everything. having it defined this way is the first step towards a minor version number-related refactor i have planned for the future that will solve this problem. in the meantime, it's one more number to change in commits that increment the version - not much more work, and i'll make sure to nag about it if anyone forgets.",0,0.940300703048706
485144761,13327,FranciscoPombal,2020-09-08T19:23:16Z,"i don't think so. these are some of the most important changes in this pr, despite their apparent simplicity.",0,0.9121193289756775
485150854,13327,FranciscoPombal,2020-09-08T19:35:16Z,"`build_shared_libs` is a built-in cmake construct. it makes every ""naked"" `add_library()` call (i.ie., one that **does not** specify `static` or `shared`) act as `static` or `shared`, depending on whether it is `off` (default) or `on`, respectively. wrapping it in inside `feature_option()` is just a convenience to have its description printed out - it makes sense to me for it to be printed, since it provides such important functionality and is already there. when it's off (the default) it doesn't change anything that we were already doing. declaring libraries with ""naked"" `add_library()` is good for flexibility, because it gives the builder the choice via the simple meachanism of passing `-dbuild_shared_libs=on/off`. currently, qbittorrent does not build at all with `-dbuild_shared_libs=on` (hence the note about ""experimental development purposes""), but this may change in the future, unless we decide that there is no `add_library()` call in our codebase that would ever make sense to offer such flexibility. docs: [a link]",0,0.9785822629928589
485152666,13327,FranciscoPombal,2020-09-08T19:38:57Z,"it's a replacement for the previous `alpha1` ""status version"" string (since we're no longer reading it from the `.pri` file). like previously, it is appended to the project version, so that it becomes something like `4.3.0.0dev`. i might flesh this out further or remove it in the future refactor mentioned in [a link]",0,0.9938442707061768
485154818,13327,FranciscoPombal,2020-09-08T19:43:09Z,"too complex to factor this out imo, if you don't want it too be changed at all in this pr. it actually sets global compile definitions via directory-level properties which is very incompatible with the new architecture.",0,0.5581063032150269
485157109,13327,FranciscoPombal,2020-09-08T19:47:18Z,"imo, if we keep it in this pr, we signal the intent that it is used/will be used. since it is no longer used, from here on out, it is also removed at this point. it should definitely be its own separate commit though.",0,0.9881287217140198
485157340,13327,FranciscoPombal,2020-09-08T19:47:46Z,same reasoning as [a link],0,0.9924559593200684
485157529,13327,FranciscoPombal,2020-09-08T19:48:07Z,same reasoning as [a link],0,0.9924559593200684
485160366,13327,FranciscoPombal,2020-09-08T19:53:48Z,"i changed it for good reason - to not clash with the project name (the name passed in the call to `project()`). otherwise it is confusing and there may be surprises, because cmake defines variables based on the project name.",0,0.9844964742660522
485162868,13327,FranciscoPombal,2020-09-08T19:58:36Z,"similar reasoning to [a link] `app` needs access to this. in this new architecture, if this is `private`, you'll end up with missing/broken stuff in the `about` dialog.",0,0.9837805032730103
485165471,13327,FranciscoPombal,2020-09-08T20:03:45Z,"not sure, now that i really think about it. what do you think? should i enable it for cygwin?",-1,0.6935752630233765
485169670,13327,FranciscoPombal,2020-09-08T20:12:14Z,fixed.,0,0.9905837774276733
485169761,13327,FranciscoPombal,2020-09-08T20:12:25Z,fixed.,0,0.9905837774276733
485169844,13327,FranciscoPombal,2020-09-08T20:12:36Z,fixed.,0,0.9905837774276733
485169936,13327,FranciscoPombal,2020-09-08T20:12:46Z,fixed.,0,0.9905837774276733
485170148,13327,FranciscoPombal,2020-09-08T20:13:14Z,"fixed, and fixed all such cases of excessive indentation.",0,0.9887996912002563
485170227,13327,FranciscoPombal,2020-09-08T20:13:24Z,fixed.,0,0.9905837774276733
485170312,13327,FranciscoPombal,2020-09-08T20:13:35Z,fixed.,0,0.9905837774276733
485170373,13327,FranciscoPombal,2020-09-08T20:13:43Z,fixed.,0,0.9905837774276733
485173818,13327,FranciscoPombal,2020-09-08T20:20:28Z,fixed.,0,0.9905837774276733
485175531,13327,FranciscoPombal,2020-09-08T20:23:59Z,fixed.,0,0.9905837774276733
485180317,13327,FranciscoPombal,2020-09-08T20:33:52Z,"if the package is found without pkg-config, we set the `type` to `required`, so that it displays correctly as a required package. this is all due to the fact that on linux, we first find libtorrent as a non-`required` package to give it a second chance with pkg-config.",0,0.9941309094429016
485356593,13327,glassez,2020-09-09T05:59:28Z,"i think it's more about a few years. most likely, we should make both systems equally ""official"" with the start of qt6 support. so i would not want edit several different files to change the project version, which can cause a lack of synchronization.",0,0.9788561463356018
485363087,13327,glassez,2020-09-09T06:17:43Z,"...that doesn't prevent it from separating from everything else. let me remind you again that my intention is to separate the easily understandable (separate) parts so that we can quickly review and merge them, which should simplify the reviewing of the remaining part. it really takes too much time to review all current pr every time you change it.",0,0.7264359593391418
485372928,13327,glassez,2020-09-09T06:40:59Z,"currently qbittorrent isn't supposed to be a set of several libraries. the fact that cmake project divides it into several (static) libraries can only be considered as a workaround that allows cmake to follow the file structure of the project's source code (perhaps due to some drawbacks that prevent it from being done in another way). you should not change this here, especially since the build as a set of shared libraries is not possible currently (at least on windows, it requires changes to the source code).",0,0.9900197982788086
485373935,13327,glassez,2020-09-09T06:43:17Z,anyway we should use the same value in both build systems.,0,0.9885651469230652
485376993,13327,glassez,2020-09-09T06:49:30Z,"when i suggest separating something from this pr into a separate one, i assume that it should be reviewed and merged before this one.",0,0.9883232712745667
485378691,13327,glassez,2020-09-09T06:52:59Z,at least you shouldn't separate different unix systems according to it. let either declare or remove it everywhere.,0,0.9847671389579773
485448304,13327,glassez,2020-09-09T08:52:44Z,i think yes.,0,0.967261016368866
485453351,13327,FranciscoPombal,2020-09-09T09:00:09Z,"the fact that cmake project divides it into several (static) libraries can only be considered as a workaround that allows cmake to follow the file structure of the project's source code (perhaps due to some drawbacks that prevent it from being done in another way). when shared libraries are out of the question, the professional cmake book still recommends building projects as a set of static libraries, as opposed to using plain `object` libraries, unless there is a special reason that requires its semantics. i did not change anything - like i said - `build_shared_libs` is something that always exists, even if you don't do anything, and it's `off` by default. like previously, the project is till built as a set of static libraries by default. yes, i know such a build is currently not possible, hence the ""(for experimental development purposes)"" part of the description. no one would normally turn the feature on. the question becomes: do you think such a build with shared libraries will never be possible, or that it doesn't make sense to indicate that one day it might be? if so, it is a good idea to remove this. otherwise, we can keep it in, it might encourage someone to investigate and submit patches to make it happen.",0,0.9920527935028076
485454736,13327,FranciscoPombal,2020-09-09T09:02:10Z,fixed (changed to `alpha1`). although i would have preferred changing both to `dev`... but that can be a discussion for another time.,0,0.9833415150642395
485459927,13327,FranciscoPombal,2020-09-09T09:09:44Z,"well, since you have no reasons for keeping it either, i've removed it.",0,0.9878012537956238
485475925,13327,FranciscoPombal,2020-09-09T09:34:17Z,"this not something that i have changed since the previous pr. in fact, this part has not changed since before i unmarked the other one as draft. this change in how libtorrent is found has always been one of the primary motivations for this whole thing. previously it was too complex and relied on a self-bundled find module that required maintenance, lest it become to outdated and cause problems. now it is really simple: - if not on ""unix"", find libtorrent as a `required` package just like every other package that's mandatory for compilation. - if on ""unix"", first find libtorrent as a non-`required` package, so that if it fails, there is the second chance of finding it with pkg-config. - in either case, set its properties indicate that it's a `required` package so that it shows up correctly in the feature summary output in the list of `required` packages. `cmake_find_package_prefer_config` is set to on so that cmake first tries to find packages by cmake config files, before trying to find them via `find ` modules. if a distro maintainer builds libtorrent in such a way that it doesn't provide cmake config files, and pkg-config is not desirable/available, they can still bundle their custom `findlibtorrent.cmake` module in the `cmake/modules` directory, and cmake will use that. finding packages via cmake config files supplied by the libraries themselves is the preferable way. for example, this is how qt5 packages are found.",0,0.8218332529067993
485482243,13327,FranciscoPombal,2020-09-09T09:45:03Z,"this is simply the price to pay for maintaining 2 different build systems like this. but it's not a very high one - it's just a single additional line change, and not very often. we're much worse off if we couple parts of one buildsystem's logic to the other imo. most likely, we should make both systems equally ""official"" with the start of qt6 support. oh god...",-1,0.993085503578186
485500222,13327,FranciscoPombal,2020-09-09T10:15:17Z,fixed.,0,0.9905837774276733
485502819,13327,glassez,2020-09-09T10:20:17Z,"okay, it's not that much of a problem for me if others agree with you.",0,0.9414461255073547
485507495,13327,glassez,2020-09-09T10:29:11Z,", are you kidding me by writing such long comments? :thinking_face: you didn't add anything new to what was said about it earlier. but nevertheless, after reading this comment even for the first time, someone realizes that these changes are independent enough to become a separate pr. however, as you wish... if this insistence of yours increases the review time (there will be at least one other reviewer who is most likely not so familiar with the content of these changes), you are to blame.",-1,0.9903477430343628
485509524,13327,glassez,2020-09-09T10:33:08Z,"don't count on me here. i'm not sure what it is, why it's needed, or whether we can safely remove it.",-1,0.8976014256477356
485530481,13327,FranciscoPombal,2020-09-09T11:13:58Z,"i'm just trying to explain as clearly as possible, so that there is no misunderstanding (even for the benefit of others). if i really wanted to insult you, i would. i have already stated that i agree with separating into separate commits after the initial review is finished, but separating essential parts of the pr into separate prs doesn't make sense. i'm confused as to why this is posing a problem _now_, since it had previously been solved after extensive discussion.",-1,0.9680848121643066
485537453,13327,FranciscoPombal,2020-09-09T11:27:58Z,"well, to be honest i don't really care enough about this change to keep pushing for it right now. its potential benefits for the near and medium term future are unclear, and if we do need such a change for the far future, its quite trivial anyway. so i reverted the internal libraries to be explicitly `static`, like previously, and removed the `build_shared_libs` description from the output.",-1,0.8357917070388794
485538744,13327,FranciscoPombal,2020-09-09T11:30:36Z,"to the best of my knowledge right now, i think it is safe to remove it.",0,0.9801546931266785
485548052,13327,FranciscoPombal,2020-09-09T11:48:09Z,"this change does not need to be further reviewed separately, _because it has already been reviewed_. everyone agreed with this change in the previous version of this pr. the new way of creating the macos bundle doesn't need this file at all. it has even been previously tested by kolcha before and verified to work (now you can also verify it yourself by inspecting the result of this build: [a link] this file was only needed because of the `install_qt5_executable` function, which was previously only called once by `qbittorrent/cmake/modules/bundle.cmake`, which in turn was a snippet of code called only once from here: [a link] which is not the way things work anymore.",0,0.9638565182685852
485553778,13327,glassez,2020-09-09T11:58:37Z,:+1:,0,0.9328674077987671
485583480,13327,glassez,2020-09-09T12:48:26Z,"i see it. i just don't understand why did you change it. why all web ui related stuff can't be built into corresponding library? well, maybe it's just that the splitting into libraries is still something inappropriate...",-1,0.6907069683074951
485631450,13327,FranciscoPombal,2020-09-09T13:55:38Z,"actually, i just found out that for qt, only the main application component needs to know about the resource sources, regardless of what component they are used in. so i have corrected the code to the following: [code block]",0,0.9923031330108643
485650380,13327,glassez,2020-09-09T14:20:06Z,it doesn't seem quite logical that linking library is not enough to use it.,0,0.9557302594184875
485669159,13327,FranciscoPombal,2020-09-09T14:44:13Z,"library is not enough to use it. i don't know exactly why either, but that's not enough. probably due to some qt implementation detail.",0,0.8827894926071167
485750344,13327,glassez,2020-09-09T16:27:23Z,"then i would leave your original version to keep it where it comes from: [code block] so using the library will only require one instruction, as expected: [code block]",0,0.9957873225212097
486276483,13327,FranciscoPombal,2020-09-10T11:53:56Z,"ok, fixed.",0,0.9758327603340149
487359564,13327,Chocobo1,2020-09-12T03:08:36Z,how do you decide what to put in the list? i mean is there a compiled list or something like that?,0,0.9893101453781128
487359881,13327,Chocobo1,2020-09-12T03:12:13Z,`if (` and please check globally.,0,0.9951580166816711
487360125,13327,Chocobo1,2020-09-12T03:15:01Z,please remove this kind of comments. those are only suitable on github reviews.,0,0.9876909255981445
487360701,13327,Chocobo1,2020-09-12T03:21:37Z,"can you try compiling without the above 2 macros? if removing them does not produce additional compile warnings/errors then please remove them, as they are not present in winconf.pri either.",0,0.9948738217353821
487399752,13327,FranciscoPombal,2020-09-12T11:26:24Z,"i went through [a link] and put in all those that had to do with c++14. recently i submitted a pr to improve cmake's documentation in this regard: [a link] the new result can be seen here, with features properly sorted by c++ standard: [a link] [a link] [a link]",0,0.9483092427253723
487402274,13327,FranciscoPombal,2020-09-12T11:57:04Z,"just after typing this, i reviewed the sorted list in [a link] and realized i actually missed a couple. also i took the opportunity to sort them all alphabetically after `cxx_std_14`. fixed.",0,0.8608777523040771
487421627,13327,Chocobo1,2020-09-12T15:42:17Z,you should add an url link to the cmake document.,0,0.996006190776825
489545061,13327,FranciscoPombal,2020-09-16T15:51:34Z,fixed.,0,0.9905837774276733
489545212,13327,FranciscoPombal,2020-09-16T15:51:44Z,fixed.,0,0.9905837774276733
489545348,13327,FranciscoPombal,2020-09-16T15:51:57Z,fixed all instances.,0,0.9932589530944824
489882134,13327,FranciscoPombal,2020-09-17T02:11:38Z,"removed, compiled with no errors or warnings. i also learned the following: - it is not necessary to specify the value of `_win32_ie`, so i removed that, too. it is automatically set to the correct value in the `sdkddkver.h` windows header based on the version set in `_win32_winnt`. - with `_win32_winnt` defined, it is not necessary to define `win_ver`, it gets set automatically in the same header. - `ntddi_version` is useful for finer grained version control, but currently it does nothing, since there is no finer grain control possibie for windows 7 versions. it will come in handy when we need to distinguish among windows 10 versions. references: [a link] [a link] - `unicode` and `_unicode` should both be defined (as they are now) references: [a link] [a link]",0,0.9587205052375793
489916733,13327,Chocobo1,2020-09-17T03:06:29Z,"ok. you shouldn't do more changes than asked here. now you deviate from winconf.pri again, if you want `_win32_ie` (or anything) removed, you should propose in another pr. also the comment about `# windows 7` only adds maintenance burdens imo.",0,0.7803793549537659
489924418,13327,FranciscoPombal,2020-09-17T03:19:08Z,"alright, fixed.",0,0.9881590008735657
629834175,14959,Chocobo1,2021-05-11T04:17:43Z,why is it removed?,0,0.991375744342804
629834349,14959,Chocobo1,2021-05-11T04:18:21Z,changes for this should have its own commit.,0,0.987280011177063
629834428,14959,Chocobo1,2021-05-11T04:18:35Z,and adding quotes too.,0,0.993309736251831
629834512,14959,Chocobo1,2021-05-11T04:18:52Z,and bumping cmake version too.,0,0.9917627573013306
629834724,14959,Chocobo1,2021-05-11T04:19:53Z,"the current commit says: `improvements to windows builds`, but this is in unix scope.",0,0.992861807346344
629835661,14959,Chocobo1,2021-05-11T04:23:17Z,can you move it to cmake/modules?,0,0.9960528612136841
629835928,14959,Chocobo1,2021-05-11T04:24:28Z,"maybe it is just me but i felt this renaming unnecessary, wait for others opinion...",0,0.6365931630134583
629845089,14959,glassez,2021-05-11T04:56:02Z,i'm not familiar with cmake subtleties... where is it supposed to be installed now?,0,0.7504755854606628
629845667,14959,glassez,2021-05-11T04:57:48Z,note: the commit title should be `cmake: improve windows builds`,0,0.9943795800209045
630125061,14959,FranciscoPombal,2021-05-11T12:35:34Z,"`cmake_install_full_bindir` is undefined and unused (and despite its name, it is not built-in cmake variable either), `expand_bindir` is unused. both are leftovers that were forgotten about and can be safely removed.",0,0.9919918179512024
630125687,14959,FranciscoPombal,2021-05-11T12:36:27Z,"i suppose it's better to move this change to its own commit, judging by your other review comments :)",0,0.9695613384246826
630125959,14959,FranciscoPombal,2021-05-11T12:36:48Z,ok.,0,0.980760931968689
630126027,14959,FranciscoPombal,2021-05-11T12:36:53Z,ok.,0,0.980760931968689
630127828,14959,FranciscoPombal,2021-05-11T12:39:32Z,"yeah, my apologies, i just saw some low-hanging fruit, got carried away and documented the changes in the commit message body. i'll split these changes into separate commits, and fix the commit message.",-1,0.96148681640625
630128136,14959,FranciscoPombal,2021-05-11T12:39:57Z,"sure, that's probably a good idea.",1,0.6900905966758728
630137606,14959,FranciscoPombal,2021-05-11T12:52:24Z,"i'm also not a fan of encoding the variable type into its name so explicitly (it's an anti-pattern in most languages), but i feel it is necessary with cmake, where everything is ultimately just a string. imo it better conveys the intention and there is a benefit to readability and consistency: now, all other non-list variables are quoted when expanded, whereas this is never the case for list variables. when one is looking at the code now, there is no doubt whether something is a list or not, and whether it's expansion should be quoted or not (remember that in cmake, `somefunction(${some_list})` will call `somefunction` with each element of `some_list` as a separate argument). this change was made for the same reason it is preferable to first declare a variable that's intended to be a list with `list(append some_list ""foo"" ""bar"" ""baz"")` instead of plain `set` (as in `set(some_list ""foo"" ""bar"" ""baz""`), and also to use `list(append ...)` rather than `set(...)` to append elements.",0,0.6781921982765198
630139641,14959,FranciscoPombal,2021-05-11T12:54:56Z,"well, bumping the version is inseparable from the part about about deploying the dlls, it is not a separate change. how about mentioning the bump in the commit message body for that particular commit?",0,0.9931161999702454
630176802,14959,FranciscoPombal,2021-05-11T13:39:40Z,"it will be installed in the same directory as the executable, same as previously. we don't need the extra `bin` folder in the path; following the standard unix fhs conventions doesn't make sense here. but thanks for pointing this out, i realize now that i had it right the first time in [a link] the destination should be `"".""`, not `""${project_name}""`. otherwise `cmake --install build` will install files to `c:/program files/qbittorrent/qbittorrent` (creating an unnecessary extra `qbittorrent` directory), because `cmake_install_prefix` ([a link] is set to `""c:/program files/${project_name}""` by default on windows.",1,0.8834794163703918
630203413,14959,jagannatharjun,2021-05-11T14:09:11Z,latest msvc 16.9 still ships cmake 3.19,0,0.9892770051956177
630249604,14959,xavier2k6,2021-05-11T14:54:14Z,correct! **microsoft visual studio 2019 16.9.4 (16.9.31205.134)** `cmake version 3.19.20122902-msvc_2`,0,0.8878619074821472
630264316,14959,FranciscoPombal,2021-05-11T15:08:43Z,"not a problem, it's trivially easy to always use the latest version of cmake. they even have an installer for windows, but i prefer the manual method with the `.zip`, (it gives you the flexibility of easily managing several versions side-by-side, if you have special requirements): 1. download the latest version (right now it's this one: [a link] 2. extract the `cmake-3.20.2-windows-x86_64` contained in the zip to your preferred location (i like `c:\users\user\bin` myself) 3. (optional) add `c:\users\user\bin\cmake-3.20.2-windows-x86_64\bin` to your `path` (start menu -> search for ""edit the system environment variables"" and click it-> environment variables... -> system variables -> `path`). it should go near the top so that it will be prioritized over other cmake executables that may exist in the system. vs will also pick it up no problem. you can always just run the cmake binaries by using their absolute paths of course, if you don't want to add to `path`. whenever you need to upgrade, just delete the old folder, extract the new updated version, and edit the existing `path` component (e.g. `c:\users\user\bin\cmake-3.20.2-windows-x86_64\bin` -> `c:\users\user\bin\cmake-3.21.0-windows-x86_64\bin`) `vcpkg` and the github actions ci builders are already using the latest version, so there is no problem there either. as for linux is is similarly easy; but don't take my word for it, watch the video linked in the op, starting from that timestamp: [a link]",1,0.6735426187515259
630281452,14959,xavier2k6,2021-05-11T15:25:49Z,"just checked & `3.20` will be included in next official release/update #### visual studio 2019 **version** 16.10.0 **channel** preview 2.1 **release date** april 22, 2021 **microsoft visual studio 2019 16.10.0 (16.10.31220.234)** `cmake version 3.20.21032501-msvc_2`",0,0.9857389330863953
630684340,14959,Chocobo1,2021-05-12T02:37:00Z,it is in systemd/qbittorrent-nox@.service.in and it is supposed to be replaced.,0,0.9938966631889343
630684743,14959,Chocobo1,2021-05-12T02:38:26Z,ok.,0,0.980760931968689
631051521,14959,FranciscoPombal,2021-05-12T13:40:41Z,"oh yeah, good catch, i totally tunnel-visioned and missed the `configure_file()` call after it. i guess then there is a different bug on our hands: as stated before, `cmake_install_full_bindir` is not a built-in cmake variable ([a link] and we don't define it anywhere. so `expand_bindir` will be empty as well. i'll attempt to address this in a separate commit.",0,0.6181913614273071
631179786,14959,glassez,2021-05-12T16:00:27Z,let user (of build system) decide whether it makes sense or not (by redefining of cmake_install_bindir).,0,0.993505597114563
631987742,14959,FranciscoPombal,2021-05-13T17:43:30Z,resolved.,0,0.9832034111022949
631987856,14959,FranciscoPombal,2021-05-13T17:43:40Z,resolved.,0,0.9832034111022949
631988360,14959,FranciscoPombal,2021-05-13T17:44:27Z,"resolved. i did end up creating a separate commit for this change, thanks for the suggestion.",1,0.9564220905303955
631989530,14959,FranciscoPombal,2021-05-13T17:46:14Z,"any more feedback about this? i lumped this change together with the quoting (see the commit message and body), do you have anything against it?",0,0.9927248954772949
631997123,14959,FranciscoPombal,2021-05-13T17:58:02Z,resolved.,0,0.9832034111022949
631998961,14959,FranciscoPombal,2021-05-13T18:00:56Z,the user can already achieve this in the standard way: either by setting `-dcmake_install_prefix=c:/some/dir/qbittorrent/bin` at configure-time or by passing `--prefix c:/some/dir/qbittorrent/bin` to the invocation of `cmake --install`.,0,0.994962215423584
632001928,14959,FranciscoPombal,2021-05-13T18:05:54Z,"resolved - deferred to another pr, for the reasons stated in [a link]",0,0.985460102558136
632031723,14959,FranciscoPombal,2021-05-13T18:54:14Z,resolved.,0,0.9832034111022949
641919115,14959,glassez,2021-05-29T10:07:35Z,i would drop checking for msvc_runtime_dynamic here.,0,0.9901671409606934
643396072,14959,FranciscoPombal,2021-06-01T18:45:50Z,fixed.,0,0.9905837774276733
191643431,9007,glassez,2018-05-30T05:08:49Z,i would move it on the previous line in all similar cases of this pr.,0,0.9910390973091125
191643549,9007,glassez,2018-05-30T05:09:42Z,it would be better if we can create session in paused state.,0,0.9892332553863525
191643790,9007,glassez,2018-05-30T05:11:45Z,please don't break the current style. just add `handletorrentaddedalert()` method.,0,0.9948824644088745
191643827,9007,glassez,2018-05-30T05:12:10Z,handlestartupfinished,0,0.9759932160377502
191644548,9007,glassez,2018-05-30T05:18:56Z,startupfinished,0,0.9736766815185547
191652715,9007,Chocobo1,2018-05-30T06:19:27Z,"add `qasconst()`? or use iterator to loop, this avoids redundant traverse over the container, although i like the use of values() :p",1,0.9294669032096863
192126023,9007,Chocobo1,2018-05-31T14:49:27Z,"from my experience, pushing to the max limit is rarely a good idea (you reported a libtorrent bug uncovered from this). personally i would use a smaller limit such as int_max/2 or (int_max - 100) to avoid hitting the edge case, final decision is up to you.",0,0.9769944548606873
192300861,9007,glassez,2018-06-01T05:26:29Z,is it still impossible to move it back to session constructor?,0,0.989395797252655
192315049,9007,glassez,2018-06-01T07:19:32Z,q_disabled_copy macro is also needed.,0,0.9908345937728882
192315309,9007,glassez,2018-06-01T07:20:56Z,the name is confusing. it just loads the resume data. so resumedataloadingmanager is more appropriate name.,-1,0.7082990407943726
192315492,9007,glassez,2018-06-01T07:22:03Z,redundant blank line.,0,0.8117470145225525
192315627,9007,glassez,2018-06-01T07:22:52Z,application headers should be the last.,0,0.9944533705711365
192315994,9007,glassez,2018-06-01T07:24:43Z,getresumedata or getpendingresumedata (since it's not property).,0,0.9838284254074097
192316267,9007,glassez,2018-06-01T07:26:18Z,public slots should be before signals.,0,0.9917110204696655
192316682,9007,glassez,2018-06-01T07:28:38Z,i would name it resumedataready.,0,0.9486384987831116
192317055,9007,glassez,2018-06-01T07:30:49Z,"thread can be finished, but manager can't. it just can finish its job. so it should be something like loadingfinished.",0,0.9911933541297913
192317225,9007,glassez,2018-06-01T07:31:45Z,wrong header order.,-1,0.5396329760551453
192317942,9007,glassez,2018-06-01T07:35:33Z,"afaik, qregularexpression constructor accepts qlatin1string so you don't have to use it explicitly.",0,0.992279052734375
192318179,9007,glassez,2018-06-01T07:36:44Z,i would use m_resumedataready name.,0,0.9891847372055054
192320159,9007,glassez,2018-06-01T07:47:24Z,why qstring cast here? tr returns qstring.,0,0.9934208989143372
192320446,9007,glassez,2018-06-01T07:48:45Z,"begin confuses. why not ""it""?",-1,0.5156405568122864
192321093,9007,glassez,2018-06-01T07:51:49Z,shouldn't you check for readyresumedata.count() here?,0,0.9945958256721497
192329374,9007,sledgehammer999,2018-06-01T08:29:32Z,we don't want that. we have to have created the mainwindow (with its children) before we start emitting signals from the session.,0,0.9766390919685364
192329421,9007,sledgehammer999,2018-06-01T08:29:43Z,ok,0,0.9233372807502747
192329598,9007,sledgehammer999,2018-06-01T08:30:29Z,"you're right. i was in a ""hurry"" to get the code working and i didn't give much thought to naming. (here and the other places you mentioned)",0,0.9636374115943909
192329624,9007,sledgehammer999,2018-06-01T08:30:38Z,ok,0,0.9233372807502747
192329905,9007,sledgehammer999,2018-06-01T08:32:06Z,will fix,0,0.9934358596801758
192330300,9007,sledgehammer999,2018-06-01T08:33:52Z,"this is just copied from previous code, we was from a pr chocobo1 merged a few hours ago... but, if i don't explicitly pass a qlatin1string string will the raw string be accepted as qlatin1string or qstring?",0,0.9910635948181152
192330336,9007,sledgehammer999,2018-06-01T08:34:02Z,will fix,0,0.9934358596801758
192330414,9007,sledgehammer999,2018-06-01T08:34:23Z,"old code, will fix",0,0.9929903745651245
192330521,9007,sledgehammer999,2018-06-01T08:34:53Z,will fix,0,0.9934358596801758
192330959,9007,sledgehammer999,2018-06-01T08:36:44Z,"maybe we have signaled it already but the other thread hasn't taken the data yet. so no need to signal it again. imo, readyresumedata.count() can't indicate that state",0,0.9790371656417847
192331041,9007,sledgehammer999,2018-06-01T08:37:06Z,will fix,0,0.9934358596801758
192331088,9007,sledgehammer999,2018-06-01T08:37:19Z,will fix,0,0.9934358596801758
192331115,9007,sledgehammer999,2018-06-01T08:37:27Z,will fix,0,0.9934358596801758
192331145,9007,sledgehammer999,2018-06-01T08:37:36Z,will fix,0,0.9934358596801758
192331165,9007,sledgehammer999,2018-06-01T08:37:43Z,will fix,0,0.9934358596801758
192344982,9007,glassez,2018-06-01T09:34:30Z,oops... forgive. there is no such constructor in this class. i confused it with some other class i used recently.,-1,0.9335338473320007
192345715,9007,glassez,2018-06-01T09:37:11Z,i mean `(readyresumedata.count() > 0) && !m_signaledready`. otherwise it can emit signal in case when no data available.,0,0.9925028085708618
192345909,9007,glassez,2018-06-01T09:38:02Z,"or you can emit it in the loop above. update: not so good idea. the previously suggested way is better, imo.",0,0.9331547617912292
192379076,9007,glassez,2018-06-01T12:23:53Z,you can use existing m_iothread for this purpose. why is yet another thread needed?,0,0.9938429594039917
192551973,9007,glassez,2018-06-02T06:41:16Z,you need to declare named constant for this value.,0,0.9944832921028137
192552048,9007,glassez,2018-06-02T06:43:27Z,as i said before this additional signal isn't needed anymore.,0,0.993359386920929
202547718,9007,glassez,2018-07-15T16:37:30Z,why?,0,0.9622438549995422
202547760,9007,glassez,2018-07-15T16:40:25Z,resumedataloadingmanager,0,0.9895875453948975
202547862,9007,glassez,2018-07-15T16:46:22Z,m_ prefix is missing here and below.,0,0.9840458631515503
202548183,9007,glassez,2018-07-15T17:01:36Z,"this flag is confusing. it splits lifetime of session in 3 steps (uninitialized, starting, started), but we can handle only last two. it's better to use m_started flag (initially false and assigning true here).",-1,0.7080694437026978
202548477,9007,glassez,2018-07-15T17:14:59Z,"here you have some subsystems related gui (rss, search) that assume the handled subsystems are already initialized, but you still didn't do it. or i'm wrong?",0,0.9670202732086182
202548581,9007,glassez,2018-07-15T17:20:00Z,"but in your current implementation you don't emit any signals from startuptorrents directly. they will be emitted wgen message loop is started, i.e. when main window is created.",0,0.9945513606071472
202550683,9007,sledgehammer999,2018-07-15T18:49:37Z,"good question. honestly, i can't remember why i wrote this. it is probably a leftover of an earlier version before i published the pr. i'll delete the comment.",1,0.9552037715911865
202550959,9007,sledgehammer999,2018-07-15T19:03:17Z,i think i know why i have this here. you need to look the previous commit [a link] there some gui widgets connect to the same signal in order to initialize themselves. eg the transferlist. we want them to do it first while they're disabled and then enable them,0,0.9740666151046753
202551205,9007,sledgehammer999,2018-07-15T19:12:59Z,"the commit that introduced this was 21a72c651f4439352942bec3573f0325b99765e9 the explanation in its commit message seems still relevant. if i am missing something, please enlighten me.",0,0.9852949380874634
202551326,9007,sledgehammer999,2018-07-15T19:16:30Z,ok. that seems to work too.,0,0.98101806640625
202551345,9007,sledgehammer999,2018-07-15T19:17:14Z,do you mean the lambda? have it as a one liner?,0,0.992352306842804
202551362,9007,sledgehammer999,2018-07-15T19:17:50Z,sure. i am still confused about those macros. eventually i'll get the hang of them.,-1,0.7297421097755432
202551485,9007,sledgehammer999,2018-07-15T19:21:09Z,look at `mainwindow::setenabledwidgets()`. i think i handle all the cases.,0,0.9930678606033325
202551510,9007,sledgehammer999,2018-07-15T19:22:06Z,ok,0,0.9233372807502747
202551551,9007,sledgehammer999,2018-07-15T19:23:52Z,ok,0,0.9233372807502747
202552083,9007,sledgehammer999,2018-07-15T19:42:34Z,"i was quick to talk. previously the ui responded immediately for every change during startup. now it responds after the torrents have been loaded. so there's no chance of ""losing"" stuff. what i don't understand is this: why the fix worked? afaik, the mainloop doesn't start before `base::exec()`. so the signals from the session wouldn't be tried to be delivered. so the mainwindow would have done its connects before base::exec(). and after that the signals would have been delivered.",0,0.861392080783844
202552303,9007,sledgehammer999,2018-07-15T19:49:40Z,"on 2nd thought, you probably mean only the capture clause and parameter list.",0,0.9914093613624573
202576465,9007,glassez,2018-07-16T05:32:10Z,"i don't think this order is so important, because all these processes are taking place in a single event...",0,0.9339615106582642
202576731,9007,glassez,2018-07-16T05:36:18Z,"okay, let's leave it alone for now...",0,0.9496392607688904
202577302,9007,glassez,2018-07-16T05:44:37Z,you need also add: [code block] also i would move its initialization it `startuptorrents()` and make it local variable since it isn't needed anywhere else.,0,0.996087908744812
202662683,9007,glassez,2018-07-16T12:23:14Z,yes.,0,0.9851860404014587
202665470,9007,glassez,2018-07-16T12:34:05Z,i would add `session::isstarted() const { return m_started; }` getter and use it where needed instead of having separate variables.,0,0.9928594827651978
202666020,9007,glassez,2018-07-16T12:36:09Z,it's better to declare it private and connect to `session::startupfinished()` signal somewhere in mainwindow constructor.,0,0.9932218790054321
202666852,9007,glassez,2018-07-16T12:39:10Z,you also need to prevent torrent addition in `session::addtorrent()`.,0,0.995514452457428
202682499,9007,glassez,2018-07-16T13:31:58Z,you missed searchwidget there.,0,0.9912755489349365
478322634,13288,glassez,2020-08-27T10:39:11Z,"libtorrent: rc_1_2 head, 1.2.9 ci doesn't look useful enough to me if it doesn't care about the minimum supported versions of the libraries and tools. since the main contributors often use the latest versions, we risk to merge breaking changes accidentally. ?",0,0.8049975037574768
478325807,13288,Chocobo1,2020-08-27T10:45:50Z,"additionally, i don't know why we need more ci doing the same thing...",-1,0.9594247937202454
478349477,13288,FranciscoPombal,2020-08-27T11:35:11Z,"those versions in those comments are only relevant for the builds that use vcpkg (windows and macos). it's a comment that is meant to be updated every time `vcpkg_commit` is bumped - it's there as a convenience so that one does not have to go search for which versions of qt/libtorrent are available with this version of vcpkg. i don't understand this criticism though, because travis and appveyor currently do the same thing - windows and macos builds are built with recent versions of everything (now they are a bit old, but only because sledge hasn't been updating the dependency bundles as they usually do). releases for these operating systems use the latest versions, anyway. i think there was even a somewhat recent discussion where it was mentioned that it is in fact preferable that ci for these systems have recent versions of the libraries so that deprecations are caught early. ensuring qbittorrent works fine with older versions of libraries and toolchain is most relevant for linux, and more specifically, ubuntu and the like. precisely for this reason, there's ci jobs for the 2 currently supported lts releases, all using the default libraries and toolchain except for libtorrent. if you're wondering ""why use the most recent libtorrent release on the ubuntu ci?"", the reason is because even ubuntu 20.04 does not include _any_ 1.2.x version: [a link] the goal for this pr was to come up with a ci solution that at least matched what travis and appveyor are doing right now (builds for windows and macos with recent dependencies, builds for stock ubuntu 18.04 [except libtorrent]), but fix their most glaring issues (fix macos builds, provide ci for stock ubuntu 20.04 [except libtorrent], and get/build the most recent dependencies for windows/macos from official sources, rather than relying on a personally maintained bundle). if you want to add more jobs with older library versions for windows and macos, that can be done later. though i don't see why that would be desirable, given the reasons above. this pr is just meant to be a drop-in replacement for the current ci solutions. in case it wasn't clear: this is meant to replace both travis and appveyor.",0,0.8992457985877991
479192106,13288,glassez,2020-08-28T11:54:06Z,"if you take our current disadvantages as a basis, your changes won't do much good. as a result, we will trade bad for worse.",-1,0.8615102767944336
479375117,13288,FranciscoPombal,2020-08-28T15:23:03Z,"what exactly is ""worse""? i believe i've presented a convincing case as to how and why this alternative matches and eventually exceeds our existing solutions capability-wise.",0,0.9743077754974365
491101319,13288,Chocobo1,2020-09-18T17:47:07Z,i dislike having explicit versions here and there. can't you default them to the latest version?,-1,0.9654054641723633
491101540,13288,Chocobo1,2020-09-18T17:47:31Z,this one too.,0,0.987944483757019
491101825,13288,Chocobo1,2020-09-18T17:48:03Z,those comments would become outdated easily.,0,0.955994725227356
491101961,13288,Chocobo1,2020-09-18T17:48:23Z,those aren't suitable here.,0,0.8269174098968506
491102538,13288,Chocobo1,2020-09-18T17:49:38Z,"those are not portable at all (i meant for other distro users), there is no point to upload them.",0,0.9823890328407288
491103001,13288,Chocobo1,2020-09-18T17:50:35Z,"have you tested it? afaik without proper packaging, those are useless.",0,0.9726391434669495
491103877,13288,Chocobo1,2020-09-18T17:52:24Z,imo building with libtorrent releases are pointless when you already build with some git branch rc_1_2.,0,0.9304514527320862
491105794,13288,Chocobo1,2020-09-18T17:56:12Z,why not `windows-latest`? so we don't need to bump it regularly.,0,0.9887174367904663
491106753,13288,Chocobo1,2020-09-18T17:58:05Z,`macos-latest`?,0,0.9949043989181519
491108746,13288,Chocobo1,2020-09-18T18:02:18Z,"since the binary produced aren't portable, there is no sense to build in `ubuntu-18.04`.",0,0.9874687194824219
491113329,13288,FranciscoPombal,2020-09-18T18:11:58Z,"that's not good practice, it has the potential to break our ci and will be difficult to track down - one would have to check recent updates to _all_ actions to figure out what changed. it is preferable to bump these every now and then. the ci itself will catch any breakage due to specific version bumps, and the whole situation becomes much easier to investigate and resolve, since we'll know immediately what changed.",0,0.6029270887374878
491114194,13288,FranciscoPombal,2020-09-18T18:13:59Z,"similar reasoning to [a link] especially because currently, vcpkg package versions depend on the vcpkg version itself. this is expected to change int the near future though, when they implement versioning support.",0,0.9906484484672546
491114697,13288,FranciscoPombal,2020-09-18T18:15:01Z,"they are meant to be changed when one bumps the `vcpkg` version, for easy reference.",0,0.9943212270736694
491115431,13288,Chocobo1,2020-09-18T18:16:32Z,"this is something i wouldn't prefer, especially our codebase is not for ci itself. any opinion on this?",-1,0.7583264112472534
491115797,13288,FranciscoPombal,2020-09-18T18:17:21Z,"i disagree, it's a useful note for maintainers, and demystifies the purpose of the `force appleclang to compile libtorrent with c++14` step in the macos ci. once we drop libtorrent 1.2 support, and assuming libtorrent >= 2.x won't have similar abi issues (check the linked issue report), we can remove such comments.",0,0.9145379066467285
491119532,13288,FranciscoPombal,2020-09-18T18:24:29Z,"well, this artifact is clearly labeled ""ubuntu"" but anyway, the point of the artifacts produced by this workflow is not to be used as nightly builds for regular usage (for that, we can have a nightly builds workflows, like i have proposed in the past and am now developing an improved version of), but instead, for troubleshooting purposes. for example, you can run `ldd` on the generated executable, check the generated dependencies graph, the generated `compile_commands.json` compilation database, etc.",0,0.9905345439910889
491120351,13288,Chocobo1,2020-09-18T18:25:39Z,"well, i would argue if the maintainer doesn't know this, then he isn't really suitable for the job. i think this issue is widely known among the developers working on this project.",0,0.9629848003387451
491122527,13288,FranciscoPombal,2020-09-18T18:29:57Z,"had tested the macos builds during the development of the cmake pr, and found that cmake correctly generated the app bundle and that the executable ran. the relevant code hasn't been modified since, and the ci builds macos builds the same way as one would in their machine. plus, as mentioned in [a link] there are other things that are included in the artifact archive that are useful, not just the executable; and the executable generated by this workflow is not meant for general use, just for troubleshooting and smoke testing purposes (e.g. does it run?).",0,0.9884887337684631
491127378,13288,FranciscoPombal,2020-09-18T18:40:20Z,"no builds currently use `rc_1_2` head. that comment is just for reference to explain that, in the current version of vcpkg, passing `--head` when installing libtorrent would pull in `rc_1_2` head. as explained in [a link] these comments are meant to be adjusted as one bumps the vcpkg version.",0,0.9943554401397705
491128191,13288,FranciscoPombal,2020-09-18T18:42:05Z,"the ci is meant to test for specific platforms, right? we don't want those changing (too much) without notice beneath our feet. bumping versions in ci should be a conscious decision, not an automatic one. see also [a link] and similar comments.",0,0.9887562394142151
491129373,13288,FranciscoPombal,2020-09-18T18:44:45Z,"we need to build in `ubuntu-18.04`, to make sure no changes accidentally break support for it. when we decide that we're going to drop support for it, we'll do so as a conscious decision, and remove it from ci accordingly. as for the binaries not being portable, that is not an issue, see the earlier comment about that: [a link]",0,0.9903786182403564
491129590,13288,Chocobo1,2020-09-18T18:45:12Z,"i don't think you presented reasonable examples. why would one examine the binary generated for other distro than the user's one? and this is limited to ubuntu distro. i presume the user would be more interested in building the project himself in his distro and look at the result binary. why would one look at the dependencies graph from the ci? he should produce it on his own machine if he is really into it. same goes for the compile_commands.json you mentioned. i still don't think those will aid any troubleshooting. and those artifacts still seems very rarely used, i would still prefer not uploading them.",0,0.7271410822868347
491129720,13288,Chocobo1,2020-09-18T18:45:30Z,ok.,0,0.980760931968689
491133021,13288,FranciscoPombal,2020-09-18T18:52:38Z,"why make it harder for people to discover these kinds of things? prospecting contributors that are confused by the code that these comments refer to will have a much harder time making sense of it until they find on their own the information that is present in these comments currently. imagine being new to the project and wondering why the c++ standard is forced in the macos ci. without these comments, you'll waste much more time finding out the reason. plus, will you remember this issue easily without such comments 3-4 months for now? i won't. we all have more important stuff to do and remember. without such comments, it's much more effort to dig out the relevant details and reasons behind related changes in the future if we need to refer back to this issue.",-1,0.8153891563415527
491133703,13288,Chocobo1,2020-09-18T18:54:13Z,"this sounds like we are supporting/targeting a specific distro version, but i can tell you, we do not. we only list out the required lib versions for users/distros to follow. we also take into account the library version availability of the distros when bumping our lib requirements. wrong way of reasoning, if that were the case, we should be building & testing for every distro out there which is wrong.",-1,0.9629974365234375
491137998,13288,Chocobo1,2020-09-18T19:03:29Z,"those aren't special cases when working with c++ codebases. it is universally known that the dependencies *should* be compiled with the same compiler & c++ version mode, otherwise weird things ensues. at least you should move this comment near to the respective command and make it succinct that will fit in a single line.",0,0.9271817207336426
491139068,13288,FranciscoPombal,2020-09-18T19:05:52Z,"this extreme aversion to commits concerning ancillary tasks not directly related to source code changes (let me guess, such bumps ""pollute the git history"") is starting to seriously bother me. no, it does not make ""the codebase only about the ci itself"". these kinds of changes are as much part of the guaranteeing smooth sailing of the project as much as anything else. they **are** part of the project's development. i don't want to have ""fun"" trying to figure out which action version bump completely broke or changed something about our ci each time in the future, and neither do you for sure. if you have concerns that the git history has or will become too difficult to sort through, the right course of action is to find a proper solution for that, such as agreed-upon commit prefixes similar to what [a link] and other projects do, not fight every single proposed change with the ""git history pollution"" argument. hell, a lot of projects have bots automatically committing translation updates and other things and they do just fine.",-1,0.9721668362617493
491146990,13288,Chocobo1,2020-09-18T19:22:53Z,"who knows how many minor version bumps for ci script are going to follow once this pr is merged? of course this is a major concern for the developers. i'm ok with explicit versions for vcpkg scripts under only one condition: don't **ever** change it if it ain't broke or without good reasoning. if you think that can uphold, then i have no issue with them.",-1,0.7317913770675659
491148882,13288,FranciscoPombal,2020-09-18T19:27:08Z,"the thing is, everything should also work fine if libtorrent is compiled with a lower c++ version than qbittorrent, and libtorrent's officially stated minimum c++ standard requirement is 11. a lot of people, including many official and community distro packages, have been building qbittorrent against c++11-built libtorrent. recently i have dealt with a torrent (heh) of issues from several users and official/community distro packages that were working but suddenly broke because they were neither building libtorrent with c++14 _or_ c++11 and defining `torrent_cxx11abi`. it is very easy to accidentally run into this issue, and it is not easy to figure out the root of the problem just from the ensuing error message at buildtime; hence why i think this needs a bit of explanation. the current explanation is only 2 more lines, and it's already incomplete (it does not mention the existence of a workaround when building libtorrent with c++11). plus, while currently only the macos build requires the workaround of forcing the compiler version in practice, the issue is universal and os-agnostic in principle, and it might be the case that in the future we may also need to apply the same workaround to other systems. that's why the comment is at the top.",0,0.7260081768035889
491149885,13288,Chocobo1,2020-09-18T19:29:23Z,"the libtorrent version is fixed to some git commit and requires regularly bumps to keep up with the latest development. are you fine with this? i know you already approved, so i'm just double checking.",0,0.9903726577758789
491151694,13288,Chocobo1,2020-09-18T19:33:29Z,your whole reasoning made me think ci script is (still) not the right place you want to put the info at.,0,0.9409710168838501
491157746,13288,FranciscoPombal,2020-09-18T19:47:55Z,"that is possible, but currently it is fixed to a tag (`libtorrent-1.2.10`), not a commit. though the case can be made to pin exclusively to commits, as tags are mutable (in the sense that it is possible to change the commit they point to) on the remote, commit hashes are not. there is no requirement to keep this regularly updated, though i think it is useful to bump whenever some important change lands in libtorrent that may have important implications in our ci, or when whenever we introduce patches that includes code of the form `if libtorrent_version >= 1.2.xx`, where `1.2.xxx` is greater than the current version in ci (yes, i will deal with libtorrent 2.0 later...). plus, being able to bump the version with just a single small change committed in a text file is very powerful, compared to having to manually preparing a custom build and hosting it on builds.shiki.hu.",0,0.9903643727302551
491158732,13288,FranciscoPombal,2020-09-18T19:50:26Z,"as little as possible, and as ""in bulk"" as possible. if you think that can uphold, then i have no issue with them we are in agreement then.",0,0.9616596102714539
491159105,13288,FranciscoPombal,2020-09-18T19:51:21Z,where do you suggest i put it instead?,0,0.9947656393051147
491193412,13288,FranciscoPombal,2020-09-18T21:13:28Z,"maybe they happen to be working in a machine with a different distro, but are still interested in resolving a bug that's happening on ubuntu? and what about users and contributors who actually use ubuntu? this is certainly useful for them as a reference. if you want more ci jobs for more distros, that can be added later. why would one look at the dependencies graph from the ci? he should produce it on his own machine if he is really into it. same goes for the compile_commands.json you mentioned. ci is supposed to be the canonical reference; it's useful to compare to when troubleshooting. the `compile_commands.json` in particular is very useful to examine the actual command-lines used to compile the program, even for systems that you may not have access to in the moment or at all. you're not forced to download them or look at them if you think you don't need them, but why remove them if they can be useful for other people? there is nothing to lose, storage is free (and if it stops being free, we'll change it then).",0,0.9449877142906189
491199342,13288,FranciscoPombal,2020-09-18T21:29:56Z,"we only list out the required lib versions for users/distros to follow. we also take into account the library version availability of the distros when bumping our lib requirements. the most important distro to consider when evaluating library availablity is ubuntu lts (and also debian stable, to an extent). i was under the impression that we support the current lts ubuntu releases, if not the full 5 years, at least an honest attempt at that (3 years, which is what the flavors support, is good enough). how can we at lest not have that commitment? we still support windows 7, and it has been hell to argue for dropping support for it. how does that make any sense?? the bug handling team is already strained with having to deal with weird heisenbugs and issues with 10+ year old eol proprietary oses, that don't even have support for basic stuff like paths over 256 characters, and yet we can throw users of the most popular linux lts distro under the bus at any moment? seems like the priorities for os support are all wrong. same for the webui still supporting ie 11 (in a practical sense, and also in the sense that there is an official commitment to that: [a link] that's an implication that is not present in what i said. at the very least we should have ci for the most important configurations, which is what this pr achieves. and of course, if you want to add support ci for more distros (the more the better), that can be done later.",0,0.9618675112724304
491642889,13288,Chocobo1,2020-09-20T02:22:31Z,for the record: [a link],0,0.9952417612075806
491642953,13288,Chocobo1,2020-09-20T02:23:36Z,"where someone looks for info for compiling qbt, i suppose this would be the guide in our wiki. the ci script should mainly contain ci actions and comments about them, not detailed descriptions to some particular issue.",0,0.9922475814819336
491643150,13288,Chocobo1,2020-09-20T02:26:02Z,for the record: [a link],0,0.9952417612075806
491643159,13288,Chocobo1,2020-09-20T02:26:10Z,for the record: [a link],0,0.9952417612075806
491643951,13288,Chocobo1,2020-09-20T02:38:23Z,"eh... i won't be dreaming for unrealistic situations, lets be practical here, just remove it, now. if the need arises we can reintroduce it later. no, that is not what i meant. disagree, but lets leave it another time. how often is this file going to change between regular commits in qbt? seldom. then there is little point to store it for every commit. macos is an exception since no one on the team have access to it.",0,0.7047329545021057
491645049,13288,Chocobo1,2020-09-20T02:55:52Z,"it only shows your opinion is still (currently) the less popular one, on user side and among the developers. you're getting derailed into os support discussion... that is not the point here. so you're installing some official packages from ubuntu, does the versions that offered in ubuntu-20.04 and ubuntu-18.04 differ that much?",-1,0.6123237013816833
491680531,13288,FranciscoPombal,2020-09-20T11:07:44Z,"the main problem is boost and qt: - boost: - 18.04: [a link] - 20.04: [a link] - qt: - 18.04: [a link] - 20.04: [a link] you're getting derailed into os support discussion... that is not the point here. sad that apparently ""popularity"" trumps good maintenance practices and is more important than the bug reporting team. it's not even as popular as you might think. there's always a very vocal minority of semi tech illiterate pseudo power user lunatics holding on to old windows versions unreasonably long because of ""nostalgia"" or ""it worked better""/""i don't like the one"" (without providing valid objective reasons) or ""the new version spies more"" (lol). just look at how many people held on to windows xp well past what was reasonable. note that this is of course very different from keeping a secondary installation around (sometimes in a vm) for preservation purposes of some software/hardware that doesn't run reasonably anywhere else. my problem is when people make such arguments for their daily driver machines. if they want to run museum piece oses, they can use older qbittorrent versions. they just won't be able to install new ones. as far as devs/contributors go, i don't think anyone really minds dropping support for windows 7. their only concern also comes from this perceived ""popularity"" among the user base. it's logical that one doesn't want to unnecessarily disrupt the workflow of completely reasonable average joes. but that's exactly the flawed premise - nowadays, people who torrent holding on to windows 7 are not reasonable average joes, or ""power users"" worth catering to. let me be clear: i don't want to deal with issues relating to windows < 10 any longer (and i'm sure other contributors/active users who actually help solve windows issues don't either), and i don't think the lunatic vocal minority is more important than me or my contributions to the project. the team is already small enough. we have to make compromises. this is yet another thing that unnecessarily clutters the issue tracker and increases maintenance burden.",-1,0.9907916784286499
491681973,13288,FranciscoPombal,2020-09-20T11:26:47Z,"this 3-line comment is not a ""detailed description about an issue"". i'd argue it falls precisely into the category of ""comments about ci actions"". does it not? maybe i can change the wording of the second line to make it really obvious that it has bearing on other things written in the file: ""\# **currently, in all ci jobs,** ~c~compilers that don't default to >= c++14 ~must be~ **are** overridden **to >= c++14 mode to avoid the issue.**"" seriously what do you have against little snippets of documentation in the code, to explain non-obvious decisions?",0,0.772081196308136
491682776,13288,FranciscoPombal,2020-09-20T11:37:00Z,"you are being too narrow minded. just because _you_ don't see the benefits (or don't think _you_ will ever make use of them), does not mean they are not there. it does not cost you or anyone else anything extra to have this. why do you keep insisting on removing it? you don't pay (both figuratively and in the literal sense) for what you don't use here. but when it _does_ change, it is extremely useful and valuable. it saves a lot time in troubleshooting and may help catch issues earlier. so what exactly is ci supposed to be? it must be a guarantee that ""things work"" for certain standard setups/environments. what's the point of it if it has no bearing on reality? someone who builds qbittorrent on windows 10 should be able to look at the windows ci run and figure out ""hey, the ci is completing successfully, if i can't build, there must be a problem on my end - i'll use the ci as a reference/point of comparison to solve my issue"".",-1,0.9287748336791992
491684032,13288,Chocobo1,2020-09-20T11:53:28Z,"then present a real world useful example, not imaginary ones. i already said it can be introduced later when it really helps. [a link] those arguments doesn't really help here. you're here presenting a pr and trying to win the team members approval. if we can't compromise/converge our opinions then that is that..",-1,0.5638775825500488
491684430,13288,Chocobo1,2020-09-20T11:58:21Z,"20.04: 5.12.8+dfsg-0ubuntu1 now i think it is worth to test in both os versions, 18.04 for our minimum qt requirement and 20.04 for qt lts (obsoleted though). and i also suppose when we raise qt requirement to >= 5.12 we can drop building in 18.04. you presented your thoughts, ok.",0,0.9815545082092285
491688420,13288,FranciscoPombal,2020-09-20T12:47:33Z,"this is not imaginary. imagine any contributor wants to quickly check the artifacts produced for another system at any time. this gives us some flexibility. personally i have diagnosed windows compilation issues during my testing thanks to this. if this is valid for macos, why not for other systems? we shouldn't make assumptions about what systems contributors have available to them at any given time. the burden of proof is on you to explain why exactly it is better to _not_ make these artifacts available. again, i've explain how it is useful to others. just because they are not useful to you, that's not a good reason to remove this. i already explained it already really helps. what? my point is simply that the presence of these artifacts won't bother you in any way. they are useful for those who make use of them, and don't get in the way of anyone else. if you just want to look at the build logs, you just look at the build logs. you're withholding your approval for stupid reasons. seriously, i get the impression from this review that you didn't really bother to understand what is going on and why certain things are done in certain ways. have you even looked at the example run and its jobs? [a link] worse, you are actively dismissing other's workflows and pushing the for the removal of features that i have already proven to be useful.",0,0.8288248777389526
491689253,13288,FranciscoPombal,2020-09-20T12:58:08Z,"hopefully, not in the near future.",0,0.8583341836929321
491689884,13288,Chocobo1,2020-09-20T13:06:03Z,"oh, so you're trying to force/provoke me into approval!? and doubt a reviewer is not using his brain!? i already replied they are not: [a link] sigh, i cannot continue to work with you with such disrespectful tone... no point of me staying here any longer.",-1,0.9950827360153198
491691854,13288,Chocobo1,2020-09-20T13:30:52Z,"see this [a link] franciscopombal disrespected my review/opinion and created a simplified version of my words to downplay my viewpoint (and presumably make fun of me along the way). really, i don't see why i should work with that guy anymore. given the situation now, i think i reserve the rights to ignore him and all of his work. if you still think this pr has any value, just go merge it instead. sorry, the way you acted is over the line, your [a link] with your tone is just within the limits but splattering your non-sense outside this pr is not. our collaboration ends here.",-1,0.9927559494972229
491694579,13288,FranciscoPombal,2020-09-20T14:02:43Z,"get off your high horse. this whole review of yours is a tremendous disrespect to my work from the start. review comments such as [a link] prove you didn't bother to understand what was going on or the context up to this moment [a link] you never showed any initiative to solve the broken ci problem, which was an urgent matter to resolve, and now that i come here with everything already done, you post a review with stupid nonsensical nitpicks. additionally, you did very little to help expedite the prs that this one depended on. you just swoop in at the last minute, post comments that show you haven't been keeping up with discussions, and i have to repeat everything all over again. your attitude towards other contributors such as me and their opinions are incredibly dismissive. in the past few months i have made many important contributions for the project. i helped solve many important bug reports, some of which ended up directly contributing to uncovering important underlying issues in libtorrent. me and a few others are helping keep the issue tracker afloat in the current situation that the project is facing, and you just shit all over that with comments like [a link] ""you presented your opinions, ok""? what the fuck is that? me and others bust their asses off helping out people and solving bug reports, and you want to keep an unsustainable support policy for the project that results in us accruing technical debt, and making the issue tracker situation even more difficult than it already is. at the same time, you show little preoccupation in removing recent setups from ci (ubuntu 18.04) for no good reason, and i have to waste a lot of time explaining why that is a bad idea, or even just inconsistent with your other opinions about os support. seriously, who are you to say what is or isn't important in this ci script? you won't care about it, we all know it's gonna be me or others who are going to maintain it and fix it anyway. you're not gonna read users logs and help solve bugs. let others contribute to the project in the ways that you won't.",-1,0.9880472421646118
491694850,13288,FranciscoPombal,2020-09-20T14:05:41Z,you are free to point out how any of that is a misrepresentation of what you said.,0,0.936984121799469
491695453,13288,Chocobo1,2020-09-20T14:12:49Z,"bravo, now you showed your true self. well, unlike you my limited free time and motivation is a factor, but i guess you care less about that. well at least the currently missing maintainer asked me (and some others) to help doing the reviews and merge them if they are decent enough. i'm not obliged to review/comment on every pr/issue, that wasn't on the contract. please also take note of my viewpoint.",1,0.8956103324890137
491696335,13288,Chocobo1,2020-09-20T14:21:54Z,your disrespectfulness.,-1,0.9878352284431458
491697958,13288,FranciscoPombal,2020-09-20T14:41:08Z,"now _you_ just showed your true self. your free time is not more valuable than that of others. straw man. no one said that, and that was never the implication. --- let's get this back on topic, for the sake of the project. the artifacts are useful for some contributors, even if they are not useful to you. the comment about the libtorrent abi issue should be mentioned in compile guides, but it is also very relevant where it is in the ci script. it quickly makes it clear that the issue is universal, not just a workaround for the ci environments.",-1,0.7510554790496826
491700734,13288,Chocobo1,2020-09-20T15:11:09Z,"[a link] straw man what? being led astray by your own imagination? you are free to believe what you like, but what i said is the fact, **there was no such rule on the contract/from the start** when i accepted this role. so keep your asses off me. for the sake of your precious time spent on pr i believe. you showed your rude attitude and now expect me to just get back and play along, wtf? my last [a link] still stands. i don't deny it and i already told you to [a link]. and... you asked me where is the better place, i [a link] and you ignored it, what, were you just asking for fun? seriously, what is the point of getting my approval as [a link]? i'll give you a hint that it is still possible to get this pr merged in the current form when the maintainer is present, that is, if you can persuade him, probably won't be hard.",-1,0.9926126003265381
491703132,13288,FranciscoPombal,2020-09-20T15:37:51Z,"? you are arguing about a point i never made, which is ""you're obliged to review/comment on every pr/issue"". just leave your grievances aside for a moment and get back on topic. i'm making an effort to brush aside your disrespect and abusive nitpicking, surely you can put up with my rude attitude. no, it doesn't. i have even stated that this is personally useful to _me_, if not for anyone else. is that not enough? if it caused you serious trouble to have this in, i would consider an alternative, or even removing it. but it doesn't, so why do you want to force me to remove something that is useful to me (and possibly to others)? contrary to what you might think now, i _would_ go out of my way to change it if it caused you trouble, because that is a way i show you respect. but you are not presenting valid reasons and forcing me to remove something that i make use of. that is something that i cannot respect, and which i interpret as disrespect toward me. do you mind giving a concrete suggestion? personally, i don't see a way to further compress the comment while preserving its intended usefulness, and i don't feel like trying to guess what you want. just state it clearly, if i disagree, i'll state clearly my alternative, and so forth until we reach an agreement. i don't disagree with adding it to somewhere in the wiki as well, i'll do it eventually. your approval is not worthless. the point of at least seeing these last discussions through is to expedite this is to improve the project, despite our own grievances and differences of opinion.",-1,0.9746121764183044
491709624,13288,Chocobo1,2020-09-20T16:46:41Z,"i'm merely telling a fact which might be something you didn't realize before. alright, but i'm noting that each reviewer has their own focus area and lax area and no one except the maintainer is except from this process, and this is how the current review process goes. i see no harm (little inconvenience at most) in adding this functionality a bit later, from my pov why not hold it for a while and see how it goes? from my pov taking resources but not putting it into use is wasteful. i think i already explained myself clear enough. each person has their own mind and thoughts, it is not always possible to see reasoning from others mind, even trying very hard. i faced similar situation numerous time when submitting prs, i believe all team members have. i've learned not to take it personal as it is merely subjective opinions on matters. i think my previous suggestions are concrete enough, i'll add here that imo it is taking too many lines that it is distracting when reading the ci script and it should be moved near to the affected actions as said before. i hope you also agree that reviewer comments (especially from team members) are not worthless. fyi, when i propose a pr, i find it useless to keep insisting my own reasoning when sufficient information is presented and the reviewer still thinks otherwise, in that case i can only trust the reviewer is knowing what he is doing. an accepted yet compromised pr is still better than a never-to-be-merged pr which contributes nothing to the project. also as you probably already know, the current employed merge process requires 2 out of 3 approvals from selected team members, i believe this is deliberately designed to collect opinions from multiple trusted minds and have tighter quality control on the pr, this also means making compromises are not unexpected and in fact, happens very often.",0,0.5580382943153381
491725039,13288,FranciscoPombal,2020-09-20T19:26:37Z,"i understand it. i realize there are certain unspoken ""partitions"" (some clearer than others) in the code base. for example, rss is glassez's domain, while front-end and other webui stuff is piccirello's, etc... is ci supposed to be your ""turf""? this has occurred organically, as far as i can tell. perhaps we should clarify these things internally. but that is a discussion for another time. well, from my pov, why not add this now, if it doesn't inconvenience anyone and is already useful for some. we'll see how it goes, and if there are problems, we remove it. there is nothing being ""wasted"", as a public project we have ""unlimited"" artifact storage (and it's not like the usage that will result from this workflow is abusive of that, it's not like 6 10 gib artifacts are uploaded each time) that does not interfere with other things. right, it is natural to have differences of opinion. the thing is, why should your subjective feeling that this could be added a bit later trump my objective arguments explaining that it is already useful and that there is no objective reason not to include it now? ok, i already explained why i think it makes more sense for this to be at the top, but i'm willing to compromise here. how about: [code block] on top of the `force appleclang ...` step? 1 line, doesn't extend past column 100 even when accounting for indentation. of course. i want to get this merged asap. the thing is - this comes back to the point i made above about my good, objective reason to include the artifact stuff now, rather than later, and the fact that there is no good reason not to do it. i already compromised in the matter of the comment, as there is some merit to your request - the usefulness of the comment diminishes a bit, but isn't completely lost by moving it and shortening it. however, in what concerns this discussion about artifacts, you must either accept that _i_ know what i'm doing, or present a good, objective reason why this shouldn't be included now. sorry, but i can't accept that the reason i remove it is purely ""because i had to appease chocobo1"". i don't think this sets a good precedent, and i don't think it is a healthy way of handling collaboration in a project. the design of the system is good, i agree. but this triumvirate has been broken as of late - as we all know, the merging process has been a 2-man show for the last several months. participation and input from 3 members with merging rights is essential; imo, it can avoid situations like these. i do realize that there is nothing that can be done about this in the near future at least.",0,0.688353955745697
491725291,13288,FranciscoPombal,2020-09-20T19:28:34Z,extracted from [a link] for visibility:,0,0.9956438541412354
491789106,13288,Chocobo1,2020-09-21T04:31:38Z,"ok. i reevaluated and now i think the ubuntu logs maybe are a bit useful, we should keep them, sorry for the inconveniences. my viewpoint on the ubuntu binaries are still the same, we should still keep them out in this pr. but here is another idea/compromise to improve the situation here, it probably won't be easy but it would justify uploading them from my pov and you probably would like to investigate it in a follow up pr (so this one gets merged quickly). this is about linking statically with all of our direct dependencies (zlib, openssl, qt, etc), in this way the binary is much more (still not entirely) portable across distros and the upside is the audiences would be larger than just the ubuntu community. as said before, you shouldn't make it personal, either on yourself or on others and this is really how the review process goes, by collecting everyone opinion (even the ones you take it personally) and both sides making compromises so the opinions may converge and the result quality is consistent/improved in the end.",-1,0.9827319979667664
492077003,13288,FranciscoPombal,2020-09-21T14:11:42Z,"but here is another idea/compromise to improve the situation here, it probably won't be easy but it would justify uploading them from my pov and you probably would like to investigate it in a follow up pr (so this one gets merged quickly). this is about linking statically with all of our direct dependencies (zlib, openssl, qt, etc), in this way the binary is much more (still not entirely) portable across distros and the upside is the audiences would be larger than just the ubuntu community. something like this? [a link] i agree that it would be a nice addition, definitely worth investigating later. :+1: i also changed the comment now, in the latest force push.",1,0.7549999952316284
492086455,13288,glassez,2020-09-21T14:20:24Z,"the libtorrent version is fixed to some git commit and requires regularly bumps to keep up with the latest development. are you fine with this? i know you already approved, so i'm just double checking. i don't mind being sticked to a specific libtorrent version. but as i've said many times, we need to stick to the versions of libraries/tools (of course, among the supported ones) that are least likely to be used by team members to make sure that we don't accidentally break their support. and since most of us prefer to use the fresh versions (the latest or close to the latest), in ci environment, we should use the minimum supported versions or the closest to them if possible.",0,0.7982456088066101
492173579,13288,Chocobo1,2020-09-21T15:59:00Z,"i think we should keep the builds simple by omitting this setting. who knows what (unexpected) impact would this setting bring in? also we don't use it in official releases, we shouldn't do it here either.",0,0.9632601737976074
492184455,13288,FranciscoPombal,2020-09-21T16:15:28Z,"fixed. also removed `arch`, since `x64` is the default anyway.",0,0.9927098751068115
494483161,13288,glassez,2020-09-24T17:17:33Z,"i don't think it's a good idea to build something on ci in a way that is unlikely to be used in real life. afaik, it is usually linked dynamically on linux. build artifacts are not the purpose for which ci works. this is just a by-product that can be useful to someone. personally, i don't mind having it here if it doesn't cost us anything. but don't want too much from it.",0,0.5948217511177063
494499521,13288,Chocobo1,2020-09-24T17:44:56Z,"right, but the point is the current artifacts are only targeted to ubuntu users (and hardly useful to the point that i would prefer not uploading them). if we want something really useful and universal then the only way is static builds (uncommon but viable).",0,0.9432554244995117
494512800,13288,glassez,2020-09-24T18:08:10Z,"it's just a side effect of the fact that we use ubuntu here... what i'm really worried about is whether we'll miss build error by having a static linking here? well, that is, under some conditions, the static one is successful, but the dynamic one fails?",-1,0.9583601951599121
494515701,13288,Chocobo1,2020-09-24T18:13:21Z,it would be very unlikely under normal conditions although it still depends on the build script.,0,0.9554021954536438
1314166536,19542,glassez,2023-09-03T08:04:38Z,it is incorrect to use it here.,0,0.8406998515129089
1314174967,19542,glassez,2023-09-03T08:26:53Z,"etc. where it is `class(constructor, params)` and there is no ambiguity during compilation.",0,0.9946552515029907
1314176882,19542,glassez,2023-09-03T08:31:44Z,"also i would use more explicit variable names, e.g. `certpath` since it represents a path, not a certificate.",0,0.9937636256217957
1314177923,19542,glassez,2023-09-03T08:34:44Z,i would construct base path once and then reuse it: [code block],0,0.994668185710907
1316888285,19542,glassez,2023-09-06T07:57:42Z,i feel `peers` is redundant in all such names.,0,0.9262221455574036
1324359212,19542,glassez,2023-09-13T11:16:30Z,redundant empty line.,-1,0.7013556957244873
1324360221,19542,glassez,2023-09-13T11:17:24Z,cert file has no extension unlike other two files. is this done by intention?,0,0.9947086572647095
1324362056,19542,glassez,2023-09-13T11:19:17Z,why is `.dh` file handled differently? is it valid use case when torrent uses its own cert and key files but default `.dh`?,0,0.990598738193512
1324401166,19542,rcarpa,2023-09-13T11:57:37Z,"i didn't think much about it. i somehow just followed sub-conscientiously the fact of adding the suffix to the key file the same way haproxy does ([a link] do you think it's better to add a suffix? maybe having ` .cert.pem`, ` .key.pem` and ` .dh.pem` would be better for operating systems where the suffix actually matters. i'm too used working on linux.",0,0.9481239318847656
1324402382,19542,rcarpa,2023-09-13T11:58:49Z,"yes, the dh parameters aren't actually secret. it's not problematic at all to re-use the same parameters for all torrents. so having only one parameters file, but per-torrent cert/key is a valid use-case.",0,0.9891080856323242
1324412452,19542,rcarpa,2023-09-13T12:07:30Z,"i re-named most variables to remove ""peers"". except `sslpeerscertificatesdirectory`, where it seems correct to keep it.",0,0.9923357367515564
1324456011,19542,glassez,2023-09-13T12:43:52Z,"i don't think so. if `sslcertificatesdirectory` looks like it has too broad a meaning, then i would use `torrents` instead of `peers`. (after all, we are talking about per-torrent certificates, aren't we?)",0,0.9685875177383423
1324467943,19542,glassez,2023-09-13T12:53:14Z,i would just use `.crt` for certificate files without adding the same `.pem` extension for all the files.,0,0.9919791221618652
1324481142,19542,glassez,2023-09-13T13:03:19Z,"nevermind. i'm ok with your suggestion. iirc, `.pem` extension is often used for all such files.",1,0.6597325801849365
1324493717,19542,glassez,2023-09-13T13:11:07Z,why not save certificate files on the disk to be reused after restart?,0,0.9926377534866333
1324499500,19542,rcarpa,2023-09-13T13:15:27Z,this is actually a good idea,1,0.9936239719390869
1324921028,19542,rcarpa,2023-09-13T18:36:54Z,added the logic to save certificates on disk and to clean up when the torrent is removed from the session.,0,0.9951581358909607
1349938761,19542,glassez,2023-10-09T07:25:33Z,it would be nice to make sure that `sslport` is at least different from regular `port`.,0,0.9918718934059143
1350180401,19542,glassez,2023-10-09T11:27:32Z,i believe this check is redundant.,0,0.9248053431510925
1350183837,19542,glassez,2023-10-09T11:31:14Z,please place `sslcertificatesdirectory()` and `setsslcertificatesdirectory()` together.,0,0.9954684972763062
1350263623,19542,glassez,2023-10-09T12:47:37Z,what's wrong with default permissions?,0,0.8673759698867798
1350266320,19542,glassez,2023-10-09T12:50:00Z,i discourage creating such trivial wrappers in new contributions. just use `m_ui->spinsslport->value()` (etc.) in-place.,0,0.9612361788749695
1350267266,19542,glassez,2023-10-09T12:50:51Z,please prevent conflicts with regular port.,0,0.9884662628173828
1350270132,19542,glassez,2023-10-09T12:53:19Z,wouldn't the following work? [code block],0,0.9954392313957214
1350275038,19542,glassez,2023-10-09T12:57:46Z,"imo, the wrong type of error. everything is fine with the parameters. this is the very action that is not allowed, isn't it? on the other hand, why not allow it? ""ssl peers support"" can be enabled later.",-1,0.8798914551734924
1350277946,19542,glassez,2023-10-09T13:00:23Z,i wouldn't expect that it throws exception. just add the warning message to the log.,0,0.9668102860450745
1381629498,19542,rcarpa,2023-11-03T12:45:01Z,"it's best (security) practice to only allow the owner read the secret key. other than that, it's not necessarily needed.",0,0.9891015887260437
1382507715,19542,glassez,2023-11-05T05:07:34Z,"why is it here? shouldn't this be done after you've created the file? besides, it's there too... or did you intend to apply it to `basedir` here instead of `keypath`?",0,0.9910902976989746
1382508829,19542,glassez,2023-11-05T05:17:31Z,i would prefer it to be used written correctly as `ssl` in the public space: [code block],0,0.9935935139656067
1382528786,19542,Chocobo1,2023-11-05T09:17:27Z,do you meant: [code block] ?,0,0.9937392473220825
1382537972,19542,glassez,2023-11-05T09:20:26Z,i believe `p->message()` is irrelevant here.,0,0.9889339208602905
1382529379,19542,Chocobo1,2023-11-05T09:22:14Z,"for new code, `id` should use camel case: [code block]",0,0.9952037334442139
1382530021,19542,Chocobo1,2023-11-05T09:26:46Z,[code block] please change all `ssl` instances to `ssl`. i'm going omit mentioning this.,0,0.9953224062919617
1382530139,19542,Chocobo1,2023-11-05T09:27:29Z,camel case for variables: [code block] and apply it to other variables below too.,0,0.9936429262161255
1382554803,19542,Chocobo1,2023-11-05T11:13:52Z,"why would it be irrelevant? it might carry error message from os/libary, would it not?",0,0.9752964973449707
1382558154,19542,glassez,2023-11-05T11:36:48Z,"because it is not the reason of ""unable to set ssl certificates for torrent"". it is message from ""torrent_need_cert_alert"" so it should be about the fact that torrent needs ssl sertificate.",0,0.9893980026245117
1382559884,19542,Chocobo1,2023-11-05T11:47:55Z,"ok, ignore the `p->message()` part.",0,0.9936456680297852
1382915182,19542,rcarpa,2023-11-06T08:19:22Z,are you sure about this one ? it seems to go against the current convention in the html file.,0,0.9476335048675537
1382921037,19542,rcarpa,2023-11-06T08:24:52Z,"doing it, but you have other parts of code which work with ssl certificates which use the `.*ssl.*` naming convention.",0,0.990373969078064
1382926237,19542,rcarpa,2023-11-06T08:29:36Z,"would be good to update the code style document, as it's not clear enough about this point. i checked it on purpose when writing this code and i had the impression that `{}` are optional only for single-line `if` constructs (and are mandatory for loops). to confirm this, you asked me to change a a single-line `for` into the version with explicit brackets some time in the past :)",1,0.9687187075614929
1382927446,19542,rcarpa,2023-11-06T08:30:44Z,"yes, i intended to use basedir",0,0.9935616254806519
1382968063,19542,Chocobo1,2023-11-06T09:03:09Z,"sorry i brought conflicts. i'm under the impression that we (major qbt contributors) prefer to omit the brackets for single line statement's body, unless there is if-else. yeah the coding style doc is a bit unclear about it.",-1,0.9820550084114075
1382970638,19542,Chocobo1,2023-11-06T09:05:26Z,"yes. for now, new code (variables) should use camel case unless it is transmitted over the wire (for example the preference data).",0,0.9914711117744446
1382972628,19542,Chocobo1,2023-11-06T09:07:11Z,i suppose they should be renamed at a later time...,0,0.9862707853317261
1383038243,19542,glassez,2023-11-06T09:55:00Z,"coding guidelines say: when the conditional statement in if/else has only one line and its body occupy only one line, this also applies to loops statements. notice that for a series of if - else branches, if one branch needs braces then all branches must add braces. imo, this clearly describes cases where brackets can be omitted. this is not a requirement (just ""acceptable conditions"" to do it this way), although we prefer to do it where possible.",0,0.9891504645347595
1383243065,19542,Chocobo1,2023-11-06T12:17:26Z,"fwiw we had a similar situation with the webui certificate. a long time ago it was the same as this, importing the data directly. however later it became a problem when the certificates expired and users need to reload them. it was suggested that qbt should record the cert file paths instead. this way users can just replace the cert files and restart the webui for it to take effect. i suppose we should follow that lesson here. also the folder/file creation in `torrentimpl::setsslcertificate()` (and therefore `m_sslcertificatesdirectory` too) seems to be doing things unrelated to torrenting and i would like to somehow simplify it. for example, one would have guessed that `torrentimpl::setsslcertificate` might be reading cert files and passing the data to libtorrent instead of saving certs to disk.",0,0.9574824571609497
1383252029,19542,Chocobo1,2023-11-06T12:26:01Z,excuse me i wasn't following the latest development and discussions. imo for every torrent the cert paths would need be designated separately. and of course we can have some default paths for non-specified torrent and users can opt to use it if they want.,-1,0.5221158266067505
1383283864,19542,rcarpa,2023-11-06T12:53:04Z,i pushed the change to set certificates using their path. but i don't fully understand the suggestion about deporting the logic for creation of directories/certificates somewhere else. would it be better located in the m_session? on the last subject: is the configurable per-torrent certificate path something difficult to add later ? or is it desired in this initial implementation ?,0,0.9859247803688049
1383542398,19542,Chocobo1,2023-11-06T15:42:18Z,"just to be clear, i was suggesting that qbt don't handle the creation of directories/certificates. instead qbt will just take cert paths from user and pass it to libtorrent. the cert files will need to be placed on disk beforehand and this part is done manually by the user. also, regarding security, i suppose this is better since the certs aren't transmitted over the net and therefore we don't need top security for our web server/api implementation. not sure if you meant it is done. but i would expect more changes if that idea of ""pass cert path"" is accepted. i.e. the `setsslcertificateaction` will not accept cert data and only accept cert paths. (and rename it to `setsslcertificatepathaction`?) i don't think it will be too difficult: [code block] and i don't insist the ui side to be complete in this pr.",0,0.9618490934371948
1384015178,19542,rcarpa,2023-11-06T21:28:22Z,"i'm personally interested in the workflow where the actual certificate content is set via the api. it doesn't prevent us from implementing two separate actions: one for setting the certificates via path; the other using their content, but i would really like to see a variation of the current behavior implemented.",0,0.9438467621803284
1384022753,19542,rcarpa,2023-11-06T21:35:08Z,"also, note that the code snippet which you proposed : [code block] doesn't encounter for the fact that m_nativehandle doesn't preserve the configuration across restarts. so we'll need to persist the paths passed to this function on qbittorrent side. on restart, libtorrent raises the `handletorrentneedcertalert` alert and qbittorrent would have to call `m_nativehandle.set_ssl_certificate` again with the paths it took care of preserving accross restarts.",0,0.9931855201721191
1384346903,19542,glassez,2023-11-07T04:05:42Z,"as for setting certificates via paths, does it really make sense to make it more complicated than just limiting yourself to use pre-defined paths already implemented in this pr? i.e. ` / . `. otherwise it would require to implement the way of assigning/changing and storing such custom paths within torrent ""resume"" data.",0,0.9895356297492981
1390054257,19542,Chocobo1,2023-11-11T00:17:24Z,"excuse my late reply, was busy in weekdays. personally i don't like this way. it doesn't scale well if the certs are many and qbt will be responsible for storing/managing them. in an ideal world, the paths would be stored in torrent resume data (and able to be manipulated in ui/api) like glassez said. however i don't oppose a 'simpler' implementation like glassez [a link] for now.",-1,0.80881267786026
1390477068,19542,rcarpa,2023-11-12T20:30:37Z,i clearly miss-understand the scalability issue which worries you. can you please be more specific in the explanation of your concerns?,-1,0.6796014904975891
1411737575,19542,rcarpa,2023-12-01T07:55:03Z,", i allow myself to re-iterate my question from the previous message: what are the scalability concerns for the current solution ?",0,0.9832888245582581
1443656554,19542,Chocobo1,2024-01-06T07:55:35Z,sorry for (very) late reply. i intend get my hands on this pr in the near future. maybe i can clear things up when that time comes.,-1,0.99118971824646
1443657959,19542,glassez,2024-01-06T08:06:20Z,"i believe that we should imagine a typical scenario of its use, so that in the end it does not turn out that we get a very reliable, scalable, etc., but at the same time a unusable feature.",0,0.9654423594474792
1468551160,19542,Chocobo1,2024-01-27T18:40:42Z,"i have played with ssl torrents a bit and in the mean time, had a little discussion with other team members. i understand ssl torrents better than before. also i had a bit different idea/approach to support ssl torrents in qbt. i figure it would be easier for us that i submit my ideas in another pr for further discussions: #20338",1,0.7667974829673767
232111372,9824,Chocobo1,2018-11-09T00:41:51Z,"i guess you won't need `copyasconst()` here, also you could use [a link] to help verify.",0,0.9910418391227722
232111527,9824,Chocobo1,2018-11-09T00:42:44Z,and here,0,0.9837828278541565
232111937,9824,Chocobo1,2018-11-09T00:44:36Z,seems need to add `qasconst` for both loops.,0,0.9894481897354126
232112194,9824,Chocobo1,2018-11-09T00:45:53Z,seems no need here,0,0.9883132576942444
232112392,9824,Chocobo1,2018-11-09T00:47:06Z,or you can just remove all the newly added `copyasconst` and only add them back when clazy complains :p,1,0.9401201009750366
232113234,9824,Chocobo1,2018-11-09T00:52:01Z,"you should not replace the use of `torrents()` by `m_torrents`, those are different objects, or you should make another commit for it.",0,0.9939796924591064
232113688,9824,Chocobo1,2018-11-09T00:54:30Z,why remove the `&`?,0,0.983627438545227
232156962,9824,thalieht,2018-11-09T06:57:30Z,oops this was a copy paste mistake i'll revert these.,-1,0.9901195764541626
232156976,9824,thalieht,2018-11-09T06:57:33Z,warning: loop variable 'hash' has type 'const bittorrent::infohash &' but is initialized with type 'const qstring' resulting in a copy use non-reference type 'bittorrent::infohash' to keep the copy or type 'const qstring &' to prevent copying,0,0.9854879975318909
232162467,9824,Chocobo1,2018-11-09T07:36:02Z,"ok, do you mind rename `hash` -> `info` (or `infohash`)? i find the old name easily mixed up with the element type of the container, and the ones below.",0,0.9944057464599609
232164803,9824,thalieht,2018-11-09T07:50:15Z,certainly.,0,0.9672027230262756
232167296,9824,thalieht,2018-11-09T08:03:08Z,this is one of the 4 warnings clazy complains.,0,0.9424563646316528
232167468,9824,thalieht,2018-11-09T08:03:56Z,this too.,0,0.9919244647026062
232184311,9824,thalieht,2018-11-09T09:13:44Z,but these are `std::vector` containers and this guy says: [a link] what am i missing?,0,0.9880073070526123
232194292,9824,thalieht,2018-11-09T09:47:26Z,i did it in the coding style commit.,0,0.9917465448379517
232451334,9824,Chocobo1,2018-11-10T12:54:53Z,"i didn't realize they are not qt containers, so it's ok.",0,0.5369033813476562
232912780,9824,Chocobo1,2018-11-13T06:41:56Z,"adding & adds another indirection which is not necessary here, also you should switch `auto const` -> `const auto`",0,0.9944104552268982
232913416,9824,Chocobo1,2018-11-13T06:44:58Z,can it be `const autodownloadrule &rule`?,0,0.9951500296592712
232913890,9824,Chocobo1,2018-11-13T06:47:46Z,please try `const qlist &trackers`,0,0.9955724477767944
232914572,9824,Chocobo1,2018-11-13T06:51:29Z,`const auto &rule`?,0,0.9944266080856323
232914889,9824,Chocobo1,2018-11-13T06:53:22Z,please also change to `const bool b`,0,0.9959741234779358
232915583,9824,Chocobo1,2018-11-13T06:57:06Z,this should still be `qstring url`,0,0.995511531829834
232918799,9824,Chocobo1,2018-11-13T07:15:14Z,"i think this change will have problems (crash), better: [code block]",0,0.8104534149169922
232919585,9824,Chocobo1,2018-11-13T07:19:14Z,or [code block],0,0.9949644804000854
232921218,9824,Chocobo1,2018-11-13T07:27:25Z,"also i think you need to take extra caution for every foreach -> for replacement: especially when the body of `for` loop are removing things, preferably test them to make sure they don't crash.",0,0.9824838042259216
232946088,9824,thalieht,2018-11-13T09:00:32Z,i had a warning here: `warning: loop variable 'quote' of type 'const qchar' creates a copy from type 'const qchar' use reference type 'const qchar &' to prevent copying`,0,0.9934700727462769
232946145,9824,thalieht,2018-11-13T09:00:45Z,"no... 3 lines below for const: `error: 'this' argument to member function 'accepts' has type 'const rss::autodownloadrule', but function is not marked const` and 1 line below for reference: `error: binding value of type 'const rss::autodownloadrule' to reference to type 'rss::autodownloadrule' drops 'const' qualifier` i was wondering what's preferable here, keep the reference or use qasconst?",0,0.9831364750862122
232946208,9824,thalieht,2018-11-13T09:00:56Z,"i thought i had tried that but guess not, thanks it works.",1,0.9735032320022583
232946223,9824,thalieht,2018-11-13T09:00:59Z,ok,0,0.9233372807502747
232946244,9824,thalieht,2018-11-13T09:01:04Z,ok,0,0.9233372807502747
232946274,9824,thalieht,2018-11-13T09:01:09Z,"actually i have tested qasconst and what you said and it doesn't crash, also tested without any of them and naturally it crashed. if you still think i should do it i will.",0,0.9733226895332336
232946875,9824,thalieht,2018-11-13T09:02:55Z,never mind it crashed when doing it to multiple torrents.,0,0.7614940404891968
232955781,9824,thalieht,2018-11-13T09:27:58Z,"i looked at all loops in case they modified the container but i couldn't find any other, they are too many though and maybe i missed them.",0,0.9799177050590515
232972775,9824,thalieht,2018-11-13T10:12:19Z,i looked at all of them again and i only found this one. i'll make a copy of `m_sessions`.,0,0.9912857413291931
232973991,9824,Chocobo1,2018-11-13T10:15:42Z,"ok, just switch the order of ""auto"" & ""const"".",0,0.9935332536697388
232975247,9824,Chocobo1,2018-11-13T10:19:24Z,"i would avoid doing changes here, it is not legacy code.",0,0.9755280017852783
232982350,9824,thalieht,2018-11-13T10:38:37Z,"actually this line is more than 1.5 years old, before qasconst was introduced to qbt [a link] maybe can say if it should be changed.",0,0.9901829361915588
233041751,9824,thalieht,2018-11-13T13:44:29Z,"i found this too, `deletetorrent()` modifies m_torrents, i'll change `m_torrents` to `torrents()`",0,0.9943609833717346
234452425,9824,glassez,2018-11-18T16:45:21Z,this change is incorrect. actual m_rules items should be modified inside this loop.,0,0.9745061993598938
234507218,9824,glassez,2018-11-19T06:43:01Z,as for this change (and many other `copyasconst` usages): since `mid()` doesn't actually return shared copy of some container `detach()` will not do anything except checking for references count so it's more lightweight than copy constructor called from `copyasconst()`.,0,0.9910168647766113
234581211,9824,thalieht,2018-11-19T11:18:47Z,"i have no idea how you know what you said and consequently, how to spot the other copyasconst that aren't needed.",-1,0.8153164386749268
236045718,9824,glassez,2018-11-24T15:34:20Z,"as a rule, it obviously stems from the meaning of the function. e.g. `mid()` here creates new list containing some subset of elements of affected list. just try to examine the meaning of all other affected functions. if you're in doubt in a particular case, ask for my explanation. the problem of ""detach"" is greatly exaggerated. when we began to use range based for loop, we saw a warning that it can cause ""detach()"". and we blindly rushed to solve it, without going into details. but now it is obvious to me that in most cases this is not a problem at all. , don't you mind join this discussion?",0,0.9162959456443787
236048647,9824,thalieht,2018-11-24T17:35:28Z,"there are a few existing copyasconst that seem to return a new container e.g. [a link] [a link] and [a link] are they correct or do i remove them? there is a case that returns a container that is returned from another function, it should keep copyasconst right? [a link]",0,0.9935621023178101
236061134,9824,Chocobo1,2018-11-25T05:35:02Z,"if this isn't much work, it might be worth if we can make an non-exhaustive whitelist of situations (and put in coding guidelines) while reviewing this pr, specifying where `copyasconst()` can be omitted. for example: `mid()` function in qt types.",0,0.9853923916816711
236080496,9824,glassez,2018-11-25T16:41:51Z,"are they correct or do i remove them? it should be removed in all 3 cases above. no in case if first function returns no copy of existing object (as in your example). in general, i came to the conclusion that the methods that return a newly created container (a copy of a temporary object, to be exact) are the vast majority. i do not even come to mind the opposite case (at least in qt), it needs a good look. as for qbittorrent own code, the best solution would be to change the type of those few methods that return a shared copy of the class internal container so that they return a constant reference instead (e.g. [a link] and remove `copyasconst` at all so it did not tempt us. if we still encounter the affected method somewhere in the third-party code (or in qt), we can always store its value in a pre-declared constant and iterate over it.",0,0.9824703335762024
236083919,9824,thalieht,2018-11-25T18:06:59Z,i thought copyasconst was introduced to avoid that? [a link],0,0.9906670451164246
236084491,9824,glassez,2018-11-25T18:27:07Z,"yes, but we mistakenly thought that the problem was much bigger. it's not a problem to do so if it concerns isolated cases (at least for me). but if there are a lot of objections, you can keep `copyasconst` for that cases.",0,0.9717509746551514
236123260,9824,Chocobo1,2018-11-26T05:12:12Z,"now i suspect the [a link] returns. also ping , the same apply to your change at [a link]",0,0.9932020306587219
236129192,9824,glassez,2018-11-26T05:53:58Z,we shouldn't modify containers inside range based `for` loop! in such case we should either iterate over its copy or use another way.,0,0.9892838001251221
236135098,9824,Chocobo1,2018-11-26T06:34:31Z,"now i suspect ""return const reference for a few shared containers"" is not going the right way, it changes the whole semantics of the function... aren't we used to getting a new copy of container from qt functions? now we only get constant references, it is a big difference...",-1,0.8258442282676697
236136800,9824,glassez,2018-11-26T06:45:29Z,"damn. you're right. so what are we supposed to do? there are two main options: 1. apply `copyasconst()` in a ""paranoid way"" to all rvalues. 2. apply `copyasconst()` only to the rvalues that produces shared copy of inner containers (if this follows from the meaning of such method, because we should not get into its implementation).",-1,0.9893792271614075
236154622,9824,thalieht,2018-11-26T08:18:25Z,will delete this commit.,0,0.9894718527793884
236842964,9824,thalieht,2018-11-27T20:57:33Z,i'm not entirely sure what's going on here to be honest. is this still needed? also should i remove `#include `? it's included in qtglobal.,-1,0.7498145699501038
236910981,9824,Chocobo1,2018-11-28T01:25:45Z,"you only need to rename the functions, ~~nothing else, also the removal of qt_version condition check is incorrect.~~",0,0.9900643229484558
236979078,9824,glassez,2018-11-28T08:23:07Z,please remove also redundant blank line above.,0,0.9924280047416687
236979503,9824,glassez,2018-11-28T08:24:37Z,"it's better to say something like ""forward rvalue as const"". we don't really copy it.",0,0.9889801740646362
236980461,9824,glassez,2018-11-28T08:27:37Z,this comment has became incorrect now. we don't really prevent rvalues now. this deleted template actually prevents only arguments declared as `const container func(...)`.,0,0.9909077882766724
236980803,9824,glassez,2018-11-28T08:28:56Z,i would move this deleted template to the end.,0,0.990908682346344
237022494,9824,thalieht,2018-11-28T10:24:52Z,// prevent const rvalue references ~~arguments~~ ?,0,0.9929981231689453
237030840,9824,glassez,2018-11-28T10:47:40Z,"""prevent const rvalue arguments"" is more correct, iirc.",0,0.986208438873291
237041192,9824,thalieht,2018-11-28T11:18:51Z,done.,0,0.9897913336753845
237041272,9824,thalieht,2018-11-28T11:19:03Z,done.,0,0.9897913336753845
237041394,9824,thalieht,2018-11-28T11:19:28Z,done.,0,0.9897913336753845
237041478,9824,thalieht,2018-11-28T11:19:47Z,done.,0,0.9897913336753845
237052623,9824,glassez,2018-11-28T11:57:23Z,why did you remove reference?,0,0.9923436045646667
237161828,9824,glassez,2018-11-28T16:31:09Z,why didn't you apply `asconst()` to all `torrents()` calls?,0,0.9902316927909851
237174189,9824,thalieht,2018-11-28T16:59:10Z,clazy doesn't complain about possible detachment on them.,0,0.8381990194320679
237219956,9824,glassez,2018-11-28T19:05:00Z,but it really does! and it is real detachment in this case (unlike of `mid()` which clazy complains about). clazy gives too many false positives and incorrect results for us to blindly believe it.,0,0.7280649542808533
237222439,9824,thalieht,2018-11-28T19:12:17Z,oh no... there are other places i haven't added asconst. do i just add it everywhere then?,0,0.9879255294799805
237227956,9824,thalieht,2018-11-28T19:28:36Z,"i'll go through them again manually, the question is whether i should add asconst to the ones that don't need it.",0,0.9893049001693726
237228164,9824,glassez,2018-11-28T19:29:09Z,"i think yes, if you doubt it. , we came to this conclusion, right?",0,0.6978017091751099
237230726,9824,glassez,2018-11-28T19:36:32Z,if you can identify them for sure... adding asconst to the ones that don't need it is less evil than skipping the ones that are prone to the detaching problem.,0,0.9128625392913818
237238214,9824,thalieht,2018-11-28T19:55:30Z,"i can, as you said if the container is created in the function then it's not shared. but if the function changes, the for() loops will surely be forgotten.",0,0.990420401096344
237341924,9824,Chocobo1,2018-11-29T03:22:00Z,agree.,0,0.9849521517753601
775107664,15888,glassez,2021-12-25T04:59:45Z,just inline this logic into `uithememanager::uithememanager()` or turn it into class method that is called within the constructor and initializes `m_themesource` directly.,0,0.9944742321968079
775108000,15888,glassez,2021-12-25T05:05:08Z,i believe that adding couple of conditionals in existing code could be enough to add support for folder based themes instead of implementing these two classes which for the most part duplicate the same logic...,0,0.9857701063156128
775108464,15888,glassez,2021-12-25T05:11:55Z,"imo, it isn't a good idea to create yet another translation context for such ""internal"" classes. it would be better either translate the strings using `uithememanager` context (i.e. `uithememanager::tr(""some text"")`) or just indicate error to caller side (e.g. by returning some kind of `nonstd::expected`) and produce log messages there.",0,0.9771444201469421
775114392,15888,jagannatharjun,2021-12-25T06:53:25Z,"idk but someone has said ""program to interfaces, not implementation""",0,0.9912402033805847
775116989,15888,Chocobo1,2021-12-25T07:36:09Z,"use char array: `const char icons_dir[] = "":icons/"";`",0,0.9940831065177917
775117484,15888,glassez,2021-12-25T07:43:03Z,"this is actually a good thing and it makes the code easier to maintain and extensible. maybe you just need some things in their proper places (for example, move logging to a suitable place, as i mentioned earlier).",1,0.7987141013145447
775118032,15888,jagannatharjun,2021-12-25T07:51:20Z,make it a static method of `uithemesource`?,0,0.9952994585037231
775119374,15888,glassez,2021-12-25T08:11:14Z,make it `void uithememanager::createuithemesource()`.,0,0.9949808716773987
775119569,15888,jagannatharjun,2021-12-25T08:15:04Z,why add this in the interface of uithememanager? i wanted to keep uithemesource and uithememanager independent,0,0.9905422329902649
775120226,15888,glassez,2021-12-25T08:25:04Z,i don't talk about interface: [code block] or just keep it as is except error handling/logging. they're isn't independent. it's just that the dependency must be correct.,0,0.9849563241004944
775120681,15888,jagannatharjun,2021-12-25T08:32:07Z,"i've updated error handling, do check.",0,0.9945163130760193
775518306,15888,glassez,2021-12-27T14:21:52Z,[code block] `context` isn't really needed.,0,0.9924403429031372
775520991,15888,glassez,2021-12-27T14:29:22Z,"you shouldn't check this setting in two places of `uithememanager` initialization. and this is not some kind of general-purpose function, so that you can argue that the specific context of its use is unknown here. just create `uithemesource` here (in case it is called) and let the `uithememanager` to decide whether it should be created or not.",0,0.9928480386734009
775525417,15888,glassez,2021-12-27T14:40:46Z,"you should either create some kind of ""invalid"" `uithemesource` here (instead of returning `nullptr`) or handle the case when `m_themesource` is `nullptr` in `uithememanager` code.",0,0.9939648509025574
775528559,15888,glassez,2021-12-27T14:48:59Z,why are these constants declared here and not in the same place as the others?,0,0.9796639680862427
775531844,15888,jagannatharjun,2021-12-27T14:57:55Z,"they are not needed in the global scope, only to the concerned class.",0,0.9908946752548218
775567111,15888,glassez,2021-12-27T16:29:03Z,`stylesheet_icons_dir` too.,0,0.9941587448120117
775569562,15888,glassez,2021-12-27T16:36:53Z,i would throw away `qrc_icons_dir` (just use `qrc_theme_dir + theme_icons_dir` like in other similar cases) and make `qrc_theme_dir` global to avoid declaring the similar constant `stylesheet_icons_dir`.,0,0.9928852915763855
776320786,15888,jagannatharjun,2021-12-29T13:15:47Z,"stylesheet_icons_dir is global info, while qrc_* is local, also stylesheet_icons_dir and qrc_theme_dir should start with same pointer afaik",0,0.994429886341095
776388471,15888,glassez,2021-12-29T15:48:36Z,"`stylesheet_icons_dir` it does not point to the icon folder. rather, it is some placeholder that replaces the name of the theme folder.",0,0.9913109540939331
776388862,15888,glassez,2021-12-29T15:49:33Z,"sorry , i don't understand what do you mean...",-1,0.9947555065155029
776389791,15888,glassez,2021-12-29T15:51:47Z,"and yes, these constants should be static, if they are the same for each class instance.",0,0.993913471698761
776393944,15888,jagannatharjun,2021-12-29T16:01:31Z,"its icons dir used by stylesheet.qss. it's as the name suggests stylesheet icons dir or stylesheet resource dir. there will only be one instance of theme source, and this class is instantiated conditionally, making these variables static doesn't add much value but increases memory consumption (it won't be much but ....)",0,0.9457730650901794
776394019,15888,glassez,2021-12-29T16:01:40Z,add braces to `if` body.,0,0.9938588738441467
776394761,15888,jagannatharjun,2021-12-29T16:03:21Z,"`iconpath` will be called many times while other methods of the class where the string is dynamically created only called once, hence the separate variable for this specific method.",0,0.9909121990203857
776396032,15888,jagannatharjun,2021-12-29T16:06:25Z,i thought you guys love affair with qlatin1string ended with qt6.,1,0.895792543888092
776399234,15888,glassez,2021-12-29T16:14:04Z,stylesheet_icons_dir is confusing. maybe stylesheet_resources_dir would be better?..,-1,0.8760548233985901
776402020,15888,glassez,2021-12-29T16:20:28Z,"the class itself knows nothing about its usage. well, at least delete these comments so as not to confuse anyone.",0,0.9731632471084595
776402633,15888,glassez,2021-12-29T16:22:05Z,?,0,0.9296892285346985
776403682,15888,jagannatharjun,2021-12-29T16:24:25Z,"with the source code encoding being utf8, qlatin1string makes a lot less sense [a link]",0,0.9708894491195679
776460678,15888,glassez,2021-12-29T19:07:33Z,"really? it doesn't look like anything has changed much in qt6 since qt5. parsing of utf-8 strings is slower than one of so-called latin-1 strings (even if the utf-8 string actually contains only latin-1 characters, as in this case, the parser does not know about it, so it still has to check every character to understand what kind is it of). am i wrong?",-1,0.8603811860084534
776462309,15888,glassez,2021-12-29T19:13:20Z,so how about null m_themesource?,0,0.9929866194725037
776611011,15888,jagannatharjun,2021-12-30T08:04:06Z,hmm i guess it's a little performance improvement in non-performance-critical code vs obscure casting everywhere,0,0.9287496209144592
777023677,15888,glassez,2021-12-31T15:33:17Z,moreover comparison with qlatin1string doesn't even produces qstring instance from it.,0,0.9884657859802246
777087236,15888,Chocobo1,2022-01-01T06:42:17Z,i would sort them alphabetically.,0,0.9767395853996277
777087318,15888,Chocobo1,2022-01-01T06:44:51Z,why ditch `qstring`? seems you still use it everywhere.,0,0.9740856885910034
777087405,15888,Chocobo1,2022-01-01T06:46:02Z,are you going to use `stylesheet_resources_dir`?,0,0.9955803751945496
777087473,15888,Chocobo1,2022-01-01T06:47:08Z,those looks like they are `const` functions.,0,0.9908355474472046
777087499,15888,Chocobo1,2022-01-01T06:47:33Z,`theme_icons_dir`?,0,0.9944303631782532
777087512,15888,Chocobo1,2022-01-01T06:48:28Z,also i would leave the slash out and add it only when forming a path. otherwise (in general) the code base ends up with uncertainty of the slash existence.,0,0.9923615455627441
777087646,15888,Chocobo1,2022-01-01T06:51:05Z,`return {};`,0,0.9836598634719849
777089065,15888,glassez,2022-01-01T07:19:20Z,"`return nullptr;` looks clearer, imo.",0,0.9729487895965576
777089322,15888,jagannatharjun,2022-01-01T07:24:44Z,"slash is used everywhere, i imagined these variables such that *dir will end with a slash.",0,0.9918180704116821
777089371,15888,jagannatharjun,2022-01-01T07:25:45Z,there was clazy warning of using non-pod types as global objects.,0,0.9740145802497864
777089417,15888,jagannatharjun,2022-01-01T07:26:15Z,they are logically different.,0,0.9169008731842041
777089435,15888,jagannatharjun,2022-01-01T07:26:47Z,i like to leave these choices to derived classes.,0,0.9855960607528687
777089469,15888,glassez,2022-01-01T07:27:23Z,this problem will go into oblivion as soon as i finish encapsulating path handling.,0,0.9692355990409851
777089854,15888,glassez,2022-01-01T07:35:19Z,what choices do you talk about?,0,0.980136513710022
777089970,15888,glassez,2022-01-01T07:38:10Z,these methods are clearly not mutators so they should be declared as `const`.,0,0.9933357238769531
777090231,15888,glassez,2022-01-01T07:42:08Z,it seems like it would be nice to have explanations of what each constant refers to.,0,0.9735233187675476
777090312,15888,glassez,2022-01-01T07:44:51Z,damn clazy is infuriating with its moralizing.,-1,0.9946404099464417
777092541,15888,jagannatharjun,2022-01-01T08:27:49Z,"we don't know the working of derived classes, it may happen this will force derive classes to use `mutable variables` that will break constness contract what if they are caching the returned value?",0,0.9859886169433594
777093029,15888,glassez,2022-01-01T08:36:48Z,caching isn't mutating.,0,0.9768623113632202
777093076,15888,jagannatharjun,2022-01-01T08:38:19Z,well you're changing a internal variable (state) in a const method.,0,0.986957848072052
777093231,15888,glassez,2022-01-01T08:40:15Z,you clearly misunderstand what is the state of the object. not every internal variable is part of an object's state.,0,0.6617820858955383
777093473,15888,jagannatharjun,2022-01-01T08:43:41Z,one can't use qreadwritelock with such a code structure.,0,0.9647938013076782
777093804,15888,glassez,2022-01-01T08:50:48Z,[a link] it isn't part of object state.,0,0.9921649694442749
777095177,15888,jagannatharjun,2022-01-01T09:14:39Z,"but you're still changing a variable in a const method, wouldn't that violate the constness contract?",0,0.9718573093414307
777096328,15888,glassez,2022-01-01T09:34:45Z,constness is about externally visible state of object. see a (quick) explanation of `mutable` specifier at cppreference.com: [a link],0,0.994140088558197
777097066,15888,jagannatharjun,2022-01-01T09:48:17Z,"but why mark a method const, if it's not *really* a const? what's the benefit? users of the class can't use qreadwritelock with such a class.",0,0.9658001661300659
777097834,15888,jagannatharjun,2022-01-01T10:02:17Z,"mutable is workaround the constness contract, using it in itself violates the constness contract",0,0.9870598316192627
777097934,15888,glassez,2022-01-01T10:03:58Z,it's really a const. it's just that you still don't understand what constness is. they can. i even gave you an example of a similar class above.,0,0.9793604612350464
777098515,15888,glassez,2022-01-01T10:12:45Z,`mutable` isn't workaround as long as it is correctly used (i.e. class is correctly designed).,0,0.9906496405601501
777098681,15888,jagannatharjun,2022-01-01T10:16:03Z,can you please tell me what i don't understand? by implementing a mechanism of locking to manually preserve constness. why give this extra work to classes that derive from an interface? the fewer assumptions in an interface the better.,0,0.9266908764839172
777099087,15888,glassez,2022-01-01T10:23:34Z,because interface and implementation are different things. interface shouldn't make any assumptions about particular implementations.,0,0.9823017120361328
777099189,15888,jagannatharjun,2022-01-01T10:25:00Z,this thread is about marking method const in an interface.,0,0.992116391658783
777100525,15888,jagannatharjun,2022-01-01T10:47:43Z,"afaik there is a `qstring::operator =(const char*)`, so it shouldn't create a qstring in this case either.",0,0.9895058274269104
777106965,15888,Chocobo1,2022-01-01T12:42:24Z,then add the `const` at the implementation site if that is possible.,0,0.9954574108123779
777106982,15888,Chocobo1,2022-01-01T12:42:49Z,you should still use `qstring` here.,0,0.9942066669464111
777107396,15888,jagannatharjun,2022-01-01T12:50:14Z,"i don't think that's possible, regardless all member variables of all derived classes are const.",0,0.9761625528335571
777107851,15888,Chocobo1,2022-01-01T12:58:16Z,"from [a link] : if your interface does not have `const`, then the implementation is free to make changes to the *observable state*. that is, you permit that may happen, is that how an implementation of this interface really should behave?",0,0.9936841130256653
777113659,15888,glassez,2022-01-01T14:36:43Z,"this is not quite correct. but it seems that you often stick to it, so we have disagreements. it should be stated as follows: the problem is that it is often unclear what is the observable state of some types. for example, for types representing some value (e.g. qstring), this is quite obvious. but what is real state of uithemesource? imo, it has no own properties so its observable state is immutable at all.",0,0.8463966250419617
777113975,15888,glassez,2022-01-01T14:41:29Z,i suppose you mean `bool operator==(const char *other) const`. you could read the documentation: so it allocates memory for `other` qstring data and perform utf-8 to utf-16 conversion while `bool operator==(const qlatin1string &other) const` doesn't.,0,0.9915035963058472
777116233,15888,Chocobo1,2022-01-01T15:17:51Z,"just to be clear, almost every specifier in c++ is about intention. that quote is from the guidelines, not from me and ~~you should consider submit a reword for it (to help others to not be misguided).~~ well, after reread at the title of it, i suppose the guidelines means that it is easier (to write better code?) to assume a member function is `const` and relax it afterwards than doing it the other way around. this is not entirely correct (with regard to coder intention) but in most cases i think it does have its own merits. that make sense and i think it concludes it all.",0,0.7824645042419434
777122268,15888,glassez,2022-01-01T16:50:54Z,"from the clazy docs: it's tolerated to have global statics in executables, however, clazy doesn't know if it's compiling an executable or a library, so it's your job to run this check only on libraries. it doesn't harm, though, to also remove global statics from executables, because they're usually evil. so the only ""valuable"" cons for using global qstring constants in qbittorrent is ""because they're usually evil"". should we really consider another way? or is there a way to disable this particular clazy warning project-wide?",0,0.9353477358818054
777123186,15888,glassez,2022-01-01T17:04:56Z,"this is clearly not the way to write better code, imo. at least it won't teach you to design types/interfaces correctly. unfortunately c++ is ""implementation-oriented"" language. it doesn't make clear distinction between types/interfaces and their implementations.",-1,0.9340724945068359
777179526,15888,jagannatharjun,2022-01-02T08:18:35Z,"i am not experienced enough to comment about objects states and relations. my argument is simple, marking a method const signals to users that the method is thread-safe and can be used without external locking. the problem with marking a method const in an interface is that it makes assumptions about the implementation but i've learned that the fewer assumptions in an interface the better.",0,0.8909342288970947
777184747,15888,Chocobo1,2022-01-02T09:13:10Z,"i think this would help you understand it better: [a link] please read it before further discussions. offtopic, compared to ""c++ core guidelines"", ""c++ super-faq"" looks better written. --- furthermore, now i think `qrcthemesource` and the other one should read-in the file contents at the constructor instead of at access time. i feel it that way is probably because of the naming of the functions. if you want it read-in at access time, then i suggest renaming them to something like `readstylesheet()` or `loadstylesheet()` so it would reflect its true action.",1,0.5199028253555298
777189182,15888,glassez,2022-01-02T09:56:05Z,it has nothing to do with thread safety. you shouldn't make any assumptions about implementation. constness of methods is part of type interface. e.g. `human::name()` is intended to not change `human` state independently from any particular `human` implementation. and `human::setname()` is intended to change `human` state independently from any particular `human` implementation. so `human::setname()` should be non-const even if implementation stores data in external database and does not change any class variable when changing the name. but `human::name()` should be const even if implementation obtains the value from some external storage and cache it in class variable.,0,0.9834007620811462
777195673,15888,jagannatharjun,2022-01-02T11:03:02Z,changed,0,0.7968646287918091
777201461,15888,Chocobo1,2022-01-02T12:00:47Z,"i don't think ""f.e"" is a valid abbreviation, just write out the full word.",0,0.9786065816879272
777201681,15888,Chocobo1,2022-01-02T12:02:09Z,sorry i wasn't specific enough in the last discussion. now the `read*` functions shouldn't be `const`. such as `qiodevice::readall()` isn't `const`. i/o operations is seldom `const` qualified. `iconpath(...) const` is ok.,-1,0.9664825201034546
777204994,15888,jagannatharjun,2022-01-02T12:33:19Z,i think it is but whatever,0,0.9694474935531616
777205046,15888,jagannatharjun,2022-01-02T12:33:52Z,well `read*` shouldn't modify logical state since it's an verb but whatever,0,0.9804826974868774
777210647,15888,glassez,2022-01-02T13:26:11Z,"perhaps simply because they change something like cursor, the position of which may be part of the qiodevice state. anyway, i don't want to delay it any longer. these are purely utilitarian classes used in a single place. in addition, the real ""state"" of uithemesource isn't so clear. although i am still convinced that none of its methods are intended to change its state and any of them would look correctly applicable to constant object.",0,0.9692916870117188
220267117,9600,sledgehammer999,2018-09-25T16:37:16Z,"need space beetwen the 2 parameter eg `m_averager6hour(divider6hour, m_data6hour)`",0,0.994403600692749
220267271,9600,sledgehammer999,2018-09-25T16:37:43Z,space again,0,0.9837818145751953
220267556,9600,sledgehammer999,2018-09-25T16:38:39Z,space,0,0.7991176247596741
220268055,9600,sledgehammer999,2018-09-25T16:40:09Z,multiline and i think the last semicolon is superfluous,0,0.9839313626289368
220268485,9600,sledgehammer999,2018-09-25T16:41:36Z,better do the class implementation in the `speedplotview.cpp` file and leave the class definition here.,0,0.9932154417037964
220269615,9600,sledgehammer999,2018-09-25T16:45:07Z,as i see this is only used in push() where it is copied into a circular_buffer and then reset. why don't you just create it as local variable at the start of the push() function? it will also eliminate the need of the hacky implementation of the reset() function.,0,0.9681755304336548
220269673,9600,sledgehammer999,2018-09-25T16:45:19Z,space,0,0.7991176247596741
220283402,9600,dzmat,2018-09-25T17:26:38Z,acc saves accumulated (summarized) data between sequential calls of push(). and only once in `divider` times there happens flushing of accumulated data into sink and zeroing.,0,0.9814971685409546
220290793,9600,sledgehammer999,2018-09-25T17:47:24Z,"oops. sorry, i misread it. once you address the other comments, i'll see it again.",-1,0.9933657050132751
220290951,9600,dzmat,2018-09-25T17:47:49Z,fixed,0,0.920660674571991
220291033,9600,dzmat,2018-09-25T17:48:02Z,fixed,0,0.920660674571991
220291220,9600,dzmat,2018-09-25T17:48:35Z,fixed,0,0.920660674571991
220291312,9600,dzmat,2018-09-25T17:48:52Z,fixed,0,0.920660674571991
220291518,9600,dzmat,2018-09-25T17:49:32Z,done,0,0.8682363629341125
220291814,9600,dzmat,2018-09-25T17:50:26Z,fixed,0,0.920660674571991
220301798,9600,sledgehammer999,2018-09-25T18:19:12Z,i think you could do `acc = {};` instead and drop reset(). but wait for others to confirm.,0,0.991184651851654
220301848,9600,sledgehammer999,2018-09-25T18:19:22Z,blank line,0,0.9861246347427368
220302258,9600,sledgehammer999,2018-09-25T18:20:42Z,we name the private variables with the `m_` prefix. ([a link],0,0.9957429766654968
220306562,9600,dzmat,2018-09-25T18:33:51Z,fixed,0,0.920660674571991
220306584,9600,dzmat,2018-09-25T18:33:55Z,fixed,0,0.920660674571991
223043642,9600,glassez,2018-10-05T15:16:11Z,we don't concatenate member declarations. please put them separately.,0,0.9879060983657837
223048967,9600,glassez,2018-10-05T15:30:34Z,doesn't seem like it's really useful. doesn't `pointdatavar = {};` work? anyway we forbid method definitions in headers.,-1,0.5463305115699768
223051316,9600,glassez,2018-10-05T15:37:21Z,why are these two declared as public static class members? they're used only in constructor implementation. please either declare them in .cpp or (even better) use their right hand expressions directly. the constants above seem like private too.,0,0.9867532253265381
223052277,9600,glassez,2018-10-05T15:40:06Z,"declare it private. it's bad practice to have public class variables. although, it seems like pure private member. you don't need to directly access it outside the class implementation. better add some meaningful method, e.g. `done()` or `hasresult()` defined as `return (m_counter == 0);`",0,0.8595068454742432
223057228,9600,glassez,2018-10-05T15:54:47Z,"we prefer not to use abbreviations (unless it's common abbreviation like ""id"" or something very trivial like iterator variable, loop counter etc.). so please fix all such names.",0,0.9876850843429565
223064775,9600,glassez,2018-10-05T16:21:38Z,inline is meaningless here. please remove it.,0,0.8123498558998108
223070202,9600,glassez,2018-10-05T16:40:51Z,it should be const (or template parameter).,0,0.99293053150177
223171205,9600,dzmat,2018-10-06T04:24:51Z,done,0,0.8682363629341125
223172257,9600,dzmat,2018-10-06T05:15:06Z,removed,0,0.9591778516769409
223172352,9600,dzmat,2018-10-06T05:21:06Z,names fixed. member hided.,0,0.9910839796066284
223172460,9600,dzmat,2018-10-06T05:27:16Z,const applied,0,0.9896998405456543
223173034,9600,dzmat,2018-10-06T06:03:49Z,"looks like `pointdatavar = {};` do the thing. but is it guaranteed by standard zero init or just my gcc compiler's nice behavior? quick googling didn't help me to point this out. anyway, as it is the second complain abour `reset()`, i removed it.",0,0.9829201102256775
223174041,9600,glassez,2018-10-06T07:02:32Z,divider_30min divider_6hour,0,0.9843595623970032
223174215,9600,glassez,2018-10-06T07:04:33Z,why do you cast int to int?,0,0.9933764338493347
223174309,9600,glassez,2018-10-06T07:05:58Z,"remove inline, as i said before.",0,0.9932894110679626
223174322,9600,glassez,2018-10-06T07:06:39Z,`const pointdata &pointdata`,0,0.9940714240074158
223174372,9600,glassez,2018-10-06T07:09:50Z,don't forget to split method definitions with blank line.,0,0.9922685027122498
223174558,9600,glassez,2018-10-06T07:19:43Z,please don't use `inline` at all. we prefer to trust the compiler to decide what should be inlined.,0,0.9851502776145935
223174855,9600,glassez,2018-10-06T07:34:46Z,add blank line above.,0,0.9924995303153992
223174877,9600,glassez,2018-10-06T07:35:57Z,i would move it below m_sink.,0,0.990616500377655
223175231,9600,Chocobo1,2018-10-06T07:53:06Z,"standard, fyi: [a link] notice the `struct t1` in example.",0,0.9911953210830688
223175653,9600,dzmat,2018-10-06T08:08:39Z,the cast is just leftover from times when *_buf_size were enum parts. removed.,0,0.9939858913421631
223175868,9600,glassez,2018-10-06T08:13:34Z,"it was meaningless even at that time, because enum declares constants of type int.",0,0.9774777889251709
223175926,9600,dzmat,2018-10-06T08:16:35Z,"enum divide on enum gave me compiler warning. or error. anyway, i can not reproduce it in new place, so removed cast from enum too.",0,0.9854194521903992
223176158,9600,dzmat,2018-10-06T08:26:30Z,fixed,0,0.920660674571991
223176184,9600,dzmat,2018-10-06T08:27:57Z,fixed,0,0.920660674571991
223176462,9600,dzmat,2018-10-06T08:45:23Z,"for me there is no difference, so i moved it there. but i'm curios what a difference it makes for you?",0,0.9636406898498535
223176664,9600,glassez,2018-10-06T08:55:10Z,"just to have some logical order: immutable fields (so-called ""instance parameters"") goes first and then other fields.",0,0.9931822419166565
223177426,9600,glassez,2018-10-06T09:35:09Z,"honestly, i don't understand why it was done in such an ""archaic"" way... not your issue.",-1,0.7854592800140381
223177705,9600,glassez,2018-10-06T09:49:32Z,it should be `bool isready() const;`,0,0.995341420173645
223177968,9600,glassez,2018-10-06T10:01:36Z,i wonder if `constexpr int` will be more effective in all these cases?,0,0.9602809548377991
223178342,9600,dzmat,2018-10-06T10:25:35Z,can not imagine use case for const averager object. fixed anyway by formal reason.,0,0.9665178060531616
223178437,9600,Chocobo1,2018-10-06T10:30:44Z,"i guess it won't change a bit in output assembly, also personally i would reserve `constexpr` for more exotic usages.",0,0.9802581071853638
223178444,9600,Chocobo1,2018-10-06T10:31:18Z,just `m_accumulator {}`?,0,0.9941370487213135
223178448,9600,dzmat,2018-10-06T10:31:38Z,"no, it would not. it is already compile-time calculated value. constexpr just makes wider the domain of expressions able to be compile time calculated, not increases performance.",0,0.989562451839447
223178479,9600,Chocobo1,2018-10-06T10:33:22Z,maybe it is better to add `pointdata::operator+=()`,0,0.9892951846122742
223178484,9600,Chocobo1,2018-10-06T10:33:47Z,also there is possible integer overflow here.,0,0.9896088242530823
223178557,9600,dzmat,2018-10-06T10:37:58Z,fixed. also uncrustify does not try to break this now. nice!,1,0.9942678213119507
223178824,9600,dzmat,2018-10-06T10:50:14Z,i think it not better. because this new method: 1. will be used only in 1 place; 2. too simple to hide something and make programmers' live easier; 3. adds function call overhead.,0,0.6866893172264099
223178938,9600,Chocobo1,2018-10-06T10:56:15Z,how about moving `m_data30min` into `m_averager30min`? this would simplify the objects relations.,0,0.9926848411560059
223179017,9600,Chocobo1,2018-10-06T10:59:43Z,add space: `m_accumulator {}`,0,0.9936959147453308
223179062,9600,Chocobo1,2018-10-06T11:02:42Z,i would write: [code block]`,0,0.9923779964447021
223179116,9600,Chocobo1,2018-10-06T11:05:52Z,offtopic: could you change the argement to const reference? and also to speedplotview::setviewablelastpoints() please.,0,0.9936315417289734
223179147,9600,dzmat,2018-10-06T11:07:07Z,old code was vulnerable to overflow too. as soon as download speeds get to 29826161 byte/s (30mbyte/s approximately) here (in new code) will be overflow. definitely it is time to do something. i think the best way is to change type of `pointdata.y` to double.,0,0.845064103603363
223179222,9600,Chocobo1,2018-10-06T11:10:34Z,why a floating point type? what about qint64 or quint64?,0,0.9901179671287537
223179283,9600,Chocobo1,2018-10-06T11:12:47Z,"also afaik the overflow only occurs at the accumulator, maybe just use quint64 for its type, for both `x`, `y` member.",0,0.9923884272575378
223179518,9600,dzmat,2018-10-06T11:20:14Z,"plot drawing code is accessing storage in m_data*** directly. averager class is averaging, not storing. for me this move will make things more complicated on drawing part. some storage will become accessible through proxy, other directly.",0,0.9746869206428528
223179530,9600,dzmat,2018-10-06T11:20:47Z,done,0,0.8682363629341125
223179653,9600,dzmat,2018-10-06T11:26:50Z,done,0,0.8682363629341125
223179673,9600,Chocobo1,2018-10-06T11:27:55Z,"hmm, maybe it is just me that didn't expect to see such complications for such simple thing...",0,0.5311034917831421
223179744,9600,glassez,2018-10-06T11:32:00Z,"switch from int to double is really bad idea for ""increase performance"" patch.",-1,0.990359902381897
223179915,9600,glassez,2018-10-06T11:39:37Z,"current design is acceptable for me. it can be changed, but it will require more changes than you think. so let it be as is.",0,0.9615552425384521
223181889,9600,dzmat,2018-10-06T13:04:15Z,"`speedplotview::pushpoint` changed. did not understand what did you mean to do with `speedplotview::setviewablelastpoints()` ? this method's argument type is enum, there is no profit in converting it to reference",0,0.9925695061683655
223182809,9600,Chocobo1,2018-10-06T13:52:34Z,"pardon, misread.",-1,0.8358860611915588
223182853,9600,Chocobo1,2018-10-06T13:53:50Z,looks like this extra `;` is failing lgtm check,0,0.9835560321807861
223183074,9600,dzmat,2018-10-06T14:01:38Z,deleted,0,0.8444666862487793
223183467,9600,dzmat,2018-10-06T14:17:39Z,"i have seen posts on net that some people already have 10gbit/s connection on their premise. so not only the accumulator needs to be enlarged, but data storage too. the choice is of two options: double or qint64. modern processors are pretty fast with float arithmetic, thanks to billions of transistors on a dye. so i will do measurements and then choose. please, wait.",0,0.7922585010528564
223184857,9600,dzmat,2018-10-06T15:05:28Z,"hmm. it look a bit surprising, but double wins! after filtering out excesses due background processes, i got such results: with double - 8282 ticks. with qint64 - 8744 ticks. for measuring code look into corresponding commit.",1,0.9059136509895325
223185209,9600,dzmat,2018-10-06T15:18:50Z,i compile to 32bit app.,0,0.9934681057929993
223186867,9600,glassez,2018-10-06T16:20:07Z,"64 bit application should calculate 64 bit integers more efficient, isn't it?",0,0.9900306463241577
223188374,9600,dzmat,2018-10-06T17:24:34Z,"i think so, but currently i have no 64bit build setup at hand. tomorrow i will try to install 64bit linux into a virtual machine and build in it.",0,0.9789482951164246
223200166,9600,glassez,2018-10-07T04:06:37Z,", you can compare int vs int64 using 32bit app.",0,0.9928271174430847
223218636,9600,dzmat,2018-10-07T16:01:52Z,finally managed to build 64bit version and make tests. double on 64bit use 5223 ticks. qint64 on 64bit use 6353 ticks. double wins here too for my surprise.,1,0.8771764636039734
223220194,9600,dzmat,2018-10-07T16:48:24Z,made [a link] with measure code if somebody wants to play with it. removed code from here.,0,0.9943729639053345
223221128,9600,Chocobo1,2018-10-07T17:19:53Z,"qbt also runs on other platforms: embedded systems, arm, mips... it is always a good idea to avoid floating-point types if not really required.",0,0.9846621751785278
223221707,9600,glassez,2018-10-07T17:40:24Z,"using a floating point type for integer data (inherently) is suspicious to me. even if your measurements show some gain in speed (in some particular cases), you clearly do not take into account other possible disadvantages.",-1,0.6510013937950134
223343618,9600,dzmat,2018-10-08T12:23:12Z,"your counter argument about arm/mips looks solid enough. but is there arm/mips computers powerful enough to run qt5 gui on a gui-enabled os and in the same time having such a bad fpu abilities? afaik embedded systems usually run qbittorrent-nox. if this code is a part of qbittorrent-nox than we should consider to exclude it from there totally imho, not polishing float/int issues.. i agree with suspicions about float/integer data type exchange, but from my point of view this speed samples are more float than integer in their nature. they are calculated from difference of transferred data counter in subsequent time sampling points. this data counter is integer in nature and seems to provide exactly accurate readings with all bits full precision. and subtraction between two subsequent counter values inherits this exact precision. then we divide this by hardcoded ""precise"" interval of 1 second and think that we get all bits precise speed value. but we didn't get it. the culprit is in a multiprocessing and random execution delays of regular timer event due to the multiprocessing. exactly, real time interval between two shot of 1000msec qtimer can actually be from 970 to 1030 msec (+/-30msec deviation and even more on loaded system). so **time part** of `(x1-x0)/t` formula is actually ""non-precise"" constant value and brings a relative error of 3% on the input to formula, causing 3% of relative error of result of formula. and now there is no reason to store all the bits of this **approximate** +/-3% speed value. i would even prefer float32 type, which have enough precision and range and consumes less memory, creating less concurrence for l1/l2 precious cache memory.",0,0.8353078961372375
223354467,9600,Chocobo1,2018-10-08T13:01:57Z,"slowing going offtopic :\ i cannot say for sure, however a bad fpu is still a fpu, still usable, just not as fast as general-purpose registers. and remember there are arms that runs win10. back to the topic. i would adopt this algorithm instead: [a link] and use `quint64` for input & output, also change to integer division, will lose a bit precision but it is fine imo.",-1,0.9945448637008667
223362737,9600,dzmat,2018-10-08T13:28:05Z,very nice algorithm! 3 operations per iteration but elided overflow without using extended range types. well i'll go to quint64 just to stop discussion and make this pr accepted.,1,0.9941576719284058
223373404,9600,dzmat,2018-10-08T13:58:52Z,i don't take this algorithm because is is an overkill. for us the quint64 type is enough.,0,0.8828911781311035
223415179,9600,Chocobo1,2018-10-08T15:54:28Z,"ok, then at least put a comment documenting the possible overflow and why quint64 is enough.",0,0.9918996095657349
223451337,9600,Chocobo1,2018-10-08T18:03:46Z,please fix typos: maximim -> maximum we hit overflow -> we get overflow pbytes/s this -> pbytes/s. this still -> \ ordinal -> ordinary,0,0.9832178354263306
223546982,9600,dzmat,2018-10-09T02:43:44Z,"fixed,thx.",0,0.9667997360229492
112806361,3235,glassez,2017-04-22T09:36:23Z,preferences is deprecated now.,0,0.9372573494911194
112809505,3235,Chocobo1,2017-04-22T13:12:04Z,"this whole pr is outdated, i'm not even sure if would approve this...",-1,0.9574342370033264
132817477,3235,sledgehammer999,2017-08-12T12:55:03Z,i think most existing installations are working today with `prefer_tcp`. so i would say the default here should be `false`.,0,0.9903687834739685
132817512,3235,sledgehammer999,2017-08-12T12:56:57Z,also the name should be `utpmixedmode`,0,0.9959115982055664
132817623,3235,sledgehammer999,2017-08-12T13:02:42Z,space before return,0,0.9889813661575317
132817644,3235,sledgehammer999,2017-08-12T13:03:45Z,do you really need the blank lines before the comments?,0,0.988493025302887
132817691,3235,sledgehammer999,2017-08-12T13:06:30Z,`seed_choking_algorithm` is being set in the session constructor so you need to remove it from there too.,0,0.9947472214698792
132817777,3235,sledgehammer999,2017-08-12T13:12:29Z,`kib`. also shouldn't it be non-translatable?,0,0.9916391968727112
132818135,3235,Chocobo1,2017-08-12T13:35:44Z,"ok do you think we should also turn utp off by default? otherwise, with utp on + prefer_tcp, utp would be useless in theory.",0,0.9897178411483765
132818150,3235,Chocobo1,2017-08-12T13:36:08Z,"ok, thanks!",1,0.9544865489006042
132818160,3235,Chocobo1,2017-08-12T13:36:38Z,"fixed here, will push update later",0,0.9935973882675171
132818164,3235,Chocobo1,2017-08-12T13:36:53Z,will remove it.,0,0.9905731081962585
132818188,3235,Chocobo1,2017-08-12T13:38:33Z,"fixed, will also fix other locations.",0,0.9937660694122314
133000069,3235,glassez,2017-08-14T16:44:25Z,why this string isn't translatable?,0,0.9705815315246582
133031289,3235,glassez,2017-08-14T18:52:06Z,i would add blank line before this one like in another setters.,0,0.9917364716529846
133032047,3235,glassez,2017-08-14T18:54:59Z,why do you provide originally enumerable setting as bool? the same question is about mixed mode algorithm.,0,0.9905175566673279
133032626,3235,glassez,2017-08-14T18:57:04Z,please use naming convention for bool properties: isguidedreadcacheused or isguidedreadcacheenabled. the same comment is for other bool properties.,0,0.9945560693740845
133055821,3235,glassez,2017-08-14T20:42:10Z,"finding good names for the getter and setter of a bool property is always a special pain. should the getter be called checked() or ischecked()? scrollbarsenabled() or arescrollbarenabled()? ischecked() isdown() isempty() ismovingenabled() however, adjectives applying to a plural noun have no prefix: scrollbarsenabled(), not arescrollbarsenabled() verbs have no prefix and don't use the third person (-s): acceptdrops(), not acceptsdrops() allcolumnsshowfocus() nouns generally have no prefix: autocompletion(), not isautocompletion() boundarychecking() sometimes, having no prefix is misleading, in which case we prefix with is-: isopenglavailable(), not opengl() isdialog(), not dialog() (from a function called dialog(), we would normally expect that it returns a qdialog.) the name of the setter is derived from that of the getter by removing any is prefix and putting a set at the front of the name; for example, setdown() and setscrollbarsenabled(). the name of the property is the same as the getter, but without the is prefix. so `useoscache` kind of makes sense. even `guidedreadcache` can be used as bool property name.",-1,0.9526090025901794
133056930,3235,glassez,2017-08-14T20:46:36Z,", why?",0,0.6805352568626404
133063020,3235,sledgehammer999,2017-08-14T21:12:55Z,it was a question. is it reasonable to have translatable units?,0,0.989437460899353
133067735,3235,zeule,2017-08-14T21:34:32Z,"at least some of the cyrillic languages use transliterated abbreviations (e.g. ""mіб"" for ""mib"" in ukrainian).",0,0.9909795522689819
133113283,3235,Chocobo1,2017-08-15T04:05:55Z,"ok, thanks, will fix it.",1,0.6484400033950806
133120401,3235,glassez,2017-08-15T05:46:26Z,apparently i jumped the gun here... the point is that if bool property has a name without is-/has- prefix it's not so clear it is correct or not. we need to check all new bool properties.,0,0.6261181235313416
133122094,3235,Chocobo1,2017-08-15T06:08:29Z,done.,0,0.9897913336753845
133124917,3235,Chocobo1,2017-08-15T06:38:50Z,both changed to int type.,0,0.9943822622299194
133144826,3235,glassez,2017-08-15T08:52:39Z,isguidedreadcacheenabled or useguidedreadcache or just guidedreadcache.,0,0.9930404424667358
133145105,3235,glassez,2017-08-15T08:54:20Z,your switch statements break coding style. please add space after keywords.,0,0.8075040578842163
133145346,3235,glassez,2017-08-15T08:55:46Z,issuggestmodeenabled.,0,0.9926818013191223
133146303,3235,glassez,2017-08-15T09:01:09Z,you should check/normalize values when getting it from untrusted sources (e.g. from config file). property getter always should return valid value.,0,0.9934940934181213
133179124,3235,Chocobo1,2017-08-15T12:39:04Z,`isguidedreadcacheenabled` that is.,0,0.9946639537811279
133179201,3235,Chocobo1,2017-08-15T12:39:32Z,fixed.,0,0.9905837774276733
133179875,3235,Chocobo1,2017-08-15T12:43:55Z,"fixed now. i've added a helper function to do so, before you ask, `std::function ` is chosen because i want it to match `cachedsettingvalue::proxyfunc` signature, using a not matching signature will cause doing type erasure twice, incurring unnecessarily performance hits.",0,0.9917625188827515
133193421,3235,glassez,2017-08-15T13:48:20Z,ok. then you don't need these switches at all.,0,0.9894780516624451
133193855,3235,glassez,2017-08-15T13:50:06Z,i would use libtorrent constants instead of anonymous numbers.,0,0.9887940287590027
133194167,3235,glassez,2017-08-15T13:51:22Z,"in all affected cases, of course.",0,0.985121488571167
133209411,3235,Chocobo1,2017-08-15T14:49:43Z,"we are supporting both libtorrent 1.0 & 1.1, so it has different scopes for enum definitions, don't you think adding a `#if` condition is too much for it?",0,0.9903491735458374
133210016,3235,Chocobo1,2017-08-15T14:51:56Z,"will remove, except `m_chokingalgorithm` which i map `{0, 1} -> {0, 2}`, libtorrent `choking_algorithm_t` has no `1` defined.",0,0.9939805269241333
133238645,3235,glassez,2017-08-15T16:40:22Z,you should declare compatible enums (better enum classes) inside bittorrent namespace and use it. e.g.: [code block],0,0.9955173134803772
133238912,3235,glassez,2017-08-15T16:41:28Z,and also use it in limiters.,0,0.9949780106544495
133240895,3235,glassez,2017-08-15T16:49:57Z,"i've restored my mind. we shouldn't use libtorrent names, types etc. outside compatibility layer. we should create our own names/types and use it.",0,0.5935083627700806
133246081,3235,Chocobo1,2017-08-15T17:11:08Z,so it become this? [code block],0,0.995128870010376
133250142,3235,glassez,2017-08-15T17:27:31Z,and one more thing... since config file is user editable it is a really good idea to store enumerations by name (as strings) as introduced in one of his last prs. you can give example code there.,1,0.5263243317604065
133265126,3235,Chocobo1,2017-08-15T18:25:31Z,"just got it working, but the new declared enum must accompany with a `q_enum_ns(...)` macro which is only available on `qt >= 5.8`. also must add `q_namespace` to `namespace bittorrent` to support it. any comment?",0,0.9905042052268982
133267040,3235,Chocobo1,2017-08-15T18:32:28Z,"now i'm not so sure. as a developer, it's sure convenient. as a user, how is one going to know the only valid values are `fixedslotschoker, ratebasedchoker` without source code at hand? on the other way, if it's represented as an `int`, at least user can try putting numbers in it.",0,0.8000322580337524
133273727,3235,glassez,2017-08-15T18:57:41Z,"oops... actually it needs a user manual, but we don't have it. don't know what to say now... i would still use a textual representation. apparently, used something different... maybe, just enums (not enum classes). i think, we can use his code as base for cases of enumerable settings.",-1,0.8964032530784607
133274162,3235,glassez,2017-08-15T18:59:29Z,you misunderstood it. we're talking about manual config editing. there is no problem in gui.,0,0.9576971530914307
133274736,3235,glassez,2017-08-15T19:01:41Z,", in any case we should use enums in the code.",0,0.989602267742157
133342017,3235,Chocobo1,2017-08-16T01:31:55Z,"ok, that is not the main point now, i just wanted to say it's still debatable imo. i tried both and it doesn't matter much which i use, combination of `enum, enum class, q_enum_ns, q_enum`. i looked it a bit more closely, at [a link] so it uses `qmetaenum::fromtype()` ""magic"" and qt doc states however, in this case the enum is in namespace scope, so should use `q_enum_ns` instead, but the requirement `qt >= 5.8` doesn't suit us now as i said before. ... unless i deploy some workaround like this: [code block] *is that acceptable?* this is the best i can do now...",0,0.9501827955245972
133356270,3235,glassez,2017-08-16T04:19:28Z,"well, we say: ""tomorrow is another day!"". that's what happens in the end: 1. neither numbers nor words are meaningless to the user, because there is no available information about it. 2. if we had a user manual (or other source of information, eg. man), we could describe either numeric values or string values. 3. the use of numbers is much easier from the code pov, i.e. other things being equal, the use of numerical values in the configuration file is preferable. 4. the use of abstract numerical values in the code is a way to unmaintainable code, so we should prefer enums there. , what do you say?",0,0.9604418873786926
133362622,3235,Chocobo1,2017-08-16T05:45:19Z,"i **agree** with the bullet points you listed (in sequence), but there is a strong assertion at point 2 which this app doesn't have currently... and i'm not looking for more work, i.e. creating the user manual. it's easier for users to edit the ini too, 2 key strokes at most for changing chokingalgorithm here. with string literals, users might get typos, uppercase lowercase issues especially when the user is not fluent in english. i don't oppose using enums (but there are technical difficulties here) and i just wanted to focus on getting this pr merged...",0,0.6152146458625793
133377808,3235,glassez,2017-08-16T07:39:01Z,i hope it's about using enums in config file and there are no objections on using it in the code (i can't imagine what objections can be).,0,0.9649599194526672
133411968,3235,zeule,2017-08-16T10:22:59Z,"my 2 cents: long string constants (as comparing to short string constants like '0', '1', etc.) in a config file give more freedom when upgrading and replacing set of possible options. partially disagree: user can't get their options for the setting, but at least can guess what the current value means. it is much easier to spot a mistake in documentation or outdated part of it with long descriptive string constants. with string literals, users might get typos, uppercase lowercase issues especially when the user is not fluent in english. i seriously doubt that users with typing problems would want to edit config files manually. all in all, i do not reveal a secret here saying that short constants are simpler and easier for one-time setup or use, while long ones offer advantages over them when considering maintainability and long-term support. just as identifiers in source code.",0,0.8101456165313721
133426382,3235,glassez,2017-08-16T11:46:10Z,", agree with you, but reports any problems with storing enums as strings, although i remember that you did it already. i am now limited in the ability to verify it all.",0,0.9689927697181702
133505417,3235,Chocobo1,2017-08-16T16:50:15Z,this is actually a good guideline when naming enum values for storing in ini!,1,0.9733019471168518
134002303,3235,sledgehammer999,2017-08-18T16:36:42Z,"guys, are still considering the implementation or can i merge as-is? personally: i don't hold any strong preference about either one, but i tend to like numbers better than strings.",0,0.961602509021759
134003749,3235,sledgehammer999,2017-08-18T16:44:11Z,the default value here should be `1`. it was a request in the past to use fastest_upload by default.,0,0.9940924048423767
134005416,3235,glassez,2017-08-18T16:52:53Z,i insist at least on named constants (ie. enums) in the code.,0,0.9854745864868164
134006092,3235,sledgehammer999,2017-08-18T16:56:11Z,the default value here should be `1`. it was a request in the past to use fastest_upload by default.,0,0.9940924048423767
134006257,3235,glassez,2017-08-18T16:57:00Z,"chockingalgorithm should be limited by 0 and 1, isn't it?",0,0.9919026494026184
134006345,3235,sledgehammer999,2017-08-18T16:57:27Z,"yeah, i think this makes sense.",0,0.9186607003211975
134007369,3235,glassez,2017-08-18T17:02:36Z,"and i think old style enums will be enough in this case, so type of the properties can be left as is (int).",0,0.9918317198753357
134013922,3235,Chocobo1,2017-08-18T17:36:04Z,see `enum choking_algorithm_t` in libtorrent doc.,0,0.9952040910720825
134014397,3235,Chocobo1,2017-08-18T17:38:17Z,"let just consider a simple question, what do you think of the example code in [a link] is it acceptable?",0,0.988835871219635
134014537,3235,Chocobo1,2017-08-18T17:38:58Z,will fix,0,0.9934358596801758
134015509,3235,sledgehammer999,2017-08-18T17:43:45Z,but in earlier commit you chose to not expose `bittyrant_choker`. was there a reason?,0,0.9937030673027039
134017038,3235,Chocobo1,2017-08-18T17:50:27Z,"however, it feels weird because peer which has better download speed will always have higher priority to be served.",-1,0.9818445444107056
134019398,3235,glassez,2017-08-18T18:00:14Z,you can't mix interface of components of an application with interface of underlying library. if you allow users only two choices then session::chockingalgorithm property has only two possible values independently of the way it really implemented.,0,0.9883905649185181
134020116,3235,Chocobo1,2017-08-18T18:03:22Z,libtorrent states its incomplete & untested. also read `q: won’t bittyrant hurt overall bittorrent performance if everyone uses it?` in [a link],0,0.9857448935508728
134020333,3235,sledgehammer999,2017-08-18T18:04:20Z,also read q: won’t bittyrant hurt overall bittorrent performance if everyone uses it? in [a link] +1. don't forget to rebase.,0,0.9935644268989563
134020629,3235,Chocobo1,2017-08-18T18:05:34Z,that won't be a problem after enums are deployed.,0,0.9788058400154114
134041113,3235,glassez,2017-08-18T19:46:27Z,"sorry, i can't open the link above in my smartphone browser. if you mean the following: [code block] i think yes (maybe except the name of setter param).",-1,0.964735209941864
134084607,3235,glassez,2017-08-19T06:45:03Z,"... , this code can be useful in case we have decided store enums in config file as strings. but, iirc, and prefer to use numbers so such enum wrapping is unnecessary.",0,0.9856123924255371
134118829,3235,Chocobo1,2017-08-20T15:34:48Z,"if no objections, i'm going to use it and get this over with.",0,0.9367228746414185
134119084,3235,glassez,2017-08-20T15:45:37Z,don't think you **wrapper** isn't appropriate name (too common)?,0,0.9669480323791504
134119630,3235,Chocobo1,2017-08-20T16:07:17Z,"that name was just for the example, but frankly i can't think of anything better than `struct enumwrapper` or `struct chokingalgorithmwrapper` or `struct chokingalgorithmenum`, any suggestions?",0,0.9621862173080444
134119750,3235,glassez,2017-08-20T16:12:08Z,"imo, chokingalgorithmwrapper is best from above.",0,0.9622218608856201
134120432,3235,glassez,2017-08-20T16:40:36Z,"but from the other side, we can put all needed enums into one wrapper so we need other name, like sessionsettingsenums...",0,0.9942580461502075
134120493,3235,zeule,2017-08-20T16:43:28Z,and introduce them into the containing namespace with the help of `using` directive.,0,0.9952298402786255
134217486,3235,glassez,2017-08-21T12:18:00Z,do we have dependent default value here?,0,0.9942800998687744
134217962,3235,glassez,2017-08-21T12:20:33Z,"imo, using ternary operator (instead of cast) would be more obvious.",0,0.9754281640052795
134220552,3235,Chocobo1,2017-08-21T12:34:10Z,"ah, damn it, i didn't realize until now... it doesn't need to depend on others. changed.",-1,0.9940229058265686
213434179,9349,sledgehammer999,2018-08-28T18:57:58Z,no need for curly braces,0,0.987519383430481
213434933,9349,sledgehammer999,2018-08-28T19:00:34Z,maybe `qiodevice::text` too?,0,0.9935234785079956
213501574,9349,sledgehammer999,2018-08-28T23:13:48Z,just a suggestion: maybe make the qregularexpression a variable so it is easier to read?,0,0.9897639751434326
213502108,9349,sledgehammer999,2018-08-28T23:16:53Z,**are** undefined,0,0.9580036997795105
213503774,9349,sledgehammer999,2018-08-28T23:26:41Z,::getmodulefilenamew,0,0.9942261576652527
213503918,9349,sledgehammer999,2018-08-28T23:27:33Z,shouldn't you free the vector elements when it is about to go out of scope?,0,0.9927292466163635
213504395,9349,sledgehammer999,2018-08-28T23:30:54Z,"sorry, but why is this include needed?",-1,0.9899716377258301
213670029,9349,zeule,2018-08-29T13:13:39Z,"i don't know how to do that elegantly. there are many exit points and i'd have to add a raii guard here. but the heap memory will be freed anyway on process exit, so it is ok, imo, to leave that to the system.",0,0.9382792711257935
213682381,9349,zeule,2018-08-29T13:44:18Z,added the shortest solution i could come up with in its own commit.,0,0.9941275119781494
213865493,9349,zeule,2018-08-29T23:29:41Z,put 'size' inside the loop too.,0,0.994279146194458
213865604,9349,zeule,2018-08-29T23:30:19Z,this also can go into the loop body.,0,0.9940286874771118
215916297,9349,glassez,2018-09-07T10:29:49Z,"imo, it's completely unusual. why do you need to free this memory immediately before application exit?",0,0.503850519657135
215916987,9349,glassez,2018-09-07T10:33:01Z,"argsvector. although it is an alias for a name with a ""foreign"" naming it should use qbittorrent naming.",0,0.9899517893791199
215917992,9349,glassez,2018-09-07T10:37:22Z,char *getexename,0,0.990037202835083
215918323,9349,glassez,2018-09-07T10:39:04Z,move to the end of previous line.,0,0.9902340173721313
215931904,9349,glassez,2018-09-07T11:41:22Z,if previous buffer deleted by reset?,0,0.992219090461731
215932301,9349,glassez,2018-09-07T11:43:17Z,does linux use 8 bit encoding for filenames?,0,0.993527352809906
215933087,9349,glassez,2018-09-07T11:46:56Z,why do you just return empty string im case of error here but abort the app in case of another error inside getexename?,0,0.9827350974082947
215935350,9349,zeule,2018-09-07T11:58:07Z,usually utf-8.,0,0.9893862009048462
215948308,9349,zeule,2018-09-07T12:53:30Z,"ok, removed the abort() call.",0,0.9933606386184692
215955747,9349,glassez,2018-09-07T13:21:10Z,then why fromlocal8bit?,0,0.9920926690101624
215962243,9349,zeule,2018-09-07T13:42:23Z,"excuse me, don't understand the question.",-1,0.8498607873916626
215968924,9349,zeule,2018-09-07T14:02:43Z,"excuse me, i don't understand the question.",-1,0.818318784236908
215972779,9349,glassez,2018-09-07T14:14:42Z,you said the filenames are usually utf-8 encoded but you read it via fromlocal8bit instead of fromutf8... is it correct? or am i missing something?,0,0.992960512638092
215989776,9349,zeule,2018-09-07T15:03:57Z,i'm not sure utf-8 qualifies as a 8-bit encoding but fromlocal8bit() works fine in this case (fromlocalmultibyte() would be a better name).,0,0.9751989841461182
215994657,9349,glassez,2018-09-07T15:18:45Z,"as long as the filename doesn't contain any non-latin1 character, i suppose.",0,0.9890907406806946
215998802,9349,zeule,2018-09-07T15:31:01Z,i suppose it uses mbstowcs() and as such works with utf-8.,0,0.9883534908294678
216034785,9349,glassez,2018-09-07T17:39:12Z,"you must be exhausted. otherwise, you could not confuse the 8-bit encoding with utf-8 (some kind of unicode). fromlocal8bit() loads 8-bit characters and decode them using some code page (e.g. cp1251, koi8-r, etc.). as long as the test filename contains only latin-1 characters it can be equally successfully decoded by any of fromlatin1(), fromlocal8bit() and fromutf8(). but when string contains some multibyte utf-8 character it will be decoded as some number of characters if you apply fromlocal8bit() to it. try the test code: [code block]",0,0.9852305054664612
216036390,9349,glassez,2018-09-07T17:44:32Z,"ok. here is it: it just a question. you could have just said ""it is pointless"" instead of doing this ""pointless"" thing.",-1,0.6105772852897644
216040800,9349,zeule,2018-09-07T17:59:05Z,i decided then that without freeing the code would produce annoying false positives in memory analysers and went ahead adding the deleter.,0,0.5819380283355713
216043980,9349,zeule,2018-09-07T18:10:34Z,you are wrong here. i already wrote that the qt's function name is confusing. it actually takes a multi-byte string in the current locale. p.s. and the sample outputs correct cyrillic string two times.,0,0.537487804889679
216120409,9349,Chocobo1,2018-09-08T04:21:15Z,"from qstring document, it seems fromlocal8bit will depend on os locale/codepage, right? and i think you should use fromutf8 to avoid this.",0,0.9907329082489014
216123205,9349,glassez,2018-09-08T07:13:44Z,"well, after reading several levels of qt docs i've suppose it's correct to use this method. but it really have confusing name. it should be ""fromlocalencoding()"" since it can decode not only 8-bit strings but also unicode. since all others should use the same locale on the same system it should work correctly. but fromutf8() will fails on systems with non-utf8 locale settings. (all above is not applicable to windows).",0,0.5764107704162598
216126420,9349,glassez,2018-09-08T09:48:31Z,why not put this logic in getexename? i mean buffer asjusting. and why not create it of max_path size initially?,0,0.9918272495269775
216126506,9349,zeule,2018-09-08T09:54:15Z,"because max_path is purely windows limitation, and on unix most executable reside /usr/bin or /bin, thus making the first guess (32) work almost always.",0,0.9922595620155334
216126957,9349,glassez,2018-09-08T10:21:11Z,"well, let not smart enough memory analyzers teach us to live?",0,0.7508044838905334
216126994,9349,glassez,2018-09-08T10:22:48Z,ok. first question is still actual.,0,0.9898232817649841
233112330,9349,Chocobo1,2018-11-13T16:11:32Z,seems this could be `const`,0,0.9923682808876038
233113120,9349,Chocobo1,2018-11-13T16:12:49Z,is it necessary to check its existence before opening?,0,0.9927067160606384
233122571,9349,zeule,2018-11-13T16:34:14Z,"probably not, but i don't need the `qfile` object when the params file does not exists (i.e. most of the times).",0,0.9709876775741577
233126547,9349,glassez,2018-11-13T16:43:23Z,you can open and read it inside local scope.,0,0.9952318072319031
233131357,9349,zeule,2018-11-13T16:53:56Z,"sorry, i don't understand what do you suggest.",-1,0.9928541779518127
233139307,9349,glassez,2018-11-13T17:11:48Z,"sorry, i didn't see all affected code... but you just return in this case!",-1,0.9936795234680176
233142777,9349,Chocobo1,2018-11-13T17:21:02Z,i really don't know it is that unfavorable to have `qfile` unconditionally (might be more convincing if you elaborate a bit more)... at least please invert this `if ()` check to return early.,0,0.9161558747291565
233151370,9349,zeule,2018-11-13T17:41:47Z,"sorry, still can't understand. i don't know what can i add. ""the `qfile` class provides an interface for reading from and writing to files"", quoting qt docs. a file does not exist, why would i need an object to access it? additionally, existing but unreadable files is an error, i must inform user about that. but then i would need a second `return {}`.",-1,0.989193856716156
233175117,9349,glassez,2018-11-13T18:48:25Z,"ok. since in this particular case ""absence of file"" and ""corrupted/unreadable file"" have really different meaning you need to handle them differently. but debug message isn't for user. also i'm not sure it will be printed by ""release"" binary. maybe print it to the log?",0,0.9677196145057678
233213673,9349,zeule,2018-11-13T20:41:09Z,"the application object is not created yet when this code is running, how can i access the log?",0,0.9932088255882263
233216720,9349,zeule,2018-11-13T20:51:16Z,but qdebug is not an option. std::cerr?,0,0.9945310950279236
233306573,9349,Chocobo1,2018-11-14T03:49:44Z,"or much lightweight `fprintf(stderr, )`",0,0.9916811585426331
233329074,9349,glassez,2018-11-14T06:45:46Z,i would even interrupt the app in this case. the user can rely on some parameters so that he can get an unexpected effect if the application starts without them.,0,0.973640501499176
233431145,9349,zeule,2018-11-14T12:45:10Z,this sounds reasonable. i'm going to replace qdebug with direct write to cerr and throw an exception after that. does anybody object?,0,0.9813320636749268
234522828,9349,Chocobo1,2018-11-19T08:11:07Z,"seems no one, let's try getting this into v4.1.5",0,0.9836709499359131
234987886,9349,glassez,2018-11-20T12:47:48Z,"please rename it to ""paramsfilename"" and ""fn"" to ""paramsfile"".",0,0.9957200884819031
234989056,9349,glassez,2018-11-20T12:51:33Z,please describe this regex.,0,0.9946902990341187
235041822,9349,glassez,2018-11-20T15:12:51Z,seems like wrong assertion. we call it with `qcoreapplication::arguments()` as argument. from its documentation:,0,0.7140217423439026
354655786,11592,Chocobo1,2019-12-06T03:50:04Z,redundant empty line here,0,0.8292669057846069
354655897,11592,Chocobo1,2019-12-06T03:50:44Z,`const auto checkandaddaddress `,0,0.9937871694564819
354656265,11592,Chocobo1,2019-12-06T03:52:49Z,i would prefer list captured variable explicitly instead of using `&`. here and other lambdas too.,0,0.9863617420196533
354656659,11592,Chocobo1,2019-12-06T03:55:10Z,maybe use: `void qcombobox::additems(const qstringlist &texts)`,0,0.9940872192382812
354656726,11592,Chocobo1,2019-12-06T03:55:33Z,`const auto populatecombo` and add `const` to other new lambdas.,0,0.9931881427764893
354658831,11592,Chocobo1,2019-12-06T04:09:08Z,do users really binds to link-local ip? is there some real world use case of that?,0,0.9911320805549622
354912331,11592,glassez,2019-12-06T16:16:53Z,for what reason it can be empty?,0,0.9800957441329956
354912919,11592,glassez,2019-12-06T16:18:04Z,can't listeningips be empty list?,0,0.9859224557876587
355109661,11592,Chocobo1,2019-12-07T08:50:46Z,"you should have a variable for `endpoints.join(',');` and use it here instead of converting over and back. those are small places that eats performance little by little and can be easily overlooked.",0,0.991716206073761
355110210,11592,Chocobo1,2019-12-07T09:03:07Z,is it possible to change `nextip` type to `qhostaddress` and change `getlisteningips()` to return `qvector `? so we can save this conversion and maybe other places too.,0,0.9942386150360107
355110233,11592,Chocobo1,2019-12-07T09:03:52Z,maybe rename `nextip` -> `ip`?,0,0.9936174154281616
355110396,11592,Chocobo1,2019-12-07T09:07:22Z,imo the below code is long enough that should be moved to its own function.,0,0.9862287044525146
355112074,11592,glassez,2019-12-07T09:42:01Z,"agree. `nextip` is invalid name for this function since the function knows about one ip only. `ip` is better name. but, iirc, it can contains not only ip... maybe there can be more appropriate name?",0,0.9514346122741699
355113325,11592,sledgehammer999,2019-12-07T10:10:31Z,the return can't be `qhostaddress` because it might also return an interface name.,0,0.9923654198646545
355113521,11592,sledgehammer999,2019-12-07T10:14:42Z,"probably! i'll rework this section again. truth is that the refactoring went ""backwards"". i started refactoring this code section first and then i realized that getlisteningips() had issues and refactored that too. but i never came back here to rethink yet again the logic.",0,0.6416076421737671
355125552,11592,sledgehammer999,2019-12-07T14:50:54Z,either i use wrong terminology or one of us is confused. users may choose (for whatever reason) to listen to a specific ipv6 local address of their network interface. they may want for traffic to go through only through that specific one.,0,0.7917977571487427
355128400,11592,Chocobo1,2019-12-07T15:47:02Z,maybe name it `appendaddressstring` or `appendaddress`?,0,0.9929599165916443
355128637,11592,Chocobo1,2019-12-07T15:51:06Z,"you already have the q_assert above so you can change this line to just `else` (without checking qabstractsocket::ipv6protocol). or alternatively, you should remove the q_assert above.",0,0.9950626492500305
355128724,11592,Chocobo1,2019-12-07T15:52:51Z,"maybe ""ipv6 address have multiple representations in text""?",0,0.9899458289146423
355128828,11592,Chocobo1,2019-12-07T15:55:10Z,`return addr;` and move `canonical` declaration to further below.,0,0.9945381283760071
355128907,11592,Chocobo1,2019-12-07T15:56:45Z,"nitpick, maybe use the full name: configurenetworkinterfaces?",0,0.9939246773719788
355129052,11592,Chocobo1,2019-12-07T15:59:09Z,i would add parentheses to the above 2 lines and to other appending cases.,0,0.9920473098754883
355129075,11592,Chocobo1,2019-12-07T15:59:44Z,redundant empty line here.,0,0.662513256072998
355129137,11592,Chocobo1,2019-12-07T16:00:37Z,you can use the shorter version: `const qhostaddress addr {ip};`,0,0.9954268932342529
355129231,11592,Chocobo1,2019-12-07T16:02:30Z,this redundant level of indention can be eliminated by returning early on the opposite condition.,0,0.9917370676994324
355129426,11592,Chocobo1,2019-12-07T16:06:17Z,"maybe ""could not get guid of network interface: %1""? (and below too)",0,0.9838674068450928
355129599,11592,Chocobo1,2019-12-07T16:09:14Z,boolean `allipv4` & `allipv6` should be captured by value.,0,0.9943733215332031
355129644,11592,Chocobo1,2019-12-07T16:10:00Z,pls add parentheses to the first predicate,0,0.9934048056602478
355129720,11592,Chocobo1,2019-12-07T16:11:21Z,"maybe just ""can not find the configured address \""%1\"" to listen on""?",0,0.9741113781929016
355129976,11592,Chocobo1,2019-12-07T16:16:26Z,"maybe just ""can not find the configured address ""%1"" to listen on""?",0,0.9746444821357727
355130087,11592,Chocobo1,2019-12-07T16:18:20Z,i see no point leaving this comment.,-1,0.5316778421401978
355176352,11592,glassez,2019-12-08T10:38:07Z,"seems it's a ""one-level-up"" logic. it should be outside of this method: [code block]",0,0.9904118180274963
355176551,11592,glassez,2019-12-08T10:42:18Z,maybe define some helper like: [code block],0,0.9918975830078125
355177138,11592,glassez,2019-12-08T10:53:28Z,canonicalipv6addr shouldn't return non-ipv6 address!,0,0.9890537261962891
355177264,11592,sledgehammer999,2019-12-08T10:56:04Z,"i understand what you're saying, but isn't it safer for `configurenetinterfaces()` to do the self-check? although in this particular case nothing bad will happen if we re-run this function.",0,0.9842803478240967
355177366,11592,sledgehammer999,2019-12-08T10:57:58Z,so return a null qhostaddress?,0,0.9950894713401794
355177468,11592,sledgehammer999,2019-12-08T11:00:12Z,"nah, i don't think this is worth it. it is only 2-3 places where we make endpoints.",-1,0.5787969827651978
355182276,11592,Chocobo1,2019-12-08T12:21:21Z,typo: represantations -> representations,0,0.9937758445739746
355182563,11592,Chocobo1,2019-12-08T12:26:01Z,the white space placed wrong: `<<( ` -> `<< (`,0,0.9555714130401611
355377532,11592,glassez,2019-12-09T10:44:30Z,"if applying this function to ipv4 address isn't valid ""use case"" you should prevent it in any way (at least add an appropriate assertion). otherwise it may allow logically incorrect code.",0,0.9818772077560425
355379714,11592,glassez,2019-12-09T10:49:08Z,maybe use some more ip-specific placeholders (e.g. `0.0.0.0` and `::0`) instead? it appears in configure file and can confuse the readers.,0,0.985335111618042
355431664,11592,sledgehammer999,2019-12-09T12:52:33Z,i am confused. how do i prevent it in any way? and won't the assertion work only in debug?,-1,0.9155991673469543
355434092,11592,glassez,2019-12-09T12:58:29Z,you can throw runtimeerror... or you can modify it to be valid for any ip (and rename it to `canonicalipaddr`).,0,0.988658607006073
355434732,11592,glassez,2019-12-09T13:00:08Z,or even it can return ipv6 representstion of ipv4... unless i am wrong it is possible.,0,0.9912502765655518
355444469,11592,sledgehammer999,2019-12-09T13:22:56Z,[a link] seems to do the job. so it becomes: [code block],0,0.9940306544303894
355445883,11592,glassez,2019-12-09T13:25:45Z,and also apply all remaining modifications.,0,0.9955894947052002
355446358,11592,glassez,2019-12-09T13:26:32Z,"or it already in ""canonical"" form?",0,0.9894691705703735
355455027,11592,sledgehammer999,2019-12-09T13:43:23Z,"it can't be, because at this point it is ipv4. if you mean below, there is no way to know beforehand. so we convert unconditionally.",0,0.9877712726593018
355455260,11592,sledgehammer999,2019-12-09T13:43:56Z,do you insist on this change?,0,0.9876936674118042
355455672,11592,sledgehammer999,2019-12-09T13:44:35Z,just to clarify: i don't see a point to this so i am not going to implement it.,0,0.9464015364646912
355456144,11592,sledgehammer999,2019-12-09T13:45:31Z,"interesting. i'll take a look into the rest of the code and if it doesn't break something, i'll change it to your suggestion.",1,0.7497057914733887
355473730,11592,glassez,2019-12-09T14:19:12Z,"i would implement another variant instead. i mean `canonicalipaddr` that returns ip of the same type as its argument. btw, we can use it unconditionally since it always returns valid result.",0,0.9937830567359924
355513549,11592,sledgehammer999,2019-12-09T15:27:46Z,"this branch isn't needed anymore due to the way ""all addresses""/all ipv4/all ipv6 are returned by getlisteningips(). so all the code below is shifted one indentation level up.",0,0.9940158128738403
355514062,11592,glassez,2019-12-09T15:28:44Z,ok. don't insist.,0,0.94621342420578
355516590,11592,glassez,2019-12-09T15:33:05Z,no.,0,0.9730188846588135
355519186,11592,Chocobo1,2019-12-09T15:37:41Z,"afaik you are duplicating the same string multiple times, i.e. every qstringliteral() you constructed is going to be distinct in the binary and thus boating it up. imo using qlatin1string() is suffice.",0,0.9790688157081604
355520218,11592,Chocobo1,2019-12-09T15:39:37Z,is the explicit constructor required? would this work: `return addr.toipv6address();`?,0,0.9953495860099792
355520601,11592,Chocobo1,2019-12-09T15:40:15Z,would this work: `session->setnetworkinterfaceaddress(ifaceaddr.isnull() ? {} : ifaceaddr.tostring());`? and the similar one below?,0,0.9951328635215759
355521165,11592,Chocobo1,2019-12-09T15:41:23Z,imo you should always use `int` unless doing bits operations.,0,0.9853311777114868
355521407,11592,Chocobo1,2019-12-09T15:41:50Z,and add `const`.,0,0.995229959487915
355521682,11592,Chocobo1,2019-12-09T15:42:19Z,for 3-way or more cases better use a `switch()`.,0,0.9935770630836487
355525234,11592,sledgehammer999,2019-12-09T15:48:21Z,i wanted to avoid the extra space taken by the `break` statement on each branch.,0,0.9785639047622681
355525551,11592,sledgehammer999,2019-12-09T15:48:54Z,damn it. i forgot about const because i was trying something else initially.,-1,0.9948949217796326
355527338,11592,sledgehammer999,2019-12-09T15:51:58Z,unfortunately no. gcc: [code block] msvc: [code block],-1,0.9016969799995422
355530887,11592,sledgehammer999,2019-12-09T15:58:00Z,no. that constructor is marked as explicit. and `return {addr.toipv6address()};` fails with: [code block],0,0.9933480620384216
355530995,11592,Chocobo1,2019-12-09T15:58:11Z,"on a second thought, the original code of this block should be preserved and should let webui return the ip address string because now the api doesn't make sense.",0,0.9696314930915833
355532301,11592,sledgehammer999,2019-12-09T16:00:20Z,"and how will the webui user select ""i want all ipv4"" addresses for the network interface? (vs all address vs all ipv6 addresses vs specific address)",0,0.994358479976654
355533007,11592,sledgehammer999,2019-12-09T16:01:31Z,ps: the values here mirror the ones chosen for gui combobox. they represent the position of the 3 top items in the combobox list.,0,0.9931666254997253
355543336,11592,Chocobo1,2019-12-09T16:18:52Z,"i guess some modification in js code is required, that is to mimic/follow the new combobox options in gui. you see the api key here is `current_interface_address`, so unless you document explicitly these magic values in webapi document, none of the users of webapi could guess what `1` or `2` means and not to mention this semantic change warrants a webapi version bump.",0,0.9828851222991943
355551731,11592,sledgehammer999,2019-12-09T16:33:18Z,i can do that. just point me to the correct place. the webapi major version bump will happen anyway because i remove the `listen_on_ipv6_address` key,0,0.9932350516319275
355553276,11592,Chocobo1,2019-12-09T16:35:58Z,any comment on this discussion? [a link],0,0.9935010075569153
355567675,11592,glassez,2019-12-09T17:00:35Z,"guys, i really don't understand why you can't accept it as it processed by app core (i.e. `0.0.0.0` and `::`)? why all these ""magic"" values of separate type?",-1,0.7486685514450073
355627498,11592,sledgehammer999,2019-12-09T19:03:28Z,"in this case `0.0.0.0` and `::` will be treated as magic values from the ui perspective. the ui must not show them as `0.0.0.0` and `::` but as `all ipv4` and `all ipv6` respectively. in this context they have special meaning. and we need another value that will indicate `all addresses` (could be an empty string). so it is a choice on the set of magic numbers. but in this case, don't we run the risk of web devs ignoring these special cases if we just send `0.0.0.0` and `::` ? (sending 0/1/2) will force them to take a better look (and their users will point that out) in any case, i am no expert in designing outward facing api nor do i care much about the webapi stuff. if you find a consensus on how it should be represented via the webapi, i'll happily oblige.",0,0.9739133715629578
355836760,11592,Chocobo1,2019-12-10T04:13:20Z,"that is what i meant in the first post. an empty string for all address is fine for me or even better imo: `0.0.0.0,::` from os api perspective, these 2 values are not special, they just binds to any ipv4/ipv6 address respectively. and any one who ever worked with network sockets will recognize these values. or do you have other *special* meaning? i'm sorry to have to say this, you're touching webapi here and one mistake here is going to cause inconveniences for webapi devs/users for some period. `current_interface_address` can only expect an ipv4/ipv6 address string or an empty string. as for webui, (warning, pseudo code blow) here need to add an `if (item === '::') // add ""all ipv6"" option` to populate the entries: [a link] and here needs to modified to get the ip address value, probably something like: `if ($('optionalipaddresstobind').getproperty('value') === 'all ipv6') // set to ""::""` [a link]",-1,0.9826437830924988
355838301,11592,glassez,2019-12-10T04:22:06Z,"in any case it's a bad idea to blindly show any received data. ui level should make postprocessing and use appropriate representation. when magic values are documented there is no difference between numbers and ""special"" ips. but as i said before ""special"" ips are better for readers (for debugging purposes). so even some ""stupid"" ui shows it as is its better than see some really meaningless numbers. p.s. even if the others vote for the numbers and you decide to use them, you don't need to convert anything here, just compare them in string form.",-1,0.610924482345581
356189860,11592,Chocobo1,2019-12-10T17:57:27Z,"maybe `qmax(index, 0)`",0,0.9920006990432739
356191162,11592,Chocobo1,2019-12-10T18:00:09Z,"just a suggestion, it can be simplified to: [code block] assuming there won't be another ip version...",0,0.9913575649261475
356191312,11592,Chocobo1,2019-12-10T18:00:30Z,`const qhostaddress ifaceaddr`,0,0.9938068985939026
356230119,11592,sledgehammer999,2019-12-10T19:22:26Z,"in theory there are other values to the protocol enum: [a link] practically it is unlikely to have one those other values. in any case, i am leaning at leaving it they way it is now.",0,0.9851764440536499
356370135,11592,Chocobo1,2019-12-11T01:55:30Z,"the trailing `//`, is it leftover?",0,0.9936989545822144
771102536,15793,Chocobo1,2021-12-17T04:51:30Z,maybe it is time to add `qlatin1string` to the key.,0,0.9887515902519226
771105527,15793,Chocobo1,2021-12-17T05:02:13Z,"imo path (in filesystem sense) should only have one form: don't end with a trailing slash. if this can be uphold through out the code base, then concatenating file path and file name is easy, just add slash (appropriate path separator) and append the file name and we don't need this helper.",0,0.9897642135620117
771106234,15793,Chocobo1,2021-12-17T05:04:33Z,maybe it is best to use another variable instead of reusing `path`.,0,0.9855515956878662
771106309,15793,Chocobo1,2021-12-17T05:04:51Z,maybe rename `path` to `relativepath`?,0,0.993316650390625
771110054,15793,Chocobo1,2021-12-17T05:17:29Z,"if this function is commonly used and performance-related, then it might be wise to append to `qstring` directly and drop the last `','` manually.",0,0.9926948547363281
771610641,15793,glassez,2021-12-17T18:33:23Z,"this logic is just moved from another place. i don't want to change it in this pr. currently, i have unfinished changes that encapsulate the path handling in a separate class, which will save us from unnecessary cares throughout the code base. but this job requires a lot of routine code changes (due to the extensive use of paths in qbittorrent), so i decided to finish it after my currently opened prs are done.",0,0.928024172782898
771801201,15793,glassez,2021-12-18T08:44:18Z,are you sure that it will be so much more optimal?,0,0.9863166213035583
771801373,15793,glassez,2021-12-18T08:46:18Z,anyway trying to throw it away here...,0,0.9325613975524902
771810374,15793,glassez,2021-12-18T10:34:32Z,ok.,0,0.980760931968689
773412618,15793,thalieht,2021-12-21T20:06:37Z,"disable the label too: `m_ui->labeldownloadpath->setenabled(index == 1);` these 2 commands need to be called in constructor too or somewhere else on dialog creation. and while we're in this method, the ""path"" should be empty when the global temp path setting is disabled. i don't know about the rest of the method, i only noticed these.",0,0.993891716003418
773584859,15793,Chocobo1,2021-12-22T04:01:47Z,"it depends on whether there are many elements in `columns`. however if the coding complexity is manageable, i would go for it anyway.",0,0.9879195690155029
773586543,15793,glassez,2021-12-22T04:08:34Z,should be fixed now.,0,0.994026780128479
773630412,15793,glassez,2021-12-22T06:28:40Z,done.,0,0.9897913336753845
775362321,15793,Chocobo1,2021-12-27T06:54:38Z,it is possible to use `&newpath` (and at new code below too),0,0.9952675104141235
775364418,15793,Chocobo1,2021-12-27T07:02:37Z,is it possible to forward declare it?,0,0.9946411848068237
775367737,15793,Chocobo1,2021-12-27T07:14:58Z,add an empty line above?,0,0.9936854243278503
775368603,15793,Chocobo1,2021-12-27T07:17:59Z,"off topic, should we decide on one between `std::pair` and `qpair` in qbt codebase? i would favor `std::pair`.",0,0.9898195862770081
775370521,15793,Chocobo1,2021-12-27T07:24:52Z,revert it?,0,0.9854857921600342
775372118,15793,Chocobo1,2021-12-27T07:30:28Z,i would give `m_ui->checkusedownloadpath->checkstate()` a local variable since it is used twice.,0,0.9928648471832275
775372245,15793,Chocobo1,2021-12-27T07:30:57Z,revert it?,0,0.9854857921600342
775372880,15793,Chocobo1,2021-12-27T07:33:04Z,why add it?,0,0.9886223673820496
775373561,15793,Chocobo1,2021-12-27T07:35:23Z,(optional) maybe use a local variable for `std::count_if` since the code is long.,0,0.9937947988510132
775383684,15793,glassez,2021-12-27T08:07:20Z,yes.,0,0.9851860404014587
775383753,15793,glassez,2021-12-27T08:07:30Z,yes.,0,0.9851860404014587
775384606,15793,glassez,2021-12-27T08:10:04Z,doesn't matter to me. added.,0,0.9253356456756592
775386434,15793,glassez,2021-12-27T08:15:15Z,"i think we discussed similar issues (maybe in passing). i think we should use std types unless a similar qt type has obvious advantages (for example, implicit sharing).",0,0.9838041663169861
775387401,15793,glassez,2021-12-27T08:17:48Z,new widgets were added thus height is increased.,0,0.9938123226165771
775388645,15793,glassez,2021-12-27T08:21:26Z,ok.,0,0.980760931968689
775389234,15793,glassez,2021-12-27T08:23:11Z,size is changed due to new dialog layout (and new widgets added).,0,0.9932629466056824
775389726,15793,glassez,2021-12-27T08:24:31Z,the remainder of some previous iteration... deleted it.,0,0.9861201047897339
775391284,15793,glassez,2021-12-27T08:28:43Z,ok.,0,0.980760931968689
775412717,15793,Chocobo1,2021-12-27T09:25:57Z,you should include the header (` `) for std::pair.,0,0.9958828687667847
777085159,15793,Chocobo1,2022-01-01T06:01:27Z,maybe remove those?,0,0.9853678345680237
777085307,15793,Chocobo1,2022-01-01T06:03:49Z,use `switch ()`?,0,0.9949826002120972
777085401,15793,Chocobo1,2022-01-01T06:06:29Z,seems it isn't frequently used so i would ditch it. (same in `torrentcategorydialog::usedownloadpathchanged`),0,0.9893203973770142
777086035,15793,Chocobo1,2022-01-01T06:18:01Z,seems `dirs` is redundant. you could just search and record the value with a loop.,0,0.9830841422080994
777086099,15793,Chocobo1,2022-01-01T06:19:25Z,is `qstringlist()` needed? it looks like it should work without it.,0,0.9936634302139282
777086485,15793,Chocobo1,2022-01-01T06:27:19Z,this parameter can be const ref now. the same to `setdownloadpath()`,0,0.9961376786231995
777086628,15793,Chocobo1,2022-01-01T06:31:17Z,an shorter alternative: [code block],0,0.994899332523346
777086874,15793,Chocobo1,2022-01-01T06:35:03Z,is it leftover?,0,0.9861176609992981
777117927,15793,glassez,2022-01-01T15:45:50Z,"i would prefer not to use `switch` when there are only a couple of cases here, especially when we don't have to handle them all.",0,0.9371711015701294
777118071,15793,glassez,2022-01-01T15:48:09Z,"we need to store `qstringlist` but `pathlist.mid(0, maxlength)` returns `qlist `.",0,0.9952765703201294
777118171,15793,glassez,2022-01-01T15:49:44Z,"no. it is replacement for ""upgrade code"" above.",0,0.9937619566917419
777119504,15793,glassez,2022-01-01T16:10:11Z,done.,0,0.9897913336753845
777119779,15793,glassez,2022-01-01T16:14:13Z,ok.,0,0.980760931968689
777119977,15793,glassez,2022-01-01T16:16:59Z,done.,0,0.9897913336753845
777120479,15793,glassez,2022-01-01T16:24:23Z,it is previously existing logic but i anyway changed it.,0,0.9917430281639099
777120646,15793,glassez,2022-01-01T16:26:39Z,sure.,0,0.9824982285499573
218729789,9541,Chocobo1,2018-09-19T09:20:49Z,give it a default `false`.,0,0.994732141494751
218730197,9541,Chocobo1,2018-09-19T09:22:15Z,"what if user set `priority == 999`, should you filter invalid values?",0,0.9847809076309204
218730411,9541,Chocobo1,2018-09-19T09:22:58Z,"really, qstring isn't much longer to type than auto.",0,0.8052437901496887
218731720,9541,Chocobo1,2018-09-19T09:27:04Z,"maybe add a lambda function, so the code will be a bit shorter.",0,0.9840291142463684
218732832,9541,glassez,2018-09-19T09:30:23Z,why invalid file id isn't bad param error? (unlike invalid prio),0,0.8973156213760376
218733463,9541,glassez,2018-09-19T09:32:24Z,"i would change param name, but it breaks api compatibility...",0,0.7839285731315613
219679376,9541,Piccirello,2018-09-22T18:46:54Z,any benefit to using an explicit type vs `auto`?,0,0.9921282529830933
219679943,9541,Piccirello,2018-09-22T19:12:06Z,i want your thoughts: we add an optional `ids` param that takes priority over the `id` param. or we can change the name and bump the web api version.,0,0.9927248954772949
219681008,9541,Piccirello,2018-09-22T19:59:59Z,"the `filepriority` enum is defined in `gui/torrentcontentmodelitem.h`, which we can't import into a web controller. any thoughts on where we should migrate this enum? i would think somewhere inside `base` but i don't know those classes very well.",0,0.9914941787719727
219687433,9541,Chocobo1,2018-09-23T03:36:27Z,i believe coding_guidelines has enough explaination: [a link],0,0.9526511430740356
219688544,9541,Chocobo1,2018-09-23T04:56:44Z,file ids ?,0,0.9936475157737732
219688550,9541,Chocobo1,2018-09-23T04:57:13Z,`const int id : fileidsints`,0,0.9939607381820679
219688712,9541,Chocobo1,2018-09-23T05:12:47Z,"please keep the code succinct, with this var introduced `qstringlist fileids` is redundant now.",0,0.9944479465484619
219688785,9541,Chocobo1,2018-09-23T05:19:31Z,"you should focus on whether the value will be accepted by `torrent->setfilepriority` or not. offtopic, it seems `torrent->setfilepriority` only changes 1 prio at a time which is inefficient when you invoke it in a loop.",0,0.9728214144706726
219688831,9541,glassez,2018-09-23T05:25:24Z,"i didn't mean to make it so complicated. just check that they are all correct data type, otherwise it is clearly ""bad param"" error. p.s. please, don't remove your comments even if you change your mind later. just say about. otherwise it's hard to maintain the discussion.",-1,0.7861454486846924
219688943,9541,glassez,2018-09-23T05:38:31Z,"we shouldn't produce incompatible changes so frequently if possible. so maybe we should have some way to keep track of these ""non-urgent"" changes, and then make all the changes at once when we have the required changes?",0,0.983526885509491
219706776,9541,glassez,2018-09-23T18:10:38Z,"maybe keep the list of postponed changes near the api version declaration, e.g. ""when your changes require increasing of minor version you should also apply the following:"" and then list of changes. what do you say? ?",0,0.9858927130699158
219710472,9541,Piccirello,2018-09-23T20:30:34Z,"i think you missed my point. the valid priority values are defined in `gui/torrentcontentmodelitem.h`, which is the list i can check against to see if the value will be accepted.",0,0.9710224866867065
219710573,9541,Piccirello,2018-09-23T20:34:01Z,"we have two options: check that they're valid `int`s (which i'm already doing), or check that they're a valid `filepriority` values. no one removed comments. you replied to the wrong comment thread...",0,0.9325971603393555
219710600,9541,Piccirello,2018-09-23T20:35:00Z,recommendations for modern c++ are to use `auto` quite liberally. we get no benefit from an explicit type here.,0,0.9877520799636841
219710608,9541,Piccirello,2018-09-23T20:35:17Z,from the coding guidelines: `declarations for which one can gather enough information about the object interface (type) from its name or the usage pattern .. or the right part of the expression nicely fit here.` seems we can gather enough info about the type from the variable name `fileidsints`.,0,0.9864770174026489
219710633,9541,Piccirello,2018-09-23T20:36:14Z,because the user can enter multiple.,0,0.9915159940719604
219711652,9541,Piccirello,2018-09-23T21:10:42Z,"my latest commit modifies `torrenthandle::setfilepriority()`to take a list of indexes, since the controller code is the only place we call it.",0,0.9945864677429199
219725458,9541,Chocobo1,2018-09-24T03:44:15Z,"i mean ""id"" in uppercase.",0,0.990455687046051
219725595,9541,Chocobo1,2018-09-24T03:46:42Z,"that is the gui part, but really who is consuming the priority values? libtorrent, you should check from there.",0,0.9927279949188232
219726525,9541,Piccirello,2018-09-24T04:01:56Z,"oh, i misunderstood. will update",0,0.9067302942276001
219726559,9541,Chocobo1,2018-09-24T04:02:31Z,"source? imo you're using `auto` a bit too liberal. `auto` is more like a shortcut, not be used like `var` in javascript.",0,0.500022828578949
219727038,9541,Piccirello,2018-09-24T04:09:30Z,from *item 5: prefer auto to explicit type declarations* in *effective modern c++* by scott meyers:,0,0.9739950299263
219727537,9541,Chocobo1,2018-09-24T04:17:15Z,"ah, thank you, however i don't see he mentions anything about readability, a google search gives a handful of debates about readability of using `auto`.",1,0.9299041628837585
219728386,9541,Piccirello,2018-09-24T04:30:53Z,"it's not just for the gui, because we use the same priority values in the webui. the values are defined in gui code because we have very little separation between gui logic and application code, but they really should be moved to base. libtorrent will accept a priority between 0-7 ([a link]; we currently only use 0, 1, 6, and 7. without the values in `gui/torrentcontentmodelitem.h`, users would be able to enter a value between 2-5. i'm moving the `prio` namespace to a new file `base/torrentpriority.h`. if we should move it, lmk.",0,0.9825881123542786
219728980,9541,Chocobo1,2018-09-24T04:40:48Z,"i don't think i get your idea. however i think the commit bumping api version should also include the api code changes, so it is possible to look up by reading git log.",0,0.971445620059967
219750660,9541,glassez,2018-09-24T07:56:24Z,"when we discussed our rules about using `auto` keyword, we wanted to find a balance between faster code writing and readability. so don't abuse it, please.",0,0.6399101614952087
219752693,9541,glassez,2018-09-24T08:03:49Z,the variable name does not matter. this paragraph means something completely different: [code block] or: [code block],0,0.989986002445221
219755702,9541,glassez,2018-09-24T08:12:45Z,you shouldn't use libtorrent interface directly outside of abstraction layer (bittorrent:: types and functions). yes. torrent file priority enum should be declared in bittorrent namespace. maybe in torrenthandle.h file (i'm not sure there is separate file should exist).,0,0.9939600229263306
219909838,9541,glassez,2018-09-24T16:51:58Z,", take this case for example. meaning of param 'id' was changed. now it provide list of file ids. it should cause changing of param name but it breaks api compatibility. it's really bad idea to make incompatible changes too frequently. we can proceed to use old name for some time and just mark it for future changing. when we make changes that cannot be made in a compatible way, we can add all pending changes with them.",-1,0.8776365518569946
220051358,9541,Chocobo1,2018-09-25T03:44:24Z,"i don't object the idea, however i must say from my experience, revisiting an older code after some time takes much more time for the developer and outcome is usually not good enough quality. if is interested, we could try it out in this case (experiment).",0,0.9109033346176147
220054344,9541,glassez,2018-09-25T04:15:20Z,"so i suggest to keep list with postponed changes. we can have some instructions, where, what and how it should be changed. or we can even have commented changes inplace. well, i'm not insisting. i just thought we shouldn't break api too often.",0,0.9739360809326172
220064298,9541,glassez,2018-09-25T05:46:39Z,"forgive. i just got an email notification, and it was like you answered my question in this thread. but then i didn't find your answer here.",-1,0.9173005223274231
220064988,9541,glassez,2018-09-25T05:51:12Z,isn't `prioritizefiles()` enough?,0,0.9937997460365295
220776339,9541,Piccirello,2018-09-27T02:17:49Z,"i would be interested, maybe maintaining a separate branch with breaking api changes that can be merged pre-minor version bump.",0,0.9889373779296875
220777467,9541,Piccirello,2018-09-27T02:27:41Z,we still have to do some extra accounting since `prioritizefiles()` wants a list of priorities for all files in the torrent. but i think that's very doable and will allow us to get rid of `torrenthandle::setfilepriority()` entirely.,1,0.6177573800086975
220788066,9541,glassez,2018-09-27T04:04:30Z,fileids,0,0.9892784953117371
220789022,9541,glassez,2018-09-27T04:14:02Z,and have opened pr for it. let's try something!,1,0.969456672668457
220799893,9541,glassez,2018-09-27T05:49:05Z,"this namespace is redundant. it was a very outdated piece of code... either declare filepriority as enum class or move it to torrenthandle and use more meaningful names: ignoredfile, normalpriorityfile, etc. the second way will be easier for you, because it will require less changes to the existing code (enum class will require explicit cast to int).",0,0.682607889175415
220800063,9541,glassez,2018-09-27T05:50:20Z,anyway coding style should be fixed. add spaces around `=`.,0,0.9930483102798462
221478357,9541,Piccirello,2018-09-30T23:56:54Z,what's wrong with removing the `prio` namespace and keeping `filepriority` as an enum (non-class)?,0,0.9585234522819519
221492139,9541,glassez,2018-10-01T04:06:07Z,nothing wrong for me if we get meaningful names.,0,0.9414404034614563
221541773,9541,Piccirello,2018-10-01T09:17:52Z,"to me, ‘bittorrent::filepriority::ignored’ is descriptive and meaningful, but i take it you don’t agree?",0,0.9844278693199158
221647272,9541,glassez,2018-10-01T15:13:01Z,"yes, it's descriptive and meaningful. i'm ok with it if you'll use camel case: `bittorrent::filepriority::ignored`. but the question is, how are you going to get those names? old style enum doesn't produce its own namespace. so you either have to use the old ""perverse"" way of declaring it in an extra ""filepriority"" namespace, or you still have to use an enum class.",0,0.663772702217102
226881611,9541,Piccirello,2018-10-21T22:49:11Z,"i've moved the values into a `filepriority` class. this also allows us to support an `isvalidpriority()` function, which is needed to validate values from the webapi.",0,0.9934271574020386
226992837,9541,glassez,2018-10-22T13:47:57Z,very peculiar use of the class... you just use it as a namespace. i don't think that makes any sense.,-1,0.9086441993713379
226994149,9541,glassez,2018-10-22T13:53:09Z,it's better to avoid using of qlist unless it's strongly required. use qvector instead. and reserve needed amount of items before fill it.,0,0.9917353391647339
226994818,9541,glassez,2018-10-22T13:55:47Z,why not to merge this loop with the one above?,0,0.9870699644088745
227040668,9541,Piccirello,2018-10-22T16:16:34Z,so then i'll go back to having an explicit namespace for this. an enum class alone doesn't satisfy my requirements of having an `isvalidpriority()` method.,0,0.990571916103363
227043710,9541,glassez,2018-10-22T16:25:49Z,actually you have the same (explicit namespace for this) currently. additionally you use inappropriate language element to declare it. why not just declare it alongside with the affected enum class?,0,0.9892383813858032
227199401,9541,Piccirello,2018-10-23T02:13:34Z,"it made sense before, but can be refactored now that we use `prioritizefiles()`.",0,0.9930440783500671
227199421,9541,Piccirello,2018-10-23T02:13:45Z,will be removed due to merging the two loops,0,0.9894874095916748
227874448,9541,glassez,2018-10-24T16:54:41Z,now you should adjust used types to avoid multiple type cast (it should appear immediately after/before you need to use it as raw integer).,0,0.9939636588096619
228022040,9541,Piccirello,2018-10-25T03:05:51Z,"this has been implemented as an enum class now, with `isvalidfilepriority()` defined in an anonymous namespace inside `torrentscontroller.cpp`.",0,0.995509147644043
228046778,9541,Piccirello,2018-10-25T06:24:26Z,this was lazy on my part. i just pushed a new commit trying to minimize this.,-1,0.9326745271682739
228051009,9541,glassez,2018-10-25T06:47:09Z,i wouldn't create this var and just use `static_cast (prio)` inplace.,0,0.988689124584198
228051095,9541,glassez,2018-10-25T06:47:34Z,the same as above.,0,0.9920604228973389
228052170,9541,glassez,2018-10-25T06:53:01Z,the same as above.,0,0.9920604228973389
228053302,9541,glassez,2018-10-25T06:58:24Z,seems like it would be better to have `m_priority` and all related methods (here and in child classes) of type filepriority. i don't insist that you change it in this pr if it's too much for you.,0,0.982926607131958
232909485,9541,Piccirello,2018-11-13T06:22:56Z,"i've switch this class and all subclasses from using `int` to `bittorrent::filepriority`, where appropriate",0,0.9942589998245239
236032261,9541,Chocobo1,2018-11-24T04:40:56Z,`bool isvalidfilepriority(const bittorrent::filepriority priority)`,0,0.994787335395813
236060298,9541,Piccirello,2018-11-25T04:25:25Z,added `const` to the parameter,0,0.9955108165740967
236082729,9541,glassez,2018-11-25T17:36:41Z,seems like **filepriority** should be declared in its own header...,0,0.9874491691589355
236085819,9541,Piccirello,2018-11-25T19:07:54Z,"do we want a new header file just for this one enum class? seems it might be overkill, but i don't feel strongly.",0,0.8274891972541809
236086219,9541,glassez,2018-11-25T19:20:35Z,"overkill is include entire ""torrenthandle.h"" when we need only filepriority class. , what do you say? if it's no problem feel free to merge it.",0,0.7995268702507019
236086964,9541,Chocobo1,2018-11-25T19:41:43Z,"this idea actually has popped into my mind, it doesn't seem right that `torrenthandle` is exposed when we only need `filepriority`. i think there should be a file that has all these similar enum/struct defines (and their helper functions). maybe ""bitorrent/enums.{cpp, h}""?",0,0.9732692837715149
236140230,9541,glassez,2018-11-26T07:05:58Z,i would not combine different types in one header (unless they are very likely used adjacently).,0,0.9770544171333313
236944891,9541,Piccirello,2018-11-28T05:32:25Z,i'll move the enum class to its own header file.,0,0.993776798248291
238055014,9541,Piccirello,2018-12-01T07:01:34Z,move is complete,0,0.9744929671287537
238055839,9541,glassez,2018-12-01T07:46:26Z,please replace it with `#pragma once`,0,0.99483323097229
238055896,9541,glassez,2018-12-01T07:50:32Z,conflict,-1,0.7617217898368835
238151687,9541,Chocobo1,2018-12-03T06:00:21Z,i think this should be in filepriority.cpp.,0,0.9905551075935364
239316261,9541,Piccirello,2018-12-06T03:14:05Z,"agreed it should move to filepriority. but surely it can live inside the header file, no?",0,0.9928336143493652
239384295,9541,Chocobo1,2018-12-06T09:41:23Z,"the function will be inlined if placed in header, but it is only used in 1 place so ok.",0,0.9830635190010071
239393469,9541,glassez,2018-12-06T10:07:18Z,coding guidelines: this may change.,0,0.9835858345031738
239704356,9541,Piccirello,2018-12-07T06:17:30Z,"i'm having some trouble with this. i've created a `filepriority.cpp` with the following contents, and included it in `base.pri` and the appropriate `cmakelists.txt` [code block] but i get this compiler error:",-1,0.8650841116905212
239708260,9541,glassez,2018-12-07T06:47:14Z,"1. you should declare it in ""filepriority.h"" and then define in ""filepriority.cpp"" 2. you have not use `static` with it. `static` declares functions with **internal linkage** (i.e. it can be referred to from all scopes in the *current translation unit* only). actually anonymous namespaces are used for the same purposes currently. but you do want to use it outside of ""filepriority.cpp""! so you don't need it to be internally linked.",0,0.9892278909683228
239979119,9541,Piccirello,2018-12-07T23:58:13Z,removing the `static` keyword fixed it,0,0.9938130378723145
239993001,9541,glassez,2018-12-08T04:20:56Z,"oh, that `const` again... please hide your paranoia from others.",-1,0.9623669385910034
240027178,9541,Chocobo1,2018-12-09T07:59:01Z,please remove the `const` here (header file) and we can merge.,0,0.995715320110321
240043813,9541,Piccirello,2018-12-09T16:34:28Z,why just the header file? possibly some c++ specifics i don't know.,0,0.9779216647148132
240043939,9541,Piccirello,2018-12-09T16:38:28Z,how is this example any different than [a link]? the recommendations on passing by const value seem to be inconsistent. i only made this const because of that conversation.,0,0.9270716905593872
240044289,9541,glassez,2018-12-09T16:50:09Z,"this has been mentioned many times (including in conversations with you). it may make sense in function definition, but it is completely meaningless in the function declaration (moreover, it is misleading there).",0,0.7586399912834167
240083976,9541,Chocobo1,2018-12-10T04:51:18Z,"the usual advantages of using `const`. because it is a local variable, `const` or not is not relevant to the users of the the function, so we leave it out.",0,0.9893938899040222
240469383,9541,Piccirello,2018-12-11T04:21:31Z,thanks for the explainer. i've pushed the change.,1,0.8278314471244812
1133281696,18645,glassez,2023-03-12T16:07:56Z,"iirc, you're only compressing backups, right? then i would call it ""compressbackups"". and `m_storefileloggercompressbackups` accordingly.",0,0.9937938451766968
1133283535,18645,glassez,2023-03-12T16:18:08Z,wrong coding style. use `app` instead.,-1,0.6241879463195801
1133284163,18645,glassez,2023-03-12T16:22:18Z,why did you change it to use generic integer? i don't see enough reasons for that.,0,0.9764869809150696
1133399952,18645,brvphoenix,2023-03-13T02:54:37Z,"because the `filelogagetype` is only used in `deleteold` in fact and the underlying type `int` is used elsewhere. if you think this modification is unnecessary, i'll revert it.",0,0.9949321150779724
1133400039,18645,brvphoenix,2023-03-13T02:54:50Z,ok.,0,0.980760931968689
1135451337,18645,glassez,2023-03-14T12:15:11Z,"yes, please. filelogagetype is essentially not generic integer but enumerable type. so it's preferred to be implemented accordingly.",0,0.96384596824646
1137560220,18645,glassez,2023-03-15T18:12:10Z,filelogagetype,0,0.9862040281295776
1137563063,18645,glassez,2023-03-15T18:14:06Z,`const` is meaningless/confusing in declarations,0,0.8731534481048584
1137570275,18645,glassez,2023-03-15T18:19:48Z,it would be more efficient to add such guards in appropriate filelogger setters instead. settingvalue lookups value by string key among all the settings each time you access it.,0,0.9915708303451538
1138350505,18645,brvphoenix,2023-03-16T09:21:42Z,or use `cachesettingvalue` instead?,0,0.9951972365379333
1138567907,18645,glassez,2023-03-16T12:20:59Z,it is mostly intended for those settings that are read multiple times during regular runtime (i.e. when they aren't changed).,0,0.990497887134552
1140441434,18645,brvphoenix,2023-03-17T16:19:37Z,do you mean something like this? [code block],0,0.9949532151222229
1140613336,18645,glassez,2023-03-17T19:10:36Z,"no, of course! 1. just keep corresponding setters of application as they were before (i.e. without any guards against setting values) 2. don't add any guards in those filelogger setters where you just assign value to variable but only if changing value immediately causes some more or less expensive logic to be executed.",0,0.9196129441261292
1141372353,18645,brvphoenix,2023-03-19T14:09:46Z,reverted.,0,0.9197385907173157
1189845900,18645,glassez,2023-05-10T12:36:14Z,you should avoid putting translations in object if there is essentially real context exist: [code block] it should be applied in all the similar cases below.,0,0.9936874508857727
1189848987,18645,glassez,2023-05-10T12:38:56Z,the function name must have a verb form (in the vast majority of cases). just `compressbackupfile()` or similar.,0,0.9926559925079346
1229190899,18645,glassez,2023-06-14T08:05:50Z,also i found `before` and `after` confusing. it's better to use something like `sourcepath` and `destpath`.,0,0.9774286150932312
1239944087,18645,Chocobo1,2023-06-23T15:14:48Z,please use `utils::io::savetofile`.,0,0.9955552220344543
1239945206,18645,Chocobo1,2023-06-23T15:15:51Z,please use `utils::io::readfile`.,0,0.9952621459960938
1239953053,18645,Chocobo1,2023-06-23T15:23:31Z,"just pointing out. not sure what is the possible upper size limit of the log file, if the size is big (a few hundreds mb i guess) you are definitively going to see memory allocation failure reports coming in.",0,0.9382086396217346
1239961096,18645,Chocobo1,2023-06-23T15:31:27Z,also just pointing out (and wasn't looking closely at code). compression operation is slow so it is very preferable use its own thread.,0,0.9821653962135315
1239969143,18645,brvphoenix,2023-06-23T15:39:25Z,i added a function to compress files by qdatastream. what do you think about this? [a link],0,0.9602425694465637
1239999612,18645,Chocobo1,2023-06-23T16:08:39Z,"streaming should be better. although i'm not sure `qdatastream` is suitable here, afaik it is not a pure streaming interface and it will inject its own data/serialization to the stream. also don't have time to comment on the code details.",0,0.965543806552887
1240179083,18645,glassez,2023-06-23T18:44:43Z,used `readrawdata()/writerawdata()` methods are intended for [a link].,0,0.9958095550537109
1240212910,18645,glassez,2023-06-23T19:10:32Z,could you provide `decompress()` counterpart too? i would like to test them.,0,0.9951848387718201
1240224181,18645,glassez,2023-06-23T19:21:43Z,"also i perceive `qdatastream` as some kind of auxiliary tool, and i would prefer to see `qiodevice` in the interface of `compress()`/`decompress()` methods.",0,0.9920536279678345
1240653767,18645,brvphoenix,2023-06-24T09:16:22Z,superseded by stream read.,0,0.9930156469345093
1240658425,18645,brvphoenix,2023-06-24T09:24:55Z,the advantage of `qdatastream` is that it also be used to read from a byte array.,0,0.9912643432617188
1240660215,18645,glassez,2023-06-24T09:28:10Z,there is `qbuffer` adaptor class to use `qbytearray` as `qiodevice`.,0,0.994967520236969
1240660348,18645,brvphoenix,2023-06-24T09:28:42Z,added.,0,0.9917559623718262
1240842973,18645,Chocobo1,2023-06-24T15:08:34Z,"fyi, boost::iostream provides interface for gzip compression/decompression. it seems to be a good idea to utilize it (directly at where you need it) instead of creating our own generic streaming interface in utils/gzip.cpp [a link] [a link]",0,0.5566463470458984
1240884903,18645,brvphoenix,2023-06-24T16:27:59Z,"this will introduce an additional dependency on boost-iostream. i think this issue can be discussed later. if necessary, we can implement `utils/gzip.cpp` with boost::iostream directly.",0,0.9922569990158081
1240898184,18645,Chocobo1,2023-06-24T16:53:02Z,"qbt already have dependency on boost. anyway, don't forget to modify/add test cases to [a link].",0,0.9939206838607788
1240899421,18645,glassez,2023-06-24T16:56:50Z,:+1:,0,0.9328674077987671
1240899773,18645,glassez,2023-06-24T16:59:57Z,aren't the tests that already exist enough? they will use the new implementation indirectly anyway.,0,0.9792180061340332
1241037363,18645,brvphoenix,2023-06-25T05:17:15Z,"in fact, qbt only depends on boost's headless libraries. if boost::iostream is used, `with-iostreams` should be set when compiling boost. :thumbs_up:",1,0.9824192523956299
1241037390,18645,Chocobo1,2023-06-25T05:17:33Z,another concern. it seems windows 10 doesn't natively support opening .gz files with gui and at least 3rd-party app is required. so i would suggest you compress it to .zip files instead. note that windows 10 do support .gz files via native command line `tar` but i won't expect novice users to use it.,0,0.9644650220870972
1241037620,18645,Chocobo1,2023-06-25T05:19:27Z,"when testing (at least to public helper functions), you should treat the functions as black box and shouldn't assume its implementation. this pr introduce new public function so i expect test cases for it.",0,0.9873579740524292
1241042799,18645,Chocobo1,2023-06-25T05:40:41Z,i thought boost.iostreams was header-only and it isn't the case. so forget that idea. [a link],0,0.9573328495025635
1241095230,18645,glassez,2023-06-25T08:46:57Z,"another dependency? in any case, i would not consider this idea as a requirement. in other words, `windows 10 doesn't natively support opening .gz files with gui and at least 3rd-party app is required` does not seem to me a sufficient reason to reject this feature in its current form. adding support for `zip` archives is a separate issue (while `gzip` is already supported).",0,0.9800789952278137
1241144464,18645,Chocobo1,2023-06-25T11:31:44Z,"imo it is bad user experience. some novice user enabled compress log option (gui doesn't give any information about the format) and now cannot deal with it without googling or installing other tools. anyway i've already raised my concern. also since this option is off by default, i don't mind to turn a blind eye about it. yet i would still hope to see that the gui will inform the user about the format. offtopic: in linux world, there exist this tool: [a link] and it is prevalent. it seems to me that this pr does share part of the functionality with it (assuming logrotate can work with qbt logs) which more or less made me think that the point is moot for linux users.",-1,0.9803844094276428
1241146644,18645,glassez,2023-06-25T11:43:27Z,"imo, ""bad user experience"" is not the feature itself, but only ""gui doesn't give any information about the format"". so... :+1:",-1,0.9907875657081604
1241147258,18645,glassez,2023-06-25T11:46:38Z,"well, this means that linux users may (possibly) have an alternative to this built-in functionality of qbittorrent.",0,0.9918270111083984
1241179516,18645,brvphoenix,2023-06-25T13:36:37Z,"if using logrotate, the location of the log file should be specified manually. this is inconvenient for portable mode. besides, docker images may not provide logrotate. for qbittorrent-nox, if the location of the configuration file changes, the configuration of logrotate needs to be changed accordingly. if using [a link], the zip format support seems to be much more complicated than gzip. perhaps it should be considered in another pr.",0,0.9465330839157104
1241209802,18645,brvphoenix,2023-06-25T14:42:50Z,add a tooltip. [a link],0,0.9954426288604736
1241211999,18645,glassez,2023-06-25T14:49:18Z,"after reading such a statement, someone might think that the feature is not supported (not available) on windows without 3rd-party tools.",0,0.9766955971717834
1243117467,18645,Chocobo1,2023-06-27T04:10:21Z,"please move it to its own function (`testcompressqiodevice`). usually there is one-to-one mapping of private function in test class and the tested function. also you should thoroughly test it, for example: * `utils::gzip::compress(qiodevice(), buf);` * `utils::gzip::compress(buf, qiodevice());` * `utils::gzip::compress(qiodevice(), qiodevice());` to make promise that your function will handle invalid inputs gracefully without behaving bad. the same applies to `decompress` too.",0,0.9916433095932007
1243125742,18645,glassez,2023-06-27T04:26:05Z,"it seems that you are too biased about this. we are not writing a public library of utilities. maybe it would be worth limiting the requirements? even in public interfaces, the responsibility for the correctness of parameters is often left to the caller, so as not to bring matters to the point of absurdity, when a function devotes 90% of logic to checking parameters instead of useful work.",-1,0.610150933265686
1243133298,18645,Chocobo1,2023-06-27T04:41:06Z,"have you ever thought thoroughly of writing tests and their meanings? or can you stop your bad habit of accusing? in fact, i consider the suggested tests to be crucial, others i may not care. as you can see from qt docs, the underlying device won't be available all the time and therefore the function is expected to handle it correctly. at the very least, the function should not crash and these tests ***will*** ensure it. i've seen too many instances of the developer being too much of himself and imagine his code is bulletproof and won't crash.",0,0.6779606938362122
1243143826,18645,Chocobo1,2023-06-27T05:02:38Z,here is a counter example for you: [a link] note that the tests didn't cover it...,0,0.9912585616111755
1243164539,18645,glassez,2023-06-27T05:37:10Z,"i'm not accusing anyone, and even more so i don't have such a habit. sure. they need to make sure that the function (still) works as expected. but isn't it obvious that you first need to decide on what is ""works as expected"" in each specific case? that's what i was talking about. in this case, we could make an explicit separation of the input parameters into valid and invalid, and assign responsibility for this to the caller, and expect the function to work correctly only with valid parameters (so tests will follow only this expectation).",0,0.5062635540962219
1243321499,18645,glassez,2023-06-27T08:13:56Z,"it's just an example for me, not a ""counter example"". if `ok` parameter is purposely allowed to be ""omitted"" (i.e. `nullptr`), then it is expected that function correctly works in both cases, either with `ok` exised or not. so this aspect should be tested. see. but after all, it is not covered by tests of the existing function `utils::gzip::compress (qbytearray, qbytearray, bool*)`, isn't it? so it became possible to make changes to the implementation containing such a bug, and this was missed by the tests. but i definitely wouldn't expect passing null, uninitialized, not opened or opened in wrong mode `qiodevice` to be a valid use case. it can only exist if there is a logical error in the code. so it would be nice to first decide how to prevent such incorrect use, and only then do the tests. judging by your statements, you propose to handle all errors (including logical ones) in the same way and approve this as expected behavior by the presence of appropriate tests. (at least it looks that way to me. if i'm wrong, just correct me.) imo, it may make it harder to detect such logical errors if they appear in the future. therefore, i would simply add assertions to all the preconditions, and i would cover by tests only the correctness of the main work of the function, provided that the parameters are acceptable.",0,0.9855616688728333
1243398398,18645,Chocobo1,2023-06-27T09:07:48Z,"if ok parameter is purposely allowed to be ""omitted"" (i.e. nullptr), then it is expected that function correctly works in both cases, either with ok exised or not. so this aspect should be tested. to be clear, i was using the example to make a point that the interface should really be tested properly and it isn't ""bring matters to the point of absurdity, when a function devotes 90% of logic to checking parameters instead of useful work."" as you [a link]. even if such thing exists it probably means that interface is really important and needs to be tested. why make this assumption? under this (imo inappropriate) assumption you won't catch errors that could happen in the real world. for example the device is valid for some time but just closed before calling into the tested function. or it can even be closed when executing the function. i was thinking of using `std::expected` to report the errors when i wrote the reply. the concern of ""harder to detect logical errors"" is valid. but using assert makes it untestable (and remember no test means no guarantee that the code segment will be correct, you are relying on mere self confidence which doesn't mean much). throwing `std::logic_error` might be better since you can verify it with `qverify_throws_exception` and `qverify_throws_no_exception`. or perhaps `std::expected` can be utilized instead. i think you are only half correct about valid and invalid cases. the invalid cases are still important since you want the tested function to have a ""defined"" behavior when facing it. if invalid cases are not tested then you are basically saying the behavior is ""undefined"" which is no so great imo. therefore whenever possible, i would like to test it all even if ""defined"" behavior is crash, assertion or exception thrown, at least it is expected.",0,0.8947590589523315
1243698597,18645,glassez,2023-06-27T13:01:45Z,"in order to simplify the code. and this is a widely used approach used everywhere (do you really not understand what i'm talking about?). the only question is whether it is acceptable in this particular case or not. that is, what in this case is cheaper, more reliable, etc. - to do the processing of all the possible invalid parameters inside a function, or to respect some contract about acceptable parameters at the point of calling this function? i'm not sure exactly what this case is, so i keep debating about it.",0,0.5624646544456482
1243711598,18645,glassez,2023-06-27T13:10:36Z,"no, i'm talking specifically about the case when the function declaratively has ""undefined"" behavior in the case of invalid parameters. so (i repeat again) the question is whether this approach is acceptable in this particular case or not.",0,0.9824762344360352
1243722694,18645,glassez,2023-06-27T13:17:35Z,at least i would strongly disapprove to combine both of them as error handling of the same function.,-1,0.7023580074310303
1243752392,18645,glassez,2023-06-27T13:34:35Z,"that's exactly what i thought. but it doesn't really matter which method of error handling is chosen. i feel it questionable to handle logical errors in the same way as normal runtime errors. still, an error report like ""writing to the file failed because the file has read-only attribute"" makes sense for the user, but ""nullptr is an invalid value for some parameter"" - for the developer. although, i may be mistaken, and this is quite normal.",0,0.8274940848350525
1243789693,18645,brvphoenix,2023-06-27T13:54:07Z,"`qiodevice is abstract and cannot be instantiated, but it is common to use the interface it defines to provide device-independent i/o features.` which derived class do you want to test? i don't think they will make much difference...",0,0.9783437848091125
1243834587,18645,brvphoenix,2023-06-27T14:20:37Z,there should be no ambiguity now. [a link],0,0.9923906922340393
1243859274,18645,glassez,2023-06-27T14:35:07Z,"tooltip looks good for me now. but i would change `compress log files with gzip when backing up` with `compress backup logs with gzip` to be consistent with other options about backups. btw, i think it's better to use `log backups` instead of `backup logs`.",1,0.501205563545227
1243939786,18645,brvphoenix,2023-06-27T15:23:24Z,:ok_hand:,0,0.7940129041671753
1244601398,18645,brvphoenix,2023-06-28T02:50:24Z,"anyway, i add tests for invalid inputs. in fact, if the i/o device is invalid or can't be read or written to, the function will fail at these lines. [a link] [a link]",0,0.9930860996246338
1245587012,18645,Chocobo1,2023-06-28T18:09:17Z,i would like to ask to not update this function (`qbytearray compress(const qbytearray &...)`) internals as i have plans to minimize the buffer copy operations. this function is in hot path for webapi responses so it would make sense to optimize it imo.,0,0.9910229444503784
1245595593,18645,Chocobo1,2023-06-28T18:18:49Z,please preserve this comment.,0,0.9935277104377747
1245639428,18645,Chocobo1,2023-06-28T19:05:29Z,"imo if the function is local (reside in .cpp anonymous namespace or private function in some class) then it can be tailored, invalid parameters can be ignored or some preconditions/assertions can be made. however in our case here, the function is a bit more ""global"" so i would raise my expectation bar a bit higher. the (important) parameters should be properly checked and tested, since you cannot limit (or really know) which context it will reside. i don't understand. why not try ""define"" it instead of leaving it ""undefined""? btw depending on the context, intentionally leaving behavior undefined *might* lead to a software vulnerability... agree. perhaps the errors that are interesting for the users can be made into error status/messages, and other errors that are only interesting for the developers could be made as assertions (or exceptions)? in our case `qiodevice`, since a stable condition is not guaranteed (such as a unstable network drive). the function utilizing `qiodevice` should report the error to its caller (or user) when it happens imo. i would suggest to leave this ""error reporting"" work for another time as to avoid bogging down this pr.",0,0.9098888039588928
1246187933,18645,Chocobo1,2023-06-29T06:50:50Z,please read line 46. [code block],0,0.9945515990257263
1246214299,18645,brvphoenix,2023-06-29T07:15:54Z,fixed. thank you.,1,0.9910380840301514
1246245844,18645,brvphoenix,2023-06-29T07:42:55Z,reverted.,0,0.9197385907173157
1246246627,18645,brvphoenix,2023-06-29T07:43:35Z,added.,0,0.9917559623718262
1247537734,18645,Chocobo1,2023-06-30T07:33:54Z,the `const` will not be in .h but in .cpp only. [code block],0,0.9954577684402466
412644687,12574,NotTsunami,2020-04-22T03:37:56Z,i doubt maintainers are a fan of more things to maintain with versioning. why not: `- [a link]`,0,0.9596582651138306
412645374,12574,NotTsunami,2020-04-22T03:40:20Z,"skipping contractions is probably better for the minimally english speaking crowd. regardless, your contraction usage is inconsistent, line 26 doesn't use contractions while the rest of your cases do.",0,0.9656227231025696
412645985,12574,NotTsunami,2020-04-22T03:42:12Z,should the location of the settings file be mentioned if we're requiring it now?,0,0.9927391409873962
412861012,12574,FranciscoPombal,2020-04-22T10:24:19Z,"thanks, fixed",1,0.7960073947906494
412861176,12574,FranciscoPombal,2020-04-22T10:24:35Z,"thanks, fixed.",1,0.8536084890365601
412861707,12574,FranciscoPombal,2020-04-22T10:25:30Z,"that information is already present in the wiki faq, which we assume the user has read before posting.",0,0.9940034747123718
413982559,12574,LordNyriox,2020-04-23T17:22:25Z,": fyi, not everyone on windows will be using the official builds. prior to the addition of official 64-bit builds, i was relying on the (now outdated) [ ] repository for my windows builds. so perhaps... ...would work better?",0,0.9612529277801514
413986257,12574,glassez,2020-04-23T17:27:44Z,"i would remove ""if on linux"" at all. i never remember what versions are used by official windows/macos builds.",0,0.9901890158653259
413986966,12574,FranciscoPombal,2020-04-23T17:28:40Z,"there is an ongoing effort to make ""official"" nightly releases more easily available already: [a link] but it will still take a little while. when the time comes, we can make that adjustment in a separate pr. thanks for the reminder though.",1,0.9293414950370789
589716754,12574,thalieht,2021-03-08T20:12:49Z,"has there ever been an issue that was verified to be caused by a specific os version? unless you mean win 7 8 10 in which case ""version"" is redundant because it's always mentioned. i would change that to something that would make the reporter mention it if it's anything not standard. i wouldn't want to read in 95% of issues ""installed from the official site"".",0,0.9782702922821045
589719239,12574,thalieht,2021-03-08T20:17:16Z,"i would swap positions with ""what is the expected behavior"" (right above)",0,0.99234539270401
589719404,12574,thalieht,2021-03-08T20:17:30Z,maybe add [a link],0,0.9947060942649841
589720856,12574,thalieht,2021-03-08T20:19:59Z,i don't think that's desirable. not all prs close something.,0,0.8567021489143372
589931293,12574,Chocobo1,2021-03-09T04:25:08Z,wrong site,-1,0.6180506348609924
597653718,12574,xavier2k6,2021-03-19T12:53:27Z,maybe not 100% by us directly **but** builds 1903/1909 are notorious for high cpu usage & high dpc latency issues. also there's been issues with vpn's up to build 1909. **version** - would possibly be insignificant if minimum os build is raised.....(qt6 etc.),0,0.7842079997062683
603598058,12574,sakkamade,2021-03-29T20:39:46Z,"i very much wonder that many, even if they _will_ look through thousands of issues, would be able to come across a similar one. in my opinion here should also/only be enclosed link of [a link].",-1,0.6961883306503296
639118058,12574,FranciscoPombal,2021-05-25T19:19:29Z,solved.,0,0.9867442846298218
639118135,12574,FranciscoPombal,2021-05-25T19:19:37Z,resolved.,0,0.9832034111022949
639118244,12574,FranciscoPombal,2021-05-25T19:19:50Z,resolved.,0,0.9832034111022949
639118376,12574,FranciscoPombal,2021-05-25T19:20:05Z,resolved.,0,0.9832034111022949
639118469,12574,FranciscoPombal,2021-05-25T19:20:13Z,resolved.,0,0.9832034111022949
639118609,12574,FranciscoPombal,2021-05-25T19:20:26Z,resolved.,0,0.9832034111022949
639146305,12574,thalieht,2021-05-25T20:06:05Z,"why does this need verification? ""mandatory"" is already written in the corresponding section.",0,0.9888140559196472
639146992,12574,thalieht,2021-05-25T20:07:21Z,is it necessary to split them in 2 lines? i would just leave them as (type here). same above for version and os.,0,0.9952883720397949
639147032,12574,thalieht,2021-05-25T20:07:25Z,link them to [a link],0,0.9957473874092102
639147111,12574,thalieht,2021-05-25T20:07:32Z,is this necessary?,0,0.9908896088600159
639323127,12574,FranciscoPombal,2021-05-26T00:37:19Z,"i've seen people forget either one or the other quite often, in both cases. this way it's fullproof. users usually also use 2 lines for this, so there is really no difference in already having it right there.",0,0.9580492973327637
639324397,12574,FranciscoPombal,2021-05-26T00:41:11Z,"indeed, probably not. addressed by noting in the comments that the user is expected to fill out all `(type here)` fields.",0,0.9874070286750793
639324472,12574,FranciscoPombal,2021-05-26T00:41:23Z,"thanks, fixed (in the corresponding checkbox, because stuff like this probably should not be part of a subsection title).",1,0.9559609293937683
639325060,12574,FranciscoPombal,2021-05-26T00:43:15Z,fixed.,0,0.9905837774276733
639335596,12574,sakkamade,2021-05-26T01:16:57Z,"rather excessive, no? what about simply `e.g.: [x]` to 25th line?",0,0.9514150023460388
639336996,12574,sakkamade,2021-05-26T01:21:43Z,[code block] so it might be easier for user to distinguish this section as more important.,0,0.9922803640365601
639337431,12574,sakkamade,2021-05-26T01:23:07Z,here too.,0,0.9698454141616821
639705574,12574,FranciscoPombal,2021-05-26T13:04:56Z,"thanks, fixed.",1,0.8536084890365601
639705682,12574,FranciscoPombal,2021-05-26T13:05:05Z,"thanks, fixed.",1,0.8536084890365601
639705765,12574,FranciscoPombal,2021-05-26T13:05:12Z,"thanks, fixed.",1,0.8536084890365601
686397553,12574,thalieht,2021-08-10T23:58:42Z,"after reading a few issues, these ""qbittorrent version:"" and ""operating system(s) where the issue occurs:"" are disrupting the flow of reading. i can't easily filter them to get to the juicy part and furthermore i think they are unnecessary. a simple ""(type here)"" is sufficient imo. same goes for the section below.",0,0.6574758291244507
1427713914,20118,glassez,2023-12-15T08:52:30Z,we do not use `get` prefix (with rare exceptions) [code block],0,0.9942147135734558
1427719814,20118,glassez,2023-12-15T08:58:21Z,"how about changing ""detecting"" to ""n/a""? not all users have such large monitors as you, and among those who do, not all have the desire to stretch the qbittorrent window to the full screen and shake their heads left and right to view it.",0,0.9747145771980286
1427763930,20118,glassez,2023-12-15T09:39:23Z,"of course, the ip address will still be longer. but in any case, all we can say about this is that the information about external address is currently ""not available"". imo, ""detecting"" looks speculative.",0,0.9371598958969116
1428221443,20118,OdinVex,2023-12-15T17:08:17Z,"i saw some other 'get' naming conventions used throughout the project (and non-'get'). some modern apis i've come across have begun to use 'get', so i figured i'd go with what is more recently used. your choice.",0,0.9820014834403992
1428226725,20118,OdinVex,2023-12-15T17:13:24Z,"i don't know how that would differentiate between ""not available...*yet*"" and other states such as failed, but i do agree about 'detecting' sounding speculative. perhaps more information should be communicated to the frontend from the means that qbittorrent uses to detect. ""detecting/detection failed"" etc? as for how much space is used...at this rate it's looking like you want just external addresses printed and nothing else which, quite frankly, leaves me baffled as to what the information would be.",-1,0.8552640080451965
1428228292,20118,OdinVex,2023-12-15T17:14:57Z,"ah yeah, forgot about that. when the naming for that get function is settled i'll address as a single commit.",0,0.9484553933143616
1428230999,20118,OdinVex,2023-12-15T17:16:42Z,"i forgot to format, my bad. when the naming for that get function is settled i'll address this one into a single commit as well.",-1,0.9887506365776062
1428695550,20118,Chocobo1,2023-12-16T05:17:29Z,doesn't look like you need to remove the `const`: [code block],0,0.993020236492157
1428696478,20118,Chocobo1,2023-12-16T05:21:39Z,"wrong order, keys are sorted alphabetically here.",0,0.6447302103042603
1428697494,20118,Chocobo1,2023-12-16T05:26:00Z,copy paste error?,0,0.9150588512420654
1428698907,20118,Chocobo1,2023-12-16T05:32:48Z,"although unlikely, i would still suggest using other character for replacement specifier. maybe `$1`, `$2` see: [a link]",0,0.9874747395515442
1428701136,20118,OdinVex,2023-12-16T05:42:42Z,... i didn't see anything that required it.,0,0.9416803121566772
1428701455,20118,OdinVex,2023-12-16T05:43:41Z,i thought i added that back with the latest commit.,0,0.993374764919281
1428702188,20118,OdinVex,2023-12-16T05:46:36Z,i followed the previous conventions used by qbittorrent for other variables used similarly.,0,0.9912053942680359
1428703171,20118,OdinVex,2023-12-16T05:51:00Z,"yeah. -_-; too tired to address right now, will do later.",-1,0.9950563907623291
1428703991,20118,OdinVex,2023-12-16T05:54:54Z,"i didn't think any device was allowed to start with a number, so i didn't think there any chance of running into %[0-9] with %[0-9] being some interface. i could be wrong but i thought no device could start with [0-9].",0,0.9852478504180908
1428708433,20118,Chocobo1,2023-12-16T06:13:41Z,"unfortunately, according to the linked article, windows will use %[0-9] format:",-1,0.8884082436561584
1428870495,20118,OdinVex,2023-12-16T17:39:25Z,"for the webui, i believe it should work to do this in reverse-order. ex: `$('externaladdresses').set('html', last_external_addresses.replace(""%2"", last_external_address_v6).replace(""%1"", last_external_address_v4));` similarly i think the gui should do the same (reverse order) and always specifically replace *the first* occurrence only. edit: i'm away from rig for the day.",0,0.9850913882255554
1428877516,20118,OdinVex,2023-12-16T18:10:32Z,"then again, some people use torrent clients on closed networks (so local ip address(es)), so maybe it can make sense.",0,0.9864860773086548
1476477359,20118,OdinVex,2024-02-02T17:48:55Z,"i forgot to ask, does qb supply those interfacings or does qb just supply the ip address? if it's ip address then we don't need to account for which interface (unless interface is added to ip addresses). my only test case for this info has been linux.",0,0.9704940319061279
1477338690,20118,Chocobo1,2024-02-04T14:55:45Z,i can see the interface parts in qbt under windows.,0,0.9935652613639832
1477338997,20118,OdinVex,2024-02-04T14:57:21Z,"so the remote server that replies with an external address somehow knows which interface? it's a text reply from a get 200. this is why i'm confused as to why. (the external address is fetched from a remote server, not your local interface...) edit: i'm possibly not clear enough. qbittorrent uses a remote server to determine your external ip address, it's a third-party api/request... this is not at all about getting the local ip address even if it is your external, this is about reporting ""what the world sees"" as your external address (which will probably be your local address if it's a vpn/vps/local installation with a public ip address).",0,0.575909435749054
1477349663,20118,Chocobo1,2024-02-04T16:03:12Z,"this is why i said it is ""unlikely"" in my [a link]. surely using a different placeholder character that would avoid all potential problems isn't a bad idea or even difficult, no?",0,0.975361704826355
1477350006,20118,OdinVex,2024-02-04T16:05:22Z,"i saw that but i think you might be confused. i certainly am with the reasoning behind this. qb does not ask windows for anything at all. it literally makes a web request to a remote server (think ""what's my ip address"" in a search engine query) and returns the result. there's no way for the remote end to know what interface...it only sees the address. the data returned would never have an interface. and no, qt doesn't support another parsing character besides percent.",0,0.7818503975868225
1477350726,20118,Chocobo1,2024-02-04T16:09:47Z,what qt? here we are talking about javascript.,0,0.9907482266426086
1477352128,20118,OdinVex,2024-02-04T16:18:22Z,"""qbt_tr"" ... the backend is qt and this part uses qt parsing, for localization and such. plus the code exists in qt as well for the non-nox users.",0,0.9941918253898621
1477365569,20118,Chocobo1,2024-02-04T16:32:50Z,that 'special annotation' has nothing to do with `%` or `$` or any character used for replacement purpose. i'll just provide the code: [code block] see the `.replace()`? here is the documentation: [a link],0,0.9950827360153198
1477366368,20118,Chocobo1,2024-02-04T16:38:11Z,"i don't intend you to change that. gui, webui have their own set of translation strings and here i'm only talking about webui.",0,0.9534929394721985
1477367506,20118,OdinVex,2024-02-04T16:45:14Z,"\*facepalm\* my mind kept telling me ""qbt_tr"" was qt's localization. i think i kept the string the same as qt's to reduce how many duplicate translations of text were needed, old habit from single-ui development. i think your solution would work, yes. i don't have any of the src anymore since i went ahead to write a violentmonkey that gave me everything i needed.",0,0.4996841847896576
1484230609,20118,glassez,2024-02-09T12:00:38Z,`libtorrent` gets the external addresses from trackers and peers. this is clearly stated in the documentation (and i can confirm this based on an inspection of the `libtorrent` code).,0,0.9933682084083557
1484337632,20118,OdinVex,2024-02-09T13:46:23Z,"i must've been thinking about another client then. still, there isn't any way for a peer or tracker to know which interface the client is using, so the entire point seems moot.",0,0.892174482345581
1484376540,20118,glassez,2024-02-09T14:13:53Z,"sorry, i don't know much about ipv6. what exactly are you talking about when you mention the interface? about the zone identifier, e.g. `%eth0`?",-1,0.9797716736793518
1484402773,20118,OdinVex,2024-02-09T14:33:34Z,"somewhere on this long thread someone mentioned something about not using `%` in qt api calls because the ipv6 address might have the zone identifier reported and it'd break it but they're assuming that qbittorrent includes that information...when it gets that address from a remote server (peer/tracker/site). the remote endpoint wouldn't have a clue about which interface qbittorrent is using and won't report that. edit: there was also suggestion around modifying the javascript implementation of that string, i can't remember what it was. i've got too much to do and qbittorrent isn't a high priority. the initial src offering was fine but there's no way to please everyone, so i've stuck to my violentmonkey script which does exactly what i want. edit: too long a thread, unable to search and follow it anymore hardly.",0,0.9108517169952393
1485592645,20118,glassez,2024-02-11T13:13:56Z,"iirc, zone id is ""locally significant"" (enables us to define out which interface we want to send some traffic) and there is no point to send it to remote host as part if its ""external address"". but we still can't be sure that it isn't sent in such a way (with zone id) so the question is how is it handled by libtorrent, i.e. can it provide we ""external address"" that mistakenly contains such zone id.",0,0.991945207118988
1485592930,20118,OdinVex,2024-02-11T13:15:54Z,"someone familiar with libtorrent's api should weigh in. i resorted to a vm script, so i'm fine and qbittorrent can do with this pr as they want.",0,0.9743771553039551
141928986,7522,Chocobo1,2017-09-29T17:56:55Z,i hope this comment (and the ones below) could stay (here and in conf.pri.*). for me it's easier to track which defines belongs to whom.,0,0.8969261050224304
141930268,7522,Chocobo1,2017-09-29T18:02:40Z,not related to this pr: i find these comments (point this to ...) somewhat redundant. imo just one at the top saying `point to the include folder` and another below `point to the lib folder` is enough.,0,0.8862758278846741
141930847,7522,glassez,2017-09-29T18:05:31Z,isn't it obvious that the definition like boost_* belongs to boost?,0,0.9927278757095337
141931484,7522,zeule,2017-09-29T18:08:26Z,"this and the next files encourage to install each library into its own directory. i have no idea what are the advantages of this method, but it is certainly more complicated than installing everything into a single directory. why should we ""advertise"" the complicated approach? what are the advantages?",0,0.5142418146133423
141931584,7522,Chocobo1,2017-09-29T18:08:55Z,"yes, i think either there is a comment for each lib or an empty line separating each lib (in conf.pri.*).",0,0.9900700449943542
141931798,7522,zeule,2017-09-29T18:10:02Z,maybe we can again discuss dropping the xp support?,0,0.9862849712371826
141932074,7522,zeule,2017-09-29T18:11:08Z,this was said already ten lines earlier.,0,0.9856656193733215
141932221,7522,zeule,2017-09-29T18:11:51Z,duplicates too.,0,0.9085003733634949
141932359,7522,zeule,2017-09-29T18:12:34Z,doesn't boost use automatic linking on msvc?,0,0.9927735924720764
141932731,7522,zeule,2017-09-29T18:14:13Z,this and a few lines below duplicate lines 35 -- 39,0,0.9918063879013062
141932994,7522,Chocobo1,2017-09-29T18:15:20Z,"for me, **iff** it doesn't trade off something & it's easy to support it, i won't bother.",-1,0.88508141040802
141937594,7522,glassez,2017-09-29T18:35:18Z,don't try to turn windows into unix :) on windows everything usually installs into separated directory.,1,0.9915063977241516
141937975,7522,glassez,2017-09-29T18:37:08Z,oops... i'll remove duplicates.,-1,0.960877537727356
141938200,7522,glassez,2017-09-29T18:38:08Z,"as i recall, i had problems with it earlier.",0,0.9512329697608948
141938468,7522,glassez,2017-09-29T18:39:31Z,ok.,0,0.980760931968689
141940337,7522,zeule,2017-09-29T18:47:46Z,what is the purpose of `boost_system_static_link=1` above?,0,0.9932872653007507
141999290,7522,glassez,2017-09-30T06:17:34Z,"iirc, currently build-time support mostly needed. so it's headache... although, as i recall, we still have some code associated with the xp support. in any case, i'm not against it as long as it does not impede the further development of the project.",0,0.5094611644744873
141999321,7522,glassez,2017-09-30T06:20:29Z,"i don't know exactly. it's something to do with static linking, so personally i don't use it in my configuration (because of dynamic linking there).",0,0.9638953804969788
141999811,7522,glassez,2017-09-30T06:52:19Z,i'll try it later.,0,0.9727722406387329
142000414,7522,glassez,2017-09-30T07:26:16Z,"well, for some reason `boost_all_no_lib` is used to prevent auto-linking. i've moved it to the user config example file so somebody can use auto-linking. btw, boost isn't support visual studio 2017 for now so it can't auto-link libraries build with this compiler version.",0,0.9896809458732605
142001958,7522,zeule,2017-09-30T08:56:15Z,rc_0_16? are you sure?,0,0.992084801197052
142001965,7522,zeule,2017-09-30T08:56:34Z,same here.,0,0.9916109442710876
142001978,7522,zeule,2017-09-30T08:57:27Z,"please change the defaults because this pr will be merged in 3.4, which will b built with libtorrent 1.1 by default.",0,0.9953064322471619
142002019,7522,zeule,2017-09-30T09:00:56Z,"this controls dynamic linking. please, move it to the boost libs section and add a comment explaining that either explicit library names can be given together with `boost_all_no_lib` definition, or library names can be controlled via this definition.",0,0.99613356590271
142002033,7522,zeule,2017-09-30T09:01:58Z,1.1 is the default for 3.4. please uncomment the next line and change the comment appropriately.,0,0.9945687055587769
142002062,7522,zeule,2017-09-30T09:03:24Z,why does this template file list not all required boost librariees?,0,0.9892694354057312
142002290,7522,glassez,2017-09-30T09:17:42Z,"i just moved this (yes, yes, outdated) code... of course, i can update it incidentally if you want.",0,0.9700535535812378
142002307,7522,glassez,2017-09-30T09:19:05Z,ok.,0,0.980760931968689
142002347,7522,glassez,2017-09-30T09:21:49Z,ok.,0,0.980760931968689
142002668,7522,glassez,2017-09-30T09:38:47Z,"what other libraries are required? afaik, boost.system is only directly required boost library. in my config i also have the line for boost.datetime (compilation fails without it). some other libraries (chrono, filesystem, random, thread) are also linked indirectly. i have not delved much, why is it...",0,0.7640566825866699
142002836,7522,glassez,2017-09-30T09:51:06Z,i think we can omit this definition since it is default: [a link],0,0.9909638166427612
142007526,7522,Chocobo1,2017-09-30T14:43:49Z,"nitpick though, `libtorrent` in place of `rc_1_1` is more clear. also i would use `boost` in place of `boost_1_64_0`.",0,0.989912211894989
142007559,7522,Chocobo1,2017-09-30T14:45:06Z,`-lc:/qbittorrent/rc_1_1/lib` ?,0,0.9945406317710876
142007590,7522,Chocobo1,2017-09-30T14:46:14Z,"the capitalized z bothers me... these are just some changes i would do, you can decide yourself.",-1,0.9231392741203308
142009871,7522,silverqx,2017-09-30T16:40:39Z,"when i have enabled this with libtorrent 1.1.4, qbt crashes during strat.",0,0.8607860803604126
142011092,7522,sledgehammer999,2017-09-30T17:31:55Z,"guys i have delved into this and see my patch and discussion here: [a link] short summary: if we're in c++11 mode only boost.system is needed. however, autotools/bjam doesn't reflect that. but if we ommit them during qbt linking it does work. ps: i assume libtorrent's cmake is also broken.",0,0.9588220715522766
142011160,7522,sledgehammer999,2017-09-30T17:33:49Z,"if we install under same base dir we have: `c:/qbittorrent/include` <--- libtorrent and other ""normal libs"" `c:/qbittorrent/include/boost_1_64_0` <---- boost includes but yeah, removing version info is better imo",0,0.9733558893203735
142011595,7522,silverqx,2017-09-30T17:55:27Z,"this are mandatory system libraries, can be moved to winconf.pri, with mingw system libraries too and use condition, like: [code block] or if i think about that, they can be moved all to winconf.pri, here can be problem, that openssl 1.1 has other names for library files. or libeay32.lib and ssleay32.lib can stay in example conf.pri.msvc",0,0.9853663444519043
142012333,7522,glassez,2017-09-30T18:36:09Z,"ok, good idea. done.",1,0.9713564515113831
142012341,7522,glassez,2017-09-30T18:36:28Z,of course. done.,1,0.554148256778717
142012348,7522,glassez,2017-09-30T18:36:48Z,fixed.,0,0.9905837774276733
142012401,7522,glassez,2017-09-30T18:39:11Z,i think yes.,0,0.967261016368866
142012469,7522,glassez,2017-09-30T18:44:01Z,both libtorrent and qbittorrent should be built with this flag enabled (or disabled). i'll disable it here by default and put appropriate comment.,0,0.9952446818351746
142019086,7522,sledgehammer999,2017-10-01T02:19:42Z,the boost.filesystem and boost.thread aren't needed in either branch. they are leftover dependencies from pre-rc_0_16 era. i didn't bother to update mingw conf in the repo.,0,0.9932211637496948
142025317,7522,glassez,2017-10-01T09:45:15Z,ok. fixed.,0,0.9841457009315491
142025488,7522,glassez,2017-10-01T09:53:59Z,"i'm confused by this line. isn't it should be `config(release, debug|release)`?",-1,0.9257678985595703
142025624,7522,zeule,2017-10-01T10:04:50Z,"""for using"" or ""to use""",0,0.9924936294555664
142025644,7522,zeule,2017-10-01T10:06:04Z,"""this"" in each line is unneeded, imo.",0,0.9816665649414062
142026041,7522,silverqx,2017-10-01T10:31:31Z,"you can simply try it, put `message(im in)` into this block, i tried it and that block is doing nothing, is executed in debug and in release too. anyway, `qmake_cxxflags_release += -zi` this flag is used only in release build, so it doesn't matter. question is, if we want to generate debug info for debug and release builds, it is described [a link] we have to options, call it like this, without the `release {` block: [code block] or: [code block] and here is the scope syntax [a link] i think that author of this `release {` block, intended to run this block only in release builds",0,0.9913102388381958
142026278,7522,silverqx,2017-10-01T10:43:05Z,"this `release {` block was added by in `git show 1f0d4ce871292199b4c1ea082ef14f27a96fc1ba`, this block was intended to run only in release build ( by comments ), i checked it in deepgit :), but is more relevant to tell... :)",1,0.9916553497314453
142056784,7522,Chocobo1,2017-10-02T04:33:14Z,"conf.pri doesn't exist by default right? if that so, then it might be better to: [code block]",0,0.9904740452766418
142056912,7522,Chocobo1,2017-10-02T04:36:17Z,why don't you use `win32-g++* {} else {}` here?,0,0.9917125701904297
142057080,7522,Chocobo1,2017-10-02T04:39:49Z,"or both `win32-msvc*`, `win32-g++*`...",0,0.9927129149436951
142057449,7522,glassez,2017-10-02T04:48:23Z,this is just example config. user will edit it and remove unneeded lines.,0,0.9934499859809875
142057515,7522,glassez,2017-10-02T04:50:15Z,i thought about it. need to try...,0,0.8237654566764832
142057911,7522,Chocobo1,2017-10-02T04:59:49Z,and what about adding `conf.pri` to .gitignore ?,0,0.9949524402618408
142058115,7522,Chocobo1,2017-10-02T05:04:22Z,"it's clearer for me to have `win32- {}` block, so i know immediately where i need to modify, just saying. (not a change request)",0,0.990190863609314
142058586,7522,glassez,2017-10-02T05:12:56Z,it's already there.,0,0.9890215992927551
142058667,7522,glassez,2017-10-02T05:14:29Z,really i would have only one example branch.,0,0.9606534242630005
142106797,7522,glassez,2017-10-02T10:47:49Z,ok. fixed.,0,0.9841457009315491
142106835,7522,glassez,2017-10-02T10:48:03Z,removed.,0,0.9612457156181335
142109681,7522,glassez,2017-10-02T11:01:24Z,done.,0,0.9897913336753845
142139484,7522,Chocobo1,2017-10-02T13:33:20Z,"no need for this comment. tested, it works as intended.",0,0.5502014756202698
142163427,7522,glassez,2017-10-02T14:59:20Z,sure. copy-paste issue...,0,0.9835013747215271
142172045,7522,glassez,2017-10-02T15:28:16Z,"qmake_cxxflags_release, qmake_lflags_release used now instead of `release` scope.",0,0.9944016337394714
142177981,7522,Chocobo1,2017-10-02T15:48:15Z,wouldn't using `qmake_lflags` here more suitable? since we always want debug info.,0,0.9879856705665588
142178124,7522,Chocobo1,2017-10-02T15:48:46Z,both line can be collapsed to `qmake_cxxflags`,0,0.9959420561790466
142178165,7522,Chocobo1,2017-10-02T15:48:56Z,both line can be collapsed to `qmake_cxxflags`,0,0.9959420561790466
142178732,7522,Chocobo1,2017-10-02T15:50:49Z,would use `win32-msvc*` here,0,0.9953969120979309
142178937,7522,Chocobo1,2017-10-02T15:51:34Z,"would use `win32-msvc*` here... overall it's pretty good, if you don't wish to change anymore, i'll give my approval.",1,0.9454611539840698
142444485,7522,silverqx,2017-10-03T15:56:34Z,"`built with this flag defined`, do not understand this line",0,0.9925521612167358
142451402,7522,glassez,2017-10-03T16:22:46Z,this line is just a continuation of the previous one. this flag should be defined if you link with libtorrent compiled with this flag defined.,0,0.9949840307235718
142478746,7522,silverqx,2017-10-03T18:09:38Z,"ohh yes, got it thx",0,0.8196104168891907
18224500,1984,Gelmir,2014-09-30T15:28:36Z,"`winver` is detected/defined during compile time, don't use it. just rely on `getprocaddress` to ensure that function is present in the library.",0,0.993697464466095
18224739,1984,Gelmir,2014-09-30T15:31:27Z,why qt5-only restriction? if `installnativeeventfilter` only works in qt5 maybe we can just ignore windows native events altogether and always defer shutdown from qbtsession destructor?,0,0.9884379506111145
18241569,1984,paolo-sz,2014-09-30T19:40:28Z,"well, first of all i wanted to be as much conservative as possible avoiding to inject code which i would not been able to test. in second instance because i was not completely sure (i only made a fast search) qabstractnativeeventfilter and installnativeeventfilter were fully supported on qt prior to 5. now i googled better and i understand qabstractnativeeventfilter is supported while installnativeeventfilter is not supported (if i understand correctly the qt documentation, i need to reimplement qcoreapplication::wineventfilter instead). no we cannot. i tried that way but i found it is only working when you shutdown just after closing qbt. it doesn't works if you shutdown without closing qbt. i will try to write down the two implementations for 5.x and 4.x (7 or 8)...",0,0.9551079273223877
18241861,1984,paolo-sz,2014-09-30T19:45:33Z,"this is exactly the way i would like to follow too. but, instead to rely directly on getprocaddress success, i would like to implement a specific check using getversion fuction or something similar. this, at least, should avoid a failure debug message where it is not a real failure.",0,0.9714250564575195
25558602,1984,glassez,2015-02-28T16:12:47Z,"explicitly use unicode version of winapi functions and wchar_t string constants with it (eg. getmodulehandlew(l""user32.dll"") and so on).",0,0.9940000772476196
25558615,1984,glassez,2015-02-28T16:14:57Z,use simple 0 as null-pointer constant.,0,0.9926425814628601
25558639,1984,glassez,2015-02-28T16:17:42Z,use `true` and `false` as bool constants (true and false is of type int).,0,0.9939779043197632
25558655,1984,glassez,2015-02-28T16:20:01Z,from qt docs:,0,0.9861897826194763
25558827,1984,sledgehammer999,2015-02-28T16:41:55Z,better do `if (!shutdownbrcreate)`,0,0.9928132891654968
25559755,1984,sledgehammer999,2015-02-28T18:20:56Z,can you give a screenshot of this situation? i cannot understand on which dialog you are refering to.,0,0.971362292766571
25589543,1984,paolo-sz,2015-03-02T10:39:17Z,"after a few seconds you have chosen to shutdown/log-off, a dialog with a progress bar appears, if you wait the progress bar to complete, another dialog appears offering you to ""end now"" or ""cancel"" the shutdown. i'm referring to this latest dialog (here is the screenshot) ![a link] without this pr the ""end now"" and ""cancel"" button have exactly the same behavior: suddenly kill the application.",0,0.9394479393959045
503008062,13498,NotTsunami,2020-10-12T02:28:39Z,this should be moved into the prior #ifndef disable_gui check,0,0.9952534437179565
503008223,13498,NotTsunami,2020-10-12T02:29:26Z,also needs to be guarded,0,0.9930919408798218
503008529,13498,NotTsunami,2020-10-12T02:30:57Z,"the old !(params.nosplash || preferences::instance()->issplashscreendisabled()) check is removed entirely, so splash screen is displayed regardless of preferences, as xavier mentioned.",0,0.9944732785224915
61680155,5195,Chocobo1,2016-05-01T05:52:13Z,is it possible to use qt's hash here?,0,0.9945749044418335
61680297,5195,Chocobo1,2016-05-01T06:05:58Z,"if i read correctly, this statement could be simplified: [code block] so you won't need to include ` `",0,0.9911596179008484
61690404,5195,zeule,2016-05-01T18:01:13Z,[code block] ?,0,0.9939754605293274
61721347,5195,glassez,2016-05-02T09:49:27Z,will be very readable! (i hope you understand that i don't think so),1,0.994090735912323
61721393,5195,glassez,2016-05-02T09:50:10Z,you save the lines?,0,0.9952412843704224
61723471,5195,zeule,2016-05-02T10:16:11Z,"indeed. how should i know? with `if`: dangling variable declaration, `= false` is meaningless, then when one starts to read the `if` construction it's impossible to predict immediately what is inside. frome the other hand, my one-liner shows from the very beginning that its is an initialisation, and that value depends on a condition. what functions are called to get the values is not so important. and, if you like, it can be written, for instance, as follows: [code block] so i propose not to break declaration and initialisation.",0,0.9683391451835632
62428944,5195,glassez,2016-05-08T08:41:02Z,why do you remove this assertion?,0,0.9931748509407043
62428954,5195,glassez,2016-05-08T08:42:02Z,group this (and .cpp) with other rss files.,0,0.994263231754303
62428979,5195,glassez,2016-05-08T08:44:07Z,we use qbt_uses_qt5 instead of explicit version check.,0,0.9941607117652893
62429006,5195,glassez,2016-05-08T08:46:43Z,"since this file is in ""base/rss"" directory you should omit it in include statements.",0,0.9950982928276062
62433655,5195,mgziminsky,2016-05-08T15:27:10Z,"because it seemed unnecessary and gets triggered in certain cases with my changes. the logic right below it is already wrapped in the same condition, so having the assert as well just reduces the usefulness of this function.",0,0.9257813692092896
62433665,5195,mgziminsky,2016-05-08T15:28:03Z,"i can, but why? this is a qtcreator project file, what's the point in managing it by hand?",0,0.9697660207748413
62434293,5195,glassez,2016-05-08T16:12:46Z,but we should not have two files (feeds or folders) with the same id here! i have not yet checked your changes completely but i still think it looks like a mistake.,-1,0.8767949938774109
62434308,5195,glassez,2016-05-08T16:14:21Z,"it's **qmake** project file! we manage this in different ways, and often manually.",0,0.9783867597579956
62434331,5195,mgziminsky,2016-05-08T16:16:32Z,"if you call this with an existing item, the if statement right below it will prevent it from being added, resulting in the function call being a no-op. imo, that is the correct behavior, and what i would expect to happen. the fact that it causes a crash in debug mode i think is pointless. if you add an item to a set that already has the item, it doesn't cause the program to crash, it just silently ignores it. it's the same idea here.",0,0.7500168681144714
62434430,5195,glassez,2016-05-08T16:23:31Z,it is a good idea. but are you sure that the caller is consistent?,1,0.9299397468566895
62434541,5195,mgziminsky,2016-05-08T16:35:06Z,"consistent in what way? looking at all usages of the function, i can at least say that none of them actually make use of the returned boolean, they all just blindly add. while looking at the usages though, i did find a couple places in rss_imp i missed updating when i created the addfeed helper. so fixing those may also fix the cases that were triggering the assertion. even so though i still believe it would be better off removed.",0,0.976567804813385
62434717,5195,glassez,2016-05-08T16:48:37Z,i only remind you that you have to carefully check everything.,0,0.9768818020820618
62475425,5195,zeule,2016-05-09T10:01:40Z,"for example, when resolving a merge conflict.",0,0.9824820756912231
62661212,5195,glassez,2016-05-10T12:24:16Z,delete space before `ui->listrules->count()`.,0,0.9934231638908386
62677677,5195,Chocobo1,2016-05-10T14:09:31Z,you should prepend a license.,0,0.9946529865264893
62677722,5195,Chocobo1,2016-05-10T14:09:47Z,and a license here too.,0,0.9949824213981628
62887177,5195,glassez,2016-05-11T17:09:31Z,loadpath,0,0.9912934899330139
62943398,5195,mgziminsky,2016-05-11T23:21:09Z,"i assume you want me to fix `save_path` a few lines up as well then? i don't mind making these changes, but i'd appreciate it if somebody would give me a single comprehensive review so that i don't have to keep pushing these small commits every couple days to fix style issues that were introduced by somebody else.",0,0.8885442614555359
62944446,5195,zeule,2016-05-11T23:30:44Z,"there is no comprehensive explanation, but you can refer [a link] and remember that insists on correcting every line you touch :)",1,0.972150981426239
62946304,5195,mgziminsky,2016-05-11T23:50:40Z,"i've read the style guide, i was just trying to minimize my changes to existing code except where absolutely necessary. if the your policy is to fix the style of anything you have to touch, i'll make another pass over my changes and cleanup any pre-existing style issues as well. before i do another push though, does anybody have additional non-style related concerns? i'd like to address all remaining issues with my next push if possible.",0,0.9192765355110168
62966385,5195,glassez,2016-05-12T05:22:46Z,yes. i will comment asap (when i have some spare time).,0,0.9798863530158997
63016395,5195,zeule,2016-05-12T13:09:33Z,please please change those to raw literals!,0,0.9796726703643799
63016958,5195,zeule,2016-05-12T13:13:01Z,why do you need the test here?,0,0.9914246797561646
63021536,5195,zeule,2016-05-12T13:42:17Z,"""qbittorrent"" what? ""qbittorrent rules""? same question to the constants in `automatedrssdownloader::on_importbtn_clicked()`",0,0.9947115182876587
63028089,5195,mgziminsky,2016-05-12T14:18:21Z,"change what exactly? sorry, i don't understand what you're asking for.",-1,0.9929087162017822
63029006,5195,zeule,2016-05-12T14:23:21Z,"`(?<=^|\\|)\\*+|\\*+(?=$|\\|)` →`r""((?<=^|\|)\*+|\*+(?=$|\|))""`",0,0.9622582197189331
63029107,5195,mgziminsky,2016-05-12T14:23:58Z,"turns out i don't. i had thought i needed it in my original implementation of this class, and forgot to remove it after refactoring. it's been a while since i've done c++, i forgot it was safe to delete null pointers.",0,0.9628944993019104
63029378,5195,glassez,2016-05-12T14:25:36Z,"`(?<=^|\\|)\\*+|\\*+(?=$|\\|)` →`r""((?<=^|\|)\*+|\*+(?=$|\|))""`",0,0.9622582197189331
63029595,5195,glassez,2016-05-12T14:26:53Z,"find 10 differences! just kidding, of course, only one is.",1,0.5821746587753296
63029616,5195,mgziminsky,2016-05-12T14:27:00Z,"oh, well that's convenient. thanks",1,0.9860284924507141
63276027,5195,glassez,2016-05-14T13:13:11Z,you should use anonymous namespace here.,0,0.9948428273200989
65862390,5195,glassez,2016-06-06T09:39:34Z,method definitions aren't allowed in header files,0,0.9927268028259277
65863153,5195,glassez,2016-06-06T09:44:13Z,coding guidelines par. 2b,0,0.9940328001976013
65863413,5195,glassez,2016-06-06T09:46:02Z,"imo, it's better to leave only one constructor here (with default second param): [code block]",0,0.9937704205513
65863674,5195,glassez,2016-06-06T09:47:55Z,[code block] coding guidelines par. 1d,0,0.9942665696144104
65863887,5195,glassez,2016-06-06T09:48:57Z,break these `if`s.,0,0.9635888934135437
65864279,5195,glassez,2016-06-06T09:51:58Z,remove this extra `private:`. use only one blank line between methods and fields (variables).,0,0.9932210445404053
65864543,5195,glassez,2016-06-06T09:54:05Z,use our `utils::fs::tonativepath()` instead.,0,0.9947249293327332
65864591,5195,glassez,2016-06-06T09:54:26Z,change to camelcase.,0,0.9906168580055237
65987227,5195,mgziminsky,2016-06-06T23:25:24Z,"per 1a, empty bodies are {}. does that not apply to constructors? or only apply when on a single line? not trying to argue, just asking.",0,0.9572253227233887
65999775,5195,mgziminsky,2016-06-07T01:59:57Z,"this one was intentional. i'll change it if you insist, but i find it significantly harder to read the other way.",0,0.9631576538085938
66014160,5195,glassez,2016-06-07T06:02:20Z,yes. we force multiline for constructors with initialization list and therefore we split its body braces.,0,0.9932680726051331
66014462,5195,glassez,2016-06-07T06:07:04Z,"i just mean: [code block] personally, i prefer to have it in one line in a larger number of cases, but the qbittorrent coding style rules restricts it stronger.",0,0.9808161854743958
66014735,5195,ngosang,2016-06-07T06:10:58Z,could you add 2160p? (aka 4k or uhd) i never saw 2160i. examples => [a link],0,0.9941385984420776
66169742,5195,mgziminsky,2016-06-07T23:20:11Z,"this project is only for importing settings from utorrent, it has nothing to do with the type of content that is actually available. utorrent only has those 5 options.",0,0.9886522889137268
66169855,5195,mgziminsky,2016-06-07T23:21:25Z,"fair enough, i'll update this as well.",0,0.9822147488594055
340029486,11354,glassez,2019-10-29T11:50:32Z,"well, i've just done some code review. this flag is cleared in `handletorrentpausedalert()` so it seems you don't really need to clear it here.",0,0.989577054977417
340031990,11354,thalieht,2019-10-29T11:56:54Z,reverted.,0,0.9197385907173157
340055634,11354,glassez,2019-10-29T12:54:39Z,seems to handle the second case we just need to set `m_startupstate` to `started` under this condition.,0,0.9914224743843079
340117946,11354,thalieht,2019-10-29T14:41:24Z,[code block] or [code block],0,0.9944918155670166
340205119,11354,glassez,2019-10-29T16:59:35Z,"[code block] but, seems, you need to move it to the end of the method.",0,0.9917508959770203
340267237,11354,thalieht,2019-10-29T18:55:54Z,"done, thanks.",1,0.5576635599136353
340270401,11354,glassez,2019-10-29T19:02:17Z,":+1: now can you cause ""checking on startup"" case for some paused torrent to test it? probably you need to trigger rechecking of some paused torrent and then close the app before it's done.",0,0.9178797602653503
340299793,11354,thalieht,2019-10-29T20:10:59Z,"when i do it to a seeding torrent, recheck->close qbt before it finishes->start qbt and pause rechecking torrent->resume/force resume after the recheck finishes, the torrent becomes paused. shouldn't it go back to seeding?",0,0.9928103685379028
340595343,11354,glassez,2019-10-30T12:54:39Z,sure. you don't pause it before recheck? then it is a different kind of (related) issue.,0,0.9817380309104919
340614449,11354,thalieht,2019-10-30T13:33:49Z,"rechecking paused torrent doesn't have any problems, works as expected.",0,0.811823844909668
340643363,11354,glassez,2019-10-30T14:21:41Z,"we do talk about ability to pause (and then resume) checking torrents, don't it? so starting state is ""checking"" torrent. really we have 4 starting (sub)states that should be tested: 1. forced checking torrent (torrent was resumed when user triggers force recheck); 2. forced checking paused torrent (torrent was paused when user triggers force recheck); 3. startup checking torrent (torrent is added/restored as resumed, e.g. it was resumed when app is closed last time); 4. startup checking paused torrent (torrent is added/restored as paused, e.g. it was paused when app is closed last time). in any of these cases the torrent should remain resumed after checking has done when user (pauses and then) resumes it explicitly. , do you understand what i'm talking about? if so can you please test and report all of these cases above?",0,0.9896178841590881
340687369,11354,thalieht,2019-10-30T15:27:44Z,"i thought the idea was to return it to its prior state when manually resuming the torrent we paused during recheck, but if that's how it should be then only the 1st case resumes the torrent, in all the other cases the torrent gets paused after the recheck.",0,0.986548125743866
341709138,11354,glassez,2019-11-01T18:56:31Z,", can you add here the following: [code block] and check 4 cases we discussed earlier?",0,0.993992269039154
341744137,11354,thalieht,2019-11-01T20:43:37Z,1. resumed (initial resumed) 2. resumed (initial paused) 3. paused (initial resumed on startup) 4. resumed (initial paused on startup) but [code block] 1. resumed (initial resumed) 2. paused (initial paused) 3. resumed (initial resumed on startup) 4. paused (initial paused on startup) have we decided whether it should or shouldn't resume in all cases?,0,0.9942666888237
341799655,11354,glassez,2019-11-02T05:20:42Z,still no. but we can find both solutions and then just apply the chosen one.,0,0.9584870934486389
341799776,11354,glassez,2019-11-02T05:26:01Z,can you also test the following? [code block],0,0.996142566204071
341807017,11354,thalieht,2019-11-02T10:56:46Z,resumes in all cases.,0,0.9919249415397644
343190620,11354,glassez,2019-11-06T16:19:44Z,"well, since no one is active in the survey, i choose ""return to previous state"" (as the path of least resistance). we can change this behavior later if there are user requests. i rethought the solution once again: seems you should just revert entire 87d9840 plus remove `if (m_startupstate != started) return;` from `torrenthandle::resume()`.",0,0.9915136694908142
476526090,13266,glassez,2020-08-25T15:11:34Z,please rename it to `findtrackerentry` or `trackerentrybyurl`.,0,0.9957078695297241
476529440,13266,glassez,2020-08-25T15:16:09Z,it's not optimal to convert each `tracker.url`. i would convert `trackerurl` to `std::string` once and then compare with it. seems you can even use some standard algorithm in that case.,0,0.9862431883811951
476535195,13266,glassez,2020-08-25T15:24:12Z,you shouldn't have class definition in header.,0,0.9758515357971191
476540635,13266,glassez,2020-08-25T15:31:25Z,"also i would modify trackerentry class to have ""valid"" property (i.e. default constructed instance is invalid). then this method can have simpler signature, i.e. accept url and return trackerentry.",0,0.9951756000518799
476778763,13266,kasper93,2020-08-25T21:59:55Z,"after my recent changes it is again used only in one place, i removed it.",0,0.9925734996795654
476797066,13266,kasper93,2020-08-25T22:23:57Z,"sometimes it is better to inline some things like that, but i respect classic structure you have here, moved to separate files.",0,0.9482097625732422
477014753,13266,Chocobo1,2020-08-26T03:42:22Z,"libtorrent provides `#include `, you should use it.",0,0.9943516254425049
477016838,13266,Chocobo1,2020-08-26T03:50:18Z,i would use a variable to avoid calling `is_working()` twice.,0,0.9887840747833252
477019340,13266,Chocobo1,2020-08-26T04:00:15Z,you can use `empty()`.,0,0.9951962828636169
477019510,13266,Chocobo1,2020-08-26T04:00:52Z,`++failed`,0,0.8992141485214233
477019865,13266,Chocobo1,2020-08-26T04:02:25Z,use `qvector` instead. also don't forget to call `qvector<>::reserve()`.,0,0.9950886368751526
477020433,13266,Chocobo1,2020-08-26T04:04:36Z,`const bittorrent::trackerstatus status`,0,0.9937505125999451
477021714,13266,Chocobo1,2020-08-26T04:09:15Z,i think you should just write the concrete type out (`trackerlistcolumn col`?) to be more readable.,0,0.984031081199646
477022137,13266,Chocobo1,2020-08-26T04:10:48Z,please write out the return type for all new lambdas except the case of returning `void`.,0,0.9948157668113708
477022438,13266,Chocobo1,2020-08-26T04:12:02Z,`const qlonglong val`,0,0.9912978410720825
477436999,13266,kasper93,2020-08-26T16:37:53Z,"it is redundant anyway, removed. anyway it is inline function, compiler would optimize it out.",0,0.9926487803459167
477437157,13266,kasper93,2020-08-26T16:37:59Z,nice,1,0.7884483337402344
477666895,13266,Chocobo1,2020-08-26T23:24:15Z,this and `setrootisdecorated` defaults to `true` and they can be removed instead.,0,0.9954147338867188
478084518,13266,glassez,2020-08-27T04:14:02Z,"this class doesn't represent any abstract ""endpoint"" but particular ""endpoint of tracker entry"" so it should be `trackerentryendpoint`.",0,0.9933931231498718
478088674,13266,glassez,2020-08-27T04:18:35Z,i'm not sure it's safe to store reference here.,-1,0.6614742279052734
478092637,13266,glassez,2020-08-27T04:22:47Z,i think this extra state is redundant.,0,0.7469865083694458
478095255,13266,glassez,2020-08-27T04:25:31Z,why do you assign such a meaningless alias? why not `trackerurl`?,0,0.950576663017273
478097640,13266,glassez,2020-08-27T04:28:05Z,coding style is broken. you should move `{` to the next line. and please check all the similar code.,0,0.7934121489524841
478326674,13266,glassez,2020-08-27T10:47:44Z,numfailed or failedcount,0,0.963119626045227
478327879,13266,glassez,2020-08-27T10:50:25Z,broken coding style. you should add braces around `if` body.,0,0.9587037563323975
478330430,13266,glassez,2020-08-27T10:55:51Z,"getting all messages without associating them with appropriate endpoints doesn't seem useful to me. imo, it would be better if caller side operates with endpoints directly.",0,0.733883261680603
479760292,13266,kasper93,2020-08-30T11:52:40Z,"done. it is kind of mouthful, but i will follow the naming scheme.",-1,0.46776407957077026
479760319,13266,kasper93,2020-08-30T11:52:49Z,it is. this class is not intended to store any state or be stored anywhere. it is intended only as a temporary view for announce entry.,0,0.9933927655220032
479760426,13266,kasper93,2020-08-30T11:53:49Z,"it is useful for trackerentry user decision whether it should care or not about the messages, without checking them. and also system message sometime show non-errors, so there is disambiguation. and before my changes tracker warning messages were always hidden, even tho there is `warning` torrent status.",0,0.989391565322876
479760448,13266,kasper93,2020-08-30T11:54:01Z,done,0,0.8682363629341125
479760552,13266,kasper93,2020-08-30T11:54:51Z,"trackerentry class only purpose is to reduces state of all endpoints to single state. i merely follow this pattern and it works well to show the message per tracker, not only per endpoints. moving this responsibility to caller site should be done not only for messages if anything.",0,0.9900858402252197
479803692,13266,kasper93,2020-08-30T18:56:15Z,"older version of qt doesn't have in place initialization in qvector. and by design this class is not default constructable, so need to have move semantic to work. works fine with qvector on newer qt version, but to keep compatibility qlist is the way to go.",0,0.9866460561752319
480072661,13266,glassez,2020-08-31T11:38:46Z,"it seems to be optional info so i really disagree to create any extra state based on it. doesn't you just hide some logic from trackerentry user so there is ""checking for messages"" always performed (to create this extra state) even if user don't need it? you don't require extra state to fix this error.",0,0.6390495300292969
480074284,13266,glassez,2020-08-31T11:42:44Z,not all endpoint properties can be merged without losing their usefulness.,0,0.9673625230789185
480079997,13266,glassez,2020-08-31T11:54:38Z,"in fact, this is just an intermediate stage of development to facilitate the transition from the previous libtorrent version, when it did not provide any per-endpoint info.",0,0.9930972456932068
480081727,13266,glassez,2020-08-31T11:58:21Z,but you do store it in container and make it accessible via public interface of trackerentry.,0,0.9951861500740051
480083748,13266,glassez,2020-08-31T12:02:52Z,"sorry, i can't find in your answer any strong reason that prevents from using qvector here (it's mostly unrelated).",-1,0.9890279769897461
480089368,13266,glassez,2020-08-31T12:14:47Z,"disagree. i am always against overly long names as long as there is no ambiguity. but here we are dealing with a term that is often used throughout the program, and it has a different meaning in itself (for example, we do not use the term tracker here, but trackerentry). in such cases, it is often convenient to use nested names (e.g. `trackerentry::endpoint`) to use its short part in an internal context where it possible has no ambiguity.",-1,0.5005608797073364
480369373,13266,kasper93,2020-08-31T20:05:27Z,"for one it doesn't compile. i made this class default constructible and compatible with old qvector, i'm tired.",-1,0.9936530590057373
480370033,13266,kasper93,2020-08-31T20:06:42Z,"ok, please don't tell me now that you want this implementation in separate compilation unit.",0,0.9116626977920532
480376939,13266,kasper93,2020-08-31T20:20:43Z,"but as long as trackerentry lives those will live too. and you need to think how would anyone use this. copy or not `lt::announce_endpoint` you would keep, you want to peek into it and throw away. if you copy, state would not even change so what would be the point of storing it? i mean you can't simply say storing reference in class is __always__ unsafe, because everything have assumptions and restrictions.",0,0.9140661358833313
480380596,13266,kasper93,2020-08-31T20:28:05Z,"well it is useful to see message without expanding list of endpoints. tracker responses are common for endpoints and those are most important for user as far as torrent is main concern. specific endpoint errors are less important if some of them are communication with tracker. sure, but i'm not concerned about this ""intermediate stage"" in this pr. i only want to see responses from tracker, which i can't with upstream version.",0,0.8794434070587158
480732901,13266,glassez,2020-09-01T03:52:41Z,so handle it at the level of logic where it (perhaps) makes some sense. i've suggested this before: i only ask you not to justify the disadvantages of your changes by existing disadvantages in the upstream. we are trying to get rid of all the obvious flaws before it is merged for the first time.,0,0.974665105342865
480756604,13266,glassez,2020-09-01T04:09:59Z,"there may be something not so obvious here... for example, get list of endpoints from a temporary and then process it. yes, i can't. and i don't. here is one of the special cases. it's unclear from trackerentry interface that there's list of some temporaries.",0,0.9797217845916748
480765726,13266,glassez,2020-09-01T04:16:49Z,"well, seems i didn't understand your previous answer... for me, when you say ""this"" you refer to previously mentioned thing (qvector) but seems you don't.",0,0.9229592680931091
482346151,13266,kasper93,2020-09-02T19:33:59Z,"i didn't justify anything. i disagree that they are flaws, except for you personal preference bias. there are two users of this method, both uses the data in the same way. aggregating those messages without knowing inner logic of lt is not obvious. and would require duplicating the code. it is not just list of messages of endpoints. and `trackerentry` encapsulates this logic for ease of use. this is my patch and i think your proposed change is not applicable.",0,0.6656754016876221
482419167,13266,glassez,2020-09-02T20:28:35Z,"there's no point in aggregating these messages at all, that's what i want to tell you. especially in such a confusing way as you do: if only one endpoint out of several returns a warning, what is the point of ""seeing"" this warning without knowing where it comes from? if multiple endpoints return warnings, what's the point of ""seeing"" them all without linking to their endpoints? if only one of the endpoints was working and then broke down, then you ""send"" a bunch of messages at once, as if all these errors happened together now - isn't that confusing?",-1,0.917043924331665
482469159,13266,glassez,2020-09-02T21:05:42Z,can't there be messages here when it's not working (if it was working before)?,0,0.9868403673171997
482477652,13266,glassez,2020-09-02T21:13:32Z,why not include qcontainerfwd like you've done above?,0,0.9940203428268433
482484803,13266,glassez,2020-09-02T21:22:00Z,"i would call it ""tostring"" as well but it's impossible in case of variables.",0,0.974478006362915
482486105,13266,glassez,2020-09-02T21:23:26Z,static_cast in all similar places,0,0.9931381344795227
506782512,13266,kasper93,2020-10-17T02:16:33Z,lt updates this message whether it failed or succeeded to contact tracker. so it will be updated or empty.,0,0.994097113609314
506783010,13266,kasper93,2020-10-17T02:22:17Z,changed,0,0.7968646287918091
506791001,13266,glassez,2020-10-17T04:08:42Z,it confuses... what does this comment mean?,-1,0.9245157241821289
728625787,13266,glassez,2021-10-14T04:28:47Z,"are you sure these terms (dht, lsd, pex) should be translated? even if it is, then you should exclude the entire decoration from the translated string: [code block]",0,0.995368480682373
728908010,13266,glassez,2021-10-14T11:56:12Z,"please don't shorten the code in this way. booleans should be used as booleans, even if it will look longer.",0,0.9507876038551331
728926315,13266,glassez,2021-10-14T12:21:26Z,extracting endpoint name should be done outside of this function to not duplicate it for each infohash variant.,0,0.9933897256851196
728926926,13266,glassez,2021-10-14T12:22:15Z,wrong coding style.,-1,0.8037903904914856
728972895,13266,glassez,2021-10-14T13:17:33Z,"it seems that adding/filling this field is the only thing you had to do at a core level to achieve your goal (even deleting ""deprecated"" fields is not necessary at all and could be postponed for a later time to facilitate the review and merging of the main changes). but your pr contains too many changes to perform the job, some of which are very doubtful or obviously incorrect. i would recommend limiting yourself to the minimum required number of changes to core level code. if you want to ""improve"" something else, then please do it in a separate pr. otherwise, the review may take a long time and get bogged down in correcting side errors.",0,0.9349806308746338
734985053,13266,kasper93,2021-10-23T15:57:07Z,"this is lambda, you cannot specify type like that. i can do [code block] to make return type explicit, redundant, but more readable. as for arguments time it is precisely auto to support both libtorrent v1 and v2. they are different type depending on the version.",0,0.9927593469619751
734985063,13266,kasper93,2021-10-23T15:57:15Z,"oops, fixed.",-1,0.9114224314689636
734985215,13266,kasper93,2021-10-23T15:58:52Z,"microptimizations are bad for readibility, it is not performance critical code, it is done twice instead of one time and reduces code duplication.",-1,0.580930233001709
734985688,13266,kasper93,2021-10-23T16:03:10Z,"hehe, they are used as boolens. this is precisely why it works, because they are boolen :) fixed.",1,0.9951098561286926
734985828,13266,kasper93,2021-10-23T16:04:20Z,"reverted this. i feel like strings like that shouldn't be hardcoded, but i guess they can be in this case.",0,0.9836593866348267
734987875,13266,kasper93,2021-10-23T16:26:23Z,"this pr is performing it's job just fine, it changes how trackers and endpoints are displayed and make it consistent, instead adding another change on top old as you called them ""deprecated"" filed which would make it even more convoluted that it is now. have i deduplicated some code, instead of changing the same thing in two places? yes, does it require another pr. no. i can make it in separate commits if it will make it better for you to understand and review them. have you pointed them out in the review? `very doubtful or obviously incorrect` are quite a strong words to throw around without backing them out. i'd love to fix and/or discuss your concerns.",-1,0.651625394821167
735000592,13266,glassez,2021-10-23T18:35:41Z,"e.g., you've changed the following code: [code block] ...with the following one: [code block] what is the meaning of this change? i wouldn't have such concerns if this pr contained only the required changes, or at least you kept such additional improvements in a separate commits, so at least you had to provide explanations for it. of course, it may be some small thing, but a large number of such little things makes us dig into them, trying to figure out if there are any regressions here, which greatly distracts from the review of the main logic. as i mentioned above, all you needed was to implement the `name` field, then we could quickly deal with the implementation of the main purpose of this pr.",0,0.7572652697563171
735000982,13266,glassez,2021-10-23T18:39:32Z,what duplication you talk about? i see the single place where the name can be extracted.,0,0.9921707510948181
735001140,13266,glassez,2021-10-23T18:40:56Z,oops... my bad. i misread it.,-1,0.9946526288986206
1292781792,13266,glassez,2023-08-13T12:46:33Z,it looks like it doesn't match the previous condition (because of `protocolstats.status != bittorrent::trackerentry::working`).,0,0.9908366203308105
1292782852,13266,glassez,2023-08-13T12:51:28Z,also please don't put all this code in `if` condition directly but assign to some variable.,0,0.9927685260772705
168918665,8427,glassez,2018-02-17T10:42:07Z,"imo, if you need to enclose code under some ""switch case"" it's strong reason to extract it into separate function.",0,0.9766470193862915
168918685,8427,glassez,2018-02-17T10:43:59Z,"there is no code after ""switch"" so you should use ""break"" here and below.",0,0.9938475489616394
168918797,8427,glassez,2018-02-17T10:50:57Z,"why not original string? if string doesn't contain separator it should rerurned as is. if separator is empty, the string never contains it.",0,0.9894455075263977
168918802,8427,glassez,2018-02-17T10:51:29Z,coding style.,0,0.9877970814704895
168918871,8427,glassez,2018-02-17T10:54:51Z,isn't it redundant?,0,0.9343189597129822
168918953,8427,glassez,2018-02-17T10:58:57Z,"please omit ""else"" after ""return"".",0,0.9944977164268494
168919584,8427,glassez,2018-02-17T11:33:06Z,"this check is redundant. it hides some kind of bad request. if content length header is 0, then only requests with empty body is valid, isn't it?",-1,0.9390016794204712
168919681,8427,glassez,2018-02-17T11:36:56Z,can we omit data copying here using qbytearray::fromrawdata()?,0,0.995381236076355
168919728,8427,glassez,2018-02-17T11:39:22Z,can we omit unnecessary data copying here?,0,0.9933449029922485
168919756,8427,glassez,2018-02-17T11:40:34Z,request which uses `lf` for newline is bad request!,-1,0.9900320768356323
168919903,8427,glassez,2018-02-17T11:48:27Z,you perform tolower multiple times.,0,0.9877017140388489
168920005,8427,glassez,2018-02-17T11:52:11Z,then add braces to other branches.,0,0.9942506551742554
168920565,8427,Chocobo1,2018-02-17T12:17:24Z,"i don't feel the same way, but i can change it if you insist.",0,0.9038192629814148
168920610,8427,Chocobo1,2018-02-17T12:19:51Z,"`break` will only jump out the `switch`, so it is not enough and `return` is a strong meaning: i wish to stop further parsing/processing.",0,0.9908915162086487
168920665,8427,Chocobo1,2018-02-17T12:22:20Z,ok,0,0.9233372807502747
168920686,8427,Chocobo1,2018-02-17T12:23:53Z,"afaik some program provides compatibility, but we don't, should i change the comment?",0,0.9809937477111816
168920709,8427,Chocobo1,2018-02-17T12:25:01Z,fixed.,0,0.9905837774276733
168920791,8427,Chocobo1,2018-02-17T12:28:25Z,fixed,0,0.920660674571991
168920892,8427,Chocobo1,2018-02-17T12:33:02Z,you mean the `m_request` initialization?,0,0.9938389658927917
168921056,8427,Chocobo1,2018-02-17T12:40:31Z,i haven't found a way.,-1,0.6770039200782776
168921467,8427,Chocobo1,2018-02-17T13:08:11Z,"~~yes, thanks!~~",1,0.9921585321426392
168921497,8427,Chocobo1,2018-02-17T13:10:20Z,i added a variable for it.,0,0.9918985366821289
168921603,8427,Chocobo1,2018-02-17T13:18:14Z,fixed.,0,0.9905837774276733
168921823,8427,Chocobo1,2018-02-17T13:29:53Z,"no, i need to check i don't read over bound, from qbytearray::mid():",0,0.9855350255966187
168921868,8427,glassez,2018-02-17T13:31:47Z,yes.,0,0.9851860404014587
168921883,8427,Chocobo1,2018-02-17T13:32:21Z,~~good catch! i'll update this part.~~,1,0.9961044788360596
168921894,8427,glassez,2018-02-17T13:32:46Z,"using `qstring::fromlatin1(const char *str, int size = -1)` overload.",0,0.9947912693023682
168922558,8427,Chocobo1,2018-02-17T14:05:35Z,isn't explicitly initializing all class members a good practice?,0,0.9878214001655579
168922662,8427,Chocobo1,2018-02-17T14:11:28Z,"ok, thanks!",1,0.9544865489006042
168922950,8427,Chocobo1,2018-02-17T14:26:51Z,"now i read again, the situation is, with http persistence connection, a series of requests could be concatenated & received together. currently i choose the easy way to parse: if the packet is malformed (`contentlength == 0` + body), parsing will succeed for the 1st round but will fail at the 2nd round (now the packet is malformed the connection will be closed) or later. given the above, this check is actually skipping over unneeded processing when possible.",0,0.9895597696304321
168926553,8427,glassez,2018-02-17T16:44:42Z,shouldn't we send response before (e.g. bad request)?,0,0.9410219192504883
168926644,8427,glassez,2018-02-17T16:49:34Z,at least fix indentation.,0,0.9903140664100647
168926856,8427,glassez,2018-02-17T16:59:49Z,"it doesn't make any sense to me. same thing to do like `class obj = class();` instead of `class obj;`. initializing makes sense in the following cases: 1. simple types (like bool, int, double etc.) which may remain uninitialized in other case. 2. non-default initialization of class types. 3. initialization based on some parameters.",0,0.9395682215690613
168927126,8427,glassez,2018-02-17T17:10:17Z,it looks like we're sorry we don't support the malformed requests.,-1,0.9861162304878235
168927164,8427,glassez,2018-02-17T17:12:21Z,why parseheaderline can't access m_request.headers directly?,0,0.9879677295684814
168927205,8427,glassez,2018-02-17T17:14:22Z,request line has very simple format. isn't using regular expressions too wasteful to parse it?,0,0.563327968120575
168928581,8427,Chocobo1,2018-02-17T18:07:29Z,"no, this is `incomplete` case, means the data we have is incomplete, need to wait until more data comes in and then we try to parse again.",0,0.9862209558486938
168928610,8427,Chocobo1,2018-02-17T18:08:45Z,will remove.,0,0.9920058846473694
168928795,8427,Chocobo1,2018-02-17T18:15:46Z,ok,0,0.9233372807502747
168928820,8427,Chocobo1,2018-02-17T18:16:41Z,"i'll remove the ""for simplicity""",0,0.9924212098121643
168928864,8427,Chocobo1,2018-02-17T18:18:56Z,parseheaderline is used 2 times with different parameters.,0,0.9923772811889648
168929053,8427,Chocobo1,2018-02-17T18:28:05Z,"maybe, but i don't want to fight with all kinds of invalid inputs, imo if the input data can match this regex then we take it.",0,0.9194900393486023
168940546,8427,glassez,2018-02-18T05:44:23Z,but you're closing the socket here!..,0,0.9757080674171448
168940662,8427,glassez,2018-02-18T05:51:07Z,it seems like wrong logic in this method.,-1,0.9434090256690979
168940798,8427,Chocobo1,2018-02-18T05:57:54Z,"it closes **only** when the unparsed data accumulates too much (over `bufferlimit`), otherwise it waits for more data comes in.",0,0.9921446442604065
168941281,8427,Chocobo1,2018-02-18T06:36:45Z,"i added a helper function `qbytearray viewmid(const qbytearray ∈, const int pos, const int len = -1)` which will return a view of `in`.",0,0.9938616752624512
168952047,8427,glassez,2018-02-18T13:41:16Z,shouldn't it return const qbytearray? otherwise it allows to modify const object (in qbytearray is const).,0,0.9930455088615417
168952193,8427,glassez,2018-02-18T13:45:52Z,"shouldn't we have something like qstring::splitref here, to avoid unnecessary data copying? e.g.: [code block]",0,0.9915868043899536
168953856,8427,glassez,2018-02-18T14:41:51Z,"but why it closes silently, without ""bad request"" response?",0,0.899188220500946
168953992,8427,glassez,2018-02-18T14:46:21Z,"shouldn't max_request_size be applicable to the entire request, but not just to its content?",0,0.9910334944725037
168954291,8427,glassez,2018-02-18T14:55:14Z,now i've found something else. when request is too long requestparser returns badrequest even it is still incomplete so this condition never be true.,0,0.9726256132125854
168954328,8427,glassez,2018-02-18T14:56:58Z,"this condition cannot be true since viewmid returns max contentlength bytes, isn't it?",0,0.9930657148361206
168954574,8427,glassez,2018-02-18T15:06:26Z,"then it can be defined outside requestparser class. unless i'm wrong, it's independent from this class.",0,0.9919661283493042
168955695,8427,Chocobo1,2018-02-18T15:39:57Z,"i'll send ""413 payload too large"". it could be true for a malformed request that has a lot of headers (not included in contentlength) that exceeds this limit and the body has yet arrived.",0,0.9881505966186523
168955763,8427,Chocobo1,2018-02-18T15:41:46Z,"yes, fixed.",0,0.9571782946586609
168956055,8427,Chocobo1,2018-02-18T15:51:56Z,"i'll rename to `max_content_size`. under normal usage, limiting content size is the main target here.",0,0.9940590858459473
168956114,8427,glassez,2018-02-18T15:53:39Z,then i'll repeat my other question. why don't you apply the max_request_size to the entire request in requestparser? this would avoid to re-do the check here. i.e. is request with 19 mb content and 19 mb headers valid for you (when max_request_size is 20 mb)?,0,0.9931719303131104
168956245,8427,Chocobo1,2018-02-18T15:58:52Z,"yes, i'll remove this.",0,0.9922260046005249
168956670,8427,Chocobo1,2018-02-18T16:14:28Z,move to namespace above?,0,0.9950002431869507
168957017,8427,Chocobo1,2018-02-18T16:25:42Z,"you mean like `if (data.size() > max_request_size) return {parsestatus::badrequest, request(), 0};` ? no, because `data` could have multiple requests concatenated together so by definition that would be wrong. it should be valid, but the header size is unrealistic so if it got dropped is also acceptable imo.",0,0.9850683808326721
168957091,8427,glassez,2018-02-18T16:27:51Z,yes.,0,0.9851860404014587
168957164,8427,glassez,2018-02-18T16:29:42Z,"no, because data could have multiple requests concatenated together so by definition that would be wrong. no. i mean `if ((headersize + contentlength) > max_request_size) return {parsestatus::badrequest, request(), 0};`",0,0.9455391764640808
168957452,8427,Chocobo1,2018-02-18T16:38:21Z,"let me say it in another way, as i said, we should limit the content length directly because we want to control the post payload size. if we limit by (headersize + contentlength), i don't like this because there is no sensible limit on how large the header can be and from recent trends, header gets larger than ever.",-1,0.776542603969574
168957725,8427,Chocobo1,2018-02-18T16:46:32Z,"i'll try. i imagine that would be possible, however my intention was to write clear code first, performance later. that said, i don't wish to optimize to the extreme in this pr, are you interested to do it later?",0,0.8878143429756165
168957733,8427,glassez,2018-02-18T16:46:45Z,but you still limit it by 10% from content. just append it to max_request_size. why? in my case it can be at most max_request_size. in your case it can be at most 1.1*max_request_size.,0,0.9936734437942505
168957826,8427,glassez,2018-02-18T16:49:22Z,nicely. just do something that doesn't make you too hard. it'll still be better than nothing. i'll add the rest to my to-do list.,1,0.9900659322738647
168985918,8427,glassez,2018-02-19T04:23:36Z,"well... it seems that if we do not introduce a separate limit for the size of headers, the remaining ways are reduced to the same. so do whatever you want. but i still handled it in one place (in requestparser).",0,0.9820379018783569
169527772,8427,Chocobo1,2018-02-21T03:32:56Z,"i'll keep it for now, at least i want to make sure `m_receiveddata` size won't explode.",0,0.9855610728263855
169528226,8427,Chocobo1,2018-02-21T03:38:16Z,"done. but there is a limitation in qlist: that means i cannot use `qlist ` here, thus it's still `qlist `.",0,0.9865879416465759
169593717,8427,glassez,2018-02-21T10:33:40Z,"you forget to remove ""for simplicity""",0,0.9804046750068665
169594222,8427,glassez,2018-02-21T10:35:53Z,"you use ""delimiter"" as qbytearray in every cases. it's better to declare it as qbytearray.",0,0.9940588474273682
169595250,8427,glassez,2018-02-21T10:39:52Z,the idea is requestparser is used for different web applications (webui and embedded tracker) that can require different limits on content length.,0,0.9916316866874695
169595865,8427,glassez,2018-02-21T10:42:19Z,", as i remember, you introduced this statement earlier. where can i get the source of this info?",0,0.9892765283584595
169633876,8427,Chocobo1,2018-02-21T13:23:31Z,i didn't see other application than webui using `requestparser` ... maybe change this in later pr?,0,0.9914246797561646
169635241,8427,Chocobo1,2018-02-21T13:28:20Z,"oops, fixed.",-1,0.9114224314689636
169636814,8427,Chocobo1,2018-02-21T13:34:25Z,ok,0,0.9233372807502747
169700837,8427,glassez,2018-02-21T16:42:54Z,"i don't mind. besides, i don't remember how exactly it was designed right now.",0,0.49534785747528076
249533042,10175,glassez,2019-01-21T17:30:43Z,why did you change it?,0,0.9928873181343079
249630563,10175,Chocobo1,2019-01-22T03:21:49Z,"in short, i was hitting compile / missing include errors: [code block] reading the error message i think `qhostaddress` should be included here instead of in client code.",0,0.9845373630523682
249636350,10175,glassez,2019-01-22T04:08:55Z,"isn't that the usual behavior when using the forward declaration? we forward declare something and then we include an appropriate header in place where it is really used (i.e. in ""preferences.cpp"" in this case).",0,0.9905775785446167
249638074,10175,glassez,2019-01-22T04:25:46Z,"i would move these two to ""utils::net"". they're not server jobs.",0,0.9899821877479553
249638445,10175,Chocobo1,2019-01-22T04:28:55Z,"yes, it would be reasonable for function declarations, but it is very unintuitive in this case, here is the error point: [a link] a analogy would be qstringlist, they include qsting in their header, so users don't have to: [a link]",0,0.6513127088546753
249736449,10175,glassez,2019-01-22T11:12:09Z,"okay, then. but it really confused me why we use this ""impersonal"" type (qpair) as subnet. it's good for using in template algorithms, but here i'd rather see some structure with meaningful field names.",0,0.6624434590339661
249751738,10175,Chocobo1,2019-01-22T12:02:48Z,"utils::net is for networking related stuff, certificate/key is more of security thing, so i'll prefer moving it to utils::misc.",0,0.9849085807800293
249767890,10175,glassez,2019-01-22T12:57:22Z,"i just thought it wasn't just some unrelated certificates/keys, it was network-related ssl certificates/keys.",0,0.9726689457893372
249771942,10175,glassez,2019-01-22T13:10:02Z,please move constants above the functions.,0,0.9944774508476257
249773140,10175,Chocobo1,2019-01-22T13:13:53Z,"authentication have nothing to do with networking, or perhaps a new file utils/ssl.cpp?",0,0.9901586174964905
249774171,10175,glassez,2019-01-22T13:17:08Z,using these helpers you parse certificates/keys data twice in this method. i would refactor it.,0,0.9899388551712036
249781116,10175,Chocobo1,2019-01-22T13:37:37Z,i think using boost::optional would be a perfect fit here.,0,0.7053507566452026
249833027,10175,glassez,2019-01-22T15:37:59Z,"isn't ssl a ""networking related stuff""?",0,0.986164927482605
249870233,10175,Chocobo1,2019-01-22T16:55:20Z,"i just realize ""utils/ssl.cpp"" is not good either... ssl is a type of socket that utilize certificate so it is networking stuff, however certificate itself isn't tied to socket or any networking stuff: [a link] if you look at qsslkey & qsslcertificate classes you won't find any method that is related to networking. and finding a good place to place it is hard... just let it be utils::net for now although i don't really like it and can't think of a better place.",-1,0.9784597158432007
249873262,10175,glassez,2019-01-22T17:02:09Z,"by the way, a small offtopic. according to wikipedia ssl is deprecated now in favor of tls. can you say something about?",0,0.9879092574119568
249873830,10175,glassez,2019-01-22T17:03:32Z,don't understand how you want use it...,-1,0.8195298910140991
249875374,10175,Chocobo1,2019-01-22T17:07:28Z,done.,0,0.9897913336753845
249878268,10175,Chocobo1,2019-01-22T17:14:37Z,"they are more or less the same thing (excluding the details), you can think they rename ssl to tls for political reasons. [a link]",0,0.9898937344551086
249879221,10175,Chocobo1,2019-01-22T17:17:07Z,"pr updated, this way the cert/key loading code can keep in just one function.",0,0.9905233979225159
250049984,10175,glassez,2019-01-23T04:07:26Z,i would omit wrapping it in `boost::optional`. i don't like this approach. i would either trow an error or just return empty list.,-1,0.883844792842865
250050156,10175,glassez,2019-01-23T04:08:56Z,"the same comment as above. either throw an error or return ""empty"" qsslkey.",0,0.9947435855865479
250050906,10175,glassez,2019-01-23T04:14:56Z,"also i strongly dislike function names like ""trydosomething()"". ""try"" is totally meaningless prefix. it is clear that some functions may not be successful. it follows from their meaning (loading, parsing etc. routines), it is not necessary to specify it in addition.",-1,0.9671676754951477
250060271,10175,Chocobo1,2019-01-23T05:33:40Z,"why? compared with your suggestions the only overhead of `optional` is 1 byte bool and the code calling this function is easier to read. this is a bit overkill, we are calling this function directly not through a chain of function calls, i.e. we can/should check its error status directly. then the client code (such as in optionsdialog.cpp) will be forced to know about the type ` ` of `optional ` which is unnecessary for whom only wish to know success/failure of the function call.",-1,0.501013457775116
250060343,10175,Chocobo1,2019-01-23T05:34:11Z,will remove the prefix.,0,0.9936528205871582
250227015,10175,Chocobo1,2019-01-23T14:53:51Z,"the traditional way would have a signature like `bool loadsslcertificate(const qbytearray &data, qlist *outputlist)`, without going into the details you can already see how messy its internal is going to be compared to the current code (and also the code using it).",0,0.9689344167709351
250285814,10175,glassez,2019-01-23T17:03:14Z,"""class template optional is a wrapper for representing 'optional' (or 'nullable') objects who may not (yet) contain a valid value."" both result types already have this feature (can represent its ""nullability"" or ""emptyness"") so wrapping it in `boost::optional` is the real overkill. i don't know how directly calling a function conflicts with being able to throw an exception... in addition, a particular use case should not affect either the implementation of the function or its interface. interface/implementation should reflect only its meaning/job. this is not a valid reason to use such a workaround. in fact, all i offered was to get rid of the double parsing. i didn't think it would drive your mind into such a jungle. the solution is simpler, it will provide readable code. what we need? to load the ssl key: [code block] you can use it where you need its result (e.g. in server code). if you need only check its result without propagating type info to the calling code you just need a simple helper: [code block]",0,0.954906165599823
250467600,10175,Chocobo1,2019-01-24T05:06:35Z,"this is a valid point, i agree with it more or less. yes, however the way i see it, `optional` is just a convenient interface that we get to write less code, with only a low price to pay. i'm not going to insist anymore so i'll add the helper function. pr updated.",1,0.7574931383132935
250861108,10175,glassez,2019-01-25T04:09:22Z,i would use `std::any_of()` here.,0,0.9930496215820312
250861343,10175,glassez,2019-01-25T04:11:49Z,"you can omit using additional variables here, isn't it? just assign m_key/m_certs directly.",0,0.9949374198913574
250861592,10175,glassez,2019-01-25T04:14:17Z,this part of condition is redundant.,0,0.9673936367034912
250863373,10175,glassez,2019-01-25T04:24:52Z,every time i make sure that the use of `bool` parameters leads to confusing code in most cases (as mentioned in qt coding guidelines).,0,0.9902998208999634
250868722,10175,glassez,2019-01-25T05:11:59Z,"please make a named constant at top of ""webui.cpp"".",0,0.9955975413322449
250869098,10175,glassez,2019-01-25T05:14:45Z,shouldn't we track whether the files were changed from last loading?,0,0.9932270646095276
250870111,10175,Chocobo1,2019-01-25T05:23:34Z,"just moving code to here, maybe in later pr.",0,0.9948471784591675
250870591,10175,Chocobo1,2019-01-25T05:27:23Z,"imo the current way avoids changing the member variable states unless it is ready (also easier to debug/inspection), i'll change if you really insist.",0,0.9873500466346741
250870675,10175,Chocobo1,2019-01-25T05:28:06Z,"no, check the empty case of any_of()",0,0.993587851524353
250870965,10175,Chocobo1,2019-01-25T05:30:40Z,what for?,0,0.9811010360717773
250871334,10175,Chocobo1,2019-01-25T05:33:56Z,are you sure? this is in a lambda function.,0,0.9941055774688721
250871737,10175,Chocobo1,2019-01-25T05:37:06Z,i don't think i can do better here.,-1,0.8249112367630005
250878584,10175,glassez,2019-01-25T06:29:37Z,"there are at least two ways: 1. (qt) use enum in case when bool is unclear. then the method call will be `webuihttpscertchanged(""/home/user/cert_file"", showerror)`. 2. split it into two functions. one does main job and reports error in same way (e.g. throws exception). second is wrapper that calls the first one and show error message. then you can use first function directly in case when you don't need to report errors.",0,0.9925756454467773
250879712,10175,glassez,2019-01-25T06:38:10Z,why do you need keeping previous key/cert if you stop using them? i don't insist if you really want it.,0,0.9691182374954224
250879993,10175,glassez,2019-01-25T06:40:24Z,is it a special case here?,0,0.9860132336616516
250880624,10175,glassez,2019-01-25T06:45:25Z,"does it bother? this number has a ""configuration"" value (aka maxsslfilesize). now i see it used in several files so it should be in some shared place to prevent its independent changing.",0,0.9844363927841187
250881027,10175,glassez,2019-01-25T06:48:16Z,to prevent reloading of the same data. just small optimization. no big deal.,0,0.9027635455131531
250893190,10175,glassez,2019-01-25T07:59:25Z,that's it! so `return certs;` just returns empty list as expected. but if you want to distinguish this case explicitly leave it as is.,0,0.8202986717224121
250893612,10175,Chocobo1,2019-01-25T08:01:36Z,i chose the enum way.,0,0.9915838241577148
250893692,10175,Chocobo1,2019-01-25T08:01:53Z,added uilts::net::maxsslfilesize,0,0.9939938187599182
250893723,10175,Chocobo1,2019-01-25T08:01:59Z,let's keep it simple for now.,0,0.948401153087616
250894283,10175,Chocobo1,2019-01-25T08:04:46Z,"ok, will simplify.",0,0.9908744096755981
250962966,10175,glassez,2019-01-25T12:08:09Z,it should be max_ssl_file_size to be consistent with currently used (de-facto) coding style.,0,0.9935728311538696
251186673,10175,Chocobo1,2019-01-26T03:35:05Z,done.,0,0.9897913336753845
251379346,10175,glassez,2019-01-28T11:37:07Z,move into anonymous namespace.,0,0.9940600991249084
251381162,10175,glassez,2019-01-28T11:43:17Z,you just ignore error cases. isn't there a better way?,0,0.9264166355133057
251400881,10175,Chocobo1,2019-01-28T12:51:01Z,"i'm particular bad at error recovery, is there a better way? i hope it is not too excessive.",-1,0.9908547401428223
251675607,10175,sledgehammer999,2019-01-29T02:53:35Z,remove it from the end of the file,0,0.9943103790283203
251675917,10175,sledgehammer999,2019-01-29T02:55:36Z,maybe use the removed `useracceptsupgrade()` function only to inform(not ask) the user of the change? or maybe place a log entry?,0,0.9929639101028442
251684446,10175,Chocobo1,2019-01-29T03:56:34Z,"i feel that is a bit too much for this simple migrate process. ok, done.",0,0.742314875125885
251684921,10175,glassez,2019-01-29T04:00:08Z,"qbittorrent is designed in such a way that the ability to read/write some folders (i.e. config/data) is its requirement. if there are any problems with this, it cannot function correctly. in any such case, it must interrupt its execution. console/log message should be produced.",0,0.9876991510391235
251691577,10175,Chocobo1,2019-01-29T04:55:13Z,"now i understand your concern. however in this case, it is just simple migration, i don't think failing it is severe enough to stop execution. will add log msg for failing cases.",0,0.9151614904403687
251702883,10175,glassez,2019-01-29T06:13:06Z,"i see no difference with the other cases. really the case is the same. just ask yourself, what could possibly cause an error here? it is necessary, but it is not enough. try looking at it from a user perspective. qbittorrent will behave in the same way as without any migration code. the user will not be able to access web ui for non-obvious reasons, because the application will work (in addition, access via http will be open, which is completely undesirable from a security point of view). another thing is if the application can not start. this should prompt the user to find out the reason.",0,0.8101751804351807
251703651,10175,glassez,2019-01-29T06:17:26Z,"by the way, this also applies to the current behavior if certificates/keys cannot be loaded. once a user has configured a secure connection, the application should not allow insecure access for any reason, right? , what do you think?",0,0.9854335784912109
251723539,10175,Chocobo1,2019-01-29T07:58:11Z,"read-only config folder, but i still don't think it should halt program when failed to migrate configs. and there is already log msgs. if it is the ""read-only config folder"" case, then qbt will not be working correctly with/without the upgrade... could you explain the *security* issue? i'm not aware of it. due to webui upgrade code? i must be crazy reading this. apparently there are different viewpoints of how important is the upgrade code... your thoughts?",0,0.6602745056152344
251762369,10175,glassez,2019-01-29T09:56:45Z,"for what purpose does the user set up https? does it forbid an access via non-secure http? or am i wrong? really i'm not a web ui user. so i can be wrong about some things. i just express the doubts that arise when viewed from outside. not. but due to invalid execution environment. as i said before qbittorrent is designed assuming the config/data folders is readable/writable. it does not matter when it detects the impossibility of fulfilling this requirement. sorry, nothing personal. it's just that your migration code touched on a fundamental qbittorrent problem that i've been thinking about lately. inability to read/write config/data files means inability to keep running correctly, so qbittorrent must terminate once it faces such problem. well, i've made my point, and you decide whether it matters or not.",-1,0.9661813974380493
251802262,10175,Chocobo1,2019-01-29T11:56:51Z,"it is not my concern how ""migration code errors"" or ""read-only config folder"" should be handled, it is non-trivial topic itself. but requiring pr authors in a not-so-related topic to fulfill the blueprints in your mind is just not fair and not justified, this behavior not only slows down the development momentum but also wears down the passion to contribute, in the worst case, throwing away invested efforts. if you must insist that every pr should provide a fully complete solution to everything it touches, then at least you should be involved in it, such as filling in the things (with exact code) that are not within the pr topic, just throwing expectations and requirements for others to fulfill is not enough.",-1,0.8451328873634338
251823189,10175,glassez,2019-01-29T13:05:26Z,"that is why i do not insist on my vision of the global problem. if it doesn't look serious to others, just report this fact and keep ignoring it. , i'm sorry if my thoroughness offends you. that wasn't my goal.",-1,0.9772327542304993
252539491,10175,Chocobo1,2019-01-31T05:29:57Z,"it's alright now, lets just move on.",1,0.612652599811554
266227691,10384,Chocobo1,2019-03-17T07:39:10Z,you forgot to add to cmake's list.,0,0.9538788199424744
266227747,10384,Chocobo1,2019-03-17T07:41:31Z,you can assign the default `nullptr` to these 2 right here.,0,0.9950911998748779
266227918,10384,Chocobo1,2019-03-17T07:48:15Z,i would write the signatures like this instead: [code block],0,0.9940906167030334
266227975,10384,Chocobo1,2019-03-17T07:50:57Z,(i don't feel strongly just want to point out) that log::msgtypes will fit into an `int` so you can treat it as a normal variable.,0,0.957639753818512
266228018,10384,Chocobo1,2019-03-17T07:52:48Z,to keep up with latest trend :\\ `const int sourcerow` `const qmodelindex index ` `const log::msgtype type `,-1,0.9865593910217285
266228135,10384,Chocobo1,2019-03-17T07:56:55Z,"i think this is not a a very friendly constructor, just take the usual const reference or use move semantics `&&` & `std::move()`.",0,0.7527775168418884
266228151,10384,Chocobo1,2019-03-17T07:57:24Z,`const int role`,0,0.9944605827331543
266228303,10384,Chocobo1,2019-03-17T08:02:42Z,"2 things here: 1. you can use `qt::blue` 2. [a link] using `qt::green` and qcolor::setnamedcolor(""green"") could result in different colors, you sure about this change?",0,0.987733006477356
266228367,10384,Chocobo1,2019-03-17T08:05:19Z,"nitpick, no need to chain it with `else if`: [code block]",0,0.9949340224266052
266228471,10384,Chocobo1,2019-03-17T08:08:13Z,`void logview::copyselection() const`?,0,0.9949291944503784
266228501,10384,Chocobo1,2019-03-17T08:09:17Z,`const qaction *res`,0,0.9933783411979675
266228530,10384,Chocobo1,2019-03-17T08:11:04Z,seems this is redundant since you already set the parent pointer to `this`.,0,0.9869884252548218
266228579,10384,Chocobo1,2019-03-17T08:13:03Z,why not add `this` as the second parameter?,0,0.9912493228912354
266230104,10384,glassez,2019-03-17T09:02:20Z,"guys, think! why all this trouble (`swap()`, `move()`, ...)? why not just initialize `m_items` from const ref parameter?",0,0.7529308199882507
266230158,10384,glassez,2019-03-17T09:03:48Z,add `q_disable_copy`.,0,0.9943960905075073
266230272,10384,glassez,2019-03-17T09:06:57Z,i would use struct instead of pair.,0,0.9886550903320312
266230373,10384,glassez,2019-03-17T09:09:42Z,to all qobject subclasses.,0,0.9937986731529236
266233596,10384,sledgehammer999,2019-03-17T10:40:56Z,won't this induce a copy?,0,0.993221640586853
266233897,10384,glassez,2019-03-17T10:51:33Z,did you forget qt basics? consider [a link] again.,0,0.9870540499687195
266234143,10384,sledgehammer999,2019-03-17T10:59:28Z,"in old code these colors were written as named colors aka `qcolor(""blue"")`, which used the svg standard definition to convert them. in new code, i use the rgb constructor using the same values as the svg standard. plus, imo, it is faster code to use this constructor.",0,0.9805330038070679
266241536,10384,sledgehammer999,2019-03-17T14:16:05Z,"imo, i like it with the `else if` because logically they belong together.",0,0.7229224443435669
266241622,10384,sledgehammer999,2019-03-17T14:18:11Z,"the new struct would need to be seen by 3-4 different classes. i prefer qpair, since it is easier to use in this case. i don't need to investigate in which header to declare the new struct to be seen by all other classes.",0,0.9901144504547119
266241839,10384,glassez,2019-03-17T14:23:07Z,then do it without `return` (just assing local var and then return it at the end).,0,0.9941773414611816
266242132,10384,glassez,2019-03-17T14:30:03Z,"you can produce its own header. that's why it's bad! using such abstract things as a pair in interfaces will lead to poorly readable (and maintainable) code. isn't it? pair is good in some general algorithms (algorithm templates). although, you can just brush me off here...",-1,0.9659249186515808
266242360,10384,glassez,2019-03-17T14:35:31Z,"essentially it is **logmessage** class/struct (which consists of the message itself and its type). you can also use it in some other places, e.g. in `void logmodel::appendline(const qstring &line, const log::msgtype &type);`",0,0.9928945899009705
266242526,10384,glassez,2019-03-17T14:39:36Z,"to be consistent with qt naming scheme it should be **logwidget**. **view** is a widget that display content of model in a specific way (e.g. qtreeview, qlistview etc.). when some view is bound with model then it has widget suffix (e.g. qlistwidget, qtreewidget).",0,0.9933972358703613
266242936,10384,sledgehammer999,2019-03-17T14:49:04Z,ok. i understand. will be renamed.,0,0.9821881651878357
266247043,10384,Chocobo1,2019-03-17T16:19:21Z,"should i keep nagging about `const`? honest question. i would add them myself, but i find it a bit disturbing to keep mentioning it...",-1,0.9904000163078308
266247104,10384,Chocobo1,2019-03-17T16:20:47Z,`logger->getmessages()` returns a variable not a reference.,0,0.9938115477561951
266247331,10384,Chocobo1,2019-03-17T16:27:36Z,"now it is an usual variable, you should strip out the `const` -> `log::msgtypes types = log::all` and below too.",0,0.9947863817214966
266247393,10384,Chocobo1,2019-03-17T16:29:12Z,you missed here: `log::msgtype type = log::normal`,0,0.9946520328521729
266247430,10384,Chocobo1,2019-03-17T16:30:12Z,and here `log::msgtype type = log::normal`,0,0.9951004385948181
266247702,10384,Chocobo1,2019-03-17T16:36:45Z,"ok, i'm just think that someone would likely to replace `qcolor(0, 0, 255)` with `qt::blue` and call it a cleanup (while it is not), to make it more explicit, you could define `const qrgb cssblue = 0x0000ff;` and use `qcolor(cssblue);` here.",0,0.9915097951889038
266247823,10384,Chocobo1,2019-03-17T16:39:04Z,"i would even use `switch (role)` here, just sharing my thought not insisting.",0,0.9893518090248108
266249469,10384,sledgehammer999,2019-03-17T17:20:03Z,"imo, too much work.",-1,0.9660152792930603
266249501,10384,sledgehammer999,2019-03-17T17:20:40Z,which is what i ended up doing locally before looking again here.,0,0.9908521771430969
266251263,10384,sledgehammer999,2019-03-17T18:01:25Z,i have seen many cases in our current code that local variables are const reference initialized. did we change views on that practice? since this involves an implicitly shared container it doesn't matter much in this case.,0,0.987152636051178
266251326,10384,sledgehammer999,2019-03-17T18:03:07Z,"honest question: since i am not an expert, why `const` isn't favored in this case?",0,0.9572175741195679
266251961,10384,sledgehammer999,2019-03-17T18:16:20Z,"sorry. now i think i got all of them. if not, don't hesitate to leave a comment.",-1,0.9892035126686096
266251993,10384,sledgehammer999,2019-03-17T18:17:00Z,irrelevant in new code,0,0.931425929069519
266252001,10384,sledgehammer999,2019-03-17T18:17:13Z,irrelevant in new code,0,0.931425929069519
266252338,10384,sledgehammer999,2019-03-17T18:23:56Z,i introduced a struct.,0,0.9867074489593506
266253542,10384,LordNyriox,2019-03-17T18:51:31Z,": you could add a line-note clarifying that you deliberately hard-coded the colors for performance reasons. that should at least discourage users from carelessly ""simplifying"" the color definitions.",0,0.9836227297782898
266401453,10384,Chocobo1,2019-03-18T11:42:59Z,"don't recall anything. afaik we only do ""const reference initialize"" when the function returns a const reference, for anything else a normal variable.",0,0.99216228723526
266402504,10384,Chocobo1,2019-03-18T11:46:44Z,"the gist is, the header file is like a contract for the clients using the code and declaring `const` for a local variable means nothing to the clients, it only has meaning in function definition (in .cpp file).",0,0.9860413670539856
266471845,10384,sledgehammer999,2019-03-18T14:39:32Z,i left a comment,0,0.98492032289505
266472228,10384,sledgehammer999,2019-03-18T14:40:17Z,"i removed it from the header file, but left it in the cpp. is that ok? ps: i did in a couple other places too.",0,0.9922043085098267
266742655,10384,Chocobo1,2019-03-19T06:10:52Z,that is correct.,0,0.9920891523361206
266742807,10384,Chocobo1,2019-03-19T06:11:45Z,`const int role = qt::displayrole` -> `int role = qt::displayrole`,0,0.9896048307418823
266742936,10384,Chocobo1,2019-03-19T06:12:35Z,`const int sourcerow` -> `int sourcerow`,0,0.9890421032905579
268506810,10384,glassez,2019-03-25T07:00:05Z,redundant blank line.,0,0.8117470145225525
272827723,10384,sledgehammer999,2019-04-07T10:22:24Z,"is it safe to return a const reference in this context? since both the logger and the models run on the same thread we don't run the risk of the circular buffer deleting the returned item, correct?",0,0.9940668344497681
273339219,10384,Chocobo1,2019-04-09T06:19:57Z,"you can write the shorthand `{-1, -1};` and below.",0,0.994222104549408
273339728,10384,Chocobo1,2019-04-09T06:22:20Z,`m_itemrange`?,0,0.994080126285553
273340462,10384,Chocobo1,2019-04-09T06:25:32Z,"`at()` method will do boundary checks and throw exception if not valid, since you already validates the index why not use `operator[]`?",0,0.9938532114028931
273340653,10384,Chocobo1,2019-04-09T06:26:19Z,i would add parentheses here.,0,0.9920702576637268
273341001,10384,Chocobo1,2019-04-09T06:27:53Z,`++m_items.first` and below,0,0.993713915348053
273341578,10384,Chocobo1,2019-04-09T06:30:28Z,"`m_items = {-1, -1};` and below.",0,0.9920646548271179
273342301,10384,Chocobo1,2019-04-09T06:33:27Z,no need for this `else`,0,0.9879943132400513
273343451,10384,Chocobo1,2019-04-09T06:38:13Z,"i would use `std::max` and combine into: `m_items = {std::max(m_items.first, msg.id), msg.id};`",0,0.9946916699409485
273350230,10384,Chocobo1,2019-04-09T07:04:43Z,parentheses: `(count - 1)`,0,0.9927639365196228
273352903,10384,Chocobo1,2019-04-09T07:14:06Z,"can't resist, i would write it as: [code block]",0,0.7598365545272827
273358023,10384,Chocobo1,2019-04-09T07:31:15Z,"imo it is really hard to catch up with its logic, maybe it is better to have 2 functions: 1. `std::pair logger::getmessagesrange() const`: that simply return {start, end} id ranges of `m_messages`. 2. helper function `std::pair getvalidmessagesrange(const int lastknownid) const` this could be at logfiltermodel.cpp (outside of logger.cpp), that computes valid ranges by taking `logger::getmessagesrange()` and `lastknownid` into consideration. same applies to the peers part.",0,0.9331758618354797
273839724,10384,glassez,2019-04-10T08:18:07Z,it's incorrect thinking at all. you shouldn't rely on some particular use case(s) when you implement any interface.,0,0.721716582775116
274520612,10384,glassez,2019-04-11T16:50:07Z,there is error here. you must not return reference to temporary!,-1,0.6481452584266663
275168432,10384,sledgehammer999,2019-04-14T18:27:44Z,then return a temporary instead? honestly i can't think of a way around it. i mean: i don't know how to allow external access to the saved items without copying them and without locking the circular buffer.,0,0.8847296237945557
275168490,10384,sledgehammer999,2019-04-14T18:29:12Z,you're correct. i initially wrote the function to return a temporary.,0,0.991111695766449
275168565,10384,sledgehammer999,2019-04-14T18:31:26Z,this returns the valid messages from a known last id. (or none id if you want all the range). it is basically the counterpart of `getmessages()`,0,0.9947391152381897
275168743,10384,sledgehammer999,2019-04-14T18:36:10Z,"that's not the same. a negative value is an invalid id and indicates an uninitialized log buffer. after the first message, `first` should be less than `second`.",0,0.9909934401512146
275168800,10384,sledgehammer999,2019-04-14T18:37:31Z,"imo, it is more clear now.",0,0.9778018593788147
275626302,10384,glassez,2019-04-16T04:34:23Z,there is no thread-safe way to do it. so if you want logger to be thread-safe you can't return references to internal data. you should lock it every time you read/write it. i.e. you still should lock it here.,0,0.9886653423309326
276004388,10384,sledgehammer999,2019-04-16T21:41:44Z,"i know all that. but since you advised on not actually duplicating the log messages in a vector/list in the model, what's the alternative here? let this function return a `log::msg` instead? this function is used by the model multiple times in row when the model responds to the various `qt::roles` via `model::data()`. even when you only hover the cursor up and down on the view's items. is it a good idea to continually create such short-lived small objects? (i mean the `log::msg` returned by the function).",0,0.9819242358207703
276102390,10384,glassez,2019-04-17T06:58:27Z,"it isn't the logger problem. it should have valid interface and implementation according to its own subject domain. it there is a performance problem with logmodel-to-logger data exchange due to its thread-safity it should be solved in logmodel. although i remind you once again that you should measure the extent of its impact on performance, because it may be insignificant for gui. otherwise the caching data in the logmodel is probably required to solve it.",0,0.983755350112915
393073639,10384,jagannatharjun,2020-03-16T14:38:03Z,"consider the definition of log::msg [code block] it contains ints with aggregate size not much more than the size of pointer and qstring which are internally reference counted, so is this really an issue?",0,0.9897475242614746
393088866,10384,jagannatharjun,2020-03-16T14:59:03Z,i meant by performance implication due to which we're trying to return a reference,0,0.9821932315826416
1143006946,18735,glassez,2023-03-21T08:09:11Z,"it doesn't look expected to me. in addition, i would refrain from unrelated changes that may slow down the review of main pr changes.",0,0.979693591594696
1143008263,18735,glassez,2023-03-21T08:10:42Z,please be consistent with existing names: [code block],0,0.9945822358131409
1143041750,18735,glassez,2023-03-21T08:45:30Z,"we don't exit app when web ui port is changed via command line. is there any strong reason to behave differently in this case? if not, then i would also move username/password processing to application class next to the webui port processing.",0,0.9931683540344238
1143042479,18735,glassez,2023-03-21T08:46:11Z,i would declare constants for default username/password.,0,0.994117021560669
1145269721,18735,Chocobo1,2023-03-22T18:50:57Z,i would just use qbytearray for the type if possible. [code block],0,0.9933294057846069
1145511804,18735,sledgehammer999,2023-03-22T23:27:08Z,"fyi, `qbytearray` can't be `constexpr`.",0,0.9884077906608582
1145662797,18735,glassez,2023-03-23T04:18:33Z,i don't think `constexpr` is important in this case.,0,0.9755696058273315
1145695583,18735,Chocobo1,2023-03-23T05:29:36Z,no need to obsess with constexpr when it is already compile-time: [a link],0,0.9915325045585632
32374258,2757,sledgehammer999,2015-06-13T21:53:16Z,this hooks into classes you're more familiar with. do you have any objections with this commit?,0,0.9906689524650574
32374329,2757,sledgehammer999,2015-06-13T22:02:31Z,move all implementation code into .cpp,0,0.9937157034873962
32374337,2757,sledgehammer999,2015-06-13T22:03:19Z,move them into the .cpp,0,0.993779718875885
32374339,2757,sledgehammer999,2015-06-13T22:03:25Z,same here,0,0.99204421043396
32374343,2757,sledgehammer999,2015-06-13T22:04:32Z,member variables should be named `m_xxx` eg `m_xdata` or `m_properties`,0,0.9954308271408081
32374349,2757,sledgehammer999,2015-06-13T22:05:07Z,no underscores. `m_maxcapacity` (for all variables),0,0.9932153224945068
32374366,2757,sledgehammer999,2015-06-13T22:07:55Z,if possible forward declare the classes instead.,0,0.992771565914154
32374370,2757,sledgehammer999,2015-06-13T22:08:25Z,if possible forward declare as much as possible.,0,0.9823335409164429
32374374,2757,sledgehammer999,2015-06-13T22:09:05Z,`onperiodchange(int perioed)` etc,0,0.9949813485145569
32374393,2757,sledgehammer999,2015-06-13T22:12:09Z,i think all these settings (`m_plot->blah blah`) could be moved inside the constructor of `qspeedplotview`,0,0.9863250851631165
32374403,2757,sledgehammer999,2015-06-13T22:13:58Z,this way you might remove setgraphname/setgraphpen if they're not needed.,0,0.993413507938385
32374412,2757,sledgehammer999,2015-06-13T22:15:27Z,to avoid possible confusion with the qt classes rename the class to `speedplotview`,0,0.9946591258049011
32374424,2757,sledgehammer999,2015-06-13T22:17:23Z,"add another entry at the end named ""nb_columns"". read my other comment on why.",0,0.9954238533973694
32374443,2757,sledgehammer999,2015-06-13T22:19:12Z,"after you append nb_columns then you change this to `for (int id = up; id < nb_columns; ++id)`. if in the future another id is added, it will not be needed to come here and change the code.",0,0.9946367144584656
32380233,2757,glassez,2015-06-14T14:33:47Z,move open brace to next line. see [a link].,0,0.9955177903175354
32380438,2757,glassez,2015-06-14T14:47:55Z,agree. setgraphxxx() make sense only if these properties changing at run time also makes sense.,0,0.9906327724456787
32380457,2757,glassez,2015-06-14T14:50:23Z,all qobject children will be deleted automatically (in qobject destructor).,0,0.9945310950279236
32380958,2757,glassez,2015-06-14T15:46:55Z,get rid of that signal. the signals belong to the external interface of the class. call graphupdate() directly from this thread and via qmetaobject::invokemethod from other.,0,0.9931922554969788
32382615,2757,glassez,2015-06-14T18:22:43Z,private,0,0.923453152179718
32382635,2757,glassez,2015-06-14T18:24:26Z,private slots,0,0.9929043650627136
32893925,2757,onto,2015-06-21T14:28:33Z,"i don't understand what you mean, can you advise me?",-1,0.6595017313957214
32894026,2757,onto,2015-06-21T14:42:31Z,but i wouldn't to split declaration of graphs to different files.,0,0.9769479036331177
32895566,2757,sledgehammer999,2015-06-21T17:51:46Z,"you may want to google for ""c++ forward declaration"". first let's assume you move all the implementation code below into a .cpp file and leave this header clean. instead of doing here `#include ` you can do this simple thing: `class qpen;` <-- this is the forward declaration then in the .cpp you must do `#include ` note: this isn't possible for all headers. basic rules can be found [a link] from those 3 includes i think qpen, qqueue and qmap can be forward declared. if you get weird compilation errors. about this comment and i'll help you.",0,0.9493024349212646
32895629,2757,sledgehammer999,2015-06-21T17:58:08Z,here you set a lot of properties on the `m_plot` object which is of type `qspeedplotview`. and most of these setgraphxxx() are only called here and only once. so it makes a lot of sense to setup these properties when constructing the `m_plot` object instead. this means you should initialize the various stuff inside `qspeedplotview::qspeedplotview() directly` what do you say?,0,0.9892336130142212
32895645,2757,onto,2015-06-21T18:00:20Z,"ok, i understand what you mean, i use forward declaration before, but only for fix circular dependency errors.",0,0.9788005948066711
32895706,2757,sledgehammer999,2015-06-21T18:05:58Z,"just so you know another reason it is useful: for a project with many .h/.cpp files, forward declaration reduces the time needed for compilation. the compiler doesn't need to open the included headers for every place your header gets included in your code. headers are small files but filesystem **access** is tremendously slow compared to the speed our cpus can compile stuff.",0,0.9700320363044739
32895746,2757,onto,2015-06-21T18:10:32Z,[code block] only for qpen without errors. i think that because qmap and qqueue are templates.,0,0.9928406476974487
32895803,2757,sledgehammer999,2015-06-21T18:14:26Z,try doing the declaration this way: [code block],0,0.9941173791885376
32895821,2757,sledgehammer999,2015-06-21T18:15:54Z,no i am wrong. you use those 2 for declaring member variables. those cannot be forward declared.,0,0.9791731834411621
32895837,2757,sledgehammer999,2015-06-21T18:18:12Z,move this struct declaration into the .cpp file. and just do here `struct graphproperties`. i hope this forward declaration works.,0,0.9196560978889465
32371912,3150,sledgehammer999,2015-06-13T16:49:41Z,"i suppose this forward declaration doesn't work and you needed to include peerinfo,h, correct? if yes, remove this then. otherwise remove the include.",0,0.9937204122543335
32371948,3150,sledgehammer999,2015-06-13T16:53:50Z,you don't need to do this. it is called automatically.,0,0.9864923357963562
32371971,3150,sledgehammer999,2015-06-13T16:59:04Z,logger message instead. normal type?,0,0.9836392998695374
32371973,3150,sledgehammer999,2015-06-13T16:59:20Z,indentation,0,0.9911677837371826
32371983,3150,sledgehammer999,2015-06-13T17:00:34Z,forget this. i saw that you use a qmessagebox to inform the user.,-1,0.6260154247283936
32371996,3150,sledgehammer999,2015-06-13T17:02:15Z,`m_peerslist` or `m_peers`,0,0.9936803579330444
32372039,3150,sledgehammer999,2015-06-13T17:06:21Z,don't you need to first extract the ip/port and then remove the brackets(`[]`) ? if the user hasn't specified a port for the ipv6 address you'll extract the last bit as a port...,0,0.9954522252082825
32372041,3150,sledgehammer999,2015-06-13T17:06:49Z,indentation,0,0.9911677837371826
32372051,3150,sledgehammer999,2015-06-13T17:07:24Z,indentation,0,0.9911677837371826
32372056,3150,sledgehammer999,2015-06-13T17:07:51Z,indentation for these 3 lines too.,0,0.9934545755386353
32372115,3150,sledgehammer999,2015-06-13T17:12:27Z,"reset the translatable option in qt creator. it will delete the above lines. since the textedit is empty, the translators will not have anything to translate anyway.",0,0.993736982345581
32372126,3150,sledgehammer999,2015-06-13T17:14:02Z,"imo, it should have the same text as the label.",0,0.9860986471176147
32372790,3150,glassez,2015-06-13T18:47:07Z,header must be moved to peersadditiondlg.cpp,0,0.9951639175415039
32372799,3150,glassez,2015-06-13T18:48:23Z,"i mean `#include ""core/bittorrent/peerinfo.h""`.",0,0.9934868812561035
32372828,3150,sledgehammer999,2015-06-13T18:54:32Z,unless qlist<> doesn't work with forward declaration.,0,0.991775393486023
32372855,3150,glassez,2015-06-13T18:55:34Z,this method has been implemented too complicated.,0,0.8375006914138794
32372872,3150,ngosang,2015-06-13T18:57:21Z,i don't mind but i need a clear answer.,0,0.8861069679260254
32372894,3150,sledgehammer999,2015-06-13T18:59:51Z,"sorry for being ambiguous. yes, please make it have the same text/example as the label.",-1,0.9918748736381531
32373002,3150,ngosang,2015-06-13T19:15:36Z,it is called automatically only if it's in the .ui file.,0,0.9939219951629639
32373017,3150,sledgehammer999,2015-06-13T19:17:26Z,you're correct. then you don't need to change this.,0,0.9771308898925781
32373043,3150,ngosang,2015-06-13T19:21:08Z,i can't do that. [code block],0,0.8386597037315369
32373057,3150,ngosang,2015-06-13T19:22:42Z,i'm finishing this. what i should do?,-1,0.6683387160301208
32373072,3150,ngosang,2015-06-13T19:23:30Z,i'm finishing this. what i should do?,-1,0.6683387160301208
32373096,3150,sledgehammer999,2015-06-13T19:27:59Z,didn't i answer you? `format: ipv4:port / [ipv6]:port`,0,0.9932996034622192
32373153,3150,glassez,2015-06-13T19:35:36Z,"typically, such connections are created in the ui. why this is here?",0,0.9911404252052307
32373167,3150,sledgehammer999,2015-06-13T19:38:26Z,i suspect he just copied the code from `peeraddition.cpp`,0,0.9867051243782043
32373174,3150,ngosang,2015-06-13T19:38:45Z,because i copied it from the addtrackers window (with the old code not yours) and it was a mess... i'm doing in ui now.,-1,0.9523589611053467
32373178,3150,ngosang,2015-06-13T19:39:52Z,i can try with regex. any suggestion?,0,0.9918676018714905
32373263,3150,glassez,2015-06-13T19:50:24Z,"i didn't mean that! at least, peer parsing should be done in a separate function.",-1,0.9378071427345276
32374175,3150,sledgehammer999,2015-06-13T21:42:33Z,the opening bracket must be in the beginning.,0,0.9925429821014404
32374198,3150,sledgehammer999,2015-06-13T21:46:15Z,"what happens if user enters just and ipv6 ip without a port? eg `2001:0db8:85a3:0000:0000:8a2e:0370:7334` i think it is better to check if there is a dot, which means ipv4. if not treat the ip as ipv6 (and try to detect brackets)",0,0.9923427700996399
32374214,3150,ngosang,2015-06-13T21:48:30Z,"not according to this, only in the else: [a link]",0,0.9944422841072083
32374236,3150,ngosang,2015-06-13T21:50:52Z,i made the port always compulsory (as it's in the format label) because there isn't a default port. each client has his own default port and most of them chose the port randomly.,0,0.9893022179603577
32374297,3150,sledgehammer999,2015-06-13T21:57:53Z,i think you misunderstood me. an ipv6 ip with port will always begin with an opening bracket(`[`). so instead test if the first character is an opening bracket in the string.,0,0.9544038772583008
32374322,3150,ngosang,2015-06-13T22:01:26Z,done. about the other comment?,0,0.9913778305053711
32374481,3150,sledgehammer999,2015-06-13T22:24:52Z,don't perform the split twice. just save in a temp var.,0,0.9933397173881531
32374486,3150,sledgehammer999,2015-06-13T22:25:24Z,same here,0,0.99204421043396
32376787,3150,glassez,2015-06-14T06:22:57Z,unneeded variable.,0,0.9745022654533386
32376801,3150,glassez,2015-06-14T06:24:00Z,get rid of that.,0,0.8660299181938171
32394535,3150,glassez,2015-06-15T06:42:32Z,fix braces in if-else block.,0,0.9926934242248535
32394690,3150,glassez,2015-06-15T06:46:20Z,explicit test is needed only if empty list is special case.,0,0.9913440942764282
32394858,3150,glassez,2015-06-15T06:50:31Z,why tostring()?,0,0.988570511341095
32395135,3150,ngosang,2015-06-15T06:56:31Z,it's for display the msgbox only if not empty. [code block],0,0.9957606196403503
32395259,3150,glassez,2015-06-15T06:59:41Z,"ok. but then there is one problem. it may happen that the list is not empty, but no peer was added.",0,0.9665676951408386
32395441,3150,ngosang,2015-06-15T07:04:35Z,"true but i think it never goin to happen because the ip/port are valid at this point. i don't know what are the reasons to not be accepted, maybe in the ip filter list? i tried with a lot of weird things and never fails. any suggestion?",-1,0.6160242557525635
32396318,3150,glassez,2015-06-15T07:24:35Z,1. leave it as is. 2. don't show message box at all. 3. to track whether peers were really added.,0,0.9918676018714905
32886402,3150,sledgehammer999,2015-06-20T17:44:45Z,"where does `15` come from? according to [a link] ipv6 addresses can be shortened so eg `::1` is a valid ipv6 address. i propose searching for the presence of dots instead, which will denote ipv4.",0,0.9944820404052734
32886485,3150,sledgehammer999,2015-06-20T17:55:44Z,"this could ugly if the user has pasted a bunch of bad ips. i propose here you just leave a logger message of type warning. also setting a flag eg `bool invalidpeers`. then when outside the loop check the flag a post this messagebox saying ""some peers couldn't be added. check the log for details.""",-1,0.5878131985664368
32895100,3150,sledgehammer999,2015-06-21T16:58:25Z,this should be `else if` to avoid both messages to appear for the same input.,0,0.9922900795936584
403821902,12434,Chocobo1,2020-04-06T04:19:43Z,you misuse log::critical. it should only be used when qbt cannot continue to operate normally.,0,0.712431013584137
403822556,12434,Chocobo1,2020-04-06T04:22:55Z,i don't see why you need to use raw string literal.,0,0.9538400173187256
403822877,12434,Chocobo1,2020-04-06T04:24:20Z,perhaps we should allow exception messages to be translated.,0,0.9798827767372131
403823082,12434,Chocobo1,2020-04-06T04:25:28Z,do we really have to do this?,0,0.8670159578323364
403823546,12434,Chocobo1,2020-04-06T04:27:51Z,i don't see why you need a field in this struct.,0,0.9530069231987
403823734,12434,Chocobo1,2020-04-06T04:28:52Z,why? i don't think this make sense.,-1,0.7947049140930176
403824792,12434,Chocobo1,2020-04-06T04:33:55Z,:\ this won't do you anything good.,-1,0.9878560900688171
403825232,12434,Chocobo1,2020-04-06T04:36:12Z,"you call logmsg here and at exception handler, what a mess... at this point this pr is beyond my comprehension, sorry.",-1,0.995672345161438
404054151,12434,FranciscoPombal,2020-04-06T12:32:50Z,"using raw string literals prevents escape hell. it's more consistent to use it everywhere, if we already use it once. what are the disadvantages?",-1,0.6520204544067383
404055242,12434,FranciscoPombal,2020-04-06T12:34:39Z,"ok, i guess i can make everything a `warning` or `info` instead.",0,0.9739055633544922
404057360,12434,FranciscoPombal,2020-04-06T12:38:27Z,"sure i could make it a variable because in this pr specifically it is only used in one scope. but in terms of design, and for future modifications, doesn't it make sense that the port number be part of this struct? the address is already there as well.",0,0.9888190627098083
404058554,12434,FranciscoPombal,2020-04-06T12:40:21Z,why not? why is more leniency here not desirable? a warning will still be logged.,0,0.8508618474006653
404058849,12434,FranciscoPombal,2020-04-06T12:40:50Z,"again, why is more leniency here not desirable? a warning will still be logged.",0,0.8201084733009338
404062939,12434,FranciscoPombal,2020-04-06T12:47:35Z,"this is not constructive criticism. do you mean i should remove this logging statement specifically, or should i remove the `logmsg` call from the `httperror` exception handling, or both? if so, why?",-1,0.7615231275558472
404067633,12434,FranciscoPombal,2020-04-06T12:55:29Z,fixed.,0,0.9905837774276733
404068316,12434,FranciscoPombal,2020-04-06T12:56:35Z,downvotes without explanation are not helpful.,-1,0.7049708962440491
404068945,12434,FranciscoPombal,2020-04-06T12:57:36Z,"probably a good idea, will handle that after the raw string literals question is resolved.",1,0.9326196908950806
404074317,12434,glassez,2020-04-06T13:05:52Z,"this is a very destructive idea, imo. everything must have its place and time. it is not designed as a replacement for regular string literals.",-1,0.9807989597320557
404075698,12434,glassez,2020-04-06T13:07:58Z,then they would be useless...,-1,0.9524160027503967
404091421,12434,Chocobo1,2020-04-06T13:30:46Z,"imo ~~we~~ you are wasting cpu cycles on something that has no effect (except your mind of ""more leniency"")...",-1,0.9850785732269287
404092415,12434,Chocobo1,2020-04-06T13:32:10Z,"what if i really want to set it to a negative value and does not want any peer in list? then you would give the unexpected result, no?",0,0.97223961353302
404096282,12434,Chocobo1,2020-04-06T13:37:41Z,"no, at least not in this pr.",0,0.9586371183395386
404097957,12434,Chocobo1,2020-04-06T13:39:54Z,i don't think you really answered my question...,-1,0.9294818639755249
404100075,12434,Chocobo1,2020-04-06T13:42:52Z,"sorry, all of this is over my head, i couldn't even give a proper response...",-1,0.9958537817001343
404106287,12434,glassez,2020-04-06T13:51:10Z,is this behavior a part of protocol standard? if no i strongly object to encourage invalid clients! all invalid requests should be dropped.,-1,0.9687482118606567
404109000,12434,Chocobo1,2020-04-06T13:54:43Z,"on a second thought, maybe this does make sense, i mean to adhere to bep. this is not a constructive response. i see you're even lazy to state your reason for the change.",-1,0.9410038590431213
404110171,12434,glassez,2020-04-06T13:56:03Z,if negative value isn't acceptable here then the entire request is invalid (unless any fallback is defined by protocol).,0,0.977609395980835
404111089,12434,Chocobo1,2020-04-06T13:57:10Z,it is better to use `peeriditer->left(20)` on previous line.,0,0.9931439161300659
404114763,12434,Chocobo1,2020-04-06T14:01:53Z,"well, the standard is really obscure on this, imo this gives room for interpretation. personally i would treat negative value as-is and return no peer. edit: apparently i was preferring to treat it as invalid request in the past.",0,0.7063673138618469
404116723,12434,FranciscoPombal,2020-04-06T14:04:26Z,"bep 3 does not specify what should be done in the case of an invalid value for this parameter (i.e. it does not explicitly say ""a request containing any other values should/must be considered invalid""). so i think it is better to be lenient, and just log a warning.otherwise, we can just keep the logging statement explaining that the request was dropped.",0,0.9856534600257874
404116979,12434,FranciscoPombal,2020-04-06T14:04:47Z,"in that case you just set numwant = 0, same as before. the difference now is that negative values will not result in an error. [a link]",0,0.9954610466957092
404121638,12434,FranciscoPombal,2020-04-06T14:11:07Z,"only if we start acting like redditors, which i hope doesn't happen. but for these specific usages, what is the problem? by everywhere, i meant ""everywhere in the embedded tracker code"", changing it everywhere in the code base might indeed not be desirable, but that's out of scope of this pr anyway. i can understand undoing this change here if you are of the opinion that ""changing to raw string literals where it makes sense should be done at once for the whole code base in another pr"". is that the case?",0,0.9165802001953125
404123519,12434,Chocobo1,2020-04-06T14:13:27Z,"is it really that hard to understand that people/hackers will try to use any value here? now you give unexpected results (""falling back to default"", what??) and you just hand waving my concerns? (you do it all the time) i'm sorry i cannot continue any more. do as you want, this has nothing to do with me.",-1,0.9941353797912598
404123976,12434,FranciscoPombal,2020-04-06T14:14:04Z,"i mean, am i doing something really bad or what? i just wanted a bit more logging overall, am i doing it in the wrong places in general? in this specific place and the `httperror` exception handling, the behavior doesn't change at all, the only difference is the logging statements.",0,0.5969122052192688
404128839,12434,glassez,2020-04-06T14:19:56Z,it doesn't change my answer. no. i just mean that use of raw string literal has no sense in case of simple string like this one. and some kind of unification is not appropriate here.,0,0.9664851427078247
404134964,12434,FranciscoPombal,2020-04-06T14:27:46Z,"not lazy, i only linked the response because the response would have been the exact same as for other similar comments... would you rather i had copy-pasted the exact same thing multiple times? these are all instances of apparently not-so-compliant cases where the spec does not explicitly mandate the request to fail, and where we can default to a reasonable lenient behavior. but just to be extremely clear in this specific case: the spec says the length is 20, so we truncate to that internally (while still logging if this happens), which is a reasonable lenient alternative to just not processing the request at all if the length is not 20, because the spec does not explicitly say ""if `peer_id` is not 20 bytes in length, the request should/must fail"". in fact, it does not explicitly state what to do at all when the length is not 20.",-1,0.7805953025817871
404142252,12434,FranciscoPombal,2020-04-06T14:36:57Z,"fine by me. out of curiosity, what are the benefits?",0,0.6804295778274536
404143101,12434,FranciscoPombal,2020-04-06T14:37:59Z,"ok, since you insist, and i really don't have a specific more compelling reason to do it the other way, i'll change it.",0,0.9585286974906921
404151497,12434,FranciscoPombal,2020-04-06T14:48:47Z,"calm down please, i'm not hand waving anything. the `numwant` field defaults to `50`, so if we don't reassign it, it stays at 50, which is safe. previous behavior: - `num_want > 0`: success. - `num_want == 0`: success (no peer list returned). - `num_want < 0`: failure for the announcer and silent failure for the tracker ""admin"". new behavior: - `num_want > 0`: same as before. - `num_want == 0`: same as before. - `num_want < 0`: success for the announcer, using our default value for `numwant` of `50`. the tracker ""admin"" is warned that an announcer has supplied an invalid number, but a default value was used instead to still be able to service the request. would you rather i change the text ""falling back to default"" to ""using default value instead"" or ""using default value of 50 instead"" or ""using default value of 50""?",-1,0.6399545073509216
404156569,12434,FranciscoPombal,2020-04-06T14:55:06Z,"ok, i'll change it to normal literals where it is not needed.",0,0.9916864037513733
404158762,12434,FranciscoPombal,2020-04-06T14:57:53Z,"fixed, by the way.",0,0.9690816402435303
404160723,12434,Chocobo1,2020-04-06T15:00:15Z,"just to clarify my stance on this, is right, invalid parameter should stop processing (to avoid wasting more resources) and send back the error message to the peer.",0,0.9787867665290833
404163036,12434,FranciscoPombal,2020-04-06T15:03:21Z,"fixed, and i also changed an instance of `ushort` to `quint16`, since that's what we use elsewhere.",0,0.9924494028091431
404163318,12434,Chocobo1,2020-04-06T15:03:41Z,isn't it obvious? so it would copy a shorter array instead of a potentially longer one.,0,0.9874889254570007
404169207,12434,Chocobo1,2020-04-06T15:11:40Z,"i retract this, error message for peers should stay in english.",0,0.9045979380607605
404170511,12434,FranciscoPombal,2020-04-06T15:13:22Z,"ok, now raw string literals are only used when the strings contain `""`. do you think i should revert to using escaped strings also in that case?",0,0.9924039244651794
406265305,12434,FranciscoPombal,2020-04-09T14:55:14Z,"the thing is, while the protocol does not define a specific fallback, it does not say the requests should immediately be dropped either.",0,0.9754676222801208
410252911,12434,FranciscoPombal,2020-04-17T14:16:50Z,"can we get your opinion on this matter? in this case, and also the `numwant` discussion below, is it better to be lenient and attempt serve the request if possible, falling back to a sane default, or to drop the request altogether?",0,0.9907916784286499
410254316,12434,FranciscoPombal,2020-04-17T14:19:11Z,"ping, like i said, raw string literals are now only used when justifiable (i.e. when the string itself also contains `""`). is this acceptable, or do you really want me to revert to using escaped strings all around?",0,0.9889940619468689
410284320,12434,arvidn,2020-04-17T15:05:24Z,"without having thought about this case very much, generally i think it's a good default to be strict. (imagine if all bittorrent clients had required bencoded dictionaries to be sorted correctly for instance, clients wouldn't have to go out of their way to support invalid encodings as they do today). maybe some relevant questions for this case. (1) a client that sends an invalid request to the tracker, is it likely to be a correct about other arguments, say the info-hash? (2) is it the kind of peer that a tracker should hand out to ther peers?",0,0.8048874139785767
410286404,12434,arvidn,2020-04-17T15:08:53Z,"it's not obvious to me that `&numwant=-1` is any more correct (or should be accepted to any greater degree) than `&numwant=foo`. as far as i can tell (but i haven't thought too much about this either), the only useful values for `numwant` is `0` or a *positive* number. clients will generally want as many peers as possible, or 0 (if they are stopping for instance). and the actual number to send has to be up to the tracker to decide.",0,0.9787389636039734
410349543,12434,FranciscoPombal,2020-04-17T16:55:15Z,"i see. 1, 2 - probably not, on both counts. so i guess being strict is the better option. but in any case, shouldn't the spec be updated to be more strict? at least the v2 spec, as updating the original one is not meaningful at this point. if the spec is not strict enough, it allows implementations to make assumptions that could lead to ossification of the protocol - the most well-known case of this is tls 1.x -> 1.3 i think. isn't it desirable to prevent that?",0,0.9598590731620789
410407273,12434,FranciscoPombal,2020-04-17T18:46:47Z,"alright, i removed the leniency changes.",0,0.9913056492805481
410684864,12434,glassez,2020-04-18T11:18:22Z,due to comment above this message is incorrect to be here since this place can be reached in case of plain ipv4 address.,0,0.9865289926528931
410687737,12434,FranciscoPombal,2020-04-18T11:48:19Z,"this message is supposed to be printed every time anything _except_ a **plain ipv6** is used. this includes the case of a **plain ipv4**. in other words, this message prints ""if address is indeed ipv4 or if it is an ipv4-mapped ipv6 address"", which is what the comment above says. the point of this is to help track and diagnose connectivity issues with the embedded tracker when ipv4-mapped ipv6 addresses are used and possibly other cases.",0,0.988793671131134
410690047,12434,glassez,2020-04-18T12:13:17Z,but it is a trivial case. why should it be logged (unlike plain ipv6)?,0,0.971917450428009
410690648,12434,FranciscoPombal,2020-04-18T12:19:05Z,because i did not find an easy way to exclude it.,0,0.957097589969635
410695303,12434,glassez,2020-04-18T12:58:32Z,can't you check whether it was ipv4 in the first place (before it was adjusted)?,0,0.9912420511245728
410698738,12434,FranciscoPombal,2020-04-18T13:28:39Z,"of course i can. brain freeze, sorry. it's fixed now.",-1,0.9947431087493896
410712058,12434,Chocobo1,2020-04-18T15:27:39Z,"log::warning is misused. any error from client isn't relevant to qbt normal operations. or another viewpoint, the user hasn't do anything wrong related to the warning, so it is a debug level msg or info level msg at best.",0,0.8375533223152161
410712235,12434,Chocobo1,2020-04-18T15:28:45Z,coding style.,0,0.9877970814704895
412378551,12434,FranciscoPombal,2020-04-21T18:07:26Z,fixed,0,0.920660674571991
412378648,12434,FranciscoPombal,2020-04-21T18:07:34Z,fixed,0,0.920660674571991
1629871916,20833,Chocobo1,2024-06-06T16:44:25Z,i would name it `setprivate`.,0,0.9946972131729126
1629872295,20833,Chocobo1,2024-06-06T16:44:48Z,i would name it `matchprivate`.,0,0.9941565990447998
1629873562,20833,Chocobo1,2024-06-06T16:45:58Z,i would name it `anyprivate`.,0,0.9938123226165771
1629875108,20833,Chocobo1,2024-06-06T16:47:19Z,i would name it `m_private`.,0,0.9933043122291565
1629877039,20833,Chocobo1,2024-06-06T16:49:01Z,i would name it `private`.,0,0.9936650991439819
1629877360,20833,Chocobo1,2024-06-06T16:49:17Z,i would name it `anyprivate`.,0,0.9938123226165771
1629878085,20833,Chocobo1,2024-06-06T16:49:53Z,i would name it `private`.,0,0.9936650991439819
1629878226,20833,Chocobo1,2024-06-06T16:49:59Z,i would name it `private`.,0,0.9936650991439819
1629879311,20833,Chocobo1,2024-06-06T16:50:59Z,i would name it `private`.,0,0.9936650991439819
1630845246,20833,glassez,2024-06-07T08:32:59Z,i would strongly expect that we use the same names like the ones within returned dictionary.,0,0.9872041344642639
1630960999,20833,ManiMatter,2024-06-07T09:51:11Z,"same view here. to my understanding, that is as it is currently implemented.",0,0.9929170608520508
1631250940,20833,Chocobo1,2024-06-07T13:50:11Z,ok it is less problematic for this one.,0,0.9656693339347839
1631291936,20833,glassez,2024-06-07T14:17:16Z,but it still needs to be changed. it is called `is_private` in another dictionary: [a link] so i would change it to `private` in both places.,0,0.994415283203125
1631315770,20833,glassez,2024-06-07T14:34:12Z,`anyprivate` looks confusing. now since we use `std::optional` these constants don't do much good. we can use `std::nullopt` directly and not bother to come up with names for these constants.,-1,0.6386672258377075
1631909518,20833,Chocobo1,2024-06-08T06:41:41Z,:thumbs_up:,1,0.9533231854438782
1639661396,20833,Chocobo1,2024-06-14T11:05:11Z,i wouldn't consider this resolved. please rename all patterns of `isprivate` to `private` in both torrentfilter.h and torrentfilter.cpp,0,0.9879751801490784
1639665115,20833,Chocobo1,2024-06-14T11:08:29Z,"this change and line 114 in torrentscontroller.cpp is backwards incompatible for the webapi/webui. are we sure to introduce disruptions for the downstream projects? regardless, you should increment `api_version` in webapplication.h due to other changes.",0,0.9891520738601685
1639686029,20833,glassez,2024-06-14T11:28:49Z,"it was added in ""info"" quite recently and has not yet been released, so i do not consider it a problem to change it now as a hotfix. but in ""properties"" it has been there for a long time. so we have several solutions: 1. still change it to ""private"" in an incompatible way, 2. add a new ""private"" field, leaving the old ""is_private"" as deprecated for compatibility, 3. do not change ""properties"", and use inconsistent names, 4. use ""is_private"" everywhere. i would vote for 1. or 2.",0,0.9040735363960266
1639726027,20833,ManiMatter,2024-06-14T12:08:55Z,"- i have renamed the patterns where possible. i can't rename all to ""private"", since the word ""private"" is reserved in c++. is the updated version fine with you?",0,0.9884397983551025
1639729766,20833,Chocobo1,2024-06-14T12:12:35Z,both are acceptable to me. i'll leave it to the pr author to decide.,0,0.9685777425765991
1639733566,20833,ManiMatter,2024-06-14T12:16:14Z,"i am not sure of the ramifications of that decision. personally i am totally fine to merge it as it is (i.e. it's becoming ""private"" on the properties api as well) but i don't know how much that will break. what would be your advice?",-1,0.9003517627716064
1639815985,20833,Chocobo1,2024-06-14T13:17:32Z,"yes, it is alright now. [a link] and third-party services (for example sonarr if i'm not mistaken) whom shows private torrent status will possibly stop working until they switch to the new value. and they probably need to maintain backward compatibility for previous qbt versions.",0,0.8956485986709595
1639839171,20833,glassez,2024-06-14T13:33:41Z,implemented 2. for maintaining backward compatibility.,0,0.9917993545532227
1639947353,20833,glassez,2024-06-14T14:49:24Z,"shouldn't it be the following instead? [code block] now it doesn't introduce breaking changes, does it?",0,0.9895399212837219
1640034105,20833,Chocobo1,2024-06-14T16:02:37Z,"yes, it should.",0,0.9838722348213196
1640036923,20833,ManiMatter,2024-06-14T16:05:24Z,done.,0,0.9897913336753845
22760398,2389,glassez,2015-01-10T17:16:41Z,"1. `qvariant` в имени функции - лишнее. просто `gettranserinfomap`. 2. если только один параметр и он выходной, то проще его заменить на возвращаемое значение: [code block] тогда и код выше можно сократить: [code block] [code block]",0,0.9607963562011719
22760418,2389,glassez,2015-01-10T17:19:12Z,скобки вокруг `tomap(torrent)` лишние.,0,0.8539357781410217
22761682,2389,glassez,2015-01-10T20:25:10Z,"чтобы предотвратить пересылку всех данных при сетевых ошибках, нужно сделать следующее: 1. хранить два предыдущих ответа - один тот, который мы отправили в прошлый раз, а другой, получение которого подтвердил клиент. 2. клиент должен повторно отсылать один и тот же `rid`, пока не получит ответ (в тех случаях, когда есть проблемы с сетью и ответ до клиента не доходит). вот как это реализовать здесь: [code block]",0,0.612472653388977
22766342,2389,glassez,2015-01-11T12:22:50Z,"ок. теперь необходимо сделать так, чтобы любые запросы (с любым значением `rid`) обрабатывались корректно (ошибки могут быть и в реализации клиентов - мы же не рассчитываем только на какой-то конкретный): [code block] так при `rid <= 0` будут передаваться все данные, как и при неверном значении `rid`. еще одно замечание по этой функции (и по остальным тоже) - переменная haschanges не используется, так что ее можно убрать и отсюда и из сигнатуры всех остальных функций.",-1,0.6530683636665344
22766382,2389,glassez,2015-01-11T12:29:40Z,"замени `partial` на `syncdata`, раз уж мы используем теперь такую терминологию. и в других методах.",0,0.7480282783508301
22766429,2389,glassez,2015-01-11T12:34:21Z,"здесь тоже можно поменять термины: `generatepartialresponse` => `generatesyncdata`, `response` => `data`, `lastacceptedresponse` => `lastaccepteddata`, `lastresponse` => `lastdata`.",0,0.9806744456291199
22766450,2389,glassez,2015-01-11T12:35:56Z,так же и здесь и в других местах.,0,0.5451372265815735
22766472,2389,glassez,2015-01-11T12:39:32Z,можно использовать более короткую запись в стиле qt: [code block],0,0.9219821095466614
22766632,2389,glassez,2015-01-11T13:03:45Z,"это бессмысленно, т.к. если `!changes` верно, то `partial` и так не содержит этого ключа.",0,0.8037910461425781
22766761,2389,glassez,2015-01-11T13:22:04Z,эту часть тоже можно упростить: [code block],0,0.8608750104904175
22766778,2389,glassez,2015-01-11T13:24:59Z,"кстати, можно по аналогии сделать функцию `processlist()`.",0,0.6423501372337341
22766855,2389,buinsky,2015-01-11T13:43:55Z,это излишне. все и так работает.,-1,0.5196849703788757
22768580,2389,glassez,2015-01-11T18:10:50Z,"не трогай это. пусть будет просто структурой, чтобы подчеркнуть ее назначение.",-1,0.48180341720581055
22768587,2389,glassez,2015-01-11T18:13:35Z,здесь тоже нужно заменить `response` на `data`.,0,0.8928666710853577
22768600,2389,glassez,2015-01-11T18:16:21Z,"должен быть пробел после `for`, `while`, `if`` и т.п.",0,0.864363968372345
22768806,2389,glassez,2015-01-11T18:45:55Z,"не используйте `int` и другие целочисленные типы в качестве `bool`. это работает, но не отражает явно логику алгоритма. а в некоторых ситуациях (не в этой) может вообще быть ошибочно, т.к. отрицательные значения приводятся к `true`.",0,0.5150570869445801
22768908,2389,glassez,2015-01-11T18:56:04Z,"ок. теперь необходимо сделать так, чтобы любые запросы (с любым значением rid) обрабатывались корректно (ошибки могут быть и в реализации клиентов - мы же не рассчитываем только на какой-то конкретный): [code block] так при `rid <= 0` будут передаваться все данные, как и при неверном значении `rid`. p.s. я уже это писал ранее. не спеши обновлять pr, пока не прочитал все строковые комментарии.",-1,0.5761126279830933
22768932,2389,glassez,2015-01-11T18:59:45Z,в ветке `default` не нужен `brake`.,0,0.8408411741256714
22885271,2389,glassez,2015-01-13T19:03:49Z,лишний пробел перед `[]`.,0,0.7211755514144897
22885408,2389,glassez,2015-01-13T19:05:44Z,"нужно вставить предварительные объявления всех внутренних (не btjson::) функций в этом месте, а сами функции разместить в конце файла.",0,0.6464993953704834
22885507,2389,glassez,2015-01-13T19:07:12Z,"по аналогии, из этой функции нужно возвращать просто `syncdata`, а в json кодировать в btjson:: функции, из которой она вызывается.",0,0.870592474937439
22885830,2389,glassez,2015-01-13T19:11:42Z,"эта функция теперь не нужна в `btjson`. нужно ее описать так, как и остальные внутренние функции - предварительное объявление вверху (после констант), а само тело после `btjson::` функций. и, если не сложно, сделай то же с функцией `tomap()`.",0,0.7493389844894409
22886351,2389,glassez,2015-01-13T19:18:09Z,"здесь можно вставить комментарий с форматом выдаваемых данных, как перед `gettorrents`.",0,0.8172102570533752
23264914,2389,sledgehammer999,2015-01-20T23:04:44Z,"i may be a little sleepy, but i didn't see you editing `prevdata` and `data` in any of these functions. so wouldn't it be clearer to pass them by const reference(`const &`)?",0,0.8776516914367676
23264992,2389,sledgehammer999,2015-01-20T23:06:02Z,is this particular comment line valid?,0,0.9917690753936768
23282952,2389,buinsky,2015-01-21T07:55:15Z,wrote this comment. apparently it is valid.,0,0.9919290542602539
23283581,2389,buinsky,2015-01-21T08:12:26Z,copy of `prevdata` data is edited into the functions. qt using implicit data sharing (see [a link]. i think that such the functions declaration is also appropriate.,0,0.9941831231117249
23284651,2389,glassez,2015-01-21T08:41:44Z,"this is because, apparently, that we discussed some things in russian. 'll take a small piece:",0,0.9868546724319458
192586409,9026,Chocobo1,2018-06-03T11:38:44Z,"these are legit uses of `qstringliteral`, why remove it?",0,0.9900034070014954
192586427,9026,Chocobo1,2018-06-03T11:39:16Z,i think you messed up the indention here and below.,-1,0.780878484249115
192586476,9026,Chocobo1,2018-06-03T11:41:06Z,"i would put the translations in www/locale folder. and ""www"" prefix isn't really good, why not just ""webui""?",0,0.9878743290901184
192586512,9026,Chocobo1,2018-06-03T11:42:20Z,this is python3 right? please put `#!/usr/bin/env python` at top so linux users can execute it directly.,0,0.994694173336029
192586561,9026,Chocobo1,2018-06-03T11:44:09Z,(i haven't check this) and please make sure the file is executable: [a link],0,0.9942883253097534
192595884,9026,glassez,2018-06-03T16:48:37Z,"sorry, it was rebase artifact. will be fixed.",-1,0.9930411577224731
192595986,9026,glassez,2018-06-03T16:52:18Z,outdated qtcreator broke it.,0,0.8743712902069092
192596090,9026,glassez,2018-06-03T16:56:35Z,"ageed with ""www -> webui"". but why ""locale"" is better name? it's not so obvious for me.",0,0.9807518720626831
192596415,9026,glassez,2018-06-03T17:07:48Z,ok,0,0.9233372807502747
192619054,9026,Piccirello,2018-06-04T03:12:07Z,i think locale is the more widely-accepted verbiage. from the wikipedia page for [a link]:,0,0.9856823086738586
192633620,9026,glassez,2018-06-04T06:06:43Z,"but here are the translation files for some languages. so it turns out, the most correct name is ""translations"". but it's just an internal folder, so i don't really care what it's called. if you insist on ""locale"", then i will use it without further objection.",0,0.9220379590988159
192676163,9026,Chocobo1,2018-06-04T09:21:14Z,"minor thing, i would use ""webui switching to locale: %1."" and for below: ""webui invalid locale selected: %1, falling back to default: en""",0,0.847346305847168
192679046,9026,Chocobo1,2018-06-04T09:31:30Z,you should also remove this file from repo?,0,0.9958840012550354
192680447,9026,Chocobo1,2018-06-04T09:36:27Z,"personal preference, i would prefer using the full name, e.g. os.path.join .... i think it is easier to read.",0,0.982636570930481
192680676,9026,Chocobo1,2018-06-04T09:37:16Z,"i would expect a list, a bit strange to see a tuple is used.",-1,0.9019916653633118
192681407,9026,Chocobo1,2018-06-04T09:40:01Z,also i think .css & .js can be excluded?,0,0.9941185712814331
192682913,9026,Chocobo1,2018-06-04T09:45:39Z,"nitpick, redundant space at end of string",0,0.9882274270057678
192683394,9026,glassez,2018-06-04T09:47:32Z,"did i forget to do that? hell, it's a cost of development ""on the knee"".",-1,0.9847962856292725
192686063,9026,Chocobo1,2018-06-04T09:56:47Z,"if the exception is unexpected... i think the pythonic way is not catching it, just let the program terminates. otherwise you should catch the specific exception. ps. this also applies to the try...catch above.",0,0.9851469397544861
192700353,9026,glassez,2018-06-04T10:51:58Z,"i just use existing messages from application class. webui invalid locale selected imo, it's incorrect. the event is ""translation for selected locale loaded or failed to load"". so how about ""webui translation for selected locale (%1) successfully loaded."" and ""couldn't load webui translation for selected locale (%1), falling back to default (en).""?",0,0.9687572717666626
192703692,9026,Chocobo1,2018-06-04T11:07:03Z,ok.,0,0.980760931968689
192708506,9026,glassez,2018-06-04T11:27:25Z,"i'm not python developer. i use it very rarely... i only used tuple because it's immutable. but apparently it doesn't matter, and the list is more appropriate (from use cases pov).",0,0.9411001205444336
192710145,9026,glassez,2018-06-04T11:34:27Z,why? .js files contain translatable strings even in builtin webui. and i think .css can contain it for some purposes in altrernative webui.,0,0.9818722605705261
192712914,9026,glassez,2018-06-04T11:46:33Z,"why should i allow the program to terminate in case it is impossible to write some specific file for some reason? and yes, i'm not at all interested in that reason. i don't want to make a monster out of this simple helper script. it is not intended for general use, but only for developers. p.s. if someone does not have enough problems in the main qbittorrent code base, or someone will find here some critical (in his opinion) shortcomings, he can spend his time and bring it to perfection later.",-1,0.5929908752441406
192713704,9026,Chocobo1,2018-06-04T11:49:56Z,"now i see... so you mean this script can be also used for alternative webui translations? i would let this script cover only built-in webui translations, let alternative webui provide their own i18n solution. imo it is not really sane to have translation in css files, but who knows?",0,0.894824206829071
192715387,9026,Chocobo1,2018-06-04T11:56:56Z,"bad wording from me, ignore that reasoning. problem is you're catching all exceptions, you should only catch the ones you need: [a link]",-1,0.975066602230072
192716743,9026,glassez,2018-06-04T12:02:23Z,pr updated!,0,0.8246697783470154
192732210,9026,glassez,2018-06-04T13:01:21Z,"in general case, yes. but as i said before: i don't know what exceptions there can be and i don't want to know it exactly. i just want to skip it and try to continue. it works without errors under normal conditions. i don't want to complicate it trying to handle abnormal environment state. i assume the developer who encounter some error will be able to handle it.",0,0.9071625471115112
192738129,9026,glassez,2018-06-04T13:21:39Z,"you must have forgotten how it all started... it is not particularly useful to do this only for the built-in web interface. the idea is to provide an abstract translation mechanism that, on the one hand, does not require changes to the qbittorrent binary (e.g., as it was with additional messages in the ""extra_translations.h"" file), and on the other hand, allows web interface to use its own strings and not only the ones already used in the qbittorrent gui. without having the dynamic server-side content, the javascript code is the only place to do it. but in any case, why should we limit the use of this simple method hjust insert qbt_tr and place appropriate .qm files into ""translations"" folder)? besides, it doesn't prevent them from using some other way if they want it.",0,0.8060150146484375
192817839,9026,Chocobo1,2018-06-04T17:19:27Z,"personally i don't want to put this burden on the qbt server when there are client side solutions (maybe like [a link] ?). iirc this has been discussed before, i'll stop here, lets not delve into it more.",0,0.7601456046104431
192819085,9026,Chocobo1,2018-06-04T17:23:59Z,"then maybe try block is not really needed and can be omitted? however as i probably won't be the one using the script, you can disregard my suggestion.",0,0.9877926707267761
192826125,9026,glassez,2018-06-04T17:48:24Z,"you didn't still understand desired behavior? skip any error (only print message about it) and try to process the rest files. i can't implement it without try-catch. of course, i can omit try-catch in this place, since error here usually means some external problem breaking the correct execution of the script. but i can't omit it above, since there can be some particular invalid file which can be skipped.",0,0.9889127612113953
192828661,9026,zeule,2018-06-04T17:56:58Z,"""for doing"" or ""to do""",0,0.9740415215492249
192828815,9026,glassez,2018-06-04T17:57:31Z,"i don't understand your pov. this logic is already here (on qbt server side). i just changed it a bit to don't use gui translations. or do you suggest to remove it at all and use client side translation for all possible web ui? imo, a very strange offer in the absence of active web developers in our team. , you should read this discussion when you'll review this since it contains different povs on the overall problem.",-1,0.9847550988197327
192829807,9026,zeule,2018-06-04T18:00:51Z,redundant.,0,0.6917503476142883
192830124,9026,zeule,2018-06-04T18:02:03Z,"seems like the variable does not need to be global, since you only pass it to a function called from main().",0,0.9887160658836365
192830433,9026,zeule,2018-06-04T18:03:08Z,"omg, returning function values via a global variable...",0,0.9915400147438049
193846866,9026,glassez,2018-06-07T18:29:02Z,"really? i don't know english well, so i just adopted the existing wording from `src/update_qrc_files.py` (""small script to update qrc files""). ?",0,0.70808345079422
193847075,9026,glassez,2018-06-07T18:29:44Z,why?,0,0.9622438549995422
193848214,9026,glassez,2018-06-07T18:33:38Z,"i take it as a plain script. i can do without ""main"" function at all, can't i? these values are script configuration defaults so i want it in global place.",0,0.9932559728622437
193850428,9026,glassez,2018-06-07T18:41:13Z,"you offer a little more (without any benefit) complicate this plain script? really, it's easier to get rid of these functions!",0,0.8577016592025757
194091783,9026,zeule,2018-06-08T15:18:13Z,"if it is python3, the shebang should read #!/usr/bin/env python3",0,0.9940987825393677
194093160,9026,zeule,2018-06-08T15:22:49Z,because it is used only inside main(),0,0.9943826198577881
194139284,9026,glassez,2018-06-08T18:07:58Z,"well, there is no main() now since it was so confusing you.",0,0.5674210786819458
194139392,9026,glassez,2018-06-08T18:08:20Z,"ok, changed.",0,0.992104172706604
202558156,9026,sledgehammer999,2018-07-15T23:22:40Z,"""building **webui** translations failed"". --> to differentiate from gui translations and be able to accurately debug. i wonder if we should add the failing locale name in both situations.",0,0.9522973299026489
202558550,9026,sledgehammer999,2018-07-15T23:35:53Z,true question: why isn't the regex like this? (look at the last capture group) [code block],0,0.9928402900695801
202574676,9026,glassez,2018-07-16T05:03:50Z,"ok. fixed. it's not necessary since error message appears immediatelly after line with its name: ""processing "".",0,0.867996871471405
202574908,9026,glassez,2018-07-16T05:07:35Z,"to follow c++ (and many other languages) identifier format: ""identifier cannot start with number"". but if you want we can use softer rules here.",0,0.9935380816459656
202575052,9026,sledgehammer999,2018-07-16T05:09:53Z,i see. just leave it as it is.,0,0.9837055206298828
202681226,9026,zeule,2018-07-16T13:28:01Z,consider pathlib.path,0,0.9928750991821289
202685988,9026,zeule,2018-07-16T13:41:52Z,`with ....`,0,0.9846620559692383
202689946,9026,glassez,2018-07-16T13:52:51Z,", as i said before, i'm not going to change this script unless it contains critical errors. you can improve it later if you want. i do not use python on a daily basis, and it makes no sense for me to comprehend its subtleties. when i'll want to learn it i ask you for best practices :)",1,0.9812281727790833
202692199,9026,glassez,2018-07-16T13:59:03Z,you even can do it by pushing commit into this branch while pr is still unmerged.,0,0.9943133592605591
202693953,9026,zeule,2018-07-16T14:03:53Z,[code block] or [code block] assuming root is `pathlib.path`,0,0.9956587553024292
202694226,9026,zeule,2018-07-16T14:04:36Z,"actual value of nfiles is unneded, why it is not a bool then?",0,0.9924309849739075
203775334,9026,Chocobo1,2018-07-19T15:39:03Z,"a bit offtopic, after we moved this `include()` here, i noticed qt is building translations multiple times when i run `qmake src.pro` in windows. i suspect the qmake needs to generate different configurations (debug, release) and built the translations when doing so, so maybe we should move it back to qbittorrent.pro ?",0,0.9644585847854614
203807444,9026,glassez,2018-07-19T17:21:07Z,"yes. at least it should fix this regression, isn't? this extra delay required to generate .qm files every time i build a project is very annoying to me personally. it would be better to completely get rid of this ""intrusive service"", whose convenience is very doubtful. it would be better to have some (very simple) script to generate these files so the developer can run it when it is really needed. what do you say? ?",-1,0.9701812267303467
203933292,9026,Chocobo1,2018-07-20T04:07:25Z,"yeah, imo it is the baseline we should do if the situation cannot be improved. i've thought about it, i find it very hard to have a portable script on all platforms/oss without adding additional build dependency (python, cmake).",0,0.9619984030723572
204154153,9026,sledgehammer999,2018-07-20T19:58:07Z,"imo, it will increase the probability that i'll forget to run it before a release and have stale translations. although i suspect it would be possible to integrate it as a step inside `make tarball` (<--- current way of making release tarballs). but that means we will distribute .qm files too now on each release.",0,0.9526947736740112
1746626748,21300,Chocobo1,2024-09-06T07:21:33Z,what is the different between these two? i'm under the impression that they are eventually the same.,0,0.9815146327018738
1746658319,21300,HanabishiRecca,2024-09-06T07:46:45Z,"not even close, they are completely different under the hood. posix has horrendous performance, uses synchronous i/o, don't support files preallocation etc.",-1,0.9885699152946472
1746663564,21300,Chocobo1,2024-09-06T07:51:02Z,ok. do you know what functions do they call? obviously one is pread/pwrite and the other?,0,0.9940184354782104
1746670336,21300,Chocobo1,2024-09-06T07:56:26Z,btw it seems the old posix option has a bad name now because pread/pwrite is also defined in posix standard.,0,0.7238115072250366
1746673960,21300,HanabishiRecca,2024-09-06T07:59:19Z,[a link] and [a link]. that's how libtorrent calls it. :woman_shrugging:,1,0.58341383934021
1746686821,21300,Chocobo1,2024-09-06T08:10:07Z,thank you!,1,0.9448403120040894
1746693669,21300,Chocobo1,2024-09-06T08:15:44Z,"maybe we could rename the `pread` option to `mmap fallback`? the new name will not be confused with ""posix-compliant"". also, the pread could be an implementation detail that we shouldn't advertise.",0,0.9868083596229553
1746699347,21300,HanabishiRecca,2024-09-06T08:20:27Z,"maybe. i named it accounting future changes from arvidn/libtorrent#7013, as said above: again, that's how libtorrent calls it. but i don't mind the naming here.",0,0.8998544812202454
1746712918,21300,glassez,2024-09-06T08:30:56Z,"imo, `mmap fallback` is completely meaningless/confusing to be used here. its meaning is precisely that it does not use memory mapping at all, so why mention it?",0,0.5194862484931946
1746719931,21300,glassez,2024-09-06T08:36:38Z,"in my old commit made to test a new disk io subsystem, i named the corresponding option more abstractly from the implementation details ""multi-threaded file read/write"". i would use something like it.",0,0.9925002455711365
1746725249,21300,Chocobo1,2024-09-06T08:40:46Z,"[a link] 1. to differentiate it with ""posix-compliant"" option. 2. the pread could be an implementation detail that we shouldn't advertise. by only looking at its name, some users might be mistaken that the current option is the unfinished pread-disk-io. and when we switched it to pread-disk-io under the hood, some users might still think it is the old one. either we add more info/rename the ""posix-compliant"" one or use some obscure name like ""mmap fallback"".",0,0.9889461398124695
1746725784,21300,HanabishiRecca,2024-09-06T08:41:09Z,"yeah, shared constructor/code with the mmap backend is an implementation detail. it tells nothing about its nature. and could change in the future. so it should be something different. i don't have any particular ideas though.",0,0.9762883186340332
1746740206,21300,Chocobo1,2024-09-06T08:52:16Z,"or both. such as ""posix-compliant (fread/fwrite)"" and ""mmap fallback (pread/pwrite)"". as for pread-disk-io it would be just ""pread"" as libtorrent calls it [a link]",0,0.9924094676971436
1746740548,21300,HanabishiRecca,2024-09-06T08:52:33Z,"and when we switched it to pread-disk-io under the hood, some users might still think it is the old one. so we talk only about ui option name or internal name too?",0,0.9941161870956421
1746755362,21300,HanabishiRecca,2024-09-06T09:01:01Z,"i don't think users are interested in underlying functions. and `posix-compliant` name is already widely used. new option should not contain ""mmap"" word imo, as it is misleading. better to call it something like `fallback io`.",0,0.9551500082015991
1746757942,21300,Chocobo1,2024-09-06T09:02:00Z,both. imo they should be distinctively named. you have to have something first before fallback to something else. it could be a compromise if nothing else is better.,0,0.9375415444374084
1746789528,21300,HanabishiRecca,2024-09-06T09:12:50Z,`diskiotype::mmapfallback` works for internal name i think. as for user-facing name... maybe we make it straight: `disable memory mapped files`. it nicely summarizes the whole thing to the user.,0,0.9591164588928223
1746793145,21300,glassez,2024-09-06T09:15:22Z,":thumbs_up: i strongly insist to not use ""mmap"" in its name.",1,0.906292200088501
1746797155,21300,HanabishiRecca,2024-09-06T09:18:19Z,this name kinda implies that other options don't support multithreading. which is not true of course. and the amount of threads is controlled by respective option (`asynchronous i/o threads`). if you set it to 1 it is not multithreaded anymore.,0,0.957894504070282
1746809364,21300,HanabishiRecca,2024-09-06T09:27:44Z,"what about negation? ""not mmap"" aka ""disable memory mapped files""?",0,0.9895610809326172
1746869717,21300,HanabishiRecca,2024-09-06T10:01:27Z,"or maybe something neutral. ""simple io"", ""regular io"", ""basic io"", ""standard io"", ""normal io"", ""conventional io"" ...?",0,0.9818810224533081
1747044834,21300,glassez,2024-09-06T12:29:57Z,"in fact, it's hard to avoid mentioning some internal details in the name of these options, because they are essentially low-level settings. i would just not mention the unimportant details, like the fact that we use the same thing to provide different types of i/o. by enabling/disabling memory mapping, we essentially get two different i/o types (mmap based and pread/pwrite based). we do not say that there is a one-to-one correspondence with some low-level subsystem of libtorrent. there is always an opportunity to be misleading when it comes to some advanced settings. in any case, we cannot provide all information through the option name. details can be specified somewhere in documentation, in option tooltip, in the feature announcement on the official website, etc. when we replace it with a new pread/pwrite based implementation, we can present it as an improvement of the old one.",0,0.961661159992218
1747124730,21300,HanabishiRecca,2024-09-06T13:25:24Z,"soo, effectively you are saying to keep it as is? and what about the internal name?",0,0.9921039342880249
1747193097,21300,Chocobo1,2024-09-06T14:10:59Z,"then i would just call the new option ""customized"" and explain the details in the tooltip. the old one is not a proper disk io type. it is mmap type's fallback/special case behavior. present the new one as an improvement would be false advertising as they are different things. the whole naming issue arose is because it is modifying something instead of a proper disk io type itself. if obscure names such as ""customized"" is still objected. then the only way forward is to present the `mmap_file_size_cutoff` and `disk_write_mode` options instead of disguising them as a new disk io type.",0,0.9723585247993469
1747224149,21300,HanabishiRecca,2024-09-06T14:32:21Z,"i like that variant actually. i see a problem with that, as stated above. [a link]",1,0.7282127141952515
1747242040,21300,glassez,2024-09-06T14:45:41Z,"this is exactly ""proper disk io type"" from an external point of view. you just can't abstract away from the unimportant implementation details of to accept it. i can just copy its code, hardcodely disable memory mapping (and even delete all related code), what would you call it in that case? a ""proper disk io type"" or not?",0,0.9838632345199585
1747248126,21300,Chocobo1,2024-09-06T14:49:28Z,"i'll reply here: it depends on how the option is named/presented and also, most of the time the options in advanced settings are just fields for power users to access libtorrent knobs. it doesn't target the novice/average users.",0,0.9920220375061035
1747498596,21300,Chocobo1,2024-09-06T17:40:44Z,if you provided another `disk_io_constructor_type` then it is a genuine disk io type. for our case here it is just modified mmap: mmap disk io with customized behavior.,0,0.9941693544387817
1747521805,21300,stalkerok,2024-09-06T17:59:51Z,maybe call it that? `modified memory mapped files (minimal use)`,0,0.9911205172538757
1747547528,21300,HanabishiRecca,2024-09-06T18:22:12Z,"the thing is, the mmap is disabled completely, there is no minimal use. that's why i and insist on not including mmap into the description. on the other hand, i don't think users are very interested in internals. so we might as well simply lie about its true nature and call it something like `memory mapped files (optimized)`.",0,0.9460412263870239
1747553295,21300,HanabishiRecca,2024-09-06T18:27:28Z,"i still think this is the best compromise here. maybe even `custom optimized`? very neutral wording, then we could explain what exactly it does in the docs. and use `diskiotype::mmapfallback` internally.",0,0.7503696084022522
1747556218,21300,stalkerok,2024-09-06T18:30:21Z,"`optimized` doesn't sound very accurate as it's not clear which way the optimization is going, `minimal use` is closer to that. after all, these are really parameters for power users.",0,0.9521656632423401
1747577642,21300,glassez,2024-09-06T18:50:03Z,memory mapping based thing that doesn't use memory mapping completely is nonsense.,-1,0.868751585483551
1747578539,21300,HanabishiRecca,2024-09-06T18:50:37Z,"yeah, that's a valid point. but in that case, i don't see how `minimal use` is better than plain simple `disabled` though. also true. i personally don't mind how it's called. but the more concise name we pick, the easier it will be to talk with people about it.",0,0.8618647456169128
1747590207,21300,Chocobo1,2024-09-06T18:59:07Z,or `custom simplified`? as it is reduced from mmap + fallback to only fallback.,0,0.9905842542648315
1747590421,21300,HanabishiRecca,2024-09-06T18:59:18Z,"and if we still want to expose some technical details, i would say `force pread/pwrite` sounds good to me. sounds reasonable too.",0,0.8152527809143066
1747592231,21300,stalkerok,2024-09-06T19:00:57Z,"`modified memory mapped files (disabled)` as an option, yes, but it sounds really weird.",-1,0.9677742123603821
1747607016,21300,Chocobo1,2024-09-06T19:14:55Z,i could settle on this. at least it is implying it has tweaked behavior.,0,0.9798979163169861
1747617055,21300,HanabishiRecca,2024-09-06T19:25:03Z,"ok then, `diskiotype::mmapfallback` + `force pread/pwrite`.",0,0.9939464926719666
1747624155,21300,glassez,2024-09-06T19:32:03Z,"if you want to refer to these two io types as the same, but with enabled/disabled memory mapping, the main part of name should not contain ""memory mapping"", for example: 1. regular (memory mapping enabled) 2. regular (memory mapping disabled) (""regular"" is just an example.)",0,0.9903141856193542
1747632951,21300,HanabishiRecca,2024-09-06T19:40:49Z,i guess that's outside of the scope of this pr.,0,0.9371148347854614
1747984035,21300,glassez,2024-09-07T07:05:47Z,"i really don't understand that. one option uses memory mapping, another uses pread/pwrite. why mention the negligent details? as about `diskiotype::mmapfallback`. what life cycle do you think for this option? should it be replaced by a new one when it becomes available? or you want to leave both? in any case, this is a user-visible string used in the configuration file so i wouldn't use `mmap` in it as well.",-1,0.673378586769104
1747992748,21300,HanabishiRecca,2024-09-07T07:39:11Z,what do you suggest then? something closer to the user-visible string? --- p.s. this discussion reminds me a famous quote :grinning_face_with_sweat:,0,0.6940022706985474
1749131302,21300,Chocobo1,2024-09-08T08:12:59Z,"yes, until it is known that the new one don't have nasty bugs or the old one is inferior than the new one in every way.",0,0.7308870553970337
1749241842,21300,glassez,2024-09-08T13:54:14Z,"i just want the names of the options to reflect their distinctive features (one type of i/o uses memory mapped files, the other uses regular i/o feature), and not unimportant details (like the fact that both are provided by the same libtorrent classes). the mention of memory mapping in the name of the discussed i/o type (both ui and internal), which does not involve the use of such nemory mapping, is unacceptable.",-1,0.7461661696434021
1749244417,21300,HanabishiRecca,2024-09-08T14:02:42Z,understood. i'll make them in sync then. it's not like we have technical restrictions about it.,0,0.8846487998962402
1759022303,21300,glassez,2024-09-13T14:56:55Z,"and yet, why it is ""**force** pread/pwrite""? is there any other ""pread/pwrite"" based type available that isn't ""force"" unlike this one?",0,0.9670904278755188
1759089524,21300,HanabishiRecca,2024-09-13T15:39:56Z,it would be in the future.,0,0.9872495532035828
1759939340,21300,glassez,2024-09-15T01:35:46Z,"in general, you can't know anything about it. we need to name this type only based on its distinctive features (relative to current types). but since in this case we know about the new io backend being developed, which may be added as a separate io type in the future, we could immediately take this into account when naming. but anyway, is the current type (added by this pr) different from the new one in such a way that we can describe this difference with the word ""force""? i don't believe it's appropriate. so i would just name it ""pread/pwrite"" (""preadpwrite"" internally) since this says enough about its features relative to the rest of the existing io types, and think about the name of the new type when it becomes available.",0,0.9711960554122925
1759991567,21300,Chocobo1,2024-09-15T08:11:11Z,"so i would just name it ""pread/pwrite"" (""preadpwrite"" internally) since this says enough about its features relative to the rest of the existing io types, and think about the name of the new type when it becomes available. there are some minor differences between the two approaches. if they are the same, then arvidn should be able to get it done quickly, isn't? currently, it is like driving a hybrid car with batteries disabled. it will run but it isn't in the best condition. i would really like to have differentiate between these two and not impersonating the fallback mode as a native one.",0,0.9317901134490967
1759998304,21300,glassez,2024-09-15T08:49:18Z,"the point is how it is presented at the user level. you're talking about a case where the battery on/off switch is available to the user of a hybrid car. but in this case, we are talking about the case when the car is assembled from the same parts as the hybrid, but the batteries are not mounted at all. what's the point of talking about it as a hybrid if it can only work in one single mode? this low-level information could only be of interest to a very advanced user in the same way as the information that different processors with different numbers of cores and cache size are actually created from the same crystals, physically having the same number of cores, cache size, etc. p.s. perhaps using ""force pread/pwrite"" name would be acceptable if the existing type was called like ""hybrid (mmap, pread/pwrite)"".",0,0.9745627045631409
1780220309,21300,HanabishiRecca,2024-09-30T00:15:03Z,"i think we should resolve this. it is very frustrating to be blocked for such insignificant reason. people want that functionality, the naming could be changed later.",-1,0.9884240031242371
1780927126,21300,glassez,2024-09-30T11:22:07Z,"it's not a problem to change name in ui. but if this internal option name leaks into the release, then in order to change it, we will either have to maintain both names (old and new), or add an update code replacing it in the configuration file. agree. my reasoning is still looks valid for me. i appeal you to think again about whether `forcepreadpwrite` is really better than `preadpwrite`. answer the question, then what will you name the new option so that it reflects its difference from this one? if everything suits you, then i give in, you can do it your own way - your responsibility.",0,0.7425821423530579
1780932658,21300,glassez,2024-09-30T11:26:42Z,"ps. for me, the following names look acceptable (both having only one option and both): 1. preadpwrite, preadpwrite2 (simplest case) 2. preadpwrite, advancedpreadpwrite 3. preadpwrite, bufferedpreadpwrite 4. simplepreadpwrite, preadpwrite",0,0.9096508026123047
1781119507,21300,Chocobo1,2024-09-30T13:20:32Z,"this is related to the code and config file, right? i could agree on option 4 (or `simplifiedpreadpwrite, preadpwrite`). i don't mind the ui also use it, although it is a little strange.",0,0.9068557620048523
1781142617,21300,glassez,2024-09-30T13:33:26Z,"yes. as i mentioned above, it is not difficult to change the text in the ui if the original version is later found unsuitable. i think ""simplified pread/pwrite"" would be acceptable first approach (at least it much better than ""force pread/pwrite"".",0,0.9616760611534119
1781182436,21300,HanabishiRecca,2024-09-30T13:54:07Z,"honestly, the word `simplified` brings more associations with simplified chinese for me. :eyes: anyway, waiting for a final decision.",1,0.9174533486366272
1781301505,21300,Chocobo1,2024-09-30T14:57:15Z,"`simplified`, `simple` i don't have strong opinion on one. you can just pick one.",0,0.9309237599372864
1781345672,21300,HanabishiRecca,2024-09-30T15:26:59Z,"ok, i hope we agree on it.",1,0.6971202492713928
355178640,11614,sledgehammer999,2019-12-08T11:21:05Z,add them in alphabetical order. [a link],0,0.9948716163635254
355178764,11614,sledgehammer999,2019-12-08T11:22:54Z,curly braces aren't needed in this if statement. [a link],0,0.9931173324584961
355183109,11614,Chocobo1,2019-12-08T12:34:58Z,there is src/base/profile.cpp file so this declaration should not be here.,0,0.993002712726593
355201651,11614,Tester798,2019-12-08T17:27:57Z,added this because there is same piece here: [a link] should i try to move it all to src/base/profile.cpp ?,0,0.9955470561981201
355203186,11614,Chocobo1,2019-12-08T17:53:16Z,"maybe yes, at least it should try to fit in the helper functions that file provides. let us wait for others opinion.",0,0.9774953722953796
355258117,11614,glassez,2019-12-09T04:21:29Z,"imo, it's not ""command line options"" job.",0,0.9676086902618408
355382543,11614,Kolcha,2019-12-09T10:55:18Z,"agreed, checking some folder for existence is not related to command line parsing. i suggest to do that after command line parsing",0,0.98614501953125
355580028,11614,Tester798,2019-12-09T17:24:56Z,do you mean it's better to add folder check here: [a link] ? should i also add folder checks here: [a link] and here: [a link] or these two places are ok to check only for `m_commandlineargs.portablemode`?,0,0.9949040412902832
355874543,11614,Kolcha,2019-12-10T07:17:36Z,"just do it in only one place, right exactly before the line you posted first. just set `m_commandlineargs.portablemode` to `true` in case if folder exists, and leave everything as is. it must work",0,0.9915966391563416
355894506,11614,glassez,2019-12-10T08:19:32Z,"spoofing command line parameters doesn't seem like the better solution. ideally, it should be checked in the place where the final decision is made.",0,0.9457714557647705
356205458,11614,Tester798,2019-12-10T18:30:55Z,i think it's better to set `m_commandlineargs.portablemode` to `true` before [a link] because in this case we can still get useful messages from [a link] updated pull request.,0,0.9850456118583679
356516591,11614,Chocobo1,2019-12-11T10:29:27Z,you are checking the profile folder every time you call this function! you should only do that once.,0,0.9171895980834961
356596447,11614,Tester798,2019-12-11T13:26:30Z,replaced function call with `m_portablemodeenabled`: [a link],0,0.9962169528007507
356636306,11614,Tester798,2019-12-11T14:41:35Z,maybe we should remove this check completely? because if there is `profile` folder in app dir and user wants to specify different profile with `--profile=` command line argument then app will not start at all.,0,0.9842475652694702
356642554,11614,Tester798,2019-12-11T14:51:58Z,removed.,0,0.9612457156181335
356653528,11614,Tester798,2019-12-11T15:10:44Z,also here we seems to need `&& m_commandlineargs.profiledir.isempty()` because else `profile` folder will be used instead of `m_commandlineargs.profiledir`.,0,0.9943243265151978
356949649,11614,Chocobo1,2019-12-12T04:02:22Z,"nitpick, i would use ""using config directory: %1""",0,0.9950487017631531
356950969,11614,Chocobo1,2019-12-12T04:10:06Z,please help us fix the coding style by adding parentheses to the last parameter: `(m_commandlineargs.relativefastresumepaths || m_portablemodeenabled)`,0,0.9956538677215576
356951194,11614,Chocobo1,2019-12-12T04:11:35Z,"not your code, please help us fix the coding style by adding `const` to function: `void application::validatecommandlineparameters() const`",0,0.9945634007453918
356954587,11614,glassez,2019-12-12T04:32:49Z,please rename it to reflect its actual meaning: m_defaultprofilefolderfound. current name confuses.,0,0.9936506152153015
356990500,11614,glassez,2019-12-12T07:24:27Z,"seems like wrong logic here. iirc, if user specifies profile dir via command line it will used even if default profile dir is found. but if user doesn't specify ""relative fastresume"" param then it doesn't want it to use. i would change workflow to the following: 1. process profile related command-line parameters first. if no one is used then 2. try to find default profile folder.",0,0.586301863193512
357140174,11614,Tester798,2019-12-12T13:20:46Z,done.,0,0.9897913336753845
357140264,11614,Tester798,2019-12-12T13:20:57Z,done.,0,0.9897913336753845
357140389,11614,Tester798,2019-12-12T13:21:13Z,changed.,0,0.9680466055870056
357144974,11614,Tester798,2019-12-12T13:31:00Z,"not sure if i understand what the logic should be with this `relativefastresumepaths` command line parameter. as i understand `portable` mode should always use `relativefastresumepaths`, but specifying `--profile=` command line parameter doesn't mean that `relativefastresumepaths` should be used if it's not specified. is that correct? if so, then maybe moving check `&& m_commandlineargs.profiledir.isempty()` from [a link] to [a link] would do it?",0,0.8597245216369629
357888976,11614,Tester798,2019-12-14T01:51:14Z,"ok, moved `m_commandlineargs.profiledir.isempty()` check to the top. let me know if i should change anything else.",0,0.9864364266395569
357905732,11614,glassez,2019-12-14T08:53:26Z,"maybe it's not that important to you, but i would prefer to have explicit logic (this makes the code easier to read/maintain). [code block] also ""relative fastresume"" option has no meaning without ""profile"" option so it should be validated accordingly. i think we should throw exception in case when it is specified without ""profile"" option. [code block] then you even can use `m_commandlineargs.relativefastresumepaths` instead of `!m_commandlineargs.profiledir.isempty() && m_commandlineargs.relativefastresumepaths` in the code above.",0,0.9802300930023193
357908804,11614,glassez,2019-12-14T10:07:34Z,"sorry, it seems i'm wrong. it can have a meaning even with default profile (not portable). so now your code seems to be correct, but `m_defaultprofilefolderfound` now has other meaning (default portable profile folder is found and isn't overriden by command-line parameters, so ""portable mode enabled"").",-1,0.9875563979148865
357909268,11614,glassez,2019-12-14T10:18:17Z,"i would add [code block] also i would move appropriate check from ""validatecommandlineparameters"" here (since it doesn't really validate command-line parameters themselves) so log messages will in correct order (""portable mode enabled"" and then ""relative fastresume is implied""). also we will have no additional member variable.",0,0.9947808384895325
357943051,11614,Tester798,2019-12-14T23:04:17Z,"thanks for the suggestions. i changed the code, please let me know if i should change anything else.",1,0.965065062046051
357943224,11614,Tester798,2019-12-14T23:10:34Z,"moved check from ""validatecommandlineparameters"" here added additional log message. please let me know if i should change anything else.",0,0.9729079604148865
357952371,11614,Chocobo1,2019-12-15T04:15:58Z,please make this inside `if (portablemodeenabled)`. [code block],0,0.9961685538291931
357952494,11614,Chocobo1,2019-12-15T04:20:24Z,"will this work? `tr(""running in portable mode. auto detected profile folder at: %1"").arg(profiledir)`",0,0.9948807954788208
357953550,11614,glassez,2019-12-15T04:54:56Z,it will show almost the same path as message above. are you sure we need both of them?,0,0.9943565726280212
357953689,11614,Chocobo1,2019-12-15T04:59:10Z,"i don't insist on that. but the point is `(auto detected)` has not enough information to users, they won't know what path is auto detected.",0,0.9503704309463501
357953744,11614,Chocobo1,2019-12-15T05:00:42Z,or maybe: [code block],0,0.9918781518936157
417068144,12557,Piccirello,2020-04-29T05:02:53Z,"alas, we can't yet use arrow functions while we support ie11. i'd love to drop ie11 support (as bootstrap 5 has [a link], but we've collectively decided to support it for a bit longer.",0,0.860626220703125
417068210,12557,Piccirello,2020-04-29T05:03:10Z,please use triple equals `===` throughout,0,0.9932214021682739
417068732,12557,Piccirello,2020-04-29T05:05:29Z,what does `imp` stand for in `invisibleimp`? maybe there's a more descriptive name that can be used instead.,0,0.9871578812599182
417070580,12557,Piccirello,2020-04-29T05:13:09Z,can you extract this conditional to a named variable to better document its purpose (e.g. `const tabsinititalized = `),0,0.9949742555618286
417071551,12557,Piccirello,2020-04-29T05:17:18Z,this is really hard to understand. can you document what each of these conditionals means?,-1,0.9761096239089966
417072357,12557,Piccirello,2020-04-29T05:20:32Z,you can move the `addrule` line out of the conditionals since it's the same for all three cases.,0,0.9940662384033203
417073168,12557,Piccirello,2020-04-29T05:23:16Z,nit: put a space between comment syntax and the actual comment [code block],0,0.994281530380249
417074405,12557,Piccirello,2020-04-29T05:27:58Z,"typo on ""content""",0,0.995050847530365
417074716,12557,Piccirello,2020-04-29T05:29:13Z,i'd prefer if you replaced most of this inline styling with rules defined in the `,0,0.9887407422065735
417076939,12557,Piccirello,2020-04-29T05:37:40Z,"please provide a `break` statement in the last case. it reduces the likelihood that someone will forget to add it, should they ever add additional cases.",0,0.9941944479942322
417081859,12557,Piccirello,2020-04-29T05:55:44Z,please move the interval duration to a top-level variable. i also think we should bump it `1500` for consistency with our main data sync.,0,0.9946011304855347
417218919,12557,seproDev,2020-04-29T10:36:18Z,imp stands for the css `!important` modifier. but since it's bad form anyway i changed things to make the normal `invisible` class work.,0,0.7745457887649536
417226401,12557,seproDev,2020-04-29T10:51:05Z,as far as i could tell ie11 support had already (unintentionally) been dropped. since the refactor from 4.2.0 ie doesn't load the page correctly. if you still want i can replace all arrow functions.,0,0.9882999658584595
417227921,12557,seproDev,2020-04-29T10:54:02Z,changed things for `rss.html` and `rssdownloader.html`. i think for the dialog boxes the inline styling is okay.,0,0.9242315888404846
417248679,12557,FranciscoPombal,2020-04-29T11:36:34Z,+1 for officially dropping support for ie 11. i think it has been long enough anyway.,1,0.9273535013198853
417760989,12557,Chocobo1,2020-04-30T05:26:54Z,`path ? (path + '\\' + feedurl) : ''`,0,0.9807685017585754
417761352,12557,Chocobo1,2020-04-30T05:28:25Z,curly brackets should be omitted when the if-body only consist of a single line.,0,0.9913356304168701
417762213,12557,Chocobo1,2020-04-30T05:31:16Z,is `httpserver` the right context?,0,0.995185911655426
417763101,12557,Chocobo1,2020-04-30T05:34:33Z,maybe create a rss folder for them?,0,0.9923629760742188
417764409,12557,Chocobo1,2020-04-30T05:39:03Z,"i'm not sure, will this work? `initializetabs` is defined later.",-1,0.5597708821296692
417765151,12557,Chocobo1,2020-04-30T05:41:44Z,please add parentheses,0,0.9947016835212708
417765472,12557,Chocobo1,2020-04-30T05:42:59Z,better use `math.max()`,0,0.9936112761497498
417765629,12557,Chocobo1,2020-04-30T05:43:35Z,typo: singel,0,0.9903095364570618
417765821,12557,Chocobo1,2020-04-30T05:44:14Z,i would use a `switch ()` instead.,0,0.9906449317932129
417766020,12557,Chocobo1,2020-04-30T05:44:52Z,`switch ()` here too.,0,0.9941741824150085
417915552,12557,seproDev,2020-04-30T10:36:26Z,"works because `initializetabs` isn't actually called there. it's only called on click so after initialization. though since there was quite a bit of duplicate code i moved things around and renamed the function to `updatetabdisplay` to better reflect its purpose. i also removed the adding and removing of the tabs event listeners , i think it's fine to have those three event listeners even when the buttons are not displayed. please take a look.",0,0.9185703992843628
417922114,12557,seproDev,2020-04-30T10:48:32Z,the string is already used in `rename_file.html` and so already translated to some languages.,0,0.995166540145874
417923906,12557,seproDev,2020-04-30T10:52:05Z,i think all the dialog html files kind of clutter the directory. should i move all dialogs to `private/dialogs` and all rss specific dialogs to `private/dialogs/rss`?,0,0.9185134768486023
417988508,12557,Chocobo1,2020-04-30T12:56:46Z,"i think you should limit to the newly added files. it is not a good idea to include too many changes in a pr, especially in one that already has 2000+ lines addition...",0,0.9197706580162048
418013392,12557,seproDev,2020-04-30T13:34:50Z,do you think in general moving the dialogs to a separate folder is a good idea? i would create a new pr moving them.,0,0.9907139539718628
418023325,12557,Chocobo1,2020-04-30T13:48:21Z,"seems every html file except index.html is a dialog, if so, then i don't have strong feelings for it.",-1,0.6550920009613037
418256120,12557,Piccirello,2020-04-30T20:01:47Z,"all html files in the root of the ""private"" directory are ""full"" html pages. as pointed out, they're mostly dialogs that are displayed in iframes. anything in the ""views"" directly is a partial page that's meant to be added to an existing page. i think for now this pr should stick to this same basic principle, and then we can target reorganizing the webui files in a separate pr.",0,0.9849621057510376
425189621,12557,Chocobo1,2020-05-14T14:39:56Z,id should use camelcase.,0,0.9871482253074646
425192325,12557,Chocobo1,2020-05-14T14:43:26Z,don't you prefer using `let`?,0,0.9932108521461487
425195169,12557,Chocobo1,2020-05-14T14:47:07Z,"either use the old `function(){}` or use arrow functions, at least it should be consistent in a pr.",0,0.9946126937866211
425198125,12557,Chocobo1,2020-05-14T14:51:00Z,is it required to escape the characters? did you tried not escaping them?,0,0.9875409007072449
425202876,12557,Chocobo1,2020-05-14T14:57:00Z,please use parentheses consistently to arrow functions.,0,0.9906340837478638
425206172,12557,Chocobo1,2020-05-14T15:00:59Z,is it possible to give them a default value?,0,0.9930700659751892
425290280,12557,seproDev,2020-05-14T16:57:15Z,you are totally right this shouldn't be escaped. i copied the strings from the .ts file without checking if replacement actually works.,0,0.9650991559028625
425307317,12557,seproDev,2020-05-14T17:23:55Z,the context menus didn't need to be in this scope so i moved them in to the init function. for `feeddata` and `pathbyfeedid` i provided a default. for `feedrefreshtimer` i don't think there is a good default. while at it i also removed the exports that weren't being used.,0,0.9880032539367676
709728642,15452,Chocobo1,2021-09-16T03:44:57Z,i would prefer they are in this order: [code block],0,0.9926447868347168
709729126,15452,Chocobo1,2021-09-16T03:46:30Z,maybe add an empty line above.,0,0.9870196580886841
709731260,15452,Chocobo1,2021-09-16T03:53:04Z,this should be reset to default.,0,0.9937058091163635
709731446,15452,Chocobo1,2021-09-16T03:53:39Z,"and set ""horizontal policy"" to ""expanding"".",0,0.994665265083313
709788977,15452,jagannatharjun,2021-09-16T05:27:06Z,can't we simplify this code with something like [code block] maybe also see `std::equal`,0,0.9929988384246826
710046164,15452,thalieht,2021-09-16T11:55:26Z,all comments addressed so far.,0,0.9882395267486572
710046352,15452,thalieht,2021-09-16T11:55:43Z,maybe it's simplified for those who can read that :). i'm not familiar with std and i wouldn't know how to change/fix something like that (if asked to).,1,0.9753859639167786
712695872,15452,glassez,2021-09-21T05:01:26Z,the following will look more consistent: [code block] i am also sure that you should not change state of `m_ui->checkautotmm` until all the torrents are checked.,0,0.9943706393241882
712697165,15452,glassez,2021-09-21T05:05:35Z,the same is about other similar checkboxes. you should set these states only after all torrents are traversed: [code block],0,0.9950652718544006
712699344,15452,glassez,2021-09-21T05:11:48Z,"shouldn't you also show automatically assigned save path here? don't remember how ""add new torrent"" dialog does it...",0,0.991534411907196
714672893,15452,thalieht,2021-09-23T10:41:13Z,all done.,0,0.9762905836105347
716150126,15452,Chocobo1,2021-09-26T06:25:50Z,please keep the old values.,0,0.9938296675682068
716150192,15452,Chocobo1,2021-09-26T06:26:39Z,wrong order,-1,0.5811174511909485
716150555,15452,Chocobo1,2021-09-26T06:29:16Z,"you should remove `#include ""base/utils/fs.h""` from this file.",0,0.9955620765686035
716150823,15452,Chocobo1,2021-09-26T06:31:06Z,"these 2 lines should move above `q_assert()`. or another way, move `q_assert()` to the top of this function block.",0,0.9933274984359741
716151899,15452,Chocobo1,2021-09-26T06:39:44Z,"preferably these should follow the order on ui, so this line should be atop of the previous line.",0,0.9938504695892334
716152322,15452,Chocobo1,2021-09-26T06:42:49Z,`const qstring savepath`,0,0.9937548637390137
716152772,15452,Chocobo1,2021-09-26T06:47:16Z,you can omit these 2 lines and refactor it further: [code block],0,0.9952284097671509
716226028,15452,thalieht,2021-09-26T16:08:19Z,"i added the ""download sequential"" checkboxes which increased the minimum width and the same goes for height from the other options. the other comments are addressed.",0,0.9948813915252686
716575685,15452,glassez,2021-09-27T10:49:03Z,why is checking for `!m_ui->combocategory->currenttext().isempty()` needed?,0,0.9903433322906494
716807195,15452,thalieht,2021-09-27T15:30:57Z,because it would show the default save path if it's empty.,0,0.9910281300544739
716823007,15452,glassez,2021-09-27T15:48:56Z,"and what do you expect to see in this case? ""auto managed"" torrents with ""empty"" category are saved under default save path, aren't they?",0,0.9937129616737366
716869444,15452,thalieht,2021-09-27T16:45:59Z,empty category also means mixed categories (in this dialog) so i missed that case. i'll pass `allsamecategory` to `handletmmchanged()` and use that instead.,0,0.9925010800361633
716875935,15452,thalieht,2021-09-27T16:54:21Z,doesn't seem to work with connect(). should i make `allsamecategory` member var or maybe there is another way?,0,0.9902156591415405
716883018,15452,glassez,2021-09-27T17:03:51Z,why not? but i would make it in a slightly different way. i would declare `m_commoncategory` member as `std::optional ` and use it for both common category name and indicator of its presence. do you understand what i mean?,0,0.9870731830596924
716888033,15452,glassez,2021-09-27T17:10:59Z,"on the other hand, it's not a problem to get the name of a common category, just knowing that it exists (we still have a list of all torrents), so a boolean member variable is enough. offtopic: i just generally dislike the existing names like `allsamexxx`.",-1,0.7719036340713501
717042383,15452,thalieht,2021-09-27T21:01:01Z,"yep, now that i've read up a little on std::optional. i think the bool is simpler though so i used that. i'm open to suggestions... that don't involve refactoring.",0,0.8380816578865051
720772591,15452,glassez,2021-10-03T05:34:41Z,typo: isfirsttorrent**l**sequentialenabled [code block],0,0.9956218600273132
720796356,15452,thalieht,2021-10-03T09:05:38Z,fixed,0,0.920660674571991
723747312,15452,thalieht,2021-10-06T23:27:39Z,"yet another case i didn't consider. this change won't be enough. i thought about setting the current index of the category combobox to -1 for mixed and then check for it on `accept()` but this doesn't cover when someone wants to set ""no category"" with the keyboard in the lineedit (by removing whatever is in it which can't be done when it's empty). they'd have to select the empty item from the dropdown list. when every string can be a category, what can be put in the lineedit to denote mixed categories? a conundrum...",-1,0.8913224339485168
732887437,15452,glassez,2021-10-20T15:16:00Z,you can refactor the following statement to avoid checking the same variable twice: [code block],0,0.9948634505271912
742918457,15452,glassez,2021-11-04T14:56:05Z,"do we really need to handle this case here? if autotmm is mixed then ""save path"" should be already empty and disabled, shouldn't it?",0,0.9903614521026611
743092218,15452,glassez,2021-11-04T18:13:59Z,does `ischecked()` return `true` in case check box is partially checked?,0,0.9952127933502197
743634921,15452,glassez,2021-11-05T12:52:20Z,anyway you should use `checkstate()` here to avoid confusion.,0,0.9935929179191589
743792794,15452,thalieht,2021-11-05T16:07:01Z,yes but consider the case of mixed autotmm and same category. i had to do this somewhere but apparently this is the wrong place. moved it to `handletmmchanged()`,0,0.9918699264526367
743792877,15452,thalieht,2021-11-05T16:07:09Z,"yes, i only found out about it in this pr, which is why i started using `checkstate()`. everything i've done in this dialog was under the assumption that `ischecked()` is true only for checked. fortunately it doesn't seem to matter in other cases (by chance). done.",0,0.6899962425231934
743887657,15452,glassez,2021-11-05T18:21:18Z,generally it doesn't mean that all the torrents have same save path.,0,0.9820506572723389
744071489,15452,Chocobo1,2021-11-06T03:59:01Z,"maybe this can be initialized at the top: just below `, m_storedialogsize {settings_key(""size"")}` [code block]",0,0.9923022985458374
744071602,15452,Chocobo1,2021-11-06T04:00:53Z,"this is an empty item, is it correct? if it is intended, then try `m_ui->combocategory->additem(qstring());`",0,0.9956140518188477
744071828,15452,Chocobo1,2021-11-06T04:03:42Z,try `m_ui->combocategory->lineedit()->setplaceholdertext({});` or ``m_ui->combocategory->lineedit()->setplaceholdertext(qstring());``,0,0.9943523406982422
744071924,15452,Chocobo1,2021-11-06T04:05:03Z,try `m_ui->savepath->setselectedpath({});` or `m_ui->savepath->setselectedpath(qstring());`,0,0.9938907623291016
744071986,15452,Chocobo1,2021-11-06T04:06:29Z,ditto,0,0.9754701256752014
744071989,15452,Chocobo1,2021-11-06T04:06:33Z,ditto,0,0.9754701256752014
744072078,15452,Chocobo1,2021-11-06T04:07:45Z,i would swap the predicates (check for nullptr first): `if (currentradio && (currentradio == m_previousradio))`,0,0.9940615296363831
744072313,15452,Chocobo1,2021-11-06T04:10:18Z,"this is unusual, please add some comment within this block about why this is required.",0,0.9811469316482544
744111312,15452,thalieht,2021-11-06T10:49:24Z,"all comments addressed. yes, for ""no category"".",0,0.9914315938949585
933762453,17389,Chocobo1,2022-07-30T06:45:39Z,i would calculate in floating point. performance isn't worth for risking overflow imo.,-1,0.5476464033126831
933765153,17389,glassez,2022-07-30T07:14:20Z,`application` isn't `qwidget` but parent of `qwidget` is `qwidget`.,0,0.9933439493179321
933772556,17389,glassez,2022-07-30T08:30:20Z,"overflow is hardly achievable in practice. this is only possible if there are more torrents than (max int64 / 100). this is hardly possible. so your proposal is akin to an offer to live in a bunker for all of your life because of the possible threat of a nuclear strike. are you still going to insist on this? of course, it's not a big deal to make the startup acceleration a little slower...",0,0.7302127480506897
933777565,17389,Chocobo1,2022-07-30T09:21:46Z,"if you really don't want floating point then you should put a `q_assert(context->finishedresumedatacount <= (std::numeric_limits ::max() / 100))` to show the allowed/intended maximum size. you always talked about it but what is the reality? [a link] [a link] [a link] didn't found data on arm architecture... but i assume that if the cpu is powerful enough to run qbt then there is high chance to include an fpu. of course, (in general) keeping calculations to integer is a good practice but it is only acceptable when there are no safety concerns in the edge cases, otherwise i won't hesitate to use floating point.",0,0.982566237449646
933778063,17389,Chocobo1,2022-07-30T09:27:03Z,~~`progressdialog` should be a class variable.~~ can you set `qt::wa_deleteonclose` on it? i'm concerned that its memory isn't correctly freed on exit.,-1,0.6870172619819641
933792958,17389,glassez,2022-07-30T11:10:45Z,"yes, you're right. division is the weak side of integer calculations (unless it is division by a power of two).",0,0.9827370643615723
933795490,17389,glassez,2022-07-30T11:38:55Z,done.,0,0.9897913336753845
933795512,17389,glassez,2022-07-30T11:39:11Z,done.,0,0.9897913336753845
933928415,17389,Chocobo1,2022-07-31T05:35:38Z,maybe use `float` instead of `double`: [code block],0,0.9935004115104675
933929102,17389,Chocobo1,2022-07-31T05:42:55Z,`desktopintegrationmenu` should set `qt::wa_deleteonclose` and remove `delete m_desktopintegration->menu();`,0,0.9951722025871277
933929882,17389,Chocobo1,2022-07-31T05:52:21Z,if would be nice if you can also change it to: [code block],0,0.9144869446754456
933930089,17389,Chocobo1,2022-07-31T05:54:31Z,this is also set on line 681. maybe merge them?,0,0.9929682612419128
933930718,17389,glassez,2022-07-31T06:02:23Z,"what is the reason not to use the default type, provided that you don't care about the insignificant performance tuning?",0,0.9884787201881409
933930935,17389,glassez,2022-07-31T06:04:09Z,"then the menu will be deleted after the first use, or am i wrong?",0,0.9779084324836731
933931017,17389,glassez,2022-07-31T06:05:24Z,is it the same? note that i just copied the key sequence from existing code in mainwindow.,0,0.9952329993247986
933931824,17389,glassez,2022-07-31T06:13:58Z,how would you suggest to do it? note that createstartupprogressdialog should create it with 0 duration by default to connect it with desktop integration signal.,0,0.9955230951309204
933937313,17389,Chocobo1,2022-07-31T07:06:01Z,"ok, forget it.",0,0.9293199777603149
933937563,17389,Chocobo1,2022-07-31T07:08:24Z,"i read it wrong, it is good here.",1,0.9557909369468689
933937738,17389,Chocobo1,2022-07-31T07:09:33Z,not for windows: [a link] i suppose this is the reason of not using `qkeysequence::quit` in mainwindow... forget this.,0,0.9879981279373169
933937922,17389,Chocobo1,2022-07-31T07:10:59Z,"ok, maybe add a bit of comment in code so future reviewers will know why it is needed.",0,0.9897486567497253
934146875,17389,Chocobo1,2022-08-01T05:22:49Z,i would use another ctor [a link] that can take more arguments at once.,0,0.9877094030380249
934149866,17389,Chocobo1,2022-08-01T05:29:42Z,why this?,0,0.883537232875824
934151833,17389,Chocobo1,2022-08-01T05:34:38Z,if you don't mind [code block],0,0.9836445450782776
934153779,17389,Chocobo1,2022-08-01T05:39:21Z,seems it can be omitted now?,0,0.9942781925201416
934158010,17389,glassez,2022-08-01T05:49:35Z,ok.,0,0.980760931968689
934163901,17389,glassez,2022-08-01T06:02:26Z,"but i will prefer to add `windowminimizebuttonhint` flag separately. otherwise, i would have to specify all the necessary flags in the constructor, which looks unnecessarily cumbersome.",0,0.9795479774475098
934164071,17389,glassez,2022-08-01T06:02:47Z,yes. done.,0,0.9106190204620361
934168274,17389,glassez,2022-08-01T06:11:08Z,"i just copied the existing logic from the `mainwindow`. it doesn't provide `exit` action in the case of macos (don't force me to figure out why it's done this way!), and since there are no more actions here, we don't need to create the menu itself, do we?",0,0.9910485744476318
1468888786,20314,glassez,2024-01-28T15:36:21Z,wouldn't it be better to use `qdir::entrylist()` instead?,0,0.9928501844406128
1468907016,20314,pktiuk,2024-01-28T17:29:25Z,"it doesn't matter that much, but using entrylist makes code shorter. it looks a bit nicer now",0,0.9100102186203003
1476978108,20314,Chocobo1,2024-02-03T05:24:19Z,you should at least reject special paths that are: 1. empty 2. paths starting with `:` character.,0,0.9898971319198608
1477033249,20314,glassez,2024-02-03T09:51:17Z,only absolute paths should be accepted.,0,0.9881029725074768
1477111525,20314,pktiuk,2024-02-03T18:41:32Z,why some paths could start with `:`?,0,0.9900451302528381
1477119501,20314,glassez,2024-02-03T19:54:48Z,once again: [code block],0,0.993544340133667
1477119689,20314,glassez,2024-02-03T19:55:40Z,"i would consider non-absolute path as ""bad params"".",0,0.7144775390625
1477129803,20314,pktiuk,2024-02-03T21:39:04Z,"oh, i forgot about this mechanism",0,0.9449713230133057
1477306239,20314,pktiuk,2024-02-04T12:44:07Z,i added this check.,0,0.9929376244544983
1477306271,20314,pktiuk,2024-02-04T12:44:24Z,it seems reasonable,0,0.9813337922096252
1477313903,20314,Chocobo1,2024-02-04T13:33:42Z,"wrong order. put it just above `""../webapplication.h""`",0,0.9091364145278931
1477314199,20314,Chocobo1,2024-02-04T13:35:47Z,here using `apierrortype::notfound` is wrong. it maps to http 404 error which is incorrect for this case. just combine it with the above: [code block],0,0.9884074330329895
1477314640,20314,Chocobo1,2024-02-04T13:38:46Z,i would avoid redundant temporary string list by using: [code block],0,0.994484007358551
1477315928,20314,pktiuk,2024-02-04T13:46:07Z,done,0,0.8682363629341125
1477317531,20314,pktiuk,2024-02-04T13:55:07Z,are you sure it will compile? (returning value in the void method),0,0.9951059818267822
1477317715,20314,Chocobo1,2024-02-04T13:56:19Z,"oops, i fixed it.",-1,0.894694983959198
1477318089,20314,Chocobo1,2024-02-04T13:58:38Z,"since you haven't replied to [a link] i'll ask here. in the future, wouldn't there be expectations of listing files under some directory? would you consider making this api endpoint more generic by having a 'mode' parameter? ('file mode' or 'dir mode'). or there should be another api endpoint just for listing files? but isn't these 2 endpoints similar and it would be cumbersome for the webapi user to differentiate them? (compared to using a 'mode' parameter) if we go with the generic endpoint, then you should add the 'dir mode' parameter in this pr. also the api name should be modified accordingly (for example `getfspaths`).",0,0.9903438091278076
1477318443,20314,pktiuk,2024-02-04T14:01:06Z,"don't you think there should be a different response from server when we give wrong parameter (something, starting with `:` or not path at all) and when we give a proper path, but to a nonexistent location?",0,0.9851287603378296
1477319237,20314,pktiuk,2024-02-04T14:05:20Z,"i think that it is a good idea. adding a mode would make using much easier in cases when we would like to get directories and files. (there should be 3 modes: `files`, `directories` and `all`).",1,0.9749442934989929
1477319265,20314,glassez,2024-02-04T14:05:31Z,"i believe it should be. they are obviously different cases. if you don't like it to be ""not found"" then it could be ""conflict"".",0,0.9701586961746216
1477320567,20314,Chocobo1,2024-02-04T14:11:55Z,"~~'conflict' is http error 409 which is also inappropriate.~~ it should be ok. yes, i would still use `badparams` (http error 400) but provide different message in `message` field: [a link]",0,0.9677259922027588
1477324819,20314,glassez,2024-02-04T14:16:21Z,"but ""bad params"" is inappropriate in this case, isn't it? parameter is valid.",0,0.956092119216919
1477329573,20314,glassez,2024-02-04T14:18:33Z,"the server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing).",0,0.9689104557037354
1477330840,20314,glassez,2024-02-04T14:20:34Z,"the server cannot find the requested resource. in the browser, this means the url is not recognized. in an api, this can also mean that the endpoint is valid but **the resource itself does not exist**. isn't it the case?",0,0.9898352026939392
1477333033,20314,Chocobo1,2024-02-04T14:34:33Z,based on these descriptions: [a link] [a link] i think `!dir.exists()` should return 5xx error code since the error is on server side not the client. maybe error `500` would suffice? [a link],0,0.9928592443466187
1477336699,20314,Chocobo1,2024-02-04T14:43:03Z,or if we still can't agree on 4xx (client error) or 5xx (server error). then maybe just return `200 ok` with an empty list for `!dir.exists()` case.,0,0.9937734007835388
1477367014,20314,glassez,2024-02-04T16:41:50Z,"this looks confusing, as this response is expected for an existing empty directory. 500 code with the corresponding message looks acceptable to me.",-1,0.6234756708145142
1486379338,20314,pktiuk,2024-02-12T15:51:03Z,"**to sum up**. you think the response codes should look like this: - proper path returns `200` (even when directory is empty) - not path (string which is not a path) returns `400` (bad request) - path to a non-existent directory `500` (internal server error) in my opinion, returning 500 is unacceptable and messy, because it means, that something went wrong/we have unhandled error. this is a bit too generic crash response. i think `404` (not found) is the best option for this case, because we make a query to a non-existent directory. so in this case this is the best option, because server did not find a directory to make query. implementation on the client side would be also more readable, when we handle not found than exception [code block]",-1,0.9474430680274963
1488498906,20314,Chocobo1,2024-02-13T19:51:21Z,i don't insist on my opinion anymore. i don't mind you use it.,0,0.5523813962936401
1490000364,20314,pktiuk,2024-02-14T20:07:01Z,"this code does not compile [code block] moreover, it makes code much less readable. i don't think this is a problem. the compiler should take care of this variable.",0,0.9473426938056946
1490335655,20314,glassez,2024-02-15T03:53:33Z,it's because you didn't include corresponding header (where `qdiriterator` is declared).,0,0.9911221265792847
1490603779,20314,pktiuk,2024-02-15T08:25:55Z,:person_facepalming:,0,0.9812792539596558
1490604594,20314,pktiuk,2024-02-15T08:26:39Z,"but i still find this code messy, less readable and not much better optimized.",-1,0.958286702632904
1490846304,20314,glassez,2024-02-15T11:13:09Z,"i would make ""mode"" optional and default to ""all"".",0,0.992689311504364
1490870961,20314,Chocobo1,2024-02-15T11:32:50Z,"it is ok you don't do it. i can do a follow up commit later. fyi i've already submitted a similar 'clean up' within this commit: [a link] to be really sure, you'll need to look at the generated assembly. anyway i don't really think c++ compilers is able/capable of doing that.",0,0.9370449185371399
1490942665,20314,glassez,2024-02-15T12:33:48Z,i would avoid testing visibility value twice: [code block],0,0.9901518225669861
1490949739,20314,glassez,2024-02-15T12:39:58Z,and even extract it into function: [code block],0,0.9951778650283813
1492166549,20314,pktiuk,2024-02-16T09:09:22Z,done,0,0.8682363629341125
1493251272,20314,glassez,2024-02-17T07:06:22Z,"you don't really need it to be a class member. just put it as ""free"" function into unnamed namespace above `appcontroller` definitions in `appcontroller.cpp`.",0,0.9947412014007568
1493298285,20314,pktiuk,2024-02-17T10:37:43Z,done,0,0.8682363629341125
1493327467,20314,glassez,2024-02-17T12:24:54Z,"neither ""into unnamed namespace"" nor ""above appcontroller definitions"" are done.",0,0.9922788143157959
1493344133,20314,Chocobo1,2024-02-17T14:23:05Z,qbt enable translations for api error messages: [code block] and to ensure proper scope for `tr()` i suggest you make this helper function a lambda within `getdirectorycontentaction()` if there are no plans to reuse it. otherwise move it to `appcontroller` class private function.,0,0.9947848916053772
1493345982,20314,glassez,2024-02-17T14:37:53Z,hmm... if api error messages need to be translated then my previous [a link] should be rejected.,0,0.9413959383964539
1493349309,20314,glassez,2024-02-17T14:57:13Z,otherwise you cannot use `tr()` in this helper function,0,0.9941617846488953
1518552589,20314,pktiuk,2024-03-09T10:41:28Z,"i don't know what do you mean, i did not work with qt translations and i have no idea how to write lambda which will initialize context.",-1,0.5514887571334839
1538009531,20314,Chocobo1,2024-03-25T17:53:48Z,"first, apply the suggested change above. (from the first post of this thread) then: [code block]",0,0.9950939416885376
1548638572,20314,pktiuk,2024-04-02T21:36:40Z,done,0,0.8682363629341125
1564606759,20314,Chocobo1,2024-04-14T10:09:52Z,we require explicit return type: [code block],0,0.9954991936683655
1564606915,20314,Chocobo1,2024-04-14T10:10:12Z,`qobject::` is redundant: [code block],0,0.9923351407051086
1564610859,20314,Chocobo1,2024-04-14T10:18:47Z,"not sure this was mentioned before, try: [code block] after applying [a link]",0,0.9825563430786133
1564620546,20314,glassez,2024-04-14T10:40:51Z,really? although in this case it makes sense.,0,0.9058923125267029
1566057391,20314,pktiuk,2024-04-15T16:18:51Z,this one should be caught by your ci.,0,0.991718053817749
1574599451,20314,glassez,2024-04-22T11:29:15Z,"`all, dirs, files` should not be translated.",0,0.9917817711830139
588827943,14465,Chocobo1,2021-03-06T04:01:53Z,`const qstringview` (and other replacements of `const qstring &`) there exist `qstringview::chop()` which could modify the view.,0,0.9926881790161133
589381530,14465,glassez,2021-03-08T12:21:16Z,i hope i fixed it everywhere it isn't supposed to be modified.,0,0.8569071888923645
631675660,14465,glassez,2021-05-13T09:12:12Z,does someone know why this line causes the following warnings? warning: plug-in qt6::qsvgplugin is not known to the current qt installation.,0,0.9927238821983337
631699751,14465,ArcticGems,2021-05-13T09:58:25Z,maybe this helps?? :confused_face: [a link],-1,0.993019163608551
631703529,14465,glassez,2021-05-13T10:05:41Z,"i noticed this bug report. unfortunately, i don't see any useful information there. in addition, it belongs to a statically linked qt.",0,0.5769484043121338
631706522,14465,glassez,2021-05-13T10:11:35Z,"just found in qt docs: on shared builds, it does nothing",0,0.9926519989967346
631708987,14465,FranciscoPombal,2021-05-13T10:16:38Z,i had fixed those warnings in [a link] ...,0,0.9941089153289795
631716816,14465,glassez,2021-05-13T10:31:43Z,doesn't seem that adding `not msvc_runtime_dynamic` condition is correct way to fix it.,0,0.970544695854187
631728128,14465,FranciscoPombal,2021-05-13T10:55:05Z,"why? ok, maybe it fails in the corner case where you're building with static libraries (including qt) but using `-md`, is that it (such as the case with `vcpkg`'s unofficial `x64-windows-static-md` triplet)? if that's the case, to fix it fully we need a way to ask qt itself if it was built statically or not (i think this should be easy, i'll look into it). my fix was based on the assumption that if you're building with `msvc_runtime_dynamic=off` you're also building with static libraries, which i think is fair, but yeah, it leaves out that corner case.",0,0.986603856086731
631746699,14465,glassez,2021-05-13T11:34:24Z,could [a link] help?,0,0.9942119717597961
631941482,14465,FranciscoPombal,2021-05-13T16:30:28Z,"thanks, the `type` solution is confirmed to work (both with and without `vcpkg`). it is now implemented in [a link]",1,0.9125745296478271
720314841,14465,Chocobo1,2021-10-01T14:51:08Z,is it possible to add a space? [code block],0,0.995684027671814
720639686,14465,glassez,2021-10-02T07:02:26Z,done.,0,0.9897913336753845
1372228789,19777,sledgehammer999,2023-10-25T19:22:45Z,is -> are,0,0.9774608612060547
1372247010,19777,sledgehammer999,2023-10-25T19:39:32Z,why? doesn't this just take unnecessary memory space? imo it would be preferable to just make the option strongly typed instead. eg something like this: [code block] but i would vote for staying with `bool` type and not having a variable defined for a special value. the constructor's parameter name is sufficient.,0,0.5843753814697266
1372561091,19777,glassez,2023-10-26T04:17:00Z,it is enough inside the class itself. i care about the place of its use. compare the following: [code block] of course i can use `enum` instead.,0,0.9913516044616699
1372601222,19777,glassez,2023-10-26T05:26:57Z,done.,0,0.9897913336753845
1374762900,19777,Chocobo1,2023-10-27T15:48:53Z,"[code block] we probably should clean up all ""web ui"" to ""webui"" at some point (not necessarily in this pr).",0,0.9929948449134827
1374771473,19777,Chocobo1,2023-10-27T15:57:10Z,i would suggest to not use view as you'll unnecessary deep copy it instead of implicit sharing. [code block] the same for `void authcontroller::setpasswordhash(const qbytearray &passwordhash)`,0,0.9935343265533447
1374779717,19777,Chocobo1,2023-10-27T16:05:01Z,i couldn't find where it is used.,0,0.8550097942352295
1374780409,19777,Chocobo1,2023-10-27T16:05:45Z,[code block] now i wonder what benefit does a view brings. it doesn't seem useful when there is implicit sharing where you can avoid a deep copy most of the time.,0,0.8209242820739746
1374787948,19777,Chocobo1,2023-10-27T16:13:41Z,i would name it: [code block],0,0.9950554370880127
1374794226,19777,Chocobo1,2023-10-27T16:20:12Z,which `arg` overload is in use here? shouldn't you write: [code block],0,0.9950248599052429
1374797309,19777,Chocobo1,2023-10-27T16:23:33Z,it is a red flag that you keep the clear text password in memory. you should avoid doing so and use other means. ~~also ideally this field should be allocated on the stack instead of on the heap.~~ note that securely erasing a string isn't even easy! [a link] [a link],0,0.8665873408317566
1374865641,19777,glassez,2023-10-27T17:28:55Z,do you really believe that we should take care of those cases when someone malicious has sufficient access to a computer to read its memory? how can we counteract it in any way effectively?,0,0.9177407026290894
1374932604,19777,glassez,2023-10-27T18:43:17Z,"i think it is incorrect to use ""update"" in this case. do not forget that the password has not yet been set by the user, so that there is something to update.",0,0.9647299647331238
1375177735,19777,Chocobo1,2023-10-28T05:41:46Z,yes. it may not be local access to the computer. it could be remote access/tampering with out-of-bound memory read/write (assuming there are undiscovered vulnerability either in 3rd party libraries or qbt code).,0,0.9874316453933716
1375177856,19777,Chocobo1,2023-10-28T05:42:57Z,then: `you should set your own password in program preferences.`,0,0.9942417144775391
1375200493,19777,glassez,2023-10-28T07:57:32Z,seems i've just misused it. `qstringview` is useful when the function isn't intended to store provided string but to process/parse it in some way.,0,0.9635995030403137
1375227756,19777,glassez,2023-10-28T10:07:27Z,it is used in the place where webui is constructed: [a link],0,0.9960929751396179
1375377651,19777,Chocobo1,2023-10-29T06:36:30Z,shouldn't you use it here too: [code block],0,0.9951784610748291
1375391396,19777,glassez,2023-10-29T08:29:23Z,"i didn't intend to make a full-fledged type out of it, just a named constant to improve the readability of the code. p.s. `temppasswordenabled = disable_temp_password` looks weird/ugly.",-1,0.9926896691322327
1375392108,19777,glassez,2023-10-29T08:34:44Z,this code will most likely gone when refactoring to avoid store plain text password.,0,0.992511510848999
1382522322,19777,Chocobo1,2023-11-05T07:27:54Z,seems you don't need this.,0,0.9783381819725037
1382525691,19777,glassez,2023-11-05T07:54:56Z,you're right. this is a forgotten remnant from one of the previous implementations. deleted it.,0,0.9892326593399048
1382612085,19777,sledgehammer999,2023-11-05T17:13:04Z,shouldn't this be: [code block] ??,0,0.9732561707496643
1382618499,19777,sledgehammer999,2023-11-05T17:53:19Z,"~1. the arg() signature is wrong. as had mentioned it should be:~ [code block] 2. secondly, even for a temporary password, i don't consider the generated one as sufficiently secure based on this method. i would propose something like this: [code block]",0,0.9499896168708801
1382623571,19777,glassez,2023-11-05T18:26:54Z,you got it wrong. i just chose another valid overload that has less ambiguous in recognizing parameter types. your example is wrong.,-1,0.936089813709259
1382624144,19777,glassez,2023-11-05T18:29:40Z,i just took advantage of what was suggested in the early discussions. i can do that if also approve it. i don't want to get stuck here.,0,0.7876375913619995
1382627852,19777,sledgehammer999,2023-11-05T18:57:20Z,your example is wrong. +1 qstring::number() returns a qstring and i was looking at the wrong overload signatures.,0,0.7004073262214661
1382817782,19777,Chocobo1,2023-11-06T06:06:19Z,"sure it is harder to brute force but it also might be a bit troublesome for users to input. regarding to brute force, webui already has mechanism to filter that so i won't worry about this attack. i don't have strong preference here.",0,0.8610462546348572
1382861597,19777,glassez,2023-11-06T07:15:53Z,no. we has no password in input field when editing settings (since it is unknown). writing empty password to settings is prevented in other place of code.,0,0.9914336204528809
1382887336,19777,sledgehammer999,2023-11-06T07:49:02Z,"then it could be something like: [code block] imo, having a numeric only password is not good enough for something exposed to the internet.",0,0.9722110033035278
1382964348,19777,Chocobo1,2023-11-06T08:59:50Z,"ok, i don't mind it.",0,0.6302255988121033
1383240880,19777,sledgehammer999,2023-11-06T12:15:22Z,"ps: the characters `0`, `o`, `o`, `1`, `l`, `i` should be dropped as look-alikes",0,0.9939547181129456
1383245245,19777,glassez,2023-11-06T12:19:29Z,done.,0,0.9897913336753845
1383278059,19777,Chocobo1,2023-11-06T12:48:47Z,"i was hoping not to see this... this function (set/get webui username/password) should be moved to webui class. and i was hoping that preferences class would only handle the save/load of values, not validating data nor data transforms.",0,0.7074421644210815
1383310011,19777,glassez,2023-11-06T13:11:34Z,"reverted. i'll leave it to someone else. as i said above, i would like to limit myself to the necessary minimum of changes. this topic is outside the scope of my interests. now credentials are being checked in the ui layers (gui and webui). as for webapi, it should first of all be redesigned in order to have a separate entry point for changing credentials, and not accept them together with the regular settings (yes, these are just regular settings from the gui's point of view, but this is not the case for the webui).",0,0.9355008602142334
1383313309,19777,glassez,2023-11-06T13:14:34Z,this will require deeper changes to the webui initialization process (i mean the case when we have to determine whether a temporary password is needed).,0,0.9858330488204956
1383345388,19777,sledgehammer999,2023-11-06T13:38:49Z,"as far as i can tell `optionsdialog::webuiauthenticationok()` is a way to force certain traits on the admin/pass before closing the options window. currently, we don't enforce a non-empty password in the options window if the webui is enabled. aka we don't tell the user to fix it. only if the admin/password is short. maybe it is a bug that the calling sites of `webuiauthenticationok()` don't check if webui is enabled?",0,0.9860506653785706
1383378765,19777,glassez,2023-11-06T14:02:57Z,"as i said above we don't know the password when editing the settings. empty password just means ""password was not changed"" so nothing is written in settings: [a link]",0,0.9942335486412048
1383390168,19777,sledgehammer999,2023-11-06T14:11:33Z,"let me rephrase my issue: if user has opened the preferences dialog, enabled the webui and not set a password*, we shouldn't let him close the dialog while the webui setting is checked. silently failing is not a good approach in this case. *i mean no password either on disk or in the input box. could this be implemented without much refactoring?",0,0.9841808080673218
1383428764,19777,sledgehammer999,2023-11-06T14:29:10Z,maybe a 3rd check? [code block],0,0.9921568632125854
1383448503,19777,sledgehammer999,2023-11-06T14:43:13Z,"or be a throwaway lambda at the calling site... personally, i don't require this for this pr.",0,0.9910706281661987
1383512939,19777,glassez,2023-11-06T15:25:36Z,"ah, i get it now... i'll think about it.",1,0.7731541991233826
1383518076,19777,glassez,2023-11-06T15:29:00Z,"otherwise, application will have to read the password hash from the settings directly, bypassing the corresponding webui accessor.",0,0.9906604886054993
1384476951,19777,glassez,2023-11-07T07:20:08Z,"well, i fixed it in gui. i don't know how best to do the same on the webui. i should at least send there information about whether there is password configured at the moment (aka `has_webui_password_configured`).",0,0.990395724773407
1386073599,19777,glassez,2023-11-08T06:35:38Z,"well, seems there is no such problem for webui. after all, in order to change these settings from the webui, the user must be logged in, i.e. some password is configured in any case (or a temporary one is used).",0,0.9857073426246643
1374428077,19801,Chocobo1,2023-10-27T11:20:27Z,i would suggest using a proper data type: [code block],0,0.9943885207176208
1374436465,19801,Chocobo1,2023-10-27T11:28:15Z,fix coding style: [code block],0,0.9939800500869751
1374439011,19801,Chocobo1,2023-10-27T11:30:42Z,rename local variable to avoid name clash with `session::fetchdelay()`: [code block],0,0.9952303767204285
1374439970,19801,Chocobo1,2023-10-27T11:31:38Z,new code should use camel case for `id`: [code block],0,0.9960469603538513
1374441746,19801,Chocobo1,2023-10-27T11:32:58Z,"remove this, you don't need it.",0,0.9841267466545105
1374558202,19801,glassez,2023-10-27T13:12:56Z,"as i see it, you went the wrong way and introduced an unacceptable dependency. rss subsystem is a client of download manager, so download manager should not depend on rss subsystem. if you don't have any ideas how to fix it, i can help with that later. the first thing that comes to mind is to set a delay during sequential service registration (via `registersequentialservice()`). this will also allow you to set a separate delay for each site, if a single one for everyone is not enough (by the way, why not do it initially?).",0,0.5657007098197937
1382176714,19801,jNullj,2023-11-03T20:37:56Z,"after looking at this i think i get the issue with the dependency of download manager by rss. i think using `registersequentialservice` is a great idea and can present flexibility for future growth and avoid the problematic dependency between rss and download manager. i think i could overload the function `registersequentialservice` and allow a second parameter as the delay time, then add a qhash with the delays linked to the serviceid, a better way might be to change the serviceid struct and add the delay to it. please let me know what you think so i can make another commit or a rebase to make those changes.",1,0.9650479555130005
1382195760,19801,jNullj,2023-11-03T20:56:37Z,"it looks great, more readable and safer, didn't know std had chrono. i will add those suggestions.",1,0.9910373687744141
1427672869,19801,glassez,2023-12-15T08:07:56Z,[code block] or [code block],0,0.9944918155670166
1427676023,19801,glassez,2023-12-15T08:11:56Z,"imo, having yet another field is redundant. i would just modify existing one: [code block]",0,0.9663546681404114
1427690754,19801,glassez,2023-12-15T08:27:30Z,"imo, it's redundant. i would just use `cachedsettingvalue ` than add all these additional types `std::chrono::seconds`, `std::chrono::milliseconds` etc. here.",0,0.9480066299438477
1427692272,19801,glassez,2023-12-15T08:28:46Z,"imo, it's redundant. i would just use `cachedsettingvalue ` than add all these additional types `std::chrono::seconds`, `std::chrono::milliseconds` etc. here.",0,0.9480066299438477
1427696358,19801,glassez,2023-12-15T08:33:17Z,these changes look unnecessary/redundant.,-1,0.8072484731674194
1427697822,19801,glassez,2023-12-15T08:35:02Z,the changes in this file look messy. please remake it manually to avoid unnecessary changes.,-1,0.9857662916183472
1427699567,19801,glassez,2023-12-15T08:37:06Z,wouldn't `delay requests to same host` be more clear?,0,0.9893791079521179
1428458076,19801,jNullj,2023-12-15T20:37:28Z,resolved at a4eb01b6a8b808441f97b3e624f691945f2a4ed0,0,0.9941840767860413
1428458414,19801,jNullj,2023-12-15T20:37:49Z,resolved at a4eb01b6a8b808441f97b3e624f691945f2a4ed0,0,0.9941840767860413
1428459567,19801,jNullj,2023-12-15T20:39:15Z,resolved at 590c53dbb22e7d8f9703423259d3a167748ed56c,0,0.9941459894180298
1428459854,19801,jNullj,2023-12-15T20:39:38Z,resolved at 590c53dbb22e7d8f9703423259d3a167748ed56c,0,0.9941459894180298
1428460600,19801,jNullj,2023-12-15T20:40:28Z,"sounds good, i made those changes at 9eb1dc23062def333d7db4e16fb21decffa878ed",1,0.791588544845581
1428461903,19801,jNullj,2023-12-15T20:41:55Z,resolved at 59c3025013775268e4e66e3509bf7b33924879b5,0,0.9943420886993408
1428463690,19801,jNullj,2023-12-15T20:44:20Z,i made a new commit at 59c3025013775268e4e66e3509bf7b33924879b5 to make the diff for this pr more readable manually. didn't notice that qt designer shifted them,0,0.9894952178001404
1428464879,19801,jNullj,2023-12-15T20:46:05Z,ended up renaming it to `same host request delay` as its a bit shorter. at 3e91435acd2b343a8ed5c1f48c0285c509ecc1a5,0,0.9904037714004517
1428476287,19801,jNullj,2023-12-15T20:57:50Z,"i think its better to keep it that way, so it can be reused in other places that reference time because i think it might be safer to keep the types as time types and keep the conversion abstract for the developer. i might suggest even pushing more into using chrono types, for example changing cachedsettingvalue for other intervals into chrono types: example: change m_storerefreshinterval type to min [code block] into [code block] let me know if you accept or reject this so i know if i should make another update to this pr.",0,0.9692885875701904
1428476394,19801,jNullj,2023-12-15T20:57:56Z,"i think its better to keep it that way, so it can be reused in other places that reference time because i think it might be safer to keep the types as time types and keep the conversion abstract for the developer. i might suggest even pushing more into using chrono types, for example changing cachedsettingvalue for other intervals into chrono types: example: change m_storerefreshinterval type to min [code block] into [code block] let me know if you accept or reject this so i know if i should make another update to this pr.",0,0.9692885875701904
1429225776,19801,glassez,2023-12-17T18:04:56Z,it does exactly the same as `registersequentialservice()` does.,0,0.9949040412902832
1429954146,19801,glassez,2023-12-18T11:19:33Z,"you need to check whether this url is actually registered as a sequential service. at least, you shouldn't use `operator[]` below, because it will unexpectedly add this url in sequential services registry if it wasn't there.",0,0.9932239055633545
1429956270,19801,glassez,2023-12-18T11:21:24Z,at least not in this pr.,0,0.9540385603904724
1430595047,19801,jNullj,2023-12-18T20:04:29Z,"i fixed as requested at [a link] , i might draft a separate pr for that in the future",0,0.9938318729400635
1430603588,19801,jNullj,2023-12-18T20:14:41Z,fixed with c62f38abca02a0396b6371d2d215d0bc01c53951 i removed setsequentialservicedelay and replace refrences with registersequentialservice. didn't notice qhash insert updates value if key already exists,0,0.9923918843269348
1430619202,19801,jNullj,2023-12-18T20:33:51Z,"good notice, fixed with 7f6556f1703d81227435d7ef755c2bba39315d60 i added both a check for containing the key to avoid unneeded timers. also added default 0s value in any case.",1,0.982930600643158
1431272652,19801,glassez,2023-12-19T11:20:53Z,wouldn't it work without repeating result type? [code block],0,0.9941359758377075
1431756318,19801,glassez,2023-12-19T17:51:13Z,last comment from me. i would put all this handling into `handledownloadfinished` instead (since it seems to be more logically correct to delay processing the next request instead of handling previous one finishing): [code block],0,0.9935020804405212
1431928755,19801,jNullj,2023-12-19T20:53:49Z,"should work, but less explicit. i don't object as this is a short function.",0,0.9790480732917786
1431933640,19801,jNullj,2023-12-19T21:00:00Z,surprisingly it did not work [code block] explicit is required by the constructor reverting [a link] please consider keeping the syntax as is.,0,0.9796298742294312
1431957319,19801,jNullj,2023-12-19T21:31:00Z,"that's a great idea, cleaner and more logical, also `handledownloadfinished` already checks if the service is registered making it more compact.",1,0.9898717999458313
1431959467,19801,jNullj,2023-12-19T21:34:10Z,solved with [a link],0,0.9955129027366638
1443949066,19801,Chocobo1,2024-01-07T07:20:55Z,lets use the integer type that won't ever clip the values: [code block],0,0.9950965046882629
1443949527,19801,Chocobo1,2024-01-07T07:24:48Z,if possible i would allow the maximum value to avoid potential user complaints about some artificial limit: [code block],0,0.9908287525177002
1443952595,19801,Chocobo1,2024-01-07T07:42:54Z,"speculative question, should `disconnect()` happens after `processrequest()` or it doesn't matter? [code block]",0,0.9869873523712158
1443956820,19801,glassez,2024-01-07T08:07:14Z,it is connected to be removed from waiting jobs queue in case it is destroyed before finished (e.g. when cancelled by user side). so it should be disconnected once we explicitly removed it from queue. seems it is ok to disconnect after processrequest. the main thing is to do it before handler is deleted.,0,0.9873555302619934
1444073623,19801,jNullj,2024-01-07T21:12:53Z,didn't think about the edge case of users going that high with the delay. fixed with [a link],0,0.9785626530647278
1444073639,19801,jNullj,2024-01-07T21:13:07Z,fixed with [a link],0,0.9951316118240356
1444073769,19801,jNullj,2024-01-07T21:14:05Z,it won't hurt anyone having the freedom to set high values. looks like good practice to think of that case fixed with [a link],1,0.7956324219703674
1451659256,19801,glassez,2024-01-14T05:18:30Z,"1. as you might have noticed, we are adding new copyrights to the top. 2. if you don't want to provide your real email, just don't do it, you don't need to use such ""noreply"" address.",0,0.9858940839767456
1451789312,19801,jNullj,2024-01-14T19:23:38Z,fixed at 8f6218e,0,0.9944463968276978
1460663183,19801,HanabishiRecca,2024-01-20T20:56:34Z,"this line breaks webui options window. when opening the options, values in `web ui` and `advanced` tabs do not load. the script throws [code block] this is a typo obviously. [code block]",0,0.8867952823638916
1465434261,19801,jNullj,2024-01-24T19:21:59Z,"oddly i run this branch and i just tested and able to open advanced, but i do get other issues that don't show up as errors. maybe that's related to running on linux? but this should be fixed, good call. i will push a fix.",1,0.9848858714103699
1465440513,19801,HanabishiRecca,2024-01-24T19:28:17Z,"the tab does open, but values do not load, the fields there are empty. this error was captured in firefox, i am fairly sure js runs the same regardless of os. but yeah, the typo is obviously there anyway.",0,0.9806903004646301
1465444404,19801,jNullj,2024-01-24T19:32:10Z,"i see, in js, by bad, i was looking for errors in the debug terminal, didn't realize i should look at the js as well.",-1,0.9290473461151123
1465454262,19801,jNullj,2024-01-24T19:42:30Z,"opened a pr #20326 with commit ee5a93145dfd889776fbfbb136b63056dc40d236 to solve this, as this pr is already merged",0,0.9944804906845093
356942737,11637,Chocobo1,2019-12-12T03:23:49Z,this will take up too much memory than the user expectation and they will complain.,-1,0.5916860699653625
357072606,11637,FranciscoPombal,2019-12-12T10:36:55Z,"which one, specifically? if the diskcachesize is on auto, the os will manage it as needed as cached memory and free it for application that needed as far as i know, so there should be no problem. if user complains are something like [a link], it is not an issue. as for checkingmemusagesize, on systems with very low available memory like the early/less powerful rpis (256 - 512 mib), i can see this being the straw that breaks the camel's back. but isn't it a one-time cost, since qbittorrent only checks one torrent at a time? also i would argue that early model pis fall into the ""extreme end"" of lower performance machines, i would not say they are part of the common case, but then again, i don't have data to back this up, it is just an opinion. what about simply raising it to 32 mib instead, as a compromise?",0,0.9053939580917358
357473163,11637,Chocobo1,2019-12-13T03:34:00Z,"that is not quite right, see this: [a link] [a link] lol ok for me.",1,0.9855260848999023
357474481,11637,Chocobo1,2019-12-13T03:42:32Z,"there was some unsettled discussion in another thread, i don't think there is conscious to change this yet.",0,0.9398118257522583
357474838,11637,Chocobo1,2019-12-13T03:45:15Z,... you do realize the two numbers above will be multiplied by 1024 when passed to libtorrent?,0,0.987556517124176
357583668,11637,FranciscoPombal,2019-12-13T10:38:48Z,"what's funny? did you see the link? i am simply saying that users complaining about memory that is ""used"", but actually available for other programs is not a problem. however, as you pointed out, it seems i was wrong about the nature of libtorrent's memory allocation for the disk cache. still, having looked at the source code you linked, the actual allocated values in auto mode seem quite reasonable: [code block] some examples: - 512 mib ram: 512/10 = ~51,2 mib allocated for the disk cache (actually a bit smaller than the current default, which with this little ram is probably a good thing) - 1 gib ram: 1024/10 = ~100 mib (only slightly bigger) - 2 gib ram: 2048/30 = ~68 mib (about on par) - 4 gib ram: 4096/30 = ~136 mib (bigger, not unreasonable) - 8 gib ram: 8192/40 = ~200 mib (bigger, not unreasonable) - 16 gib ram: 16384/40 = ~400 mib (bigger, not unreasonable) ... for 2 gib and less, the values are actually similar to the current default. for higher amounts, the values are bigger, but still a rather small percentage vs. total system memory, while providing a nice performance boost. additionally, it is 1000x better than the snake-oil amounts i see users allocate manually, due to perceiving the default of 64 mib as ""small"". i have seen many issues/comments here about users trying to optimize read/write performance, by allocating silly values like 1 gib, 2 gib, 3 gib or more to the cache which at best is just wasteful and at worst is actually detrimental to performance.",-1,0.9552335739135742
357589246,11637,FranciscoPombal,2019-12-13T10:52:30Z,"what are to pros/cons, potential problems, can you link the relevant thread please? i couldn't find it by searching.",0,0.9805917143821716
357590607,11637,FranciscoPombal,2019-12-13T10:55:49Z,"~mistake, will fix~ actually, this was my intention; 1600 -> 1600 * 1024 = 1 638 400 bytes = 1,5625 mib 16384 -> 16384 * 1024 = 16 777 216 bytes = 16 mib too high?",-1,0.8705092072486877
357598794,11637,Chocobo1,2019-12-13T11:17:41Z,"i hope you're not really offended... i was referring to the top picture in the link. but seriously i don't see many people complain that on our issue tracker. seems reasonable. also if any low-end system run into problem, i think i'll simply redirect the complain to libtorrent to revise their formula.",1,0.5059688091278076
357600204,11637,Chocobo1,2019-12-13T11:21:55Z,"i don't know, since you're tweaking it, you should give reasons to justify the change.",0,0.9170302748680115
357604898,11637,FranciscoPombal,2019-12-13T11:35:13Z,"i didn't take anything personally, i realized that if you hadn't seen the link by accident, the whole sentence sounded like ""it is not a problem if users complain about qbt using more memory"" which is a bit silly without context. me neither so far, let's hope it stays that way. ok. the current formula seems fair for low-end systems (though there is that outlier ""jump"" @ 1 gib). i'd actually be more concerned with the fact that there is no additional branch in the formula beyond 4 gib. users with higher end machines with 32 gib, 64 gib or higher will get caches of 800 mib, 1.6 gib and beyond, which is almost certainly wasteful. though with that much total system memory, that is very much a first-world problem, and like you said, a problem to be solved on libtorrent's side anyway.",0,0.492597371339798
357607397,11637,FranciscoPombal,2019-12-13T11:41:29Z,"see my comment above: [a link] these values have been working fine for me even in machines with only 2 gib ram, though in my use case it is fine if qbit consumes 700+ mibs which is probably not ok in the general case, and i don't know how much of that memory usage is due to these settings. i am certain that increasing the values from the current defaults is the right thing to do, i am just not sure by _how much_ they should be increased. even in my use cases, i might already be in snake-oil territory, but i can't be sure. that's why i need help figuring out a way to come up with reasonable values.",0,0.903987467288971
357613518,11637,FranciscoPombal,2019-12-13T11:59:09Z,"thanks, i read through the issue and came to the following conclusion: it is better to enable both settings (announcetoalltiers, which is already enabled by default, and this one), since it maximizes peer discoverability, at the cost of a tiny violation of the spec. it follows the principle of least surprise: nowadays users expect all trackers to be contacted always, since the reason they add them in the first place is to find more peers, regardless of the intention and motivation behind the original multi tracker spec. plus, it is always possible to toggle the setting off to strictly follow the spec. but for the average user, in 2020, i think this is the better default.",1,0.9241110682487488
357615229,11637,FranciscoPombal,2019-12-13T12:04:37Z,"by the way, i think the one of the main issues with multiple trackers/adding new trackers in qbt is sumarised in this comment: [a link] there is no fine-grain control of which tier a tracker should be added to and how many tiers there should be.",0,0.9741371870040894
